{"config":{"lang":["tr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Sunucu Kurulum El Kitab\u0131","text":""},{"location":"#production-ready-sunucu-mimarisi-sfrdan-canlya","title":"Production-Ready Sunucu Mimarisi: S\u0131f\u0131rdan Canl\u0131ya. \ud83d\ude80","text":"<p>Bu rehber, rastgele blog yaz\u0131lar\u0131n\u0131n birle\u015fimi de\u011fildir. G\u00fcvenlik, Performans ve S\u00fcrd\u00fcr\u00fclebilirlik odakl\u0131, sava\u015fta test edilmi\u015f (battle-tested) bir kurulum standard\u0131d\u0131r.</p> <p>\ud83d\udd25 30 Saniyede \u00d6zet: Modern bir Linux sunucusu sadece \"\u00e7al\u0131\u015fan\" de\u011fil, \"kendini savunan\" ve \"ne yapt\u0131\u011f\u0131n\u0131 anlatan\" bir yap\u0131da olmal\u0131d\u0131r.</p>"},{"location":"#neden-bu-rehber","title":"Neden Bu Rehber? \ud83c\udfdb\ufe0f","text":"<p>A\u015fa\u011f\u0131daki \u00fc\u00e7 prensip, bu el kitab\u0131n\u0131n temelini olu\u015fturur:</p> \ud83d\udee1\ufe0f G\u00fcvenlik (Security) \u26a1 Performans (Performance) \ud83e\uddd8 Sadelik (Simplicity) \"Firewall'u kapat\u0131p deneyelim\" yok. 15 Katmanl\u0131 Savunma stratejisi ile her ad\u0131m\u0131 g\u00fcvenli at\u0131yoruz. Varsay\u0131lan ayarlar yetersizdir. Kernel tuning, Nginx hardening ve minimal Docker imajlar\u0131 ile maksimum verim. Grafik aray\u00fczler ve gereksiz ara\u00e7lar yok (Zero Bloat). Sadece i\u015fini yapan, temiz CLI ara\u00e7lar\u0131."},{"location":"#hzl-erisim-portal","title":"H\u0131zl\u0131 Eri\u015fim (Portal) \ud83d\uddc2\ufe0f","text":"<p>\u0130htiyac\u0131n\u0131z olan b\u00f6l\u00fcme do\u011frudan gidin:</p> \ud83d\ude80 Ba\u015flang\u0131\u00e7 \ud83d\udd12 G\u00fcvenlik Merkezi - Temel OS Kurulumu- Kullan\u0131c\u0131 Y\u00f6netimi- Swap &amp; Disk- \u0130lk Kurulum Checklist - 15 Katmanl\u0131 G\u00fcvenlik Mimarisi \u2b50- SSH Hardening- Firewall (UFW)- Malware &amp; Rootkit \ud83e\udd58 Uygulama Re\u00e7eteleri \u2601\ufe0f Cloud &amp; Operasyon - .NET Core Hardening \ud83d\udd37- React + Nginx \u269b\ufe0f- PostgreSQL Tuning \ud83d\udc18- Nginx Proxy \ud83c\udf10 - Oracle Cloud Kurulumu- AWS Altyap\u0131s\u0131- Yedekleme Stratejisi- Acil Durum (Runbooks) \ud83d\udea8"},{"location":"#one-ckanlar","title":"\u00d6ne \u00c7\u0131kanlar \u2b50","text":"<p>Docker Kullananlar Dikkat!</p> <p>S\u0131radan bir <code>docker-compose.yml</code> dosyas\u0131 sunucunuzu riske atabilir. Master Docker Security Guide rehberini okumadan production'a \u00e7\u0131kmay\u0131n!</p> <p>G\u00fcvenlik Bir Eklenti De\u011fildir</p> <p>Sunucunuzu kurduktan sonra Lynis Audit ile tarat\u0131p puan\u0131n\u0131z\u0131 g\u00f6rmeyi unutmay\u0131n. Hedef: 80+</p>"},{"location":"#katkda-bulunun","title":"Katk\u0131da Bulunun \ud83e\udd1d","text":"<p>Bu ya\u015fayan bir dok\u00fcmand\u0131r. Hatal\u0131 g\u00f6rd\u00fc\u011f\u00fcn\u00fcz veya geli\u015ftirmek istedi\u011finiz bir nokta varsa, l\u00fctfen Pull Request g\u00f6nderin veya Issue a\u00e7\u0131n.</p>"},{"location":"architecture/overview/","title":"Architecture Overview","text":"<p>General system architecture and component interactions.</p>"},{"location":"architecture/overview/#high-level-design","title":"High-Level Design","text":"<pre><code>graph TD\n    User[Clients] --&gt;|HTTPS| LB[Load Balancer / Proxy]\n    LB --&gt;|Reverse Proxy| App[Application Containers]\n    App --&gt;|Read/Write| DB[(Primary Database)]\n    App --&gt;|Cache| Redis[(Redis Cache)]\n\n    subgraph Management\n        Monitoring[Prometheus / Grafana]\n        Backup[Backup Service]\n    end\n\n    Monitoring -.-&gt; App\n    Monitoring -.-&gt; DB\n</code></pre>"},{"location":"architecture/overview/#components","title":"Components","text":"<ol> <li>Edge Layer (Nginx/Traefik): Handles SSL termination and routing.</li> <li>Application Layer (Docker): Stateless containers running business logic.</li> <li>Data Layer (PostgreSQL/MySQL): Persistent storage with volume management.</li> <li>Caching (Redis): Session and transient data storage.</li> </ol>"},{"location":"checklists/app-launch/","title":"App Launch Checklist (Docker) \ud83d\udc33","text":"<p>Uygulaman\u0131z\u0131 Docker ile canl\u0131ya almadan \u00f6nce bu teknik detaylar\u0131 kontrol edin.</p>"},{"location":"checklists/app-launch/#1-container-saglg","title":"1. Container Sa\u011fl\u0131\u011f\u0131 \ud83e\ude7a","text":"<ul> <li>Restart Policy: <code>restart: always</code> veya <code>unless-stopped</code> ayarl\u0131 m\u0131? (Sunucu reboot olunca kalkmal\u0131).</li> <li>Healthcheck: <code>docker ps</code> yazd\u0131\u011f\u0131n\u0131zda <code>(healthy)</code> ibaresini g\u00f6r\u00fcyor musunuz?   <pre><code>healthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:80/health\"]\n  interval: 30s\n  retries: 3\n</code></pre></li> </ul>"},{"location":"checklists/app-launch/#2-kaynak-yonetimi","title":"2. Kaynak Y\u00f6netimi \u2696\ufe0f","text":"<ul> <li>Limits: CPU ve RAM limiti koydunuz mu? (Koymazsan\u0131z Memory Leak t\u00fcm sunucuyu kilitler).   <pre><code>deploy:\n  resources:\n    limits:\n      cpus: \"1.0\"\n      memory: 512M\n</code></pre></li> </ul>"},{"location":"checklists/app-launch/#3-loglama-stratejisi","title":"3. Loglama Stratejisi \ud83d\udcdc","text":"<ul> <li>Driver: Docker varsay\u0131lan olarak sonsuz log yazar. Diski doldurmamak i\u00e7in limit \u015fart.   <pre><code>logging:\n  driver: \"json-file\"\n  options:\n    max-size: \"10m\"\n    max-file: \"3\"\n</code></pre></li> </ul>"},{"location":"checklists/app-launch/#4-veri-kalclg-persistence","title":"4. Veri Kal\u0131c\u0131l\u0131\u011f\u0131 (Persistence) \ud83d\udcbe","text":"<ul> <li>Volumes: Veritaban\u0131 verisi (MySQL/Postgres) <code>volume</code> olarak mount edildi mi? (Bind mount veya Named volume).</li> <li>Test: Container'\u0131 sil (<code>docker rm -f</code>) ve tekrar ba\u015flat. Veriler duruyor mu?</li> </ul>"},{"location":"checklists/app-launch/#5-cevresel-degiskenler-env","title":"5. \u00c7evresel De\u011fi\u015fkenler (ENV) \ud83c\udf0d","text":"<ul> <li>Debug Mode: <code>ASPNETCORE_ENVIRONMENT</code> veya <code>NODE_ENV</code> de\u011fi\u015fkeni Production m\u0131?</li> <li>Secrets: API Key'ler kodun i\u00e7inde (hardcoded) de\u011fil, de\u011fil mi?</li> </ul>"},{"location":"checklists/app-launch/#verify-commands","title":"Verify Commands \u2705","text":"<pre><code># 1. Limitleri G\u00f6r\ndocker stats --no-stream\n\n# 2. Log Ayar\u0131n\u0131 G\u00f6r\ndocker inspect --format='{{.HostConfig.LogConfig}}' &lt;container_id&gt;\n\n# 3. Restart Policy G\u00f6r\ndocker inspect --format='{{.HostConfig.RestartPolicy.Name}}' &lt;container_id&gt;\n</code></pre>"},{"location":"checklists/prod-ready/","title":"Go / No-Go Decision Matrix \ud83d\udea6","text":"<p>Canl\u0131ya \u00e7\u0131k\u0131\u015f (Go-Live) bir histen ibaret olamaz. A\u015fa\u011f\u0131daki matris tamamlanmadan TRAF\u0130K Y\u00d6NLEND\u0130R\u0130LEMEZ.</p>"},{"location":"checklists/prod-ready/#blocker-kesin-engel","title":"\ud83d\udd34 Blocker (Kesin Engel)","text":"<p>Bu maddelerden bir tanesi bile eksikse, deployment iptal edilir.</p> <ul> <li>[ ] Data Security: Veritaban\u0131 \u015fifreleri environment variable (env) olarak DE\u011e\u0130L, Secret File olarak mount edilmi\u015f mi?</li> <li>[ ] Firewall: <code>ufw status</code> -&gt; Sadece 80/443/SSH a\u00e7\u0131k. Docker portlar\u0131 (5432, 6379) d\u0131\u015far\u0131 kapal\u0131 m\u0131?</li> <li>[ ] Backup: D\u00fcn geceki yede\u011fi geri d\u00f6nebiliyor muyuz? (Restore Test yap\u0131ld\u0131 m\u0131?)</li> <li>[ ] SSL: Sertifika ge\u00e7erli ve auto-renew (Certbot) aktif mi?</li> <li>[ ] Non-Root: Uygulama container i\u00e7inde <code>root</code> olarak MI \u00e7al\u0131\u015f\u0131yor? (Fail. <code>USER</code> direktifi \u015fart.)</li> </ul>"},{"location":"checklists/prod-ready/#warning-riskli-gecis","title":"\ud83d\udfe1 Warning (Riskli Ge\u00e7i\u015f)","text":"<p>Bu maddeler eksikse Manager onay\u0131 ile ge\u00e7ilebilir ama 24 saat i\u00e7inde d\u00fczeltilmelidir.</p> <ul> <li>[ ] Monitoring: CPU/RAM &gt; %80 olursa Slack'e bildirim geliyor mu?</li> <li>[ ] Logs: Loglar rotate ediliyor mu? (Disk dolarsa sunucu durur.)</li> <li>[ ] Performance: Y\u00fck alt\u0131nda (Load Test) P99 Latency &lt; 500ms mi?</li> <li>[ ] Fallbacks: Veritaban\u0131 giderse kullan\u0131c\u0131ya \"Bak\u0131mday\u0131z\" sayfas\u0131 \u00e7\u0131k\u0131yor mu, yoksa Crash mi oluyor?</li> </ul>"},{"location":"checklists/prod-ready/#good-to-have-iyilestirme","title":"\ud83d\udfe2 Good to Have (\u0130yile\u015ftirme)","text":"<ul> <li>[ ] CDN: Statik dosyalar Cloudflare/CDN \u00fczerinden mi geliyor?</li> <li>[ ] CI/CD: Deploy tek t\u0131kla yap\u0131labiliyor mu?</li> <li>[ ] Docs: Runbook dok\u00fcmanlar\u0131 g\u00fcncel mi?</li> </ul>"},{"location":"checklists/prod-ready/#karar","title":"\ud83d\udcdd Karar","text":"Durum Karar \u0130mza/Onay \u2705 T\u00fcm\u00fc Ye\u015fil GO \ud83d\ude80 M\u00fchendis \u26a0\ufe0f Sar\u0131 Var GO with Risk \ud83e\udd1e Team Lead \u274c K\u0131rm\u0131z\u0131 Var NO-GO \ud83d\uded1 -"},{"location":"checklists/server-first-setup/","title":"Server Verification Protocol (Day 0) \ud83d\udee1\ufe0f","text":"<p>Bir sunucuyu teslim ald\u0131\u011f\u0131n\u0131zda \"yapt\u0131m oldu\" demek yetmez. Do\u011frulamak (Verify) zorundas\u0131n\u0131z.</p>"},{"location":"checklists/server-first-setup/#1-access-identity","title":"1. Access &amp; Identity","text":"Aksiyon Komut Do\u011frulama (Verify) Update <code>apt update &amp;&amp; apt upgrade -y</code> <code>uptime</code> (Load art\u0131\u015f\u0131 yok) Hostname <code>hostnamectl set-hostname &lt;name&gt;</code> <code>hostname</code> komutu yeni ismi d\u00f6nmeli. Sudo User <code>adduser deployer &amp;&amp; usermod -aG sudo deployer</code> <code>getent group sudo</code> \u00e7\u0131kt\u0131s\u0131nda <code>deployer</code> g\u00f6r\u00fcnmeli. SSH Key (Local) <code>ssh-copy-id deployer@&lt;IP&gt;</code> <code>ssh -o PreferredAuthentications=publickey deployer@&lt;IP&gt;</code> \u015fifresiz girmeli."},{"location":"checklists/server-first-setup/#2-ssh-hardening-kritik","title":"2. SSH Hardening (Kritik) \ud83d\udd12","text":"<p>Dosya: <code>/etc/ssh/sshd_config</code></p> <p>| Parametre                | De\u011fer  | Neden?                               | Do\u011frulama                                                                        | | :----------------------- | :----- | :----------------------------------- | :------------------------------------------------------------------------------- | --------------------------------- | | <code>PermitRootLogin</code>        | <code>no</code>   | Root brute-force engellemek i\u00e7in.    | <code>ssh root@&lt;IP&gt;</code> -&gt; Permission denied d\u00f6nmeli.                                | | <code>PasswordAuthentication</code> | <code>no</code>   | Sadece Key ile giri\u015f.                | <code>ssh -o PubkeyAuthentication=no deployer@&lt;IP&gt;</code> -&gt; Hata vermeli, \u015fifre sormamal\u0131. | | <code>PermitEmptyPasswords</code>   | <code>no</code>   | G\u00fcvenlik.                            | -                                                                                | | <code>Port</code>                   | <code>2222</code> | (Opsiyonel) Log kirlili\u011fini azalt\u0131r. | <code>netstat -tulpn                                                                  | grep sshd</code> yeni portu g\u00f6stermeli. |</p> <p>Not: De\u011fi\u015fiklikten sonra <code>sshd -t</code> (Test Config) yapmadan servisi restart etmeyin!</p>"},{"location":"checklists/server-first-setup/#3-firewall-ufw","title":"3. Firewall (UFW) \ud83e\uddf1","text":"<p>Kural: Default Deny Incoming.</p> <pre><code># Kurulum\napt install ufw\nufw default deny incoming\nufw default allow outgoing\n\n# \u0130zinler\nufw allow ssh  # Veya port 2222\nufw allow 80/tcp\nufw allow 443/tcp\n\n# Aktifle\u015ftir\nufw enable\n</code></pre> <p>\u2705 Verify Step:</p> <pre><code>ufw status verbose\n# \u00c7\u0131kt\u0131: \"Status: active\" ve \"Default: deny (incoming)\" OLMALIDIR.\n</code></pre>"},{"location":"checklists/server-first-setup/#4-system-hardening","title":"4. System Hardening \u2699\ufe0f","text":"Ayar Dosya/Komut Verify Timezone <code>timedatectl set-timezone Europe/Istanbul</code> <code>date</code> komutu do\u011fru saati g\u00f6stermeli. Swapiness <code>/etc/sysctl.conf</code> -&gt; <code>vm.swappiness=10</code> <code>cat /proc/sys/vm/swappiness</code> -&gt; 10 olmal\u0131. TCP BBR <code>net.core.default_qdisc=fq</code> + <code>net.ipv4.tcp_congestion_control=bbr</code> <code>sysctl net.ipv4.tcp_congestion_control</code> -&gt; bbr olmal\u0131. Auto Update <code>apt install unattended-upgrades</code> <code>systemctl status unattended-upgrades</code> -&gt; Active olmal\u0131. Fail2Ban <code>apt install fail2ban</code> <code>fail2ban-client status sshd</code> -&gt; Hapisteki (Jail) IP'leri g\u00f6stermeli."},{"location":"checklists/server-first-setup/#5-final-smoke-test","title":"5. Final Smoke Test \ud83d\udeac","text":"<ol> <li>Sunucuya <code>reboot</code> at\u0131n.</li> <li>Bilgisayar\u0131n\u0131zdan <code>ping</code> at\u0131n (A\u00e7\u0131ld\u0131 m\u0131?).</li> <li><code>ssh deployer@&lt;IP&gt;</code> ile ba\u011flan\u0131n.</li> <li><code>sudo docker ps</code> \u00e7al\u0131\u015ft\u0131r\u0131n (Hata vermemeli).</li> </ol>"},{"location":"cloud/aws/cli/","title":"AWS CLI (Command Line Interface)","text":"<p>AWS'yi web aray\u00fcz\u00fcnden y\u00f6netmek (Console) yava\u015f kalabilir. AWS CLI, sunucular\u0131n\u0131z\u0131 (EC2), depolama alanlar\u0131n\u0131z\u0131 (S3) ve a\u011f ayarlar\u0131n\u0131z\u0131 terminalden h\u0131zl\u0131ca y\u00f6netmenizi sa\u011flar.</p>"},{"location":"cloud/aws/cli/#1-kurulum-linuxubuntu","title":"1. Kurulum (Linux/Ubuntu)","text":"<p>Resmi AWS CLI v2 kurulumu i\u00e7in a\u015fa\u011f\u0131daki ad\u0131mlar\u0131 takip edin:</p> <pre><code># Gerekli ara\u00e7lar\u0131 kurun (unzip)\nsudo apt update &amp;&amp; sudo apt install -y unzip curl\n\n# Kurulum paketini indirin\ncurl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\n\n# Paketi a\u00e7\u0131n ve kurun\nunzip awscliv2.zip\nsudo ./aws/install\n</code></pre> <p>Kurulumun ba\u015far\u0131l\u0131 oldu\u011funu do\u011frulay\u0131n:</p> <pre><code>aws --version\n# aws-cli/2.x.x ... \u00e7\u0131kt\u0131s\u0131n\u0131 g\u00f6rmelisiniz.\n</code></pre>"},{"location":"cloud/aws/cli/#2-kimlik-ayarlar-configuration","title":"2. Kimlik Ayarlar\u0131 (Configuration)","text":"<p>AWS CLI'\u0131n hesab\u0131n\u0131za eri\u015febilmesi i\u00e7in \u00f6nce IAM (Identity and Access Management) \u00fczerinden bir \"Access Key\" olu\u015fturmal\u0131s\u0131n\u0131z.</p>"},{"location":"cloud/aws/cli/#a-aws-console-uzerinden-key-alma","title":"A. AWS Console \u00dczerinden Key Alma","text":"<ol> <li>IAM &gt; Users men\u00fcs\u00fcne gidin.</li> <li>Bir kullan\u0131c\u0131 olu\u015fturun (\u00f6rn: <code>developer</code>).</li> <li>Kullan\u0131c\u0131 detaylar\u0131nda Security credentials sekmesine gelin.</li> <li>Access keys b\u00f6l\u00fcm\u00fcnden \"Create access key\" deyin.</li> <li>\"Command Line Interface (CLI)\" se\u00e7ene\u011fini se\u00e7in.</li> <li>Size verilen Access Key ID ve Secret Access Key'i g\u00fcvenli bir yere kaydedin.</li> </ol>"},{"location":"cloud/aws/cli/#b-cli-yaplandrmas","title":"B. CLI Yap\u0131land\u0131rmas\u0131","text":"<p>Terminalinize d\u00f6n\u00fcn ve \u015fu komutu \u00e7al\u0131\u015ft\u0131r\u0131n:</p> <pre><code>aws configure\n</code></pre> <p>S\u0131ras\u0131yla \u015funlar\u0131 girin:</p> <ul> <li>AWS Access Key ID: (Panelden ald\u0131\u011f\u0131n\u0131z)</li> <li>AWS Secret Access Key: (Panelden ald\u0131\u011f\u0131n\u0131z)</li> <li>Default region name: (\u00d6rn: <code>eu-central-1</code>)</li> <li>Default output format: <code>json</code> (veya tablo isterseniz <code>table</code>)</li> </ul>"},{"location":"cloud/aws/cli/#3-pratik-komutlar","title":"3. Pratik Komutlar","text":""},{"location":"cloud/aws/cli/#sunucular-listeleme-ec2","title":"Sunucular\u0131 Listeleme (EC2)","text":"<p>T\u00fcm \u00e7al\u0131\u015fan sunucular\u0131n\u0131z\u0131n isimlerini ve IP'lerini tablo \u015feklinde g\u00f6r\u00fcn:</p> <pre><code>aws ec2 describe-instances --query 'Reservations[*].Instances[*].{Name:Tags[?Key==`Name`].Value | [0], State:State.Name, PublicIP:PublicIpAddress}' --output table\n</code></pre>"},{"location":"cloud/aws/cli/#s3-dosya-yonetimi","title":"S3 Dosya Y\u00f6netimi","text":"<p>Bir dosyay\u0131 buluta y\u00fcklemek veya indirmek i\u00e7in:</p> <pre><code># Bucket olu\u015fturma\naws s3 mb s3://benim-ozel-yedek-klasorum\n\n# Dosya y\u00fckleme\naws s3 cp yedek.tar.gz s3://benim-ozel-yedek-klasorum/\n</code></pre>"},{"location":"cloud/aws/cli/#sunucu-durdurmabaslatma","title":"Sunucu Durdurma/Ba\u015flatma","text":"<pre><code># Instance ID'sini kullanarak\naws ec2 stop-instances --instance-ids i-0123456789abcdef0\n</code></pre>"},{"location":"cloud/aws/cli/#4-oci-cli-vs-aws-cli-karslastrmas","title":"4. OCI CLI vs AWS CLI Kar\u015f\u0131la\u015ft\u0131rmas\u0131","text":"\u00d6zellik AWS CLI OCI CLI Kimlik Do\u011frulama Access Key / Secret Key API RSA Keypair (Config setup) S\u00f6zdizimi <code>aws &lt;servis&gt; &lt;aksiyon&gt;</code> <code>oci &lt;servis&gt; &lt;aksiyon&gt;</code> Pop\u00fclerlik \u00c7ok y\u00fcksek, topluluk deste\u011fi bol. Kurumsal, spesifik kullan\u0131m. <p>[!TIP] &gt; Profil Y\u00f6netimi: E\u011fer birden fazla AWS hesab\u0131n\u0131z varsa <code>aws configure --profile is-hesabi</code> diyerek farkl\u0131 profiller olu\u015fturabilir ve komutlar\u0131n sonuna <code>--profile is-hesabi</code> ekleyerek kullanabilirsiniz.</p>"},{"location":"cloud/aws/concepts/","title":"Bulut Temelleri ve Kar\u015f\u0131la\u015ft\u0131rma","text":"<p>Farkl\u0131 bulut sa\u011flay\u0131c\u0131lar\u0131 (AWS, Oracle, Google, Yandex) ayn\u0131 temel teknolojileri farkl\u0131 isimlerle pazarlar. Bu b\u00f6l\u00fcm, \"bulut dilini\" \u00e7\u00f6zmenize ve platformlar aras\u0131 ge\u00e7i\u015f yapman\u0131za yard\u0131mc\u0131 olur.</p>"},{"location":"cloud/aws/concepts/#1-bulut-terimleri-sozlugu-mapping","title":"1. Bulut Terimleri S\u00f6zl\u00fc\u011f\u00fc (Mapping)","text":"<p>Bulut d\u00fcnyas\u0131nda her \u015fey temelde bir sunucu, bir disk ve bir a\u011f kablosudur. \u0130\u015fte devlerin isimlendirmeleri:</p> \u00d6zellik AWS Oracle (OCI) Google (GCP) Azure DigitalOcean Hetzner OVHcloud Sanal Sunucu EC2 Compute Instance Compute Engine Virtual Machines Droplets Cloud Server Public Cloud \u00d6zel Sanal A\u011f VPC VCN VPC Network VNet VPC Network vRack Disk (Blok) EBS Block Volume Persistent Disk Managed Disks Block Storage Volumes Block Storage Obje Depolama S3 Object Storage Cloud Storage Blob Storage Spaces - Object Storage G\u00fcvenlik Duvar\u0131 Security Group Security List / NSG Firewalls NSG Cloud Firewalls Firewalls Security Groups Sabit IP Elastic IP Reserved Public IP Static IP Static Public IP Reserved IP Floating IP Public IP"},{"location":"cloud/aws/concepts/#2-neden-birden-fazla-saglayc-multi-cloud","title":"2. Neden Birden Fazla Sa\u011flay\u0131c\u0131? (Multi-Cloud)","text":"<p>Tek bir yere ba\u011fl\u0131 kalmak yerine (Vendor Lock-in), her sa\u011flay\u0131c\u0131n\u0131n en iyi/ucuz yan\u0131n\u0131 kullanmak mant\u0131kl\u0131d\u0131r.</p>"},{"location":"cloud/aws/concepts/#oracle-cloud","title":"Oracle Cloud","text":"<ul> <li>Art\u0131s\u0131: \"Always Free\" paketi rakipsizdir (ARM sunucular + 200GB disk bedava).</li> <li>Eksisi: UI biraz karma\u015f\u0131k olabilir, global ekosistemi AWS kadar b\u00fcy\u00fck de\u011fildir.</li> </ul>"},{"location":"cloud/aws/concepts/#aws-amazon-web-services","title":"AWS (Amazon Web Services)","text":"<ul> <li>Art\u0131s\u0131: End\u00fcstri standard\u0131d\u0131r. Her d\u00f6k\u00fcman AWS ile ba\u015flar. Kredi (Credit) almak daha kolayd\u0131r.</li> <li>Eksisi: \"Egress\" (d\u0131\u015far\u0131 giden trafik) fiyatland\u0131rmas\u0131 s\u00fcrprizler yaratabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#google-cloud-gcp","title":"Google Cloud (GCP)","text":"<ul> <li>Art\u0131s\u0131: Global a\u011f\u0131 \u00e7ok h\u0131zl\u0131d\u0131r (Youtube altyap\u0131s\u0131). Kubernetes (GKE) i\u00e7in en iyisidir.</li> <li>Eksisi: Servisleri \u00e7ok h\u0131zl\u0131 \u00f6ld\u00fcrebiliyorlar (deprecate) ve aray\u00fcz\u00fc \u00e7ok kalabal\u0131k.</li> </ul>"},{"location":"cloud/aws/concepts/#yandex-cloud","title":"Yandex Cloud","text":"<ul> <li>Art\u0131s\u0131: Yerel b\u00f6lgelerde (\u00d6rn: Rusya, Kazakistan vb.) \u00e7ok h\u0131zl\u0131d\u0131r. Kullan\u0131m kolayl\u0131\u011f\u0131 AWS'ye yak\u0131nd\u0131r.</li> <li>Eksisi: Global varl\u0131\u011f\u0131 s\u0131n\u0131rl\u0131d\u0131r, baz\u0131 ileri d\u00fczey servisleri (Managed DB vb.) di\u011fer devler kadar olgun olmayabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#microsoft-azure","title":"Microsoft Azure","text":"<ul> <li>Art\u0131s\u0131: Kurumsal \u015firketlerin (Active Directory, Office 365) merkezidir. Hibrit bulut i\u00e7in en g\u00fc\u00e7l\u00fcs\u00fcd\u00fcr.</li> <li>Eksisi: Aray\u00fcz\u00fc (Portal) bazen \u00e7ok yava\u015f ve karma\u015f\u0131k olabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#digitalocean-linode-akamai","title":"DigitalOcean &amp; Linode (Akamai)","text":"<ul> <li>Art\u0131s\u0131: \"Developer-First\". Sadelik ve sabit fiyatland\u0131rma (Droplets). Karma\u015fa s\u0131f\u0131ra yak\u0131nd\u0131r.</li> <li>Eksisi: Kurumsal \u00f6l\u00e7ekte (\u00e7ok karma\u015f\u0131k networking) k\u0131s\u0131tl\u0131 kalabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#hetzner-cloud","title":"Hetzner Cloud","text":"<ul> <li>Art\u0131s\u0131: Fiyat/Performans kral\u0131d\u0131r. Avrupa (Almanya/Finlandiya) lokasyonlu, \u00e7ok ucuz ve \u00e7ok h\u0131zl\u0131 sunucular verir.</li> <li>Eksisi: Global yay\u0131l\u0131m\u0131 (ABD hari\u00e7) azd\u0131r, sadece temel servisleri sa\u011flar.</li> </ul>"},{"location":"cloud/aws/concepts/#ovhcloud-scaleway","title":"OVHcloud &amp; Scaleway","text":"<ul> <li>Art\u0131s\u0131: Avrupa'n\u0131n en b\u00fcy\u00fckleridir. Veri gizlili\u011fi (GDPR) odakl\u0131d\u0131rlar. OVH'nin \"Bare Metal\" sunucular\u0131 me\u015fhurdur.</li> <li>Eksisi: Aray\u00fczleri AWS/GCP kadar ak\u0131c\u0131 de\u011fildir.</li> </ul>"},{"location":"cloud/aws/concepts/#alibaba-cloud","title":"Alibaba Cloud","text":"<ul> <li>Art\u0131s\u0131: Asya pazar\u0131n\u0131n lideridir. AWS'ye \u00e7ok benzer bir ekosistemi vard\u0131r.</li> <li>Eksisi: Bat\u0131l\u0131 kullan\u0131c\u0131lar i\u00e7in d\u00f6k\u00fcmantasyon ve destek bazen zay\u0131f kalabilir.</li> </ul>"},{"location":"cloud/aws/concepts/#3-temel-kavramlar","title":"3. Temel Kavramlar","text":""},{"location":"cloud/aws/concepts/#region-vs-availability-zone-az","title":"Region vs. Availability Zone (AZ)","text":"<ul> <li>Region (B\u00f6lge): Fiziksel bir \u015fehir/\u00fclke (\u00d6rn: <code>eu-central-1</code> / Frankfurt).</li> <li>AZ / AD (Kullan\u0131labilirlik B\u00f6lgesi): Bir Region i\u00e7indeki, birbirinden ba\u011f\u0131ms\u0131z \u00e7al\u0131\u015fan veri merkezleri. Bir AD su alt\u0131nda kalsa bile di\u011feri \u00e7al\u0131\u015fmaya devam eder.</li> </ul>"},{"location":"cloud/aws/concepts/#iaas-vs-paas-vs-saas","title":"IaaS vs. PaaS vs. SaaS","text":"<ul> <li>IaaS (Altyap\u0131): Bo\u015f sunucu al\u0131rs\u0131n\u0131z, her \u015feyi siz kurars\u0131n\u0131z (EC2, OCI Compute). Bizim rehberimiz buna odaklan\u0131r.</li> <li>PaaS (Platform): Sunucuyu g\u00f6rmezsiniz, sadece kodunuzu atars\u0131n\u0131z (Heroku, AWS Lambda).</li> <li>SaaS (Yaz\u0131l\u0131m): Direkt bir hizmeti kullan\u0131rs\u0131n\u0131z (Google Drive, Slack).</li> </ul>"},{"location":"cloud/aws/concepts/#4-kritik-fark-always-free-vs-cloud-credits","title":"4. Kritik Fark: \"Always Free\" vs. \"Cloud Credits\"","text":"<ul> <li>Oracle Always Free: Sunucu sonsuza kadar \u00fccretsizdir (siz silmedik\u00e7e). Prototip ve ki\u015fisel bloglar i\u00e7in idealdir.</li> <li>AWS Credits: Hesab\u0131n\u0131za \u00f6rn. 1000$ tan\u0131mlan\u0131r. Bu para bitene kadar veya s\u00fcresi (genelde 1-2 y\u0131l) dolana kadar \u00fccretsiz kullan\u0131rs\u0131n\u0131z. Para bitince fatura gelmeye ba\u015flar.</li> </ul> <p>[!TIP] &gt; Strateji: Daimi \u00e7al\u0131\u015fan k\u00fc\u00e7\u00fck servisleri Oracle Always Free'de, y\u00fcksek performans gerektiren veya krediniz varken maliyetli olan i\u015fleri AWS'de tutmak en mant\u0131kl\u0131 harekettir.</p>"},{"location":"cloud/aws/ec2/","title":"AWS EC2: Detayl\u0131 Sunucu Kurulum Rehberi","text":"<p>AWS'de sunucu (EC2) a\u00e7mak, y\u00fczlerce se\u00e7enek y\u00fcz\u00fcnden karma\u015f\u0131k g\u00f6r\u00fcnebilir. Bu rehber, sadece ihtiyac\u0131n\u0131z olan ayarlara odaklanarak g\u00fcvenli ve \u00fccretsiz/ucuz bir ba\u015flang\u0131\u00e7 yapman\u0131z\u0131 sa\u011flar.</p>"},{"location":"cloud/aws/ec2/#0-maliyet-ve-free-tier-mantg-surpriz-fatura-yeme","title":"0. Maliyet ve Free Tier Mant\u0131\u011f\u0131 (S\u00fcrpriz Fatura Yeme!)","text":"<p>Makineyi a\u00e7madan \u00f6nce c\u00fczdan\u0131m\u0131z\u0131 koruyal\u0131m:</p> <ol> <li>750 Saat Kural\u0131: Yeni hesaplar i\u00e7in ilk 12 ay, ayl\u0131k 750 saat <code>t2.micro</code> veya <code>t3.micro</code> \u00fccretsizdir.<ul> <li>1 Sunucu = 24 saat x 31 g\u00fcn = 744 saat (Tamamen \u00fccretsiz).</li> <li>2 Sunucu = Ay\u0131n yar\u0131s\u0131nda \u00fccretsiz kotan\u0131z dolar, sonraki g\u00fcnler \u00fccret yazar.</li> </ul> </li> <li>B\u00f6lge (Region) \u00d6nemlidir: Her zaman <code>us-east-1</code> (N. Virginia), <code>us-east-2</code> (Ohio), <code>eu-central-1</code> (Frankfurt) gibi ucuz ve pop\u00fcler b\u00f6lgeleri se\u00e7in. Baz\u0131 b\u00f6lgelerde (\u00f6rn: Sao Paulo) fiyatlar daha y\u00fcksektir.</li> </ol>"},{"location":"cloud/aws/ec2/#1-launch-instance-adm-adm","title":"1. Launch Instance (Ad\u0131m Ad\u0131m)","text":"<p>EC2 Dashboard &gt; Launch Instances butonuna bas\u0131n. Kar\u015f\u0131n\u0131za uzun bir form gelecek. \u0130\u015fte b\u00f6l\u00fcm b\u00f6l\u00fcm yapman\u0131z gerekenler:</p>"},{"location":"cloud/aws/ec2/#a-name-and-tags-isim","title":"A. Name and Tags (\u0130sim)","text":"<ul> <li>Name: Sunucuyu tan\u0131man\u0131z i\u00e7in bir isim verin. (\u00d6rn: <code>Project-Main-Server</code>)</li> </ul>"},{"location":"cloud/aws/ec2/#b-application-and-os-images-isletim-sistemi","title":"B. Application and OS Images (\u0130\u015fletim Sistemi)","text":"<ul> <li>Se\u00e7im: Ubuntu kutusuna t\u0131klay\u0131n.</li> <li>AMI: <code>Ubuntu Server 24.04 LTS (HVM), SSD Volume Type</code> se\u00e7ili oldu\u011fundan emin olun.</li> <li>Architecture: <code>64-bit (x86)</code> se\u00e7in. (ARM se\u00e7meyin, bir\u00e7ok paket uyumsuzluk \u00e7\u0131karabilir).</li> </ul>"},{"location":"cloud/aws/ec2/#c-instance-type-guc","title":"C. Instance Type (G\u00fc\u00e7)","text":"<ul> <li>Se\u00e7im: <code>t2.micro</code> veya <code>t3.micro</code>.</li> <li>Kontrol: Yan\u0131nda ye\u015fil renkte Free tier eligible yaz\u0131s\u0131n\u0131 mutlaka g\u00f6r\u00fcn.</li> </ul>"},{"location":"cloud/aws/ec2/#d-key-pair-login-anahtar","title":"D. Key Pair (Login Anahtar\u0131)","text":"<p>Buras\u0131 sunucunun kap\u0131 anahtar\u0131d\u0131r. \u015eifre yerine dosya kullan\u0131r\u0131z.</p> <ul> <li>Create new key pair linkine t\u0131klay\u0131n.</li> <li>Name: <code>aws-2026-key</code> (\u0130sim verin).</li> <li>Key pair type: <code>ED25519</code> (Daha modern ve k\u0131sa) veya <code>RSA</code> (Eski ama her yerde \u00e7al\u0131\u015f\u0131r).</li> <li>Format: <code>.pem</code> (Mac/Linux i\u00e7in) veya <code>.ppk</code> (Windows PuTTY i\u00e7in).</li> <li>Create key pair butonuna bas\u0131n ve inen dosyay\u0131 ASLA S\u0130LMEY\u0130N.</li> </ul>"},{"location":"cloud/aws/ec2/#e-network-settings-ag-ayarlar","title":"E. Network Settings (A\u011f Ayarlar\u0131)","text":"<ul> <li>VPC / Subnet: Varsay\u0131lan (Default) ayarlarda b\u0131rak\u0131n. AWS sizin i\u00e7in ayarlam\u0131\u015ft\u0131r.</li> <li>Auto-assign Public IP: Enable oldu\u011fundan emin olun. Yoksa sunucuya internetten eri\u015femezsiniz.</li> <li>Firewall (Security Groups):</li> <li><code>Create security group</code> se\u00e7in.</li> <li>SSH (22): Source k\u0131sm\u0131n\u0131 <code>Anywhere</code> yerine <code>My IP</code> yap\u0131n. (Sadece sizin evinizden eri\u015filsin).</li> <li>HTTP (80) / HTTPS (443): \"Allow HTTP traffic from the internet\" kutucuklar\u0131n\u0131 i\u015faretleyin.</li> </ul>"},{"location":"cloud/aws/ec2/#f-configure-storage-disk","title":"F. Configure Storage (Disk)","text":"<p>AWS Free Tier, 30GB'a kadar EBS depolama verir. Varsay\u0131lan genelde 8GB gelir.</p> <ul> <li>Boyut: <code>8</code> yerine <code>30</code> Gb yapabilirsiniz (Tek sunucu olacaksa).</li> <li>Volume Type: <code>gp3</code> se\u00e7in. (Daha ucuz ve performansl\u0131d\u0131r).</li> <li>Delete on termination: <code>Yes</code> (Varsay\u0131lan). Sunucuyu silerseniz diski de siler, \u00e7\u00f6p b\u0131rakmaz.</li> </ul>"},{"location":"cloud/aws/ec2/#2-advanced-details-ileri-duzey-ayarlar","title":"2. Advanced Details (\u0130leri D\u00fczey Ayarlar)","text":"<p>\u00c7o\u011fu kullan\u0131c\u0131 buray\u0131 kafas\u0131 kar\u0131\u015f\u0131p kapat\u0131r, ama \u00f6nemli iki ayar vard\u0131r:</p>"},{"location":"cloud/aws/ec2/#a-iam-instance-profile-kimlik-rolu","title":"A. IAM Instance Profile (Kimlik Rol\u00fc)","text":"<p>Soru: Bunu se\u00e7mek zorunda m\u0131y\u0131m? Cevap: %90 Hay\u0131r. Basit bir web sunucusu i\u00e7in (Nginx, Docker vb.) gerekmez.</p> <p>Ne zaman gerekir? E\u011fer sunucunuzun i\u00e7inden <code>aws s3 cp yedek.zip s3://bucketim</code> gibi komutlarla AWS servislerini kullanacaksan\u0131z gerekir.</p> <ul> <li>E\u011fer yoksa bo\u015f b\u0131rak\u0131n. Sonradan da eklenebilir.</li> </ul>"},{"location":"cloud/aws/ec2/#b-user-data-otomatik-kurulum-scripti","title":"B. User Data (Otomatik Kurulum scripti)","text":"<p>Sunucu ilk a\u00e7\u0131ld\u0131\u011f\u0131 an (daha siz ba\u011flanmadan) \u00e7al\u0131\u015facak komutlard\u0131r. Buraya update komutlar\u0131n\u0131 yazmak zaman kazand\u0131r\u0131r:</p> <pre><code>#!/bin/bash\napt update &amp;&amp; apt upgrade -y\napt install -y docker.io docker-compose\nusermod -aG docker ubuntu\n</code></pre>"},{"location":"cloud/aws/ec2/#3-baglant-ve-son-kontroller","title":"3. Ba\u011flant\u0131 ve Son Kontroller","text":"<p>Launch Instance butonuna bast\u0131ktan 1-2 dakika sonra sunucu <code>Running</code> durumuna ge\u00e7er.</p> <p>Ba\u011flanmak i\u00e7in (Terminal):</p> <pre><code># Anahtara izin ver (Sadece ilk sefer)\nchmod 400 aws-2026-key.pem\n\n# Ba\u011flan\nssh -i \"aws-2026-key.pem\" ubuntu@SUNUCU-PUBLIC-IP\n</code></pre> <p>[!TIP] &gt; Sabit IP (Elastic IP): Sunucuyu kapat\u0131p a\u00e7arsan\u0131z IP de\u011fi\u015fir. \u00dcretim ortam\u0131 (Production) i\u00e7in mutlaka Elastic IP al\u0131p sunucuya ba\u011flay\u0131n. (Sunucu a\u00e7\u0131kken Elastic IP \u00fccretsizdir).</p>"},{"location":"cloud/aws/networking/","title":"AWS A\u011f Mimarisi ve G\u00fcvenlik Sunucu Kap\u0131lar\u0131","text":"<p>AWS'de a\u011f g\u00fcvenli\u011fi, sunucunun i\u00e7indeki UFW'den \u00f6nce daha d\u0131\u015f bir katmanda, Security Group (SG) seviyesinde ba\u015flar.</p>"},{"location":"cloud/aws/networking/#1-security-group-guvenlik-grubu-nedir","title":"1. Security Group (G\u00fcvenlik Grubu) Nedir?","text":"<p>Security Group, sunucunuzun \u00f6n\u00fcne konan sanal bir a\u011f duvar\u0131d\u0131r. Oracle'daki Security List veya Network Security Group (NSG) ile neredeyse ayn\u0131d\u0131r.</p>"},{"location":"cloud/aws/networking/#temel-ozellikler","title":"Temel \u00d6zellikler","text":"<ul> <li>Stateful (Durumlu): Bir porttan girmeye izin verirseniz, o ba\u011flant\u0131n\u0131n cevab\u0131 i\u00e7in otomatik olarak \u00e7\u0131k\u0131\u015f izni verilir. (UFW'de de genellikle b\u00f6yledir).</li> <li>Whitelist Mant\u0131\u011f\u0131: Varsay\u0131lan olarak her \u015fey kapal\u0131d\u0131r. Sadece sizin ekledi\u011finiz kurallar ge\u00e7ebilir.</li> </ul>"},{"location":"cloud/aws/networking/#2-inbound-giris-kurallar","title":"2. Inbound (Giri\u015f) Kurallar\u0131","text":"<p>Sunucunuza hangi portlardan kimler gelebilir?</p> Protokol Port Kaynak (Source) A\u00e7\u0131klama Custom TCP <code>2222</code> <code>My IP</code> G\u00fcvenli SSH Eri\u015fimi (Bizim ayar\u0131m\u0131z) HTTPS <code>443</code> <code>0.0.0.0/0</code> Web trafi\u011fi (T\u00fcm d\u00fcnya) HTTP <code>80</code> <code>0.0.0.0/0</code> Web trafi\u011fi (T\u00fcm d\u00fcnya) <p>[!IMPORTANT] &gt; Neden UFW Varken SG Kullan\u0131yoruz? G\u00fcvenlik katmanl\u0131 olmal\u0131d\u0131r (Defense in Depth). SG, k\u00f6t\u00fc niyetli trafi\u011fi daha sunucunuzun CPU'su ve Network kart\u0131 yorulmadan bulut seviyesinde engeller.</p>"},{"location":"cloud/aws/networking/#3-outbound-cks-kurallar","title":"3. Outbound (\u00c7\u0131k\u0131\u015f) Kurallar\u0131","text":"<p>Sunucunuz d\u0131\u015far\u0131ya nereye gidebilir?</p> <ul> <li>AWS'de varsay\u0131lan olarak \"All Traffic (0.0.0.0/0)\" a\u00e7\u0131kt\u0131r.</li> <li>E\u011fer Firewall (UFW) Rehberimizde yapt\u0131\u011f\u0131m\u0131z gibi \"\u00e7\u0131k\u0131\u015f\u0131 da kapatmak\" (egress filtering) istiyorsan\u0131z, AWS SG \u00fczerinde de bu kurallar\u0131 daraltabilirsiniz. Ancak genellikle varsay\u0131lan\u0131n a\u00e7\u0131k kalmas\u0131, g\u00fcncellemelerin (apt get update) sorunsuz \u00e7al\u0131\u015fmas\u0131 i\u00e7in b\u0131rak\u0131l\u0131r.</li> </ul>"},{"location":"cloud/aws/networking/#4-vpc-virtual-private-cloud-temelleri","title":"4. VPC (Virtual Private Cloud) Temelleri","text":"<p>AWS'de her \u015fey bir VPC i\u00e7indedir. Bu, sizin buluttaki izole edilmi\u015f \u00f6zel a\u011f\u0131n\u0131zd\u0131r.</p> <ul> <li>Subnet: VPC i\u00e7indeki alt a\u011flar. Sunucular genelde bir Public Subnet i\u00e7inde bulunur.</li> <li>Internet Gateway (IGW): Subnet'inizin internete \u00e7\u0131kmas\u0131n\u0131 sa\u011flayan kap\u0131. AWS bunu sizin i\u00e7in otomatik ayarlar ama silerseniz sunucuya eri\u015femezsiniz.</li> </ul>"},{"location":"cloud/aws/networking/#5-pratik-uygulama-2222-portunu-acmak","title":"5. Pratik Uygulama: 2222 Portunu A\u00e7mak","text":"<p>E\u011fer bu rehberi takip ederek SSH portunuzu 2222 yapt\u0131ysan\u0131z, AWS taraf\u0131nda da \u015fu ayar\u0131 yapmal\u0131s\u0131n\u0131z:</p> <ol> <li>EC2 sayfas\u0131nda sunucunuzu se\u00e7in.</li> <li>Alt sekmelerden Security &gt; Security Groups'a t\u0131klay\u0131n.</li> <li>Inbound Rules &gt; Edit Inbound Rules butonuna bas\u0131n.</li> <li>Add Rule diyerek:</li> <li>Type: <code>Custom TCP</code></li> <li>Port Range: <code>2222</code></li> <li>Source: <code>My IP</code> (Kendi g\u00fcvenli\u011finiz i\u00e7in)</li> <li>Save Rules diyerek kaydedin.</li> </ol> <p>[!TIP] &gt; Test: E\u011fer hem SG'de portu a\u00e7t\u0131n\u0131z hem sunucuda <code>ufw allow 2222/tcp</code> yapt\u0131n\u0131z ama hala giremiyorsan\u0131z, sunucudaki SSH servisinin (<code>sshd</code>) ger\u00e7ekten o portu dinledi\u011finden emin olun: <code>sudo ss -lntp | grep 2222</code></p>"},{"location":"cloud/aws/storage/","title":"AWS EBS: Esnek Blok Depolama","text":"<p>AWS'de ek disk ihtiyac\u0131n\u0131z\u0131 kar\u015f\u0131layan servise EBS (Elastic Block Store) denir. Oracle'daki Block Volume ile mant\u0131k olarak tamamen ayn\u0131d\u0131r.</p>"},{"location":"cloud/aws/storage/#1-ebs-vs-oracle-block-volume","title":"1. EBS vs. Oracle Block Volume","text":"\u00d6zellik AWS EBS Oracle Block Volume Ba\u011flant\u0131 Tipi Native (EBS bus) iSCSI / Paravirtualized Performans IOPS bazl\u0131 (gp3 \u00f6nerilir) VPU (Performance Units) bazl\u0131 Sunucuya Takma Console'dan \"Attach\" iSCSI komutlar\u0131 + Console <p>[!TIP] &gt; AWS gp3 Avantaj\u0131: gp3 disk tipi, gp2'ye g\u00f6re daha ucuzdur ve performans\u0131n\u0131 disk boyutundan ba\u011f\u0131ms\u0131z olarak ayarlaman\u0131za izin verir. Yeni disk a\u00e7arken gp3 se\u00e7ti\u011finizden emin olun.</p>"},{"location":"cloud/aws/storage/#2-disk-olusturma-ve-takma","title":"2. Disk Olu\u015fturma ve Takma","text":"<ol> <li>AWS Console &gt; EC2 &gt; Elastic Block Store &gt; Volumes sayfas\u0131na gidin.</li> <li>Create Volume butonuna bas\u0131n.</li> <li>Availability Zone: Sunucunuzla (EC2) AYNI b\u00f6lgeyi se\u00e7in (\u00d6rn: <code>us-east-1a</code>).</li> <li>Olu\u015fturulan diske sa\u011f t\u0131klay\u0131p Attach Volume deyin ve sunucunuzu se\u00e7in.</li> </ol>"},{"location":"cloud/aws/storage/#3-sunucu-icinde-diski-tantma","title":"3. Sunucu \u0130\u00e7inde Diski Tan\u0131tma","text":"<p>AWS'de diskler genellikle <code>/dev/xvdf</code> veya modern (Nitro) sistemlerde <code>/dev/nvme1n1</code> olarak g\u00f6r\u00fcn\u00fcr.</p>"},{"location":"cloud/aws/storage/#adm-1-diski-bulun","title":"Ad\u0131m 1: Diski Bulun","text":"<pre><code>lsblk\n</code></pre> <p>(\u00d6rn: 50GB'l\u0131k yeni diskiniz nvme1n1 olarak g\u00f6r\u00fcn\u00fcyorsa devam edin).</p>"},{"location":"cloud/aws/storage/#adm-2-formatlama-sadece-ilk-kez","title":"Ad\u0131m 2: Formatlama (Sadece \u0130lk Kez)","text":"<pre><code># SADECE BO\u015e D\u0130SK \u0130\u00c7\u0130N!\nsudo mkfs.ext4 /dev/nvme1n1\n</code></pre>"},{"location":"cloud/aws/storage/#adm-3-kalc-baglant-fstab","title":"Ad\u0131m 3: Kal\u0131c\u0131 Ba\u011flant\u0131 (fstab)","text":"<p>Oracle rehberinde yapt\u0131\u011f\u0131m\u0131z gibi <code>UUID</code> kullanarak ba\u011flamak en g\u00fcvenli yoldur:</p> <ol> <li>UUID \u00d6\u011fren: <code>sudo blkid /dev/nvme1n1</code></li> <li>Klas\u00f6r A\u00e7: <code>sudo mkdir -p /data</code></li> <li>fstab'a Ekle: <code>sudo nano /etc/fstab</code></li> </ol> <pre><code>UUID=S\u0130Z\u0130N-UUID-BURAYA  /data  ext4  defaults,nofail  0  2\n</code></pre> <p>(AWS'de <code>nofail</code> eklemek \u00f6nemlidir; disk bir sebeple tak\u0131lmazsa sunucunun a\u00e7\u0131lmas\u0131n\u0131 engellemez).</p> <ol> <li>Ba\u011fla: <code>sudo mount -a</code></li> </ol>"},{"location":"cloud/aws/storage/#4-root-volume-genisletme-pratik","title":"4. Root Volume Geni\u015fletme (Pratik)","text":"<p>E\u011fer sunucuyu a\u00e7arken diski k\u00fc\u00e7\u00fck tuttuysan\u0131z ve sonradan AWS Console'dan boyutu art\u0131rd\u0131ysan\u0131z, sunucu i\u00e7inde \u015fu iki komutla kapasiteyi g\u00fcncelleyebilirsiniz:</p> <pre><code># Partisyonu geni\u015flet\nsudo growpart /dev/nvme0n1 1\n\n# Dosya sistemini geni\u015flet (ext4 i\u00e7in)\nsudo resize2fs /dev/nvme0n1p1\n</code></pre> <p>(Not: Cihaz isimleri nvme0n1p1 gibi sisteminize g\u00f6re de\u011fi\u015febilir, <code>lsblk</code> ile kontrol edin).</p>"},{"location":"cloud/oracle/cli/","title":"OCI CLI (Command Line Interface)","text":"<p>Oracle Cloud paneli bazen yava\u015f veya karma\u015f\u0131k olabilir. OCI CLI, terminalden sunucular\u0131n\u0131z\u0131 y\u00f6netmenizi, port a\u00e7man\u0131z\u0131 veya restart atman\u0131z\u0131 sa\u011flar. En \u00f6nemlisi, \"Infrastructure as Code\" mant\u0131\u011f\u0131na ilk ad\u0131md\u0131r.</p>"},{"location":"cloud/oracle/cli/#kurulum","title":"Kurulum","text":"<p>OCI CLI, Python tabanl\u0131d\u0131r. En kolay kurulum y\u00f6ntemi:</p> <pre><code># Otomatik kurulum scripti (Linux/Mac)\nbash -c \"$(curl -L https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh)\"\n</code></pre> <p>Kurulum bittikten sonra versiyonu kontrol edin:</p> <pre><code>oci --version\n</code></pre>"},{"location":"cloud/oracle/cli/#konfigurasyon-auth","title":"Konfig\u00fcrasyon (Auth)","text":"<p>CLI'\u0131n hesab\u0131n\u0131za eri\u015fmesi i\u00e7in API Key olu\u015fturman\u0131z gerekir.</p> <ol> <li> <p>Config Ba\u015flat:</p> <pre><code>oci setup config\n</code></pre> <p>Bu komut size \u015funlar\u0131 soracak:</p> <ul> <li>User OCID (Oracle panelinde User Settings alt\u0131nda)</li> <li>Tenancy OCID (Oracle panelinde Tenancy Details alt\u0131nda)</li> <li>Region (\u00f6rn: <code>eu-frankfurt-1</code>)</li> <li>Yeni RSA Keypair olu\u015fturulsun mu? (Y deyin)</li> </ul> </li> <li> <p>API Key'i Y\u00fckle:     Komutun sonunda size bir <code>Public Key</code> i\u00e7eri\u011fi verecek (veya dosya yolunu s\u00f6yleyecek).</p> <ul> <li>Oracle Panel -&gt; User Settings -&gt; API Keys -&gt; \"Add API Key\" -&gt; \"Paste Public Key\" diyerek bu anahtar\u0131 yap\u0131\u015ft\u0131r\u0131n.</li> </ul> </li> <li> <p>Test: <pre><code>oci iam availability-domain list\n</code></pre>     Hata vermeden JSON \u00e7\u0131kt\u0131s\u0131 veriyorsa ba\u011flant\u0131 tamamd\u0131r.</p> </li> </ol>"},{"location":"cloud/oracle/cli/#pratik-komutlar","title":"Pratik Komutlar","text":""},{"location":"cloud/oracle/cli/#1-sunucu-listeleme-instance-list","title":"1. Sunucu Listeleme (Instance List)","text":"<pre><code># Compartment OCID'nizi bir de\u011fi\u015fkene atay\u0131n (kolayl\u0131k olsun)\nexport C=ocid1.compartment.oc1..aaaaaaa...\n\noci compute instance list --compartment-id $C --output table --query \"data[*].{Name:\\\"display-name\\\", State:\\\"lifecycle-state\\\", IP:\\\"public-ip\\\"}\"\n</code></pre>"},{"location":"cloud/oracle/cli/#2-sunucuyu-yeniden-baslatma-reboot","title":"2. Sunucuyu Yeniden Ba\u015flatma (Reboot)","text":"<p>Panel \u00e7al\u0131\u015fm\u0131yorsa hayat kurtar\u0131r.</p> <pre><code># \u0130lk komuttan Instance OCID'sini al\u0131n\noci compute instance action --action RESET --instance-id ocid1.instance.oc1...\n</code></pre>"},{"location":"cloud/oracle/cli/#3-security-liste-port-ekleme-hzl-firewall","title":"3. Security List'e Port Ekleme (H\u0131zl\u0131 Firewall)","text":"<p>Web panelde t\u0131klayarak port a\u00e7mak yerine:</p> <pre><code># Security List ID'sini bulman\u0131z gerekir\noci network security-list list --compartment-id $C\n\n# 8080 Portunu A\u00e7 (Ingress Rule)\noci network security-list update --security-list-id ocid1.securitylist... --ingress-security-rules '[{\"source\": \"0.0.0.0/0\", \"protocol\": \"6\", \"tcp-options\": {\"destination-port-range\": {\"min\": 8080, \"max\": 8080}}}]'\n</code></pre> <p>[!WARNING] &gt; <code>update</code> komutu mevcut kurallar\u0131 EZEB\u0130L\u0130R. Port eklerken <code>create</code> de\u011fil <code>update</code> i\u00e7inde liste vermek gerekti\u011fi i\u00e7in, production ortam\u0131nda JSON dosyas\u0131 ile \u00e7al\u0131\u015fmak daha g\u00fcvenlidir.</p>"},{"location":"cloud/oracle/cli/#json-ile-yonetim-onerilen","title":"JSON ile Y\u00f6netim (\u00d6nerilen)","text":"<p>Komut sat\u0131r\u0131nda uzun JSON yazmak yerine dosyadan okutun:</p> <p><code>rules.json</code>:</p> <pre><code>[\n  {\n    \"source\": \"0.0.0.0/0\",\n    \"protocol\": \"6\",\n    \"tcpOptions\": {\n      \"destinationPortRange\": {\n        \"max\": 443,\n        \"min\": 443\n      }\n    }\n  }\n]\n</code></pre> <p>Komut:</p> <pre><code>oci network security-list update ... --ingress-security-rules file://rules.json\n</code></pre>"},{"location":"cloud/oracle/network/","title":"Oracle Cloud Network (VCN)","text":"<p>Oracle Cloud'da bir \"Compute Instance\" (Sunucu) a\u00e7t\u0131\u011f\u0131n\u0131zda, Linux i\u015fletim sisteminden ba\u011f\u0131ms\u0131z olarak \u00e7al\u0131\u015fan bir D\u0131\u015f A\u011f Katman\u0131 vard\u0131r. Bu katman\u0131 do\u011fru yap\u0131land\u0131rmazsan\u0131z, sunucudaki firewall'u komple kapatsan\u0131z bile eri\u015fim sa\u011flayamazs\u0131n\u0131z.</p>"},{"location":"cloud/oracle/network/#1-vcn-virtual-cloud-network","title":"1. VCN (Virtual Cloud Network)","text":"<p>VCN, sunucular\u0131n\u0131z\u0131n i\u00e7inde ya\u015fad\u0131\u011f\u0131 sanal veri merkezidir.</p>"},{"location":"cloud/oracle/network/#hzl-kurulum-vcn-wizard","title":"H\u0131zl\u0131 Kurulum (VCN Wizard)","text":"<p>Oracle panelinde \"Networking -&gt; Virtual Cloud Networks\" men\u00fcs\u00fcne gidin. \"Start VCN Wizard\" butonunu kullan\u0131n ve \"Create VCN with Internet Connectivity\" se\u00e7ene\u011fini se\u00e7in. Bu sihirbaz sizin i\u00e7in \u015funlar\u0131 otomatik kurar:</p> <ul> <li>VCN: Ana a\u011f blo\u011fu (\u00f6rn: 10.0.0.0/16)</li> <li>Public Subnet: \u0130nternete a\u00e7\u0131k sunucular i\u00e7in.</li> <li>Private Subnet: D\u0131\u015far\u0131ya kapal\u0131 (veritaban\u0131 vb.) sunucular i\u00e7in.</li> <li>Internet Gateway: \u0130nternete \u00e7\u0131k\u0131\u015f kap\u0131s\u0131.</li> <li>Route Table: Trafik y\u00f6nlendirme kurallar\u0131.</li> </ul> <p>[!TIP] Yeni ba\u015fl\u0131yorsan\u0131z mutlaka Wizard kullan\u0131n. Manuel kurulumda Route Table veya Gateway unutulursa sunucu internete \u00e7\u0131kamaz.</p>"},{"location":"cloud/oracle/network/#2-security-lists-oraclen-firewallu","title":"2. Security Lists (Oracle'\u0131n Firewall'u)","text":"<p>En \u00e7ok kar\u0131\u015ft\u0131r\u0131lan nokta buras\u0131d\u0131r: Linux i\u00e7indeki UFW ile Oracle'\u0131n Security List'i farkl\u0131d\u0131r! Bir paketin sunucunuza ula\u015fmas\u0131 i\u00e7in \u0130K\u0130 duvardan da ge\u00e7mesi gerekir:</p> <ol> <li>OCI Security List (Bulut Duvar\u0131)</li> <li>Ubuntu UFW (\u0130\u015fletim Sistemi Duvar\u0131)</li> </ol>"},{"location":"cloud/oracle/network/#port-acma-ingress-rules-adm-adm","title":"Port A\u00e7ma (Ingress Rules) - Ad\u0131m Ad\u0131m","text":"<p>A\u00e7\u0131k portlar\u0131 g\u00f6rmek ve y\u00f6netmek i\u00e7in Security List'e gitmeniz gerekir. En kolay yol \u015fudur:</p> <ol> <li>Instance (Sunucu) sayfas\u0131ndas\u0131n\u0131z (Att\u0131\u011f\u0131n\u0131z ekran).</li> <li>Sayfada \"Primary VNIC\" veya \"Attached VNICs\" b\u00f6l\u00fcm\u00fcn\u00fc bulun.</li> <li>Orada \"Subnet: subnetpublic\" (veya benzeri) yazan bir link g\u00f6receksiniz. O linke t\u0131klay\u0131n.</li> <li>A\u00e7\u0131lan \"Subnet Details\" sayfas\u0131nda, sol men\u00fcden (veya Resources alt\u0131ndan) \"Security Lists\"e t\u0131klay\u0131n.</li> <li>Listelenen (genelde ismi <code>Default Security List...</code> oland\u0131r) g\u00fcvenlik listesine t\u0131klay\u0131n.</li> <li>Kar\u015f\u0131n\u0131za \"Ingress Rules\" (Gelen Kurallar\u0131) \u00e7\u0131kar. \u0130\u015fte portlar burada!</li> </ol> <p>\"Add Ingress Rules\" diyerek \u015fu portlar\u0131 a\u00e7\u0131n:</p> Source CIDR Protocol Port Range A\u00e7\u0131klama <code>0.0.0.0/0</code> TCP <code>22</code> (veya <code>2222</code>) SSH Eri\u015fimi <code>0.0.0.0/0</code> TCP <code>80</code> HTTP (Web) <code>0.0.0.0/0</code> TCP <code>443</code> HTTPS (SSL) <code>0.0.0.0/0</code> ICMP - Ping atmak isterseniz (Opsiyonel) <p>[!WARNING] E\u011fer SSH portunuzu de\u011fi\u015ftirdiyseniz (\u00f6rn: 2222 yapt\u0131ysan\u0131z), buradaki Security List'te de 2222'yi a\u00e7may\u0131 unutmay\u0131n! Yoksa sunucuya ba\u011flanamazs\u0131n\u0131z.</p>"},{"location":"cloud/oracle/network/#3-route-tables-internet-gateway","title":"3. Route Tables &amp; Internet Gateway","text":"<p>E\u011fer sunucunuz internete \u00e7\u0131kam\u0131yorsa (\u00f6rn: <code>apt update</code> hata veriyorsa), Route Table ayar\u0131 bozuktur.</p> <ol> <li>Internet Gateway'in \"Available\" durumda oldu\u011fundan emin olun.</li> <li>Route Table kurallar\u0131n\u0131 kontrol edin:<ul> <li>Destination: <code>0.0.0.0/0</code> (T\u00fcm d\u00fcnya)</li> <li>Target Type: Internet Gateway</li> <li>Target: (Sizin olu\u015fturdu\u011funuz gateway)</li> </ul> </li> </ol> <p>Bu kural, \"Sunucunun bilmedi\u011fi IP adreslerine (Google, GitHub vb.) gitmek i\u00e7in Internet Gateway'i kullan\" demektir.</p>"},{"location":"cloud/oracle/network/#4-statik-ip-reserved-public-ip","title":"4. Statik IP (Reserved Public IP)","text":"<p>Oracle'da sunucuyu yeniden ba\u015flat\u0131rsan\u0131z bazen Public IP de\u011fi\u015febilir. Bunu sabitlemek i\u00e7in:</p> <ol> <li>Instance detaylar\u0131na gidin.</li> <li>\"Attached VNICs\" men\u00fcs\u00fcne t\u0131klay\u0131n (Sol altta).</li> <li>VNIC ismine t\u0131klay\u0131n -&gt; \"IPv4 Addresses\".</li> <li>Mevcut IP'nin yan\u0131ndaki \u00fc\u00e7 noktaya t\u0131klay\u0131n -&gt; \"Edit\".</li> <li>\"No Public IP\" se\u00e7ip kaydedin (IP silinir).</li> <li>Tekrar \"Edit\" deyin -&gt; \"Reserved Public IP\" se\u00e7in ve \"Create New Reserved Public IP\" diyerek kal\u0131c\u0131 bir IP olu\u015fturun.</li> </ol>"},{"location":"cloud/oracle/network/#sorun-giderme","title":"Sorun Giderme","text":"<p>Soru: UFW'de portu a\u00e7t\u0131m (<code>ufw allow 80</code>) ama siteye giremiyorum? Cevap: %99 ihtimalle Oracle Security List'te 80 portunu a\u00e7mad\u0131n\u0131z. Oraya gidip Ingress Rule ekleyin.</p> <p>Soru: <code>apt update</code> \u00e7al\u0131\u015fm\u0131yor, ba\u011flant\u0131 yok? Cevap:</p> <ol> <li>DNS sorunu olabilir (<code>/etc/resolv.conf</code>).</li> <li>Route Table'da Internet Gateway (0.0.0.0/0) kural\u0131 eksik veya silinmi\u015f olabilir.</li> </ol> <p>Soru: SSH portumu 2222 yapt\u0131m, ba\u011flanam\u0131yorum? Cevap: Hem UFW'de (<code>ufw allow 2222</code>) hem de Oracle Security List'te (<code>TCP 2222</code>) kural eklediniz mi? \u0130kisinden biri eksikse \u00e7al\u0131\u015fmaz.</p>"},{"location":"cloud/oracle/overview/","title":"Oracle Cloud Genel Bak\u0131\u015f","text":"<p>Oracle Cloud Infrastructure (OCI), sundu\u011fu c\u00f6mert \"Free Tier\" (\u00dccretsiz Katman) ile ki\u015fisel sunucu bar\u0131nd\u0131rmak i\u00e7in m\u00fckemmel bir se\u00e7enektir.</p>"},{"location":"cloud/oracle/overview/#neden-oracle-cloud","title":"Neden Oracle Cloud?","text":"<ul> <li>ARM \u0130\u015flemciler (Ampere): 4 OCPU ve 24 GB RAM'e kadar tamamen \u00fccretsiz sunucu (VM.Standard.A1.Flex).</li> <li>Public IPv4: \u00dccretsiz statik IP sa\u011flar (Reserved IP).</li> <li>Disk: 200 GB'a kadar Block Volume saklama alan\u0131 \u00fccretsizdir.</li> </ul>"},{"location":"cloud/oracle/overview/#hesap-kurulum-ipuclar","title":"Hesap Kurulum \u0130pu\u00e7lar\u0131","text":"<ol> <li>B\u00f6lge (Region) Se\u00e7imi: Hesab\u0131 a\u00e7arken se\u00e7ti\u011finiz \"Home Region\" (\u00f6rn: Frankfurt, Amsterdam) kal\u0131c\u0131d\u0131r ve de\u011fi\u015ftirilemez. T\u00fcrkiye'ye yak\u0131n bir b\u00f6lge (Frankfurt) se\u00e7mek latency (gecikme) a\u00e7\u0131s\u0131ndan iyidir.</li> <li>Kart Do\u011frulama: Kay\u0131t s\u0131ras\u0131nda kredi kart\u0131ndan provizyon \u00e7ekilir ve iade edilir. Sanal kartlar bazen sorun \u00e7\u0131karabilir.</li> <li>SSH Key: Sunucu olu\u015ftururken mutlaka kendi olu\u015fturdu\u011funuz SSH Public Key'i (<code>id_ed25519.pub</code>) y\u00fckleyin. Oracle'\u0131n olu\u015fturdu\u011fu anahtarlar\u0131 indirmek yerine kendi anahtar\u0131n\u0131z\u0131 kullanmak daha g\u00fcvenlidir.</li> </ol>"},{"location":"cloud/oracle/overview/#servis-yaps","title":"Servis Yap\u0131s\u0131","text":"<p>Bu rehberde Oracle Cloud servislerini \u015fu ba\u015fl\u0131klar alt\u0131nda inceleyece\u011fiz:</p> <ul> <li>Network (VCN): A\u011f, Firewall ve IP ayarlar\u0131.</li> <li>CLI (Komut Sat\u0131r\u0131): Web panele girmeden y\u00f6netim.</li> </ul>"},{"location":"cloud/oracle/storage/","title":"Oracle Block Volume: Ekstra Depolama","text":"<p>Oracle Cloud'un \u00fccretsiz sundu\u011fu 200GB disk alan\u0131n\u0131 verimli kullanmak i\u00e7in Block Volume kullanmal\u0131s\u0131n\u0131z. \u0130\u015fletim sistemi \u00e7\u00f6kerse bile Block Volume'deki verileriniz (Docker volume'leri, veritabanlar\u0131) g\u00fcvende kal\u0131r.</p> <p>[!TIP] &gt; Neden Boot Volume De\u011fil? Boot volume (i\u015fletim sisteminin kurulu oldu\u011fu disk) \u00e7\u00f6kerse veya silinirse i\u00e7indeki veriler gider. Verilerinizi her zaman harici bir Block Volume'de tutmak \"Best Practice\"tir.</p>"},{"location":"cloud/oracle/storage/#1-volume-olusturma-panel","title":"1. Volume Olu\u015fturma (Panel)","text":"<ol> <li>Oracle Cloud panelinde Storage &gt; Block Volumes men\u00fcs\u00fcne gidin.</li> <li>Create Block Volume butonuna t\u0131klay\u0131n.</li> <li>Name: <code>data-volume</code> (veya istedi\u011finiz bir isim).</li> <li>Size: \u0130htiyac\u0131n\u0131z kadar (\u00d6rn: 50GB veya 100GB).</li> <li>Availability Domain: Sunucunuzla (Compute Instance) AYNI domain'i se\u00e7ti\u011finizden emin olun (\u00d6rn: <code>Frankfurt-1 AD-3</code>). Farkl\u0131 yerlerdeki diskleri sunucuya takamazs\u0131n\u0131z.</li> </ol>"},{"location":"cloud/oracle/storage/#2-volumeu-sunucuya-takma-attach","title":"2. Volume'\u00fc Sunucuya Takma (Attach)","text":"<ol> <li>Olu\u015fturdu\u011funuz Volume'\u00fcn i\u00e7ine girin.</li> <li>Soldan Attached Instances sekmesine t\u0131klay\u0131n.</li> <li>Attach to Instance butonuna bas\u0131n.<ul> <li>Instance: Sunucunuzu se\u00e7in.</li> <li>Attachment Type: <code>iSCSI</code> (Paravirtualized daha yava\u015ft\u0131r, iSCSI \u00f6nerilir).</li> <li>Device Path: Entegre yol yerine basit\u00e7e <code>/dev/oracleoci/oraclevdb</code> gibi bir yol se\u00e7imi sunmaz, bunu sunucu i\u00e7inde g\u00f6rece\u011fiz.</li> </ul> </li> <li>Attach diyerek i\u015flemi ba\u015flat\u0131n.</li> </ol>"},{"location":"cloud/oracle/storage/#iscsi-baglant-komutlar","title":"iSCSI Ba\u011flant\u0131 Komutlar\u0131","text":"<p>Attach i\u015flemi bitince (State: Attached), sa\u011fdaki \"\u00fc\u00e7 nokta\" men\u00fcs\u00fcnden iSCSI Commands &amp; Information se\u00e7ene\u011fine t\u0131klay\u0131n. Size 3-4 sat\u0131rl\u0131k uzun komutlar verecek.</p> <p>Bu komutlar\u0131 kopyalay\u0131n ve sunucunuzda (SSH ile) \u00e7al\u0131\u015ft\u0131r\u0131n.</p> <pre><code># \u00d6rnek (Sizin komutlar\u0131n\u0131z farkl\u0131 olacak!):\nsudo iscsiadm -m node -o new -T iqn.2015-12.com.oracleiaas:volume... -p 169.254.2.2:3260\nsudo iscsiadm -m node -o update -T iqn.2015-12.com.oracleiaas:volume... -n node.startup -v automatic\nsudo iscsiadm -m node -T iqn.2015-12.com.oracleiaas:volume... -p 169.254.2.2:3260 -l\n</code></pre> <p>Ba\u015far\u0131l\u0131 olup olmad\u0131\u011f\u0131n\u0131 kontrol edin:</p> <pre><code>lsblk\n# \u00c7\u0131kt\u0131da 'sdb' (veya sdc) ad\u0131nda yeni bir disk g\u00f6rmelisiniz.\n</code></pre>"},{"location":"cloud/oracle/storage/#3-formatlama-ve-mount-etme","title":"3. Formatlama ve Mount Etme","text":"<p>Disk ham (raw) haldedir. Dosya sistemi olu\u015fturmal\u0131y\u0131z.</p> <p>[!WARNING] Bu i\u015flem diskin i\u00e7indeki HER \u015eEY\u0130 S\u0130LER. Diski ilk kez kullan\u0131yorsan\u0131z yap\u0131n. Dolu bir diski takt\u0131ysan\u0131z bu ad\u0131m\u0131 atlay\u0131n!</p>"},{"location":"cloud/oracle/storage/#a-dosya-sistemi-olustur-format","title":"a. Dosya Sistemi Olu\u015ftur (Format)","text":"<pre><code># Diskin sdb oldu\u011funu varsay\u0131yoruz (lsblk ile kontrol edin!)\nsudo mkfs.ext4 -F /dev/sdb\n</code></pre>"},{"location":"cloud/oracle/storage/#b-kalc-mount-fstab","title":"b. Kal\u0131c\u0131 Mount (fstab)","text":"<p>Sunucu kapand\u0131\u011f\u0131nda ba\u011flant\u0131n\u0131n kopmamas\u0131 i\u00e7in <code>/etc/fstab</code> dosyas\u0131na eklemeliyiz.</p> <ol> <li> <p>Mount Klas\u00f6r\u00fc Olu\u015ftur:</p> <pre><code>sudo mkdir -p /mnt/blockvolume\n</code></pre> </li> <li> <p>UUID \u00d6\u011fren: <code>/dev/sdb</code> ismine g\u00fcvenmeyin, her rebootta de\u011fi\u015febilir. UUID sabittir.</p> <pre><code>sudo blkid -o value -s UUID /dev/sdb\n# \u00c7\u0131kt\u0131: a1b2c3d4-e5f6-.... (Bunu kopyalay\u0131n)\n</code></pre> </li> <li> <p>fstab D\u00fczenle:</p> <pre><code>sudo nano /etc/fstab\n</code></pre> <p>Dosyan\u0131n en alt\u0131na \u015fu sat\u0131r\u0131 ekleyin (UUID k\u0131sm\u0131n\u0131 kendi kodunuzla de\u011fi\u015ftirin):</p> <pre><code>UUID=S\u0130Z\u0130N-KOPYALADI\u011eINIZ-UUID  /mnt/blockvolume  ext4  defaults,noatime,_netdev  0  2\n</code></pre> <ul> <li><code>_netdev</code>: Bu bir a\u011f diskidir, a\u011f gelmeden mount etmeye \u00e7al\u0131\u015fma (Boot'un tak\u0131lmas\u0131n\u0131 \u00f6nler).</li> </ul> </li> <li> <p>Test Et ve Ba\u011fla:</p> <pre><code>sudo mount -a\n\n# Hata vermediyse kontrol et:\ndf -h | grep blockvolume\n</code></pre> </li> </ol>"},{"location":"cloud/oracle/storage/#4-kullanm-ipuclar","title":"4. Kullan\u0131m \u0130pu\u00e7lar\u0131","text":""},{"location":"cloud/oracle/storage/#yetkiler","title":"Yetkiler","text":"<p>Diski <code>root</code> mount etti\u011fi i\u00e7in normal kullan\u0131c\u0131 yazamaz. Sahipli\u011fi de\u011fi\u015ftirin:</p> <pre><code>sudo chown -R $USER:$USER /mnt/blockvolume\n</code></pre>"},{"location":"cloud/oracle/storage/#docker-verisini-buraya-tasmak","title":"Docker Verisini Buraya Ta\u015f\u0131mak","text":"<p>Docker'\u0131n t\u00fcm imajlar\u0131n\u0131 ve volume'lerini bu g\u00fcvenli diske ta\u015f\u0131mak i\u00e7in Docker Kurulumu rehberindeki \"Data Root\" b\u00f6l\u00fcm\u00fcn\u00fc okuyun.</p>"},{"location":"file-templates/docker-compose/","title":"Docker Compose Template","text":"<pre><code># Standard Docker Compose Template\n\nversion: \"3.8\"\n\nservices:\n  # 1. Frontend (React/Vue/Next)\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: my_app\n    restart: unless-stopped\n    ports:\n      - \"127.0.0.1:3000:3000\" # Localhost only (behind proxy)\n    environment:\n      - NODE_ENV=production\n    networks:\n      - internal_net\n\n  # 2. Proxy (Nginx)\n  nginx:\n    image: nginx:alpine\n    container_name: my_nginx\n    restart: always\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./certs:/etc/nginx/certs:ro\n    depends_on:\n      - app\n    networks:\n      - internal_net\n\n  # 3. Database\n  db:\n    image: postgres:15-alpine\n    container_name: my_db\n    restart: always\n    environment:\n      POSTGRES_USER: ${DB_USER}\n      POSTGRES_PASSWORD: ${DB_PASS}\n      POSTGRES_DB: ${DB_NAME}\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    networks:\n      - internal_net\n\nvolumes:\n  db_data:\n\nnetworks:\n  internal_net:\n    driver: bridge\n</code></pre>"},{"location":"file-templates/env-example/","title":"Environment Variables Example (.env)","text":"<pre><code># --- Application ---\nAPP_ENV=production\nAPP_PORT=3000\nAPP_SECRET=change_this_to_a_long_random_string\n\n# --- Database ---\nDB_HOST=db\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=postgres\nDB_PASS=secure_password_123\n\n# --- Redis ---\nREDIS_HOST=redis\nREDIS_PORT=6379\nREDIS_PASS=secure_redis_password\n\n# --- External APIs ---\nAWS_ACCESS_KEY=AKIA...\nAWS_SECRET_KEY=wJal...\n</code></pre>"},{"location":"file-templates/nginx/","title":"Production Nginx Config","text":"<pre><code>user  nginx;\nworker_processes  auto;\n\nerror_log  /var/log/nginx/error.log notice;\npid        /var/run/nginx.pid;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    # Security Headers\n    add_header X-Frame-Options \"SAMEORIGIN\";\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Content-Type-Options \"nosniff\";\n\n    # Optimization\n    sendfile        on;\n    keepalive_timeout  65;\n    gzip  on;\n\n    server {\n        listen 80;\n        server_name example.com;\n\n        # Redirect to HTTPS\n        location / {\n            return 301 https://$host$request_uri;\n        }\n    }\n\n    server {\n        listen 443 ssl http2;\n        server_name example.com;\n\n        ssl_certificate /etc/nginx/certs/fullchain.pem;\n        ssl_certificate_key /etc/nginx/certs/privkey.pem;\n\n        # Proxy to App\n        location / {\n            proxy_pass http://app:3000;\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection 'upgrade';\n            proxy_set_header Host $host;\n            proxy_cache_bypass $http_upgrade;\n        }\n    }\n}\n</code></pre>"},{"location":"file-templates/systemd/","title":"Systemd Service Template","text":"<p>Linux servisi olarak uygulama \u00e7al\u0131\u015ft\u0131rmak i\u00e7in (Docker kullanm\u0131yorsan\u0131z).</p> <ol> <li>Dosyay\u0131 olu\u015ftur: <code>/etc/systemd/system/myapp.service</code></li> <li>Aktif et: <code>sudo systemctl enable --now myapp</code></li> </ol> <pre><code>[Unit]\nDescription=My Awesome Node.js App\nDocumentation=https://example.com\nAfter=network.target\n\n[Service]\n# Hangi kullan\u0131c\u0131 ile \u00e7al\u0131\u015facak?\nUser=deployer\nGroup=deployer\n\n# \u00c7evresel De\u011fi\u015fkenler\nEnvironment=NODE_ENV=production\nEnvironment=PORT=3000\n\n# \u00c7al\u0131\u015fma Dizini ve Komut\nWorkingDirectory=/home/deployer/app\nExecStart=/usr/bin/node /home/deployer/app/server.js\n\n# Restart Politikas\u0131\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"how-to/","title":"Kurulumlar (How-to)","text":"<p>Bu bolum, adim adim kurulum rehberlerini icerir.</p>"},{"location":"how-to/#icerik","title":"Icerik","text":"<ul> <li>Temel OS kurulumu</li> <li>Servis kurulumlari</li> <li>Izleme ve yedekleme</li> <li>TLS ve sertifika yonetimi</li> <li>Reverse proxy</li> <li>Systemd servis tanimi</li> <li>Logrotate</li> <li>Ag ve port kontrolleri</li> </ul>"},{"location":"how-to/backups/","title":"Yedekleme Stratejisi ve Otomasyonu","text":"<p>\"Yedek yoksa, veri yoktur.\"</p>"},{"location":"how-to/backups/#1-3-2-1-kural","title":"1. 3-2-1 Kural\u0131","text":"<p>Basit ama hayat kurtar\u0131r:</p> <ul> <li>3 kopya veriniz olsun (1 canl\u0131, 2 yedek).</li> <li>2 farkl\u0131 medya kullan\u0131n (Sunucu diski + Harici Depolama).</li> <li>1 kopya mutlaka \"Off-site\" (Sunucu d\u0131\u015f\u0131nda) olsun.</li> </ul>"},{"location":"how-to/backups/#2-otomatik-yedekleme-scripti","title":"2. Otomatik Yedekleme Scripti","text":"<p>A\u015fa\u011f\u0131daki script, belirledi\u011finiz klas\u00f6rleri ve MySQL/Postgres veritaban\u0131n\u0131 s\u0131k\u0131\u015ft\u0131r\u0131p tarihli olarak <code>/backups</code> dizinine atar.</p> <p>Bu script Script K\u00fct\u00fcphanesi &gt; Veritaban\u0131 Yedekleme alt\u0131nda detayland\u0131r\u0131lm\u0131\u015ft\u0131r.</p> <pre><code># Scripti \u00e7al\u0131\u015ft\u0131rma \u00f6rne\u011fi\n/root/scripts/backup-db.sh\n</code></pre>"},{"location":"how-to/backups/#3-zamanlama-cron","title":"3. Zamanlama (Cron)","text":"<p>Scripti her gece 03:00'da \u00e7al\u0131\u015ft\u0131rmak i\u00e7in:</p> <pre><code>crontab -e\n</code></pre> <p>Eklenecek sat\u0131r:</p> <pre><code>0 3 * * * /bin/bash /root/scripts/backup-db.sh &gt;&gt; /var/log/backup.log 2&gt;&amp;1\n</code></pre>"},{"location":"how-to/backups/#4-off-site-transfer-rclone","title":"4. Off-Site Transfer (Rclone)","text":"<p>Yedekleri sunucuda tutmak yetmez. <code>rclone</code> kullanarak S3, Google Drive veya Dropbox'a at\u0131n.</p> <p>Rclone kurulumu ve detayl\u0131 kullan\u0131m\u0131 script dosyas\u0131n\u0131n i\u00e7inde a\u00e7\u0131klanm\u0131\u015ft\u0131r (bkz: backup-db.sh).</p>"},{"location":"how-to/base-os/","title":"Temel OS Kurulumu","text":"<p>Bu bolum, Ubuntu/Debian icin temel kurulum ve ilk ayarlari kapsar.</p>"},{"location":"how-to/base-os/#kurulum","title":"Kurulum","text":"<ul> <li>Minimal kurulum sec.</li> <li>Disk bolumleme planini belirle.</li> <li>Root yerine yonetici kullanici olustur.</li> </ul>"},{"location":"how-to/base-os/#ilk-giris","title":"Ilk giris","text":"<pre><code>ssh root@SUNUCU_IP\n</code></pre>"},{"location":"how-to/base-os/#yonetici-kullanici-ve-sudo","title":"Yonetici kullanici ve sudo","text":"<pre><code>adduser deploy\nusermod -aG sudo deploy\n</code></pre>"},{"location":"how-to/base-os/#hostname-ve-etchosts","title":"Hostname ve /etc/hosts","text":"<pre><code>hostnamectl set-hostname ornek-sunucu\n</code></pre> <p><code>/etc/hosts</code> icine IP ve hostname eslemesini ekle.</p>"},{"location":"how-to/base-os/#zaman-senkronizasyonu","title":"Zaman senkronizasyonu","text":"<pre><code>timedatectl set-timezone Europe/Istanbul\nsystemctl enable --now systemd-timesyncd\n</code></pre>"},{"location":"how-to/base-os/#temel-guncellemeler","title":"Temel guncellemeler","text":"<pre><code>apt update\napt -y upgrade\n</code></pre>"},{"location":"how-to/base-os/#dogrulama","title":"Dogrulama","text":"<ul> <li><code>deploy</code> kullanicisi ile SSH girisi yapilabiliyor mu?</li> <li>Sistem guncel mi?</li> <li><code>hostnamectl</code> ve <code>timedatectl status</code> dogru mu?</li> </ul>"},{"location":"how-to/docker/","title":"Docker Kurulumu ve Konfig\u00fcrasyonu","text":"<p>Sunucular\u0131m\u0131zda uygulamalar\u0131 izole etmek ve kolay y\u00f6netmek i\u00e7in Docker ve Docker Compose kullan\u0131yoruz.</p>"},{"location":"how-to/docker/#1-kurulum-resmi-repodan","title":"1. Kurulum (Resmi Repodan)","text":"<p>Ubuntu'nun kendi deposundaki docker genelde eskidir. Resmi Docker deposunu kullanarak en g\u00fcncel s\u00fcr\u00fcm\u00fc kural\u0131m.</p> <p>Bu i\u015flemi tek komutla yapan \"Convenience Script\"i kullanmak en prati\u011fidir:</p> <pre><code>curl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\n</code></pre>"},{"location":"how-to/docker/#yetkilendirme-sudosuz-docker","title":"Yetkilendirme (Sudo'suz Docker)","text":"<p>Her komutun ba\u015f\u0131na <code>sudo</code> yazmamak i\u00e7in kullan\u0131c\u0131m\u0131z\u0131 <code>docker</code> grubuna ekleyelim:</p> <pre><code>sudo usermod -aG docker $USER\nnewgrp docker\n</code></pre> <p>Test edin:</p> <pre><code>docker version\n# Hata alm\u0131yorsan\u0131z tamamd\u0131r.\n</code></pre>"},{"location":"how-to/docker/#2-docker-storage-kritik","title":"2. Docker Storage (Kritik)","text":"<p>Varsay\u0131lan olarak Docker, t\u00fcm imajlar\u0131 ve volume'leri <code>/var/lib/docker</code> alt\u0131nda tutar. Bu klas\u00f6r \"Boot Volume\" \u00fczerindedir. E\u011fer bu disk dolarsa sunucu \u00e7\u00f6ker. E\u011fer sunucu bozulursa verileriniz gider.</p> <p>Bu y\u00fczden Docker verilerini harici Block Volume'e ta\u015f\u0131mal\u0131y\u0131z.</p> <p>[!IMPORTANT] \u00d6nce Oracle Block Volume rehberindeki ad\u0131mlar\u0131 tamamlay\u0131p diski <code>/mnt/blockvolume</code> alt\u0131na mount etti\u011finizden emin olun.</p>"},{"location":"how-to/docker/#data-root-degistirme-admlar","title":"Data Root De\u011fi\u015ftirme Ad\u0131mlar\u0131","text":"<ol> <li> <p>Klas\u00f6r\u00fc Haz\u0131rla:</p> <pre><code># Harici diskte docker i\u00e7in bir klas\u00f6r a\u00e7\nsudo mkdir -p /mnt/blockvolume/docker-data\n</code></pre> </li> <li> <p>Konfig\u00fcrasyon Dosyas\u0131n\u0131 D\u00fczenle: <code>/etc/docker/daemon.json</code> dosyas\u0131n\u0131 olu\u015fturun veya d\u00fczenleyin:</p> <pre><code>sudo nano /etc/docker/daemon.json\n</code></pre> <p>\u0130\u00e7eri\u011fi \u015fu \u015fekilde olmal\u0131d\u0131r:</p> <pre><code>{\n  \"data-root\": \"/mnt/blockvolume/docker-data\",\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\n</code></pre> <p>(Not: Log ayarlar\u0131n\u0131 da ekledik ki loglar diski doldurmas\u0131n)</p> </li> <li> <p>Docker'\u0131 Yeniden Ba\u015flat:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart docker\n</code></pre> </li> <li> <p>Do\u011frulama: <pre><code>docker info | grep \"Docker Root Dir\"\n</code></pre>     \u00c7\u0131kt\u0131da <code>/mnt/blockvolume/docker-data</code> g\u00f6r\u00fcyorsan\u0131z i\u015flem ba\u015far\u0131l\u0131d\u0131r! \ud83c\udf89</p> </li> </ol>"},{"location":"how-to/docker/#3-temel-komutlar","title":"3. Temel Komutlar","text":"<pre><code># Arkaplanda \u00e7al\u0131\u015ft\u0131r\ndocker compose up -d\n\n# Loglar\u0131 izle\ndocker compose logs -f\n\n# T\u00fcm sistemi temizle (Kullan\u0131lmayan imajlar, containerlar)\ndocker system prune -a\n</code></pre>"},{"location":"how-to/docker/#4-docker-compose-nedir","title":"4. Docker Compose Nedir?","text":"<p>Tek tek <code>docker run</code> komutlar\u0131 yazmak yerine, projenin k\u00f6k\u00fcnde bir <code>docker-compose.yml</code> dosyas\u0131 olu\u015ftururuz.</p> <p>\u00d6rnek bir <code>docker-compose.yml</code>:</p> <pre><code>services:\n  web:\n    image: nginx:alpine\n    restart: always\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./html:/usr/share/nginx/html\n</code></pre> <p>\u00c7al\u0131\u015ft\u0131rmak i\u00e7in:</p> <pre><code>docker compose up -d\n</code></pre>"},{"location":"how-to/logrotate/","title":"Logrotate Kurulumu","text":"<p>Bu rehber, log dosyalarinin rotasyonunu kapsar.</p>"},{"location":"how-to/logrotate/#ornek-konfigurasyon","title":"Ornek konfigurasyon","text":"<p><code>/etc/logrotate.d/app</code>: <pre><code>/var/log/app/*.log {\n  daily\n  rotate 7\n  compress\n  missingok\n  notifempty\n  copytruncate\n}\n</code></pre></p>"},{"location":"how-to/logrotate/#dogrulama","title":"Dogrulama","text":"<pre><code>logrotate -d /etc/logrotate.d/app\n</code></pre>"},{"location":"how-to/logrotate/#dogrulama_1","title":"Dogrulama","text":"<ul> <li>Rotasyon kurali dogru calisiyor mu?</li> <li>Disk kullanimi kontrol altinda mi?</li> </ul>"},{"location":"how-to/monitoring-stack/","title":"Monitoring Stack","text":"<p>Bu rehber, temel izleme yigininin kurulumu icin plan sunar.</p>"},{"location":"how-to/monitoring-stack/#kapsam","title":"Kapsam","text":"<ul> <li>Metrikler (Prometheus veya benzeri)</li> <li>Dashboard (Grafana veya benzeri)</li> <li>Alerting (Alertmanager veya benzeri)</li> </ul>"},{"location":"how-to/monitoring-stack/#plan","title":"Plan","text":"<ol> <li>Metrik kaynaklarini belirle (node, uygulama, DB).</li> <li>Dashboard ve alarm kurallarini standartlastir.</li> <li>Oncall ve bildirim kanallarini bagla.</li> </ol>"},{"location":"how-to/monitoring-stack/#dogrulama","title":"Dogrulama","text":"<ul> <li>Temel dashboardlar hazir mi?</li> <li>Alarm kanallari calisiyor mu?</li> </ul>"},{"location":"how-to/monitoring/","title":"Monitoring Kurulumu","text":"<p>Bu rehber, temel servis izleme ve alarmlari kapsar.</p>"},{"location":"how-to/monitoring/#gereksinimler","title":"Gereksinimler","text":"<ul> <li>Izlenecek servis listesi</li> <li>Uptime/alert servisi (ornek: Uptime Kuma, PagerDuty, Opsgenie)</li> </ul>"},{"location":"how-to/monitoring/#kurulum-adimlari","title":"Kurulum adimlari","text":"<ol> <li>Kritik endpointleri listele.</li> <li>Healthcheck URL veya port kontrolu ekle.</li> <li>Alarm esikleri belirle (latency, hata orani).</li> </ol>"},{"location":"how-to/monitoring/#temel-metrikler-ve-loglar","title":"Temel metrikler ve loglar","text":"<ul> <li>Sistem loglari: <code>journalctl</code></li> <li>Web sunucusu loglari: <code>/var/log/nginx/</code></li> <li>Disk: <code>df -h</code>, bellek: <code>free -m</code></li> <li>Servis durumu: <code>systemctl status &lt;servis&gt;</code></li> </ul>"},{"location":"how-to/monitoring/#dogrulama","title":"Dogrulama","text":"<ul> <li>Alarm tetikleniyor mu?</li> <li>Sahiplik ve oncall dogru mu?</li> </ul>"},{"location":"how-to/nginx/","title":"Nginx Kurulumu ve Optimizasyonu","text":"<p>Basit bir kurulumun \u00f6tesine ge\u00e7erek, Nginx'i y\u00fcksek trafik ve g\u00fcvenlik i\u00e7in haz\u0131rlayaca\u011f\u0131z.</p>"},{"location":"how-to/nginx/#1-kurulum-eksiksiz","title":"1. Kurulum (Eksiksiz)","text":"<p>Varsay\u0131lan repo bazen eski olabilir, ancak kararl\u0131l\u0131k (stability) i\u00e7in LTS s\u00fcr\u00fcmlerde Ubuntu reposunu tercih ediyoruz.</p> <pre><code>sudo apt update\nsudo apt install -y nginx\nsudo systemctl enable --now nginx\n</code></pre>"},{"location":"how-to/nginx/#2-production-altn-konfigurasyon","title":"2. Production \"Alt\u0131n\" Konfig\u00fcrasyon","text":"<p>Varsay\u0131lan <code>nginx.conf</code> dosyas\u0131 genellikle \u00e7ok tutucudur. A\u015fa\u011f\u0131daki ayarlar performans\u0131 art\u0131r\u0131r ve sunucu kimli\u011fini gizler.</p> <p><code>/etc/nginx/nginx.conf</code> dosyas\u0131n\u0131 yedekleyin ve a\u015fa\u011f\u0131daki bloklar\u0131 ekleyin/d\u00fczenleyin:</p> /etc/nginx/nginx.conf<pre><code>user www-data;\nworker_processes auto; # CPU \u00e7ekirdek say\u0131s\u0131 kadar worker\npid /run/nginx.pid;\ninclude /etc/nginx/modules-enabled/*.conf;\n\nevents {\n    worker_connections 2048; # Varsay\u0131lan 768'den y\u00fckseltin\n    multi_accept on;\n}\n\nhttp {\n    ##\n    # Temel Ayarlar\n    ##\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout 65;\n    types_hash_max_size 2048;\n    server_tokens off; # Nginx versiyonunu gizle (G\u00fcvenlik)\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    ##\n    # G\u00fcvenlik Headerlar\u0131 (Global)\n    ##\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header Referrer-Policy \"no-referrer-when-downgrade\" always;\n    add_header Content-Security-Policy \"default-src 'self' http: https: data: blob: 'unsafe-inline'\" always;\n\n    ##\n    # Gzip S\u0131k\u0131\u015ft\u0131rma (Performans)\n    ##\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6; # 1-9 aras\u0131, 6 ideal denge\n    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n    ##\n    # Loglama\n    ##\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\n</code></pre>"},{"location":"how-to/nginx/#3-konfigurasyon-dogrulama","title":"3. Konfig\u00fcrasyon Do\u011frulama","text":"<p>Her de\u011fi\u015fiklikten sonra mutlaka s\u00f6zdizimi (syntax) kontrol\u00fc yap\u0131n:</p> <pre><code>sudo nginx -t\n# Output: syntax is ok, test is successful\n</code></pre> <p>Hatas\u0131z ise yeniden ba\u015flat\u0131n:</p> <pre><code>sudo systemctl reload nginx\n</code></pre>"},{"location":"how-to/nginx/#dogrulama-sorular","title":"Do\u011frulama Sorular\u0131","text":"<ul> <li>[ ] <code>server_tokens off;</code> ayar\u0131 yap\u0131ld\u0131 m\u0131? (Curl -I ile versiyon g\u00f6r\u00fcnmemeli)</li> <li>[ ] Gzip aktif mi?</li> <li>[ ] Worker process say\u0131s\u0131 auto mu?</li> </ul>"},{"location":"how-to/package-management/","title":"Paket Y\u00f6netimi ve Docker","text":"<p>Sunucu kararl\u0131l\u0131\u011f\u0131 i\u00e7in en \u00f6nemli kural: \"Paketleri kayna\u011f\u0131ndan ve kontroll\u00fc y\u00fckle.\"</p>"},{"location":"how-to/package-management/#1-apt-advanced-package-tool","title":"1. APT (Advanced Package Tool)","text":"<p>Ubuntu/Debian sistemlerde varsay\u0131lan paket y\u00f6neticisidir.</p>"},{"location":"how-to/package-management/#temel-komutlar-dogru-kullanm","title":"Temel Komutlar (Do\u011fru Kullan\u0131m)","text":"<pre><code># Sadece paket listesini g\u00fcncelle (Y\u00fckleme yapmaz)\napt update\n\n# G\u00fcvenli g\u00fcncelleme (Mevcut konfig\u00fcrasyonu bozmadan)\napt upgrade -y\n\n# Temizlik (Gereksiz ba\u011f\u0131ml\u0131l\u0131klar\u0131 siler - \u00d6NEML\u0130)\napt autoremove --purge\napt clean\n</code></pre>"},{"location":"how-to/package-management/#versiyon-sabitleme-holding","title":"Versiyon Sabitleme (Holding)","text":"<p>Bir paketin (\u00f6rn. Nginx veya MySQL) kazara g\u00fcncellenmesini istemiyorsan\u0131z:</p> <pre><code># G\u00fcncellemeyi engelle\napt-mark hold nginx\n\n# Engeli kald\u0131r\napt-mark unhold nginx\n</code></pre>"},{"location":"how-to/package-management/#2-docker-kurulumu-resmi-yontem","title":"2. Docker Kurulumu (Resmi Y\u00f6ntem)","text":"<p>\u26a0\ufe0f UYARI: Asla <code>apt install docker.io</code> komutunu kullanmay\u0131n! Bu komut Ubuntu deposundaki (genellikle \u00e7ok eski) s\u00fcr\u00fcm\u00fc kurar. Her zaman resmi Docker reposunu kullan\u0131n.</p>"},{"location":"how-to/package-management/#kurulum-scripti","title":"Kurulum Scripti","text":"<pre><code># 1. Eski s\u00fcr\u00fcmleri temizle\nfor pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done\n\n# 2. Keyring ve Repo ayarla\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\nsudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\n\n# 3. Repoyu listeye ekle\necho \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n  $(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\") stable\" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n\n# 4. Kur\nsudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n</code></pre>"},{"location":"how-to/package-management/#3-ppa-ve-harici-repolar","title":"3. PPA ve Harici Repolar","text":"<p>Prensip: \"M\u00fcmk\u00fcn olan en az harici repo.\"</p> <p>Google'da buldu\u011funuz rastgele PPA'leri eklemeyin. Sadece \u00fcreticinin (Vendor) resmi dok\u00fcman\u0131ndaki repolar\u0131 kullan\u0131n (\u00d6rn: Postgres.org, Redis.io, Nginx.org).</p>"},{"location":"how-to/package-management/#4-snap-ve-flatpak","title":"4. Snap ve Flatpak","text":"<p>Sunucularda (Server Environment) kullan\u0131lmas\u0131 \u00f6nerilmez.</p> <ul> <li>Neden?: Snap arka planda sanal loop cihazlar\u0131 (mount points) olu\u015fturur. <code>df -h</code> \u00e7\u0131kt\u0131s\u0131n\u0131 kirletir ve bazen disk y\u00f6netimi sorunlar\u0131na yol a\u00e7ar.</li> <li>\u0130stisna: Sadece ba\u015fka alternatifi yoksa (\u00d6rn: Baz\u0131 durumlarda Certbot) kullan\u0131labilir ama <code>apt</code> veya <code>docker</code> her zaman \u00f6nceliklidir.</li> </ul>"},{"location":"how-to/port-checks/","title":"Ag ve Port Kontrolleri","text":"<p>Bu rehber, acik portlar ve baglantilari kontrol etmeyi kapsar.</p>"},{"location":"how-to/port-checks/#beklenen-portlar-ornek","title":"Beklenen portlar (ornek)","text":"<ul> <li>22/tcp: SSH</li> <li>80/tcp: HTTP</li> <li>443/tcp: HTTPS</li> </ul>"},{"location":"how-to/port-checks/#acik-portlari-goster","title":"Acik portlari goster","text":"<pre><code>ss -tulpen\n</code></pre>"},{"location":"how-to/port-checks/#belirli-portu-dinleyen-sureci-bul","title":"Belirli portu dinleyen sureci bul","text":"<pre><code>ss -tulpen | rg \":443\"\n</code></pre>"},{"location":"how-to/port-checks/#dosya-descriptor-ile-kontrol","title":"Dosya descriptor ile kontrol","text":"<pre><code>lsof -i -P -n | rg LISTEN\n</code></pre>"},{"location":"how-to/port-checks/#firewall-durumu","title":"Firewall durumu","text":"<pre><code>ufw status verbose\n</code></pre>"},{"location":"how-to/port-checks/#dogrulama","title":"Dogrulama","text":"<ul> <li>Gerekli portlar acik mi?</li> <li>Beklenmeyen servisler dinliyor mu?</li> </ul>"},{"location":"how-to/reverse-proxy/","title":"Reverse Proxy","text":"<p>Bu rehber, Nginx uzerinden uygulama proxy'lemeyi kapsar.</p>"},{"location":"how-to/reverse-proxy/#gereksinimler","title":"Gereksinimler","text":"<ul> <li>Nginx kurulu ve calisir durumda</li> <li>Uygulama portu lokalda dinliyor</li> <li>Nginx kurulumu icin: Nginx Kurulumu</li> </ul>"},{"location":"how-to/reverse-proxy/#ornek-konfigurasyon","title":"Ornek konfigurasyon","text":"<p><code>/etc/nginx/sites-available/app.conf</code>: <pre><code>server {\n  listen 80;\n  server_name example.com;\n\n  location / {\n    proxy_pass http://127.0.0.1:3000;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n  }\n}\n</code></pre></p> <pre><code>ln -s /etc/nginx/sites-available/app.conf /etc/nginx/sites-enabled/\nnginx -t\nsystemctl reload nginx\n</code></pre>"},{"location":"how-to/reverse-proxy/#dogrulama","title":"Dogrulama","text":"<ul> <li><code>nginx -t</code> basarili mi?</li> <li>Uygulama endpointi yanit veriyor mu?</li> </ul>"},{"location":"how-to/snapshots/","title":"Sistem Snapshot ve Geri Y\u00fckleme (Timeshift)","text":"<p>Sunucu y\u00f6netiminde en b\u00fcy\u00fck g\u00fcvence, bir \u015feyler ters gitti\u011finde \"zamanda geriye yolculuk\" yapabilmektir.</p> <p>Linux d\u00fcnyas\u0131nda bu i\u015fin standart arac\u0131 Timeshift'tir. Windows'taki \"System Restore\" veya macOS'teki \"Time Machine\" gibi \u00e7al\u0131\u015f\u0131r.</p>"},{"location":"how-to/snapshots/#1-timeshift-nedir","title":"1. Timeshift Nedir?","text":"<p>Timeshift, sistem dosyalar\u0131n\u0131n (kullan\u0131c\u0131 verileri DE\u011e\u0130L) anl\u0131k g\u00f6r\u00fcnt\u00fcs\u00fcn\u00fc al\u0131r.</p> <ul> <li>Kapsam: <code>/etc</code>, <code>/usr</code>, <code>/boot</code> gibi sistem dizinleri.</li> <li>Hari\u00e7: <code>/home</code>, <code>/root</code> (Kullan\u0131c\u0131 d\u00f6k\u00fcmanlar\u0131, veritaban\u0131 datalar\u0131).</li> </ul> <p>[!TIP] Veritaban\u0131 ve kullan\u0131c\u0131 verileri i\u00e7in <code>backup-db.sh</code> scriptini kullan\u0131n. Timeshift sisteminizi kurtar\u0131r, verilerinizi de\u011fil.</p>"},{"location":"how-to/snapshots/#2-kurulum","title":"2. Kurulum","text":"<p>Ubuntu/Debian \u00fczerinde:</p> <pre><code>sudo apt update\nsudo apt install timeshift -y\n</code></pre>"},{"location":"how-to/snapshots/#3-yaplandrma-rsync-modu","title":"3. Yap\u0131land\u0131rma (RSYNC Modu)","text":"<p>Sunucularda GUI olmad\u0131\u011f\u0131 i\u00e7in CLI \u00fczerinden yap\u0131land\u0131raca\u011f\u0131z. En g\u00fcvenli y\u00f6ntem RSYNC modudur.</p> <pre><code># Ayarlar\u0131 olu\u015ftur (Varsay\u0131lanlar iyidir)\n# --snapshot-device: Yedeklerin tutulaca\u011f\u0131 disk (genelde k\u00f6k dizin /dev/sda1 vb.)\nsudo timeshift --create --comments \"Ilk Kurulum\"\n</code></pre>"},{"location":"how-to/snapshots/#otomatik-yedekleme-ayar","title":"Otomatik Yedekleme Ayar\u0131","text":"<p><code>/etc/timeshift/timeshift.json</code> dosyas\u0131n\u0131 d\u00fczenleyerek s\u0131kl\u0131\u011f\u0131 ayarlay\u0131n veya CLI kullan\u0131n:</p> <ul> <li>Boot: Her a\u00e7\u0131l\u0131\u015fta (Sunucular i\u00e7in \u00f6nerilmez, nadir reboot edilir)</li> <li>Hourly: Saatlik (Gereksiz olabilir)</li> <li>Daily: G\u00fcnl\u00fck (Tavsiye edilen)</li> </ul>"},{"location":"how-to/snapshots/#4-snapshot-yonetimi","title":"4. Snapshot Y\u00f6netimi","text":"<pre><code># Listele\nsudo timeshift --list\n\n# Snapshot Olu\u015ftur (Manuel)\nsudo timeshift --create --comments \"Update Oncesi Guvenlik\"\n\n# Geri Y\u00fckle (Felaket Senaryosu!)\n# Listeden bir tarih se\u00e7in ve restore komutunu verin.\nsudo timeshift --restore\n</code></pre> <p>[!WARNING] Restore i\u015flemi canl\u0131 \u00e7al\u0131\u015fan sunucuda risklidir. M\u00fcmk\u00fcnse Rescue Mode veya Live CD \u00fczerinden yap\u0131lmas\u0131 daha sa\u011fl\u0131kl\u0131d\u0131r. Ancak sistem a\u00e7\u0131l\u0131yorsa CLI \u00fczerinden de denenebilir.</p>"},{"location":"how-to/snapshots/#5-cloud-snapshots-en-guvenli-yontem","title":"5. Cloud Snapshots (En G\u00fcvenli Y\u00f6ntem)","text":"<p>E\u011fer sanal sunucu (VPS/Cloud) kullan\u0131yorsan\u0131z (AWS, Oracle, DigitalOcean), paneldeki Snapshot \u00f6zelli\u011fi Timeshift'ten \u00e7ok daha \u00fcst\u00fcnd\u00fcr.</p> <ul> <li>Tam \u0130maj: Diskin bit-bit kopyas\u0131n\u0131 al\u0131r.</li> <li>G\u00fcvenilirlik: %100 garantilidir. \u0130\u015fletim sistemi \u00e7\u00f6km\u00fc\u015f olsa bile kurtar\u0131r.</li> </ul> <p>\u00d6neri: Kritik update (Kernel, Docker s\u00fcr\u00fcm y\u00fckseltme) \u00f6ncesi mutlaka Cloud Provider panelinden Snapshot al\u0131n.</p>"},{"location":"how-to/swap/","title":"Swap Bellek Olu\u015fturma","text":"<p>Swap, RAM doldu\u011funda sistemin disk \u00fczerinde kulland\u0131\u011f\u0131 \"yedek bellek\" alan\u0131d\u0131r. \u00d6zellikle d\u00fc\u015f\u00fck RAM'li sunucularda (1-2GB) hayat kurtar\u0131r.</p>"},{"location":"how-to/swap/#ne-zaman-gerekir","title":"Ne Zaman Gerekir?","text":"<ul> <li>RAM &lt; 2GB: Mutlaka swap olu\u015fturun.</li> <li>RAM 2-4GB: \u00d6nerilir (\u00d6zellikle veritaban\u0131 \u00e7al\u0131\u015ft\u0131r\u0131yorsan\u0131z).</li> <li>RAM &gt; 8GB: Genellikle gerekli de\u011fil ama hibernation i\u00e7in kullan\u0131labilir.</li> </ul>"},{"location":"how-to/swap/#swap-boyutu","title":"Swap Boyutu","text":"<p>Genel kural:</p> <ul> <li>RAM \u2264 2GB \u2192 Swap = RAM x 2</li> <li>RAM &gt; 2GB \u2192 Swap = RAM (veya biraz daha az)</li> </ul>"},{"location":"how-to/swap/#olusturma-admlar","title":"Olu\u015fturma Ad\u0131mlar\u0131","text":""},{"location":"how-to/swap/#1-mevcut-swap-kontrolu","title":"1. Mevcut Swap Kontrol\u00fc","text":"<pre><code>free -h\n# Swap sat\u0131r\u0131 0 ise swap yok demektir\n</code></pre>"},{"location":"how-to/swap/#2-swap-dosyas-olustur","title":"2. Swap Dosyas\u0131 Olu\u015ftur","text":"<p>2GB swap i\u00e7in:</p> <pre><code># 2GB'l\u0131k bo\u015f dosya olu\u015ftur (Bu i\u015flem biraz s\u00fcrebilir)\nsudo fallocate -l 2G /swapfile\n\n# Alternatif (fallocate yoksa):\n# sudo dd if=/dev/zero of=/swapfile bs=1M count=2048\n</code></pre>"},{"location":"how-to/swap/#3-izinleri-ayarla","title":"3. \u0130zinleri Ayarla","text":"<p>Swap dosyas\u0131 sadece root taraf\u0131ndan okunabilir olmal\u0131 (g\u00fcvenlik):</p> <pre><code>sudo chmod 600 /swapfile\n</code></pre>"},{"location":"how-to/swap/#4-swap-alan-olarak-isaretle","title":"4. Swap Alan\u0131 Olarak \u0130\u015faretle","text":"<pre><code>sudo mkswap /swapfile\n</code></pre>"},{"location":"how-to/swap/#5-aktiflestir","title":"5. Aktifle\u015ftir","text":"<pre><code>sudo swapon /swapfile\n</code></pre> <p>Kontrol:</p> <pre><code>free -h\n# Art\u0131k Swap sat\u0131r\u0131nda 2GB g\u00f6rmelisiniz\n</code></pre>"},{"location":"how-to/swap/#6-kalc-hale-getir","title":"6. Kal\u0131c\u0131 Hale Getir","text":"<p>Sunucu yeniden ba\u015flad\u0131\u011f\u0131nda swap otomatik aktif olsun:</p> <pre><code>echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab\n</code></pre>"},{"location":"how-to/swap/#swappiness-ayar-opsiyonel","title":"Swappiness Ayar\u0131 (Opsiyonel)","text":"<p><code>swappiness</code>, sistemin ne kadar agresif swap kullanaca\u011f\u0131n\u0131 belirler (0-100).</p> <ul> <li>0: Sadece RAM tamamen doldu\u011funda swap kullan.</li> <li>60: Varsay\u0131lan (Biraz erken swap kullanmaya ba\u015flar).</li> <li>100: Her f\u0131rsatta swap kullan (\u00d6nerilmez).</li> </ul> <p>Sunucular i\u00e7in 10 de\u011feri idealdir:</p> <pre><code># Ge\u00e7ici (Reboot sonras\u0131 s\u0131f\u0131rlan\u0131r)\nsudo sysctl vm.swappiness=10\n\n# Kal\u0131c\u0131\necho 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf\n</code></pre>"},{"location":"how-to/swap/#swap-silme-ihtiyac-kalmadysa","title":"Swap Silme (\u0130htiya\u00e7 Kalmad\u0131ysa)","text":"<pre><code>sudo swapoff /swapfile\nsudo rm /swapfile\n# /etc/fstab'dan ilgili sat\u0131r\u0131 manuel silin\n</code></pre>"},{"location":"how-to/systemd-service/","title":"Systemd Servis Tanimi","text":"<p>Bu rehber, uygulama icin systemd servis tanimlamayi kapsar.</p>"},{"location":"how-to/systemd-service/#servis-dosyasi","title":"Servis dosyasi","text":"<p><code>/etc/systemd/system/app.service</code>: <pre><code>[Unit]\nDescription=App Service\nAfter=network.target\n\n[Service]\nUser=deploy\nWorkingDirectory=/opt/app\nExecStart=/opt/app/start.sh\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n</code></pre></p>"},{"location":"how-to/systemd-service/#etkinlestirme","title":"Etkinlestirme","text":"<pre><code>systemctl daemon-reload\nsystemctl enable --now app\n</code></pre>"},{"location":"how-to/systemd-service/#dogrulama","title":"Dogrulama","text":"<ul> <li><code>systemctl status app</code> calisiyor mu?</li> <li>Restart politikasi beklenen gibi mi?</li> </ul>"},{"location":"how-to/tls/","title":"TLS (Let's Encrypt)","text":"<p>Bu rehber, Nginx uzerinde TLS sertifikasi kurulumunu kapsar.</p>"},{"location":"how-to/tls/#gereksinimler","title":"Gereksinimler","text":"<ul> <li>DNS kaydi hazir</li> <li>Nginx calisir durumda</li> </ul>"},{"location":"how-to/tls/#kurulum","title":"Kurulum","text":"<pre><code>apt install -y certbot python3-certbot-nginx\ncertbot --nginx -d example.com\n</code></pre>"},{"location":"how-to/tls/#otomatik-yenileme","title":"Otomatik yenileme","text":"<pre><code>systemctl status certbot.timer\n</code></pre>"},{"location":"how-to/tls/#dogrulama","title":"Dogrulama","text":"<ul> <li>HTTPS sertifikasi dogru mu?</li> <li>Yenileme zamanlayicisi aktif mi?</li> </ul>"},{"location":"how-to/tls/#sorun-olursa","title":"Sorun olursa","text":"<ul> <li>Yenileme problemleri icin: TLS Yenileme Sorunu</li> </ul>"},{"location":"how-to/user-management/","title":"Kullan\u0131c\u0131 Y\u00f6netimi","text":"<p>Sunucuda asla <code>root</code> kullan\u0131c\u0131s\u0131 ile g\u00fcndelik i\u015flem yapmay\u0131n. Her y\u00f6neticinin kendi kullan\u0131c\u0131 hesab\u0131 olmal\u0131d\u0131r.</p>"},{"location":"how-to/user-management/#1-kullanc-islemleri-lifecycle","title":"1. Kullan\u0131c\u0131 \u0130\u015flemleri (Lifecycle)","text":""},{"location":"how-to/user-management/#yeni-kullanc-ekleme","title":"Yeni Kullan\u0131c\u0131 Ekleme","text":"<p>Sadece kullan\u0131c\u0131 de\u011fil, home dizini ve varsay\u0131lan kabu\u011fu (bash) ile birlikte olu\u015fturur.</p> <pre><code>adduser yeni_kullanici\n# \u015eifre soracakt\u0131r. G\u00fc\u00e7l\u00fc bir \u015fifre belirleyin.\n# Di\u011fer sorular\u0131 ENTER ile ge\u00e7ebilirsiniz.\n</code></pre>"},{"location":"how-to/user-management/#kullanc-silme","title":"Kullan\u0131c\u0131 Silme","text":"<p>Kullan\u0131c\u0131y\u0131 ve dosyalar\u0131n\u0131 silmek i\u00e7in:</p> <pre><code>deluser --remove-home eski_kullanici\n</code></pre>"},{"location":"how-to/user-management/#2-yetkilendirme-gruplar","title":"2. Yetkilendirme (Gruplar)","text":""},{"location":"how-to/user-management/#sudo-yonetici-yetkisi","title":"Sudo (Y\u00f6netici) Yetkisi","text":"<p>Bir kullan\u0131c\u0131ya <code>sudo</code> komutunu kullanma hakk\u0131 vermek i\u00e7in onu <code>sudo</code> grubuna ekleyin.</p> <pre><code>usermod -aG sudo yeni_kullanici\n</code></pre>"},{"location":"how-to/user-management/#docker-yetkisi","title":"Docker Yetkisi","text":"<p>Her seferinde <code>sudo docker</code> yazmamak i\u00e7in:</p> <pre><code>usermod -aG docker yeni_kullanici\n# Etkili olmas\u0131 i\u00e7in kullan\u0131c\u0131n\u0131n \u00e7\u0131k\u0131\u015f yap\u0131p tekrar girmesi gerekir.\n</code></pre>"},{"location":"how-to/user-management/#3-hesap-guvenligi","title":"3. Hesap G\u00fcvenli\u011fi","text":""},{"location":"how-to/user-management/#hesab-kilitleme-lock","title":"Hesab\u0131 Kilitleme (Lock)","text":"<p>Bir personel i\u015ften ayr\u0131ld\u0131ysa veya \u015f\u00fcpheli i\u015flem varsa, hesab\u0131 silmeden kilitleyebilirsiniz.</p> <pre><code># Kilitle (Giri\u015f yapamaz)\npasswd -l hedef_kullanici\n\n# Kilidi A\u00e7\npasswd -u hedef_kullanici\n</code></pre>"},{"location":"how-to/user-management/#parola-degisimi-zorlama","title":"Parola De\u011fi\u015fimi Zorlama","text":"<p>Kullan\u0131c\u0131n\u0131n bir sonraki giri\u015finde parolas\u0131n\u0131 de\u011fi\u015ftirmesini istiyorsan\u0131z:</p> <pre><code>chage -d 0 hedef_kullanici\n</code></pre>"},{"location":"how-to/user-management/#sadece-ssh-key-parolasz","title":"Sadece SSH Key (Parolas\u0131z)","text":"<p>E\u011fer SSH hardening yapt\u0131ysan\u0131z (<code>PasswordAuthentication no</code>), kullan\u0131c\u0131 olu\u015fturduktan sonra onun i\u00e7in bir SSH key tan\u0131mlaman\u0131z gerekir.</p> <pre><code># Kullan\u0131c\u0131 ad\u0131na ge\u00e7i\u015f yap\nsu - yeni_kullanici\n\n# .ssh klas\u00f6r\u00fcn\u00fc olu\u015ftur\nmkdir .ssh\nchmod 700 .ssh\ntouch .ssh/authorized_keys\nchmod 600 .ssh/authorized_keys\n\n# Public key'i yap\u0131\u015ft\u0131r\nnano .ssh/authorized_keys\n</code></pre>"},{"location":"how-to/user-management/#4-kim-kimdir","title":"4. Kim Kimdir?","text":"<p>Sunucuda \u015fu an kimlerin oldu\u011funu veya ge\u00e7mi\u015fte kimlerin girdi\u011fini g\u00f6rmek i\u00e7in:</p> <pre><code># \u015eu an aktif olanlar\nw\n\n# Son giri\u015f yapanlar\nlast\n\n# Ba\u015far\u0131s\u0131z giri\u015f denemeleri\nlastb\n</code></pre>"},{"location":"recipes/dotnet/","title":".NET Core Docker Hardening \ud83d\udd37","text":"<p>Microsoft, .NET 8 ile birlikte konteyner g\u00fcvenli\u011finde devrim yapt\u0131. Art\u0131k \"Chiseled\" (yontulmu\u015f) Ubuntu imajlar\u0131 sayesinde, i\u00e7inde shell (bash/sh) bile olmayan ultra-g\u00fcvenli image'lar kullanabiliyoruz.</p>"},{"location":"recipes/dotnet/#1-onerilen-dockerfile-chiseled","title":"1. \u00d6nerilen Dockerfile (Chiseled) \ud83c\udfc6","text":"<p>Bu Dockerfile, sald\u0131rgan i\u00e7eri s\u0131zsa bile \u00e7al\u0131\u015ft\u0131racak bir shell bulamaz (<code>RCE</code> neredeyse imkans\u0131zla\u015f\u0131r).</p> <pre><code># --- Build Stage ---\nFROM mcr.microsoft.com/dotnet/sdk:8.0 AS build\nWORKDIR /src\n\n# \u00d6nce csproj kopyala ve restore yap (Cache avantaj\u0131)\nCOPY [\"MyApp.csproj\", \"./\"]\nRUN dotnet restore \"MyApp.csproj\"\n\n# Kalan dosyalar\u0131 kopyala ve build al\nCOPY . .\nRUN dotnet publish \"MyApp.csproj\" -c Release -o /app/publish /p:UseAppHost=false\n\n# --- Final Stage (Chiseled Ubuntu) ---\n# \"jammy-chiseled\" etiketi = Shell yok, Package Manager yok, Root yok!\nFROM mcr.microsoft.com/dotnet/aspnet:8.0-jammy-chiseled AS final\nWORKDIR /app\n\n# Dosyalar\u0131 build stage'den al\nCOPY --from=build /app/publish .\n\n# .NET 8 Chiseled imajlar\u0131 varsay\u0131lan olarak \"app\" (UID 1654) kullan\u0131c\u0131s\u0131 ile \u00e7al\u0131\u015f\u0131r.\n# USER app  &lt;-- Yazmana gerek bile yok, default b\u00f6yle!\n\n# Non-root port (80 yerine 8080)\nEXPOSE 8080\nENV ASPNETCORE_HTTP_PORTS=8080\n\nENTRYPOINT [\"dotnet\", \"MyApp.dll\"]\n</code></pre>"},{"location":"recipes/dotnet/#2-alpine-versiyonu-alternatif","title":"2. Alpine Versiyonu (Alternatif) \ud83c\udfd4\ufe0f","text":"<p>E\u011fer Chiseled size uymuyorsa (\u00f6rne\u011fin debugging i\u00e7in shell laz\u0131msa), Alpine Linux kullan\u0131n ama mutlaka <code>USER</code> tan\u0131mlay\u0131n.</p> <pre><code>FROM mcr.microsoft.com/dotnet/aspnet:8.0-alpine\n\nWORKDIR /app\nCOPY --from=build /app/publish .\n\n# Alpine'de kullan\u0131c\u0131 olu\u015fturmaya gerek yok, \"app\" zaten var (veya guest)\n# Ancak biz garanti olsun diye \u00f6zel bir user ile \u00e7al\u0131\u015fal\u0131m\nRUN addgroup -g 1000 appgroup &amp;&amp; \\\n    adduser -u 1000 -G appgroup -D appuser\n\nUSER appuser\nEXPOSE 8080\nENV ASPNETCORE_HTTP_PORTS=8080\n\nENTRYPOINT [\"dotnet\", \"MyApp.dll\"]\n</code></pre>"},{"location":"recipes/dotnet/#3-docker-composeyml-hardening","title":"3. docker-compose.yml Hardening","text":"<pre><code>services:\n  api:\n    image: my-dotnet-api\n    # .NET 8 Chiseled i\u00e7in default user zaten non-root'tur.\n    # Ancak \"read_only\" dosya sistemi \u015fart!\n    read_only: true\n\n    # .NET'in temp dosyalar\u0131 i\u00e7in yaz\u0131labilir alan laz\u0131m\n    tmpfs:\n      - /tmp\n\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.50\"\n          memory: 256M\n\n    cap_drop:\n      - ALL\n    cap_add:\n      - NET_BIND_SERVICE\n    security_opt:\n      - no-new-privileges:true\n</code></pre>"},{"location":"recipes/dotnet/#kssadan-hisse","title":"K\u0131ssadan Hisse","text":"<ul> <li>Chiseled \u0130maj Kullan: Sald\u0131rgana <code>bash</code> verme.</li> <li>Port 8080 Kullan: Port 80 root yetkisi ister, 8080 istemez.</li> <li>Read-Only Root: Uygulaman\u0131n diske yazmas\u0131na izin verme.</li> </ul>"},{"location":"recipes/mysql/","title":"MySQL / MariaDB","text":"<p>Production-ready MySQL or MariaDB setup using Docker.</p>"},{"location":"recipes/mysql/#configuration","title":"Configuration","text":"<p>Standard configuration includes:</p> <ul> <li>Secure root password</li> <li>Custom configuration via <code>my.cnf</code></li> <li>Persistent storage for <code>/var/lib/mysql</code></li> </ul>"},{"location":"recipes/mysql/#docker-compose-example","title":"Docker Compose Example","text":"<pre><code>version: \"3.8\"\n\nservices:\n  db:\n    image: mariadb:10.11\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASS}\n      MYSQL_DATABASE: ${DB_NAME}\n      MYSQL_USER: ${DB_USER}\n      MYSQL_PASSWORD: ${DB_PASS}\n    volumes:\n      - db_data:/var/lib/mysql\n      - ./my.cnf:/etc/mysql/conf.d/my.cnf:ro\n    ports:\n      - \"127.0.0.1:3306:3306\"\n</code></pre>"},{"location":"recipes/nginx/","title":"Nginx Reverse Proxy Hardening \ud83c\udf10","text":"<p>Bu, uygulamalar\u0131n\u0131z\u0131n (React, .NET) \u00f6n\u00fcnde duran, internete a\u00e7\u0131lan Ana Kap\u0131d\u0131r. En \u00e7ok sald\u0131r\u0131 buraya gelir.</p>"},{"location":"recipes/nginx/#1-altn-konfigurasyon-nginxconf","title":"1. Alt\u0131n Konfig\u00fcrasyon (<code>nginx.conf</code>) \ud83c\udfc6","text":"<p>A\u015fa\u011f\u0131daki ayarlar DDoS korumas\u0131, SSL g\u00fcvenli\u011fi ve Header s\u0131k\u0131la\u015ft\u0131rmas\u0131n\u0131 i\u00e7erir.</p> <pre><code>user  nginx;\nworker_processes  auto;\n\nerror_log  /var/log/nginx/error.log notice;\npid        /var/run/nginx.pid;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    # --- G\u00dcVENL\u0130K AYARLARI ---\n\n    # 1. Versiyon gizleme (Sald\u0131rgan s\u00fcr\u00fcm\u00fc bilmesin)\n    server_tokens off;\n\n    # 2. Buffer Overflow Korumas\u0131\n    client_body_buffer_size 10K;\n    client_header_buffer_size 1k;\n    client_max_body_size 8m;\n    large_client_header_buffers 2 1k;\n\n    # 3. Timeout Ayarlar\u0131 (Slowloris sald\u0131r\u0131s\u0131 korumas\u0131)\n    client_body_timeout 12;\n    client_header_timeout 12;\n    keepalive_timeout 15;\n    send_timeout 10;\n\n    # 4. Gzip (Veri s\u0131zmas\u0131n\u0131 \u00f6nlemek i\u00e7in BREACH attack'a dikkat, kapal\u0131 olabilir)\n    gzip off;\n\n    # 5. Header Hardening (Browser G\u00fcvenli\u011fi)\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header Referrer-Policy \"no-referrer-when-downgrade\" always;\n    add_header Content-Security-Policy \"default-src 'self' http: https: data: blob: 'unsafe-inline'\" always;\n\n    # 6. SSL Hardening (A+ Puan i\u00e7in)\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers on;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n\n    include /etc/nginx/conf.d/*.conf;\n}\n</code></pre>"},{"location":"recipes/nginx/#2-docker-compose-kurulumu","title":"2. Docker Compose Kurulumu","text":"<p>Nginx'i de root \u00e7al\u0131\u015ft\u0131rmamak m\u00fcmk\u00fcnd\u00fcr ancak ana portlar\u0131 (80/443) dinleyece\u011fi i\u00e7in genellikle gateway olarak root ba\u015flar, sonra user d\u00fc\u015fer (<code>user nginx</code> ayar\u0131 ile).</p> <pre><code>services:\n  proxy:\n    image: nginx:alpine\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./conf.d:/etc/nginx/conf.d:ro\n      - ./certs:/etc/nginx/certs:ro\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    networks:\n      - frontend\n\n    # Kaynak limiti (DDoS an\u0131nda sunucuyu vermemek i\u00e7in)\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.50\"\n          memory: 256M\n\n    # Auto-restart (\u00c7\u00f6kerse kalks\u0131n)\n    restart: always\n</code></pre>"},{"location":"recipes/nginx/#3-rate-limiting-ddos-frenleme","title":"3. Rate Limiting (DDoS Frenleme) \ud83d\uded1","text":"<p>Belirli bir IP'den \u00e7ok fazla istek gelirse engellemek i\u00e7in <code>conf.d/app.conf</code> i\u00e7ine ekleyin:</p> <pre><code># IP ba\u015f\u0131na saniyede max 10 istek (10MB haf\u0131za ay\u0131r)\nlimit_req_zone $binary_remote_addr zone=mylimit:10m rate=10r/s;\n\nserver {\n    location / {\n        # Limiti uygula (Burst 20 iste\u011fe kadar izin ver, sonra reddet)\n        limit_req zone=mylimit burst=20 nodelay;\n\n        proxy_pass http://my-app:8080;\n    }\n}\n</code></pre> <p>Bu ayar, botnet sald\u0131r\u0131lar\u0131n\u0131 Nginx seviyesinde keser, uygulaman\u0131za y\u00fck bindirmez.</p>"},{"location":"recipes/postgres/","title":"PostgreSQL Docker Hardening \ud83d\udc18","text":"<p>Veritaban\u0131, en de\u011ferli varl\u0131\u011f\u0131n\u0131zd\u0131r. Standart <code>postgres</code> kurulumu geli\u015ftirme i\u00e7in iyidir ama production i\u00e7in yeterince g\u00fcvenli de\u011fildir.</p>"},{"location":"recipes/postgres/#1-secrets-kullanm-sifre-gizleme","title":"1. Secrets Kullan\u0131m\u0131 (\u015eifre Gizleme) \ud83d\udd11","text":"<p>En b\u00fcy\u00fck hata \u015fifreyi <code>POSTGRES_PASSWORD=12345</code> diye a\u00e7\u0131k a\u00e7\u0131k yazmakt\u0131r. Docker Secrets kullan\u0131n.</p> <p>docker-compose.yml:</p> <pre><code>services:\n  db:\n    image: postgres:15-alpine\n    environment:\n      # \u015eifreyi environment'tan de\u011fil, dosyadan oku\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_password\n      POSTGRES_USER: myuser\n      POSTGRES_DB: mydb\n    secrets:\n      - db_password\n    volumes:\n      - db_data:/var/lib/postgresql/data\n      # \u00d6zel config dosyas\u0131 (Opsiyonel)\n      #- ./postgresql.conf:/etc/postgresql/postgresql.conf\n\n    # D\u0131\u015f d\u00fcnyaya asla port a\u00e7ma! (ports: - \"5432:5432\" YAPMA)\n    # Sadece internal a\u011fdaki backend eri\u015fsin.\n    networks:\n      - backend-net\n\n    deploy:\n      resources:\n        limits:\n          cpus: \"1.0\"\n          memory: 1G\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"recipes/postgres/#2-hardening-sklastrma","title":"2. Hardening (S\u0131k\u0131la\u015ft\u0131rma)","text":"<p>Postgres process'i normalde <code>postgres</code> kullan\u0131c\u0131s\u0131 ile \u00e7al\u0131\u015f\u0131r (Non-root). Ancak dosya sistemini k\u0131s\u0131tlayabiliriz.</p> <pre><code>services:\n  db:\n    # ...\n    # Veri dizini hari\u00e7 her yeri kilitle\n    read_only: true\n    tmpfs:\n      - /tmp\n      - /var/run/postgresql\n\n    # Shm size art\u0131rmazsan\u0131z performans d\u00fc\u015fer\n    shm_size: 256mb\n</code></pre>"},{"location":"recipes/postgres/#3-postgresql-konfigurasyonu-tuning","title":"3. PostgreSQL Konfig\u00fcrasyonu (Tuning) \ud83d\udee0\ufe0f","text":"<p>Varsay\u0131lan ayarlar \u00e7ok muhafazakard\u0131r. Production i\u00e7in <code>postgresql.conf</code> dosyas\u0131n\u0131 olu\u015fturun ve mount edin.</p> <p>\u00d6rnek <code>postgresql.conf</code> (1GB RAM sunucu i\u00e7in):</p> <pre><code># Ba\u011flant\u0131lar\nlisten_addresses = '*'\nmax_connections = 100\n\n# Haf\u0131za\nshared_buffers = 256MB      # RAM'in %25'i\nwork_mem = 4MB              # shared_buffers / max_connections\nmaintenance_work_mem = 64MB\n\n# Write Ahead Log (WAL) - Veri g\u00fcvenli\u011fi\nwal_level = replica\nmax_wal_size = 1GB\nmin_wal_size = 80MB\n\n# Loglama (Sald\u0131r\u0131 tespiti i\u00e7in)\nlog_destination = 'stderr'\nlogging_collector = on\nlog_directory = 'log'\nlog_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'\nlog_statement = 'ddl'       # Sadece tablo de\u011fi\u015fimlerini logla (CREATE/DROP)\n</code></pre>"},{"location":"recipes/postgres/#ozet","title":"\u00d6zet","text":"<ol> <li>Port A\u00e7ma: <code>ports</code> k\u0131sm\u0131n\u0131 sil. Sadece backend servisi <code>networks</code> \u00fczerinden eri\u015fsin.</li> <li>Secrets: \u015eifreyi dosyadan okut.</li> <li>Config: Varsay\u0131lan ayarlarla performans\u0131 \u00f6ld\u00fcrme.</li> </ol>"},{"location":"recipes/react/","title":"React &amp; Nginx Docker Hardening \u269b\ufe0f","text":"<p>React/Vue/Angular gibi SPA (Single Page Application) projelerini sunmak i\u00e7in Nginx kullan\u0131r\u0131z. Ancak standart Nginx imaj\u0131 <code>root</code> \u00e7al\u0131\u015f\u0131r. Bunu g\u00fcvenli hale getirelim.</p>"},{"location":"recipes/react/#1-guvenli-nginx-konfigurasyonu-nginxconf","title":"1. G\u00fcvenli Nginx Konfig\u00fcrasyonu (<code>nginx.conf</code>) \u2699\ufe0f","text":"<p>\u00d6nce projenizin k\u00f6k dizinine <code>nginx.conf</code> dosyas\u0131n\u0131 olu\u015fturun. Bu ayarlar g\u00fcvenli\u011fi art\u0131r\u0131r.</p> <pre><code>server {\n    listen 8080; # Non-root port (80 yerine 8080)\n    server_name localhost;\n\n    root /usr/share/nginx/html;\n    index index.html;\n\n    # G\u00fcvenlik Headerlar\u0131\n    add_header X-Frame-Options \"DENY\";\n    add_header X-CONTENT-TYPE-OPTIONS \"nosniff\";\n    add_header Referrer-Policy \"strict-origin-when-cross-origin\";\n\n    # Nginx s\u00fcr\u00fcm\u00fcn\u00fc gizle\n    server_tokens off;\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # Cache ayarlar\u0131 (Opsiyonel)\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico)$ {\n        expires 1y;\n        add_header Cache-Control \"public, no-transform\";\n    }\n}\n</code></pre>"},{"location":"recipes/react/#2-multi-stage-dockerfile","title":"2. Multi-Stage Dockerfile \ud83c\udfd7\ufe0f","text":"<pre><code># --- Stage 1: Build (Node.js) ---\nFROM node:18-alpine AS builder\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci\n\nCOPY . .\nRUN npm run build\n\n# --- Stage 2: Serve (Nginx Unprivileged) ---\n# Resmi \"nginxinc/nginx-unprivileged\" imaj\u0131 root gerektirmez!\nFROM nginxinc/nginx-unprivileged:alpine AS production\n\n# Varsay\u0131lan user: nginx (UID 101)\n# Varsay\u0131lan port: 8080\n\n# Kendi config dosyam\u0131z\u0131 kopyalayal\u0131m\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\n\n# Build ald\u0131\u011f\u0131m\u0131z React dosyalar\u0131n\u0131 kopyalayal\u0131m\nCOPY --from=builder /app/dist /usr/share/nginx/html\n\n# Portu a\u00e7 (8080)\nEXPOSE 8080\n\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n</code></pre>"},{"location":"recipes/react/#3-docker-composeyml-hardening","title":"3. docker-compose.yml Hardening","text":"<pre><code>services:\n  frontend:\n    image: my-react-app\n    # Unprivileged image zaten UID 101 ile \u00e7al\u0131\u015f\u0131r\n    read_only: true\n\n    # Nginx'in ge\u00e7ici dosyalar\u0131 i\u00e7in izin ver\n    tmpfs:\n      - /tmp\n      - /var/cache/nginx\n      - /var/run\n\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.25\"\n          memory: 128M\n\n    cap_drop:\n      - ALL\n    security_opt:\n      - no-new-privileges:true\n</code></pre>"},{"location":"recipes/react/#neden-nginx-unprivileged","title":"Neden \"nginx-unprivileged\"?","text":"<p>Standart <code>nginx:alpine</code> imaj\u0131 port 80'i dinlemek i\u00e7in <code>root</code> yetkisiyle ba\u015flar (sonra user de\u011fi\u015ftirse bile risklidir). <code>nginxinc/nginx-unprivileged</code> ise ba\u015ftan itibaren yetkisiz ba\u015flar ve 8080 portunu kullan\u0131r. En g\u00fcvenli y\u00f6ntem budur.</p>"},{"location":"recipes/redis/","title":"Redis","text":"<p>High-performance in-memory data store for caching and session management.</p>"},{"location":"recipes/redis/#setup","title":"Setup","text":"<p>Use Redis for:</p> <ul> <li>Application Cache (e.g. Laravel, Rails, Node.js)</li> <li>Queue Management (e.g. Sidekiq, Bull)</li> <li>Session Storage</li> </ul>"},{"location":"recipes/redis/#docker-compose","title":"Docker Compose","text":"<pre><code>version: \"3.8\"\n\nservices:\n  redis:\n    image: redis:7-alpine\n    restart: always\n    command: redis-server --requirepass ${REDIS_PASSWORD}\n    volumes:\n      - redis_data:/data\n    ports:\n      - \"127.0.0.1:6379:6379\"\n\nvolumes:\n  redis_data:\n</code></pre>"},{"location":"recipes/traefik/","title":"Traefik Proxy","text":"<p>Modern HTTP reverse proxy and load balancer intended to deploy microservices with ease.</p>"},{"location":"recipes/traefik/#overview","title":"Overview","text":"<p>Traefik natively supports Docker and can automatically discover new services.</p>"},{"location":"recipes/traefik/#basic-configuration","title":"Basic Configuration","text":"<p><code>docker-compose.yml</code>:</p> <pre><code>version: \"3\"\n\nservices:\n  traefik:\n    image: traefik:v2.9\n    command:\n      - \"--api.insecure=false\"\n      - \"--providers.docker=true\"\n      - \"--entrypoints.web.address=:80\"\n      - \"--entrypoints.websecure.address=:443\"\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - \"/var/run/docker.sock:/var/run/docker.sock:ro\"\n</code></pre>"},{"location":"reference/commands/disk/","title":"Disk ve Kaynak Y\u00f6netimi","text":"<p>\"Disk doldu\" veya \"RAM bitti\" durumlar\u0131nda ilk bak\u0131lacak komutlar.</p>"},{"location":"reference/commands/disk/#1-disk-kullanm","title":"1. Disk Kullan\u0131m\u0131","text":"<p>Disk neden doldu?</p> <pre><code># Genel disk durumu (Human readable)\ndf -h\n# \u00c7\u0131kt\u0131da 'Use%' s\u00fctunu %90 \u00fczerindeyse alarm!\n\n# Hangi klas\u00f6r ne kadar yer kapl\u0131yor?\ndu -sh *\n# Bulundu\u011funuz dizindeki dosyalar\u0131n boyutunu \u00f6zetler.\n\n# En b\u00fcy\u00fck 10 klas\u00f6r\u00fc bul (Sihirli komut)\ndu -ahx . | sort -rh | head -10\n</code></pre>"},{"location":"reference/commands/disk/#2-ram-bellek-durumu","title":"2. RAM (Bellek) Durumu","text":"<pre><code># RAM kullan\u0131m\u0131 (Megabyte cinsinden)\nfree -m\n\n# Detayl\u0131 bellek \u00f6zeti (Cache vs g\u00f6rmek i\u00e7in)\n# 'available' s\u00fctunu \u00f6nemlidir. 'free' az g\u00f6r\u00fcnebilir (Linux cache sever).\n</code></pre>"},{"location":"reference/commands/disk/#3-cpu-ve-yuk-durumu","title":"3. CPU ve Y\u00fck Durumu","text":"<pre><code># Anl\u0131k sistem izleme (G\u00f6rev y\u00f6neticisi)\nhtop\n# (Yoksa: apt install htop)\n\n# Sistem y\u00fck ortalamas\u0131 (1, 5, 15 dk)\nuptime\n# Sondaki 3 say\u0131, i\u015flemci \u00e7ekirdek say\u0131s\u0131n\u0131 ge\u00e7memeli.\n</code></pre>"},{"location":"reference/commands/docker/","title":"Docker Commands","text":"<p>Essential Docker commands for daily operations.</p>"},{"location":"reference/commands/docker/#container-management","title":"Container Management","text":"Action Command List Running <code>docker ps</code> List All <code>docker ps -a</code> Logs <code>docker logs -f &lt;container&gt;</code> Shell Access <code>docker exec -it &lt;container&gt; sh</code> Stats <code>docker stats</code>"},{"location":"reference/commands/docker/#image-management","title":"Image Management","text":"Action Command List Images <code>docker images</code> Pull Image <code>docker pull &lt;image&gt;</code> Remove Image <code>docker rmi &lt;image_id&gt;</code> Prune Unused <code>docker system prune -a</code>"},{"location":"reference/commands/docker/#wrapper-functions-optional","title":"Wrapper Functions (Optional)","text":"<p>Using <code>~/.zshrc</code> aliases:</p> <pre><code>alias dps='docker ps --format \"table {{.ID}}\\t{{.Names}}\\t{{.Status}}\\t{{.Ports}}\"'\nalias dlogs='docker logs -f'\n</code></pre>"},{"location":"reference/commands/file/","title":"Dosya ve Dizin Komutlar\u0131","text":"<p>Sunucu y\u00f6netiminde en \u00e7ok kullan\u0131lan dosya arama, i\u00e7erik okuma ve yetkilendirme komutlar\u0131.</p>"},{"location":"reference/commands/file/#1-arama-find-grep","title":"1. Arama (Find &amp; Grep)","text":"<p>Arad\u0131\u011f\u0131n\u0131z dosyay\u0131 veya metni bulam\u0131yorsan\u0131z:</p> <pre><code># \u0130sme g\u00f6re dosya bul (\u00d6rn: .log ile bitenler)\nfind . -name \"*.log\"\n\n# B\u00fcy\u00fck dosyalar\u0131 bul (100MB'dan b\u00fcy\u00fck)\nfind /var -size +100M\n\n# Son 24 saatte de\u011fi\u015ftirilen dosyalar\nfind . -mtime -1\n\n# \u0130\u00e7erikte metin ara (Recursive)\ngrep -r \"error\" /var/log/\n\n# Sadece dosya ismini g\u00f6ster, i\u00e7eri\u011fi g\u00f6sterme\ngrep -rl \"sunucu hatasi\" .\n</code></pre>"},{"location":"reference/commands/file/#2-icerik-goruntuleme","title":"2. \u0130\u00e7erik G\u00f6r\u00fcnt\u00fcleme","text":"<pre><code># Dosyay\u0131 canl\u0131 izle (Loglar i\u00e7in birebir)\ntail -f access.log\n\n# Son 50 sat\u0131r\u0131 g\u00f6ster ve izle\ntail -n 50 -f access.log\n\n# Dosyay\u0131 sayfa sayfa oku (Bo\u015fluk ile ilerle, q ile \u00e7\u0131k)\nless buyuk_dosya.txt\n\n# Dosyan\u0131n ba\u015f\u0131n\u0131 g\u00f6r (\u0130lk 10 sat\u0131r)\nhead config.yaml\n</code></pre>"},{"location":"reference/commands/file/#3-izinler-ve-sahiplik-chmod-chown","title":"3. \u0130zinler ve Sahiplik (Chmod &amp; Chown)","text":"<pre><code># Dosyay\u0131 \u00e7al\u0131\u015ft\u0131r\u0131labilir yap\nchmod +x script.sh\n\n# Sadece sahibine tam yetki ver (En g\u00fcvenli)\nchmod 600 id_rsa\n\n# Klas\u00f6r ve i\u00e7indekilerin sahipli\u011fini de\u011fi\u015ftir\nchown -R www-data:www-data /var/www/html\n</code></pre>"},{"location":"reference/commands/file/#4-arsivleme-tar-zip","title":"4. Ar\u015fivleme (Tar &amp; Zip)","text":"<pre><code># Klas\u00f6r\u00fc s\u0131k\u0131\u015ft\u0131r (tar.gz)\ntar -czvf yedek.tar.gz /var/www\n\n# Ar\u015fivi a\u00e7\ntar -xzvf yedek.tar.gz\n\n# Zip a\u00e7ma\nunzip dosya.zip\n</code></pre>"},{"location":"reference/commands/network/","title":"A\u011f ve Ba\u011flant\u0131 Komutlar\u0131","text":"<p>Portlar, IP adresleri ve ba\u011flant\u0131 testleri i\u00e7in \u0130svi\u00e7re \u00e7ak\u0131s\u0131 komutlar.</p>"},{"location":"reference/commands/network/#1-port-kontrolu-netstat-muadili","title":"1. Port Kontrol\u00fc (Netstat muadili)","text":"<p>Hangi servis hangi portu dinliyor?</p> <pre><code># Dinleyen portlar\u0131 g\u00f6ster (Process ID ile beraber)\nsudo ss -lntp\n\n# l: listening, n: numeric, t: tcp, p: process\n</code></pre>"},{"location":"reference/commands/network/#2-ip-adresleri","title":"2. IP Adresleri","text":"<pre><code># IP adreslerini g\u00f6ster\nip a\n# veya\nip addr show\n\n# Routing tablosu (Gateway neresi?)\nip route\n</code></pre>"},{"location":"reference/commands/network/#3-baglant-testi-curl-ping","title":"3. Ba\u011flant\u0131 Testi (Curl &amp; Ping)","text":"<pre><code># Bir siteye ba\u011flanabiliyor muyum? (Sadece ba\u015fl\u0131klar\u0131 al)\ncurl -I https://google.com\n\n# DNS \u00e7\u00f6z\u00fcl\u00fcyor mu?\ndig google.com +short\n# veya\nnslookup google.com\n\n# Port a\u00e7\u0131k m\u0131? (Telnet yerine nc kullan\u0131l\u0131r)\nnc -zv 127.0.0.1 22\n# Connection refused -&gt; Port kapal\u0131 veya servis yok\n# Succeeded -&gt; Port a\u00e7\u0131k\n</code></pre>"},{"location":"reference/commands/system/","title":"Sistem ve S\u00fcre\u00e7 (Process) Y\u00f6netimi","text":"<p>Servisleri y\u00f6netmek ve kilitlenen programlar\u0131 sonland\u0131rmak.</p>"},{"location":"reference/commands/system/#1-servis-yonetimi-systemd","title":"1. Servis Y\u00f6netimi (Systemd)","text":"<pre><code># Servis durumu\nsystemctl status nginx\n\n# Ba\u015flat / Durdur / Yeniden Ba\u015flat\nsudo systemctl start nginx\nsudo systemctl stop nginx\nsudo systemctl restart nginx\n\n# Ba\u015flang\u0131\u00e7ta a\u00e7\u0131ls\u0131n / a\u00e7\u0131lmas\u0131n\nsudo systemctl enable nginx\nsudo systemctl disable nginx\n\n# Ba\u015far\u0131s\u0131z olan servisleri listele\nsystemctl --failed\n\n# Geli\u015fmi\u015f Status Parametreleri\nsystemctl status nginx --no-pager  # Pager (less) kullanmadan \u00e7\u0131kt\u0131 ver\nsystemctl status nginx -l          # Sat\u0131rlar\u0131 kesme (Full log)\nsystemctl status nginx -n 50       # Son 50 sat\u0131r logu g\u00f6ster\n</code></pre>"},{"location":"reference/commands/system/#servis-duzenleme-advanced","title":"Servis D\u00fczenleme (Advanced)","text":"<p>Servis dosyas\u0131n\u0131 (<code>/lib/systemd/system/...</code>) elle a\u00e7mak yerine bu komutu kullan\u0131n. Bu, yap\u0131lan de\u011fi\u015fiklikleri <code>/etc/systemd/system/</code> alt\u0131na g\u00fcvenli bir kopya (override) olarak kaydeder.</p> <pre><code>sudo systemctl edit nginx --full\n</code></pre>"},{"location":"reference/commands/system/#2-log-inceleme-journalctl","title":"2. Log \u0130nceleme (Journalctl)","text":"<p>Systemd servislerinin loglar\u0131na bakmak i\u00e7in <code>journalctl</code> kullan\u0131l\u0131r.</p> <pre><code># Bir servisin loglar\u0131n\u0131 g\u00f6r (Son sayfadan ba\u015fla)\njournalctl -u nginx -e\n\n# Canl\u0131 izle (Tail -f gibi)\njournalctl -u ssh -f\n\n# Sadece bug\u00fcnk\u00fc loglar\njournalctl -u nginx --since \"today\"\n</code></pre>"},{"location":"reference/commands/system/#3-surec-yonetimi-ps-kill","title":"3. S\u00fcre\u00e7 Y\u00f6netimi (Ps &amp; Kill)","text":"<p>Bir program donarsa ne yap\u0131l\u0131r?</p> <pre><code># \u00c7al\u0131\u015fan s\u00fcre\u00e7leri listele\nps aux | grep python\n\n# Bir s\u00fcreci \u00f6ld\u00fcr (PID numaras\u0131n\u0131 ps ile bulup yaz\u0131n)\nkill 1234\n\n# Zorla \u00f6ld\u00fcr (Force kill - Dikkatli kullan\u0131n)\nkill -9 1234\n\n# \u0130sme g\u00f6re \u00f6ld\u00fcr\npkill -f \"python main.py\"\n</code></pre>"},{"location":"runbooks/","title":"Runbooks","text":"<p>Bu bolum, production ortamda mudahale adimlarini toplar.</p>"},{"location":"runbooks/#icerik","title":"Icerik","text":"<ul> <li>Olay yonetimi</li> <li>Deploy geri alma</li> <li>Disk dolu mudahalesi</li> <li>Servis kesintisi</li> <li>Veritabani down</li> <li>CPU spike</li> <li>TLS yenileme sorunu</li> <li>Disk IO krizi</li> <li>OOM kill / memory leak</li> <li>Inode dolu</li> <li>DNS sorunlari</li> <li>Network latency spike</li> <li>Load balancer healthcheck fail</li> <li>DDoS / rate limit</li> <li>Sertifika suresi doldu</li> <li>Replication lag</li> <li>Backup restore basarisiz</li> <li>Config deploy hatasi</li> <li>SSH erisim kesildi</li> </ul>"},{"location":"runbooks/backup-restore-fail/","title":"Backup Restore Basarisiz","text":"<p>Bu runbook, geri donus testinin basarisiz oldugu durumlari kapsar.</p>"},{"location":"runbooks/backup-restore-fail/#hazirlik","title":"Hazirlik","text":"<ul> <li>Hangi yedegin sorunlu oldugunu belirle.</li> </ul>"},{"location":"runbooks/backup-restore-fail/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Yedek dosya butunlugunu kontrol et.</li> <li>Alternatif yedek surumunu dene.</li> <li>Geri donus adimlarini belgele.</li> </ol>"},{"location":"runbooks/backup-restore-fail/#dogrulama","title":"Dogrulama","text":"<ul> <li>Geri donus basarili mi?</li> <li>Hedef veriler dogru mu?</li> </ul>"},{"location":"runbooks/cert-expired/","title":"Sertifika Suresi Doldu","text":"<p>Bu runbook, TLS sertifikasi suresi doldugunda uygulanacak adimlari kapsar.</p>"},{"location":"runbooks/cert-expired/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen domainleri belirle.</li> </ul>"},{"location":"runbooks/cert-expired/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Sertifika durumunu kontrol et.</li> <li>Yenileme yap ve Nginx'i reload et.</li> <li>Yenileme otomasyonunu dogrula.</li> </ol>"},{"location":"runbooks/cert-expired/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>openssl s_client -connect example.com:443 -servername example.com\ncertbot renew\nsystemctl reload nginx\n</code></pre>"},{"location":"runbooks/cert-expired/#dogrulama","title":"Dogrulama","text":"<ul> <li>Sertifika tarihi guncellendi mi?</li> </ul>"},{"location":"runbooks/config-deploy-fail/","title":"Config Deploy Hatasi","text":"<p>Bu runbook, config veya env hatasindan kaynakli deploy sorunlarini kapsar.</p>"},{"location":"runbooks/config-deploy-fail/#hazirlik","title":"Hazirlik","text":"<ul> <li>Son degisiklikleri not et.</li> <li>Hangi config'in deploy edildigini belirle.</li> </ul>"},{"location":"runbooks/config-deploy-fail/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Config diff kontrol et.</li> <li>Eksik env degiskenlerini tamamla.</li> <li>Gerekirse onceki config'e don.</li> </ol>"},{"location":"runbooks/config-deploy-fail/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>env | rg \"APP_\"\n</code></pre>"},{"location":"runbooks/config-deploy-fail/#dogrulama","title":"Dogrulama","text":"<ul> <li>Uygulama dogru config ile ayakta mi?</li> </ul>"},{"location":"runbooks/cpu-spike/","title":"CPU Spike","text":"<p>Bu runbook, CPU kullanimi aniden arttiginda teshis ve stabilizasyonu kapsar.</p>"},{"location":"runbooks/cpu-spike/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen host ve servisleri belirle.</li> <li>Zaman araligini not et.</li> </ul>"},{"location":"runbooks/cpu-spike/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>CPU kullanimini ve en cok kaynak tuketen surecleri belirle.</li> <li>Son degisiklikleri kontrol et.</li> <li>Gerekirse servisleri yeniden baslat veya limit uygula.</li> </ol>"},{"location":"runbooks/cpu-spike/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>top -o %CPU\nps -eo pid,comm,%cpu --sort=-%cpu | head\nsystemctl restart app\n</code></pre>"},{"location":"runbooks/cpu-spike/#dogrulama","title":"Dogrulama","text":"<ul> <li>CPU kullanimi normale dondu mu?</li> <li>Alarm kapanis oldu mu?</li> </ul>"},{"location":"runbooks/db-down/","title":"Veritabani Down","text":"<p>Bu runbook, veritabani erisilemez oldugunda temel mudahale adimlarini icerir.</p>"},{"location":"runbooks/db-down/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servisleri ve bagimliliklari belirle.</li> <li>Son degisiklikleri not et.</li> </ul>"},{"location":"runbooks/db-down/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Servis durumu kontrol et.</li> <li>Disk ve bellek kullanimini kontrol et.</li> <li>Baglanti limitlerini ve loglari incele.</li> <li>Gerekirse servisi yeniden baslat.</li> </ol>"},{"location":"runbooks/db-down/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl status postgresql\njournalctl -u postgresql --since \"30 min ago\"\nfree -m\ndf -h\nsystemctl restart postgresql\n</code></pre>"},{"location":"runbooks/db-down/#dogrulama","title":"Dogrulama","text":"<ul> <li>Uygulama DB baglantisi duzeldi mi?</li> <li>Hata oranlari normale dondu mu?</li> </ul>"},{"location":"runbooks/ddos-rate-limit/","title":"DDoS / Rate Limit","text":"<p>Bu runbook, ani trafik artisi ve rate limit ihtiyacini kapsar.</p>"},{"location":"runbooks/ddos-rate-limit/#hazirlik","title":"Hazirlik","text":"<ul> <li>Trafik kaynagini ve hedef endpointleri belirle.</li> </ul>"},{"location":"runbooks/ddos-rate-limit/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Trafik kaynagini analiz et.</li> <li>Rate limit veya WAF kurallarini uygula.</li> <li>Gerekirse gecici IP bloklama yap.</li> </ol>"},{"location":"runbooks/ddos-rate-limit/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>sudo ufw limit ssh\nsudo ufw deny from 203.0.113.0/24\n</code></pre>"},{"location":"runbooks/ddos-rate-limit/#dogrulama","title":"Dogrulama","text":"<ul> <li>Trafik stabil mi?</li> <li>Legit istekler etkilenmedi mi?</li> </ul>"},{"location":"runbooks/deploy-rollback/","title":"Deploy Geri Alma","text":"<p>Bu runbook, hatali deploy sonrasinda hizli geri donus adimlarini icerir.</p>"},{"location":"runbooks/deploy-rollback/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servis ve surumu belirle.</li> <li>Son saglam surum etiketini not et.</li> </ul>"},{"location":"runbooks/deploy-rollback/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Yeni deployu durdur.</li> <li>Bir onceki stabil surume geri don.</li> <li>Servisi yeniden baslat.</li> <li>Loglari incele ve hatayi kaydet.</li> </ol>"},{"location":"runbooks/deploy-rollback/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl stop app\n# ornek: git tag ile geri donus\ngit checkout v1.2.3\nsystemctl start app\n</code></pre>"},{"location":"runbooks/deploy-rollback/#dogrulama","title":"Dogrulama","text":"<ul> <li>Servis saglik kontrolu basarili mi?</li> <li>Kullanici hatalari normale dondu mu?</li> </ul>"},{"location":"runbooks/disk-full/","title":"Disk Dolu Mudahalesi","text":"<p>Bu runbook, disk dolulugu durumunda hizli stabilizasyonu kapsar.</p>"},{"location":"runbooks/disk-full/#hazirlik","title":"Hazirlik","text":"<ul> <li>Hangi bolumun dolu oldugunu belirle.</li> <li>Buyuk dosya ve dizinleri tespit et.</li> </ul>"},{"location":"runbooks/disk-full/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Disk kullanimini kontrol et.</li> <li>Buyuk dosyalari listele.</li> <li>Gereksiz log ve cache dosyalarini temizle.</li> <li>Log rotasyonunu dogrula.</li> </ol>"},{"location":"runbooks/disk-full/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>df -h\nsudo du -sh /var/log/* | sort -h\nsudo journalctl --vacuum-time=7d\n</code></pre>"},{"location":"runbooks/disk-full/#dogrulama","title":"Dogrulama","text":"<ul> <li>Disk dolulugu kritik esik altina indi mi?</li> <li>Servisler tekrar stabil mi?</li> </ul>"},{"location":"runbooks/disk-full/#ilgili-runbook","title":"Ilgili runbook","text":"<ul> <li>Inode sorunu icin: Inode Dolu</li> </ul>"},{"location":"runbooks/disk-io/","title":"Disk IO Krizi","text":"<p>Bu runbook, disk IO saturation durumunda teshis ve azaltma adimlarini kapsar.</p>"},{"location":"runbooks/disk-io/#hazirlik","title":"Hazirlik","text":"<ul> <li>IO darbogazini dogrula.</li> <li>Etkilenen servisleri listele.</li> </ul>"},{"location":"runbooks/disk-io/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>IO kullanimini kontrol et.</li> <li>En cok IO yapan surecleri belirle.</li> <li>Gerekirse servisi gecici durdur veya limit uygula.</li> </ol>"},{"location":"runbooks/disk-io/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>iostat -xz 1 5\npidstat -d 1 5\nsystemctl stop batch-job\n</code></pre>"},{"location":"runbooks/disk-io/#dogrulama","title":"Dogrulama","text":"<ul> <li>IO bekleme sureleri dustu mu?</li> <li>Servisler stabil mi?</li> </ul>"},{"location":"runbooks/dns-issues/","title":"DNS Sorunlari","text":"<p>Bu runbook, domain resolve edilemiyorsa teshis adimlarini kapsar.</p>"},{"location":"runbooks/dns-issues/#hazirlik","title":"Hazirlik","text":"<ul> <li>Domain ve etkilenen servisleri belirle.</li> </ul>"},{"location":"runbooks/dns-issues/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>DNS kayitlarini kontrol et.</li> <li>Resolver ayarlarini dogrula.</li> <li>Gecici olarak alternatif DNS kullan.</li> </ol>"},{"location":"runbooks/dns-issues/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>dig example.com\ncat /etc/resolv.conf\nnslookup example.com 1.1.1.1\n</code></pre>"},{"location":"runbooks/dns-issues/#dogrulama","title":"Dogrulama","text":"<ul> <li>DNS sorgulari dogru yanit veriyor mu?</li> </ul>"},{"location":"runbooks/incident-response/","title":"Olay Yonetimi","text":"<p>Bu runbook, production olaylarinda temel mudahale adimlarini icerir.</p>"},{"location":"runbooks/incident-response/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etki alanini belirle.</li> <li>Istek sahibini ve ilgili ekibi bilgilendir.</li> </ul>"},{"location":"runbooks/incident-response/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Semptomlari kaydet (zaman, servis, hata kodu).</li> <li>Kritik loglari al ve sakla.</li> <li>Gecici stabilizasyon uygula (or: yeniden baslatma).</li> <li>Kok nedeni bul ve kalici cozum uygula.</li> </ol>"},{"location":"runbooks/incident-response/#dogrulama","title":"Dogrulama","text":"<ul> <li>Servis stabil mi?</li> <li>Tekrar etme riski dusuruldu mu?</li> </ul>"},{"location":"runbooks/inode-full/","title":"Inode Dolu","text":"<p>Bu runbook, inode tukendiginde teshis ve temizligi kapsar.</p>"},{"location":"runbooks/inode-full/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen dosya sistemi belirle.</li> </ul>"},{"location":"runbooks/inode-full/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Inode kullanimini kontrol et.</li> <li>Cok sayida kucuk dosya olusturan dizinleri bul.</li> <li>Gereksiz dosyalari temizle.</li> </ol>"},{"location":"runbooks/inode-full/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>df -i\nsudo find /var/log -type f | wc -l\nsudo find /var/log -type f -mtime +7 -delete\n</code></pre>"},{"location":"runbooks/inode-full/#dogrulama","title":"Dogrulama","text":"<ul> <li>Inode kullanimi kritik esik altina indi mi?</li> </ul>"},{"location":"runbooks/inode-full/#ilgili-runbook","title":"Ilgili runbook","text":"<ul> <li>Genel disk teshisi icin: Disk Dolu Mudahalesi</li> </ul>"},{"location":"runbooks/lb-healthcheck/","title":"Load Balancer Healthcheck Fail","text":"<p>Bu runbook, load balancer healthcheck hatalarini kapsar.</p>"},{"location":"runbooks/lb-healthcheck/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen hedefleri ve healthcheck path'ini belirle.</li> </ul>"},{"location":"runbooks/lb-healthcheck/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Uygulama healthcheck endpointini test et.</li> <li>Nginx veya upstream konfigu kontrol et.</li> <li>Gerekirse healthcheck timeoutlarini arttir.</li> </ol>"},{"location":"runbooks/lb-healthcheck/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>curl -I http://127.0.0.1/healthz\nnginx -t\n</code></pre>"},{"location":"runbooks/lb-healthcheck/#dogrulama","title":"Dogrulama","text":"<ul> <li>Load balancer hedefleri healthy mi?</li> </ul>"},{"location":"runbooks/network-latency/","title":"Network Latency Spike","text":"<p>Bu runbook, ag gecikmesi artisinda teshis ve azaltma adimlarini kapsar.</p>"},{"location":"runbooks/network-latency/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen route ve servisleri belirle.</li> </ul>"},{"location":"runbooks/network-latency/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Temel latency olcumu yap.</li> <li>Packet loss kontrol et.</li> <li>Kritik servislere oncelik ver.</li> </ol>"},{"location":"runbooks/network-latency/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>ping -c 20 8.8.8.8\nmtr -rw example.com\n</code></pre>"},{"location":"runbooks/network-latency/#dogrulama","title":"Dogrulama","text":"<ul> <li>Latency normale dondu mu?</li> <li>Packet loss azaldi mi?</li> </ul>"},{"location":"runbooks/oom-kill/","title":"OOM Kill / Memory Leak","text":"<p>Bu runbook, bellek tukenmesi ve OOM kill durumlarini kapsar.</p>"},{"location":"runbooks/oom-kill/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servisleri belirle.</li> <li>Son degisiklikleri not et.</li> </ul>"},{"location":"runbooks/oom-kill/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Bellek kullanimini kontrol et.</li> <li>OOM loglarini incele.</li> <li>Gerekirse servisi yeniden baslat veya kaynak limit uygula.</li> </ol>"},{"location":"runbooks/oom-kill/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>free -m\njournalctl -k | rg -i \"oom|out of memory\"\nsystemctl restart app\n</code></pre>"},{"location":"runbooks/oom-kill/#dogrulama","title":"Dogrulama","text":"<ul> <li>Bellek kullanimi normale dondu mu?</li> <li>OOM kill tekrar etti mi?</li> </ul>"},{"location":"runbooks/replication-lag/","title":"Replication Lag","text":"<p>Bu runbook, veritabani replikasyon gecikmesi durumunu kapsar.</p>"},{"location":"runbooks/replication-lag/#hazirlik","title":"Hazirlik","text":"<ul> <li>Primary/replica rollerini belirle.</li> </ul>"},{"location":"runbooks/replication-lag/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Replikasyon durumunu kontrol et.</li> <li>Disk ve IO durumunu incele.</li> <li>Gerekirse replica'yi yeniden senkronize et.</li> </ol>"},{"location":"runbooks/replication-lag/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code># Postgres ornegi\npsql -c \"select now() - pg_last_xact_replay_timestamp();\"\n</code></pre>"},{"location":"runbooks/replication-lag/#dogrulama","title":"Dogrulama","text":"<ul> <li>Lag kabul edilebilir seviyede mi?</li> </ul>"},{"location":"runbooks/service-down/","title":"Servis Kesintisi","text":"<p>Bu runbook, servis down durumunda temel teshis ve geri getirme adimlarini icerir.</p>"},{"location":"runbooks/service-down/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen servis ve bagimli servisleri belirle.</li> <li>Son degisiklikleri not et.</li> </ul>"},{"location":"runbooks/service-down/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Servis durumunu kontrol et.</li> <li>Loglari incele.</li> <li>Kaynak kullanimini kontrol et.</li> <li>Gerekirse servisi yeniden baslat.</li> </ol>"},{"location":"runbooks/service-down/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl status app\njournalctl -u app --since \"30 min ago\"\nfree -m\nsystemctl restart app\n</code></pre>"},{"location":"runbooks/service-down/#dogrulama","title":"Dogrulama","text":"<ul> <li>Saglik kontrolu basarili mi?</li> <li>Hata oranlari normale dondu mu?</li> </ul>"},{"location":"runbooks/ssh-lockout/","title":"Acil Durum: SSH Eri\u015fimi Kesildi (Break Glass)","text":"<p>Sunucuya SSH ile eri\u015femedi\u011finizde uygulayaca\u011f\u0131n\u0131z kurtarma (recovery) protokol\u00fc.</p> <p>[!WARNING] Bu ad\u0131mlar sunucu sa\u011flay\u0131c\u0131n\u0131z\u0131n y\u00f6netim paneline eri\u015fim gerektirir.</p>"},{"location":"runbooks/ssh-lockout/#semptomlar","title":"Semptomlar","text":"<ul> <li><code>Connection refused</code> (Servis kapal\u0131 veya port yanl\u0131\u015f)</li> <li><code>Permission denied (publickey)</code> (Anahtar yanl\u0131\u015f veya silinmi\u015f)</li> <li><code>Operation timed out</code> (Firewall engelliyor)</li> </ul>"},{"location":"runbooks/ssh-lockout/#yontem-1-vnc-lish-console-interaktif","title":"Y\u00f6ntem 1: VNC / LISH Console (\u0130nteraktif)","text":"<p>\u00c7o\u011fu sa\u011flay\u0131c\u0131 (AWS, DigitalOcean, Hetzner, Linode) web \u00fczerinden do\u011frudan terminal eri\u015fimi sunar.</p> <ol> <li>Panelden sunucuyu se\u00e7in.</li> <li>Console veya VNC butonuna t\u0131klay\u0131n.</li> <li>Web terminali a\u00e7\u0131lacakt\u0131r. Burada a\u011f ba\u011flant\u0131s\u0131 gerekmez, do\u011frudan klavye/ekran ba\u011fl\u0131 gibidir.</li> <li>Kullan\u0131c\u0131 Ad\u0131: <code>root</code> (veya sudo yetkili kullan\u0131c\u0131n\u0131z)</li> <li>Parola: Kurulumda belirledi\u011finiz root parolas\u0131.</li> </ol> <p>[!TIP] Root parolas\u0131 kapal\u0131ysa (<code>PermitRootLogin no</code>), bu y\u00f6ntem i\u015fe yaramayabilir. E\u011fer sudo kullan\u0131c\u0131n\u0131z\u0131n parolas\u0131n\u0131 biliyorsan\u0131z onunla girin.</p>"},{"location":"runbooks/ssh-lockout/#yontem-2-rescue-mode-kurtarma-modu","title":"Y\u00f6ntem 2: Rescue Mode (Kurtarma Modu)","text":"<p>Parolalar\u0131 bilmiyorsan\u0131z veya disk bozulduysa bu y\u00f6ntemi kullan\u0131n.</p> <ol> <li>Panelden sunucuyu Power Off yap\u0131n.</li> <li>Rescue Mode veya Boot from ISO se\u00e7ene\u011fini bulun.</li> <li>Sunucuyu ba\u015flat\u0131n. Ge\u00e7ici bir i\u015fletim sistemi (RAM \u00fczerinden) a\u00e7\u0131lacakt\u0131r.</li> <li>Size ge\u00e7ici bir root parolas\u0131 verilir, Rescue konsoluna ba\u011flan\u0131n.</li> </ol>"},{"location":"runbooks/ssh-lockout/#disk-baglama-mount","title":"Disk Ba\u011flama (Mount)","text":"<p>Kendi sunucu diskinize eri\u015fmek i\u00e7in onu ba\u011flaman\u0131z (mount) gerekir.</p> <pre><code># Diskleri listele\nlsblk\n# Genellikle ana disk /dev/sda1 veya /dev/vda1 olur.\n\n# Mount et\nmount /dev/sda1 /mnt\n</code></pre>"},{"location":"runbooks/ssh-lockout/#chroot-iceri-girme","title":"Chroot (\u0130\u00e7eri Girme)","text":"<p>Art\u0131k <code>/mnt</code> klas\u00f6r\u00fc sizin sunucunuzun k\u00f6k dizini. Oraya ge\u00e7i\u015f yap\u0131n:</p> <pre><code># Gerekli sistem klas\u00f6rlerini ba\u011fla (Opsiyonel ama \u00f6nerilir)\nmount -t proc none /mnt/proc\nmount -o bind /dev /mnt/dev\n\n# Sisteme gir\nchroot /mnt\n</code></pre> <p>Art\u0131k kendi sunucunuzun i\u00e7indesiniz!</p>"},{"location":"runbooks/ssh-lockout/#cozum-admlar","title":"\u00c7\u00f6z\u00fcm Ad\u0131mlar\u0131","text":"<p>\u0130\u00e7eri girdikten sonra (Console veya Rescue Chroot):</p>"},{"location":"runbooks/ssh-lockout/#a-firewallu-kapatmak-erisimi-acmak-icin","title":"A. Firewall'u Kapatmak (Eri\u015fimi a\u00e7mak i\u00e7in)","text":"<pre><code>ufw disable\n# veya\niptables -F\n</code></pre>"},{"location":"runbooks/ssh-lockout/#b-ssh-ayarlarn-duzeltmek","title":"B. SSH Ayarlar\u0131n\u0131 D\u00fczeltmek","text":"<p>Yanl\u0131\u015f bir ayar yapt\u0131ysan\u0131z dosyay\u0131 d\u00fczenleyin:</p> <pre><code>nano /etc/ssh/sshd_config\n# PermitRootLogin yes (Ge\u00e7ici olarak a\u00e7\u0131n)\n# PasswordAuthentication yes (Ge\u00e7ici olarak a\u00e7\u0131n)\n</code></pre>"},{"location":"runbooks/ssh-lockout/#c-loglar-kontrol-etmek","title":"C. Loglar\u0131 Kontrol Etmek","text":"<p>Neden giremedi\u011finizi g\u00f6rmek i\u00e7in:</p> <pre><code>journalctl -u ssh -e\ntail -f /var/log/auth.log\n</code></pre>"},{"location":"runbooks/ssh-lockout/#cks-ve-reboot","title":"\u00c7\u0131k\u0131\u015f ve Reboot","text":"<p>\u0130\u015flemler bitince normale d\u00f6n\u00fcn.</p> <ol> <li><code>exit</code> (Chroot'tan \u00e7\u0131k)</li> <li><code>umount /mnt</code> (Diski ay\u0131r)</li> <li>Panelden Rescue Mode'u kapat ve Normal Reboot at.</li> </ol>"},{"location":"runbooks/tls-renewal/","title":"TLS Yenileme Sorunu","text":"<p>Bu runbook, TLS sertifikasi yenileme hatalarinda takip edilecek adimlari icerir.</p>"},{"location":"runbooks/tls-renewal/#hazirlik","title":"Hazirlik","text":"<ul> <li>Etkilenen domainleri belirle.</li> <li>Son certbot loglarini kontrol et.</li> </ul>"},{"location":"runbooks/tls-renewal/#mudahale-adimlari","title":"Mudahale adimlari","text":"<ol> <li>Certbot timer durumunu kontrol et.</li> <li>Manuel yenileme dene.</li> <li>Nginx konfig ve DNS dogrulugunu kontrol et.</li> </ol>"},{"location":"runbooks/tls-renewal/#ornek-komutlar","title":"Ornek komutlar","text":"<pre><code>systemctl status certbot.timer\ncertbot renew --dry-run\nnginx -t\n</code></pre>"},{"location":"runbooks/tls-renewal/#dogrulama","title":"Dogrulama","text":"<ul> <li>Yenileme basarili mi?</li> <li>HTTPS sertifikasi guncellendi mi?</li> </ul>"},{"location":"runbooks/tls-renewal/#not","title":"Not","text":"<ul> <li>Kurulum adimlari icin: TLS (Let's Encrypt)</li> </ul>"},{"location":"scripts/","title":"Script Repository &amp; Otomasyon Standartlar\u0131","text":"<p>Bu b\u00f6l\u00fcm, sunucu y\u00f6netiminde kulland\u0131\u011f\u0131m\u0131z scriptlerin (<code>.sh</code>, <code>.py</code>) nas\u0131l yaz\u0131lmas\u0131, \u00e7al\u0131\u015ft\u0131r\u0131lmas\u0131 ve korunmas\u0131 gerekti\u011fini anlatan anayasam\u0131zd\u0131r.</p>"},{"location":"scripts/#1-yazm-kurallar-conventions","title":"1. Yaz\u0131m Kurallar\u0131 (Conventions)","text":"<p>Script Yaz\u0131m Standartlar\u0131 sayfas\u0131nda:</p> <ul> <li>Bash Strict Mode (<code>set -euo pipefail</code>) neden zorunludur?</li> <li>De\u011fi\u015fken isimlendirme ve loglama formatlar\u0131.</li> <li>Kopyala-yap\u0131\u015ft\u0131r yapabilece\u011finiz haz\u0131r \u015fablon (boilerplate).</li> </ul>"},{"location":"scripts/#2-calstrma-yontemleri-execution","title":"2. \u00c7al\u0131\u015ft\u0131rma Y\u00f6ntemleri (Execution)","text":"<p>Script \u00c7al\u0131\u015ft\u0131rma Standartlar\u0131 sayfas\u0131nda:</p> <ul> <li>Neden Cron yerine Systemd Timers kullanmal\u0131y\u0131z?</li> <li>Arkaplan i\u015flemleri ve log y\u00f6netimi.</li> </ul>"},{"location":"scripts/#3-guvenlik-safety","title":"3. G\u00fcvenlik (Safety)","text":"<p>Script G\u00fcvenli\u011fi sayfas\u0131nda:</p> <ul> <li>\u015eifre y\u00f6netimi (<code>.env</code> vs Hardcoded).</li> <li><code>curl | bash</code> riskleri.</li> <li>Least Privilege (En az yetki) kural\u0131.</li> </ul>"},{"location":"scripts/#4-otomasyon-vizyonu","title":"4. Otomasyon Vizyonu","text":"<p>Otomasyon Vizyonu sayfas\u0131nda:</p> <ul> <li>Terraform vs Ansible kar\u015f\u0131la\u015ft\u0131rmas\u0131.</li> <li>Gelecekteki \"Server Setup as a Service\" mimarisi.</li> </ul>"},{"location":"scripts/automation/","title":"Otomasyon Rehberi: GitHub Actions \ud83e\udd16","text":"<p>S\u00fcrekli sunucuya girip <code>git pull</code>, <code>docker compose up -d</code> yapmaktan yoruldunuz mu? GitHub Actions ile \"Push to Deploy\" (Kodu at, sunucu g\u00fcncellensin) yap\u0131s\u0131n\u0131 kural\u0131m.</p>"},{"location":"scripts/automation/#1-mantk-nedir","title":"1. Mant\u0131k Nedir?","text":"<ol> <li>Bilgisayar\u0131n\u0131zda kodu d\u00fczenler ve <code>git push</code> yapars\u0131n\u0131z.</li> <li>GitHub bunu g\u00f6r\u00fcr ve Action (i\u015f\u00e7i) ba\u015flat\u0131r.</li> <li>GitHub'\u0131n i\u015f\u00e7isi, sizin sunucunuza SSH ile ba\u011flan\u0131r.</li> <li>Belirledi\u011finiz komutlar\u0131 (\u00f6rn: <code>deploy.sh</code>) \u00e7al\u0131\u015ft\u0131r\u0131r.</li> </ol>"},{"location":"scripts/automation/#2-hazrlk-secrets","title":"2. Haz\u0131rl\u0131k (Secrets) \ud83d\udd10","text":"<p>Sunucu \u015fifrenizi kodun i\u00e7ine (yml dosyas\u0131na) ASLA yazmay\u0131n. GitHub'\u0131n \"Secrets\" kasas\u0131n\u0131 kullan\u0131n.</p> <ol> <li>GitHub Reponuz -&gt; Settings -&gt; Secrets and variables -&gt; Actions -&gt; New repository secret.</li> <li>\u015eu bilgileri ekleyin:</li> </ol> Secret Ad\u0131 De\u011fer (\u00d6rnek) A\u00e7\u0131klama <code>HOST_IP</code> <code>1.2.3.4</code> Sunucunuzun IP adresi. <code>SSH_USER</code> <code>deployer</code> Ba\u011flanacak kullan\u0131c\u0131 (root kullanmay\u0131n). <code>SSH_KEY</code> <code>-----BEGIN OPENSSH...</code> Private Key'inizin (<code>id_ed25519</code>) tamam\u0131. <p>\u0130pucu: Private Key'i almak i\u00e7in: <code>cat ~/.ssh/id_ed25519</code> (Kendi bilgisayar\u0131n\u0131zdaki de\u011fil, sunucuya eri\u015fimi olan bir key olmal\u0131. Genelde yeni bir key pair \u00fcretilip Public olan sunucuya, Private olan GitHub'a verilir.)</p>"},{"location":"scripts/automation/#3-workflow-dosyas-yml","title":"3. Workflow Dosyas\u0131 (<code>.yml</code>) \ud83d\udcc4","text":"<p>Reponuzda <code>.github/workflows/deploy.yml</code> dosyas\u0131n\u0131 olu\u015fturun ve yap\u0131\u015ft\u0131r\u0131n:</p> <pre><code>name: Deploy to Server \ud83d\ude80\n\n# Ne zaman \u00e7al\u0131\u015fs\u0131n? (Sadece main branch'e push gelince)\non:\n  push:\n    branches:\n      - main\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout Code\n        uses: actions/checkout@v3\n\n      - name: Pre-Flight Check (U\u00e7u\u015f \u00d6ncesi Kontrol) \ud83d\udee1\ufe0f\n        uses: appleboy/ssh-action@master\n        with:\n          host: ${{ secrets.HOST_IP }}\n          username: ${{ secrets.SSH_USER }}\n          key: ${{ secrets.SSH_KEY }}\n          port: 2222\n          script: |\n            # 1. Disk Dolu mu? (&gt;%90 ise Dur)\n            if [ $(df / | awk 'NR==2 {print $5}' | tr -d %) -gt 90 ]; then\n              echo \"\u274c DISK DOLU! Deploy iptal ediliyor.\"\n              exit 1\n            fi\n\n            # 2. Docker \u00e7al\u0131\u015f\u0131yor mu?\n            if ! systemctl is-active --quiet docker; then\n               echo \"\u274c Docker \u00e7al\u0131\u015fm\u0131yor!\"\n               exit 1\n            fi\n            echo \"\u2705 Sistem deploy i\u00e7in uygun.\"\n\n      - name: Copy Files via SCP (Dosyalar\u0131 Y\u00fckle)\n        uses: appleboy/scp-action@master\n        with:\n          host: ${{ secrets.HOST_IP }}\n          username: ${{ secrets.SSH_USER }}\n          key: ${{ secrets.SSH_KEY }}\n          port: 2222\n          source: \".\"\n          target: \"/home/${{ secrets.SSH_USER }}/app\"\n\n      - name: Execute Remote SSH (Komut \u00c7al\u0131\u015ft\u0131r)\n        uses: appleboy/ssh-action@master\n        with:\n          host: ${{ secrets.HOST_IP }}\n          username: ${{ secrets.SSH_USER }}\n          key: ${{ secrets.SSH_KEY }}\n          port: 2222\n          script: |\n            echo \"\ud83d\ude80 Deployment Basliyor...\"\n            cd /home/${{ secrets.SSH_USER }}/app\n\n            # Scriptlere izin ver\n            chmod +x docs/scripts/library/*.sh\n\n            # Docker containerlari yenile (Ornek)\n            # docker compose down &amp;&amp; docker compose up -d --build\n\n            # Bak\u0131m scriptini \u00e7al\u0131\u015ft\u0131r \n            ./docs/scripts/library/maintenance.sh\n\n            echo \"\u2705 Deployment Tamamlandi!\"\n</code></pre>"},{"location":"scripts/automation/#4-kritik-ne-yaplr-ne-yaplmaz-dos-donts","title":"4. Kritik: Ne Yap\u0131l\u0131r, Ne Yap\u0131lmaz? (Do's &amp; Don'ts) \ud83d\uded1","text":"<p>GitHub Actions \u00e7ok g\u00fc\u00e7l\u00fcd\u00fcr ama yanl\u0131\u015f kullan\u0131l\u0131rsa sunucuyu patlat\u0131r.</p>"},{"location":"scripts/automation/#yapilmasi-gerekenler-dos","title":"\u2705 YAPILMASI GEREKENLER (Do's)","text":"<ul> <li>Idempotent Scriptler Yaz\u0131n: Scriptiniz 100 kere de \u00e7al\u0131\u015fsa hata vermemeli.</li> <li>K\u00f6t\u00fc: <code>mkdir /app</code> (Klas\u00f6r varsa hata verir, CI durur).</li> <li>\u0130yi: <code>mkdir -p /app</code> (Varsa ge\u00e7er, yoksa kurar).</li> <li>\u00d6nce Staging: Ana sunucuya (<code>main</code> branch) yollamadan \u00f6nce, test sunucusunda (<code>dev</code> branch) deneyin.</li> <li>SSH Timeout: Ba\u011flant\u0131 koparsa ne olaca\u011f\u0131n\u0131 planlay\u0131n (<code>timeout</code> komutlar\u0131 kullan\u0131n).</li> </ul>"},{"location":"scripts/automation/#yapilmamasi-gerekenler-donts","title":"\u274c YAPILMAMASI GEREKENLER (Don'ts)","text":"<ul> <li>Root Kullanmak: Asla <code>root</code> ile ba\u011flanmay\u0131n. Bir hata t\u00fcm sunucuyu siler.</li> <li>Hassas Veri: <code>.env</code> dosyas\u0131n\u0131 repoya atmay\u0131n. Onu sunucuda elle olu\u015fturun veya GitHub Secrets ile enjekte edin.</li> <li>Database Migration: Otomatik yapmay\u0131n! Veri kayb\u0131 riski vard\u0131r. DB i\u015flerini manuel ve yedekli yap\u0131n.</li> </ul>"},{"location":"scripts/automation/#5-guvenlik-uyars","title":"5. G\u00fcvenlik Uyar\u0131s\u0131 \u26a0\ufe0f","text":"<p>Bu y\u00f6ntemde GitHub'a (Microsoft'a) sunucunuzun anahtar\u0131n\u0131 veriyorsunuz.</p> <ul> <li>Risk: GitHub hacklenirse veya hesab\u0131n\u0131z \u00e7al\u0131n\u0131rsa sunucunuza girebilirler.</li> <li>\u00d6nlem 1: GitHub hesab\u0131n\u0131zda 2FA (\u0130ki A\u015famal\u0131 Do\u011frulama) mutlaka a\u00e7\u0131k olsun.</li> <li>\u00d6nlem 2: Kulland\u0131\u011f\u0131n\u0131z SSH Key'i sunucuda <code>root</code> yetkisine bo\u011fmay\u0131n. Sadece deploy yapabilen k\u0131s\u0131tl\u0131 bir kullan\u0131c\u0131 (<code>deployer</code>) kullan\u0131n.</li> </ul>"},{"location":"scripts/automation/#6-ozet","title":"6. \u00d6zet","text":"<p>Bu yap\u0131 kurulduktan sonra:</p> <ol> <li>Kodda de\u011fi\u015fiklik yap.</li> <li><code>git push origin main</code> de.</li> <li>Arkan\u0131 yaslan, GitHub 1 dakika i\u00e7inde sunucunu g\u00fcncellesin. \u2615</li> </ol>"},{"location":"scripts/conventions/","title":"Script Yaz\u0131m Standartlar\u0131","text":"<p>Prod\u00fcksiyon ortam\u0131nda \u00e7al\u0131\u015facak bir script, \"\u00e7al\u0131\u015f\u0131p i\u015fini yapmas\u0131\" kadar \"hata an\u0131nda d\u00fczg\u00fcn patlamas\u0131\" ile de \u00f6l\u00e7\u00fcl\u00fcr.</p>"},{"location":"scripts/conventions/#1-altn-kural-bash-strict-mode","title":"1. Alt\u0131n Kural: Bash Strict Mode","text":"<p>Her Bash scriptinizin ilk sat\u0131r\u0131 (shebang'den sonra) mutlaka \u015fu olmal\u0131:</p> <pre><code>#!/bin/bash\nset -euo pipefail\n</code></pre>"},{"location":"scripts/conventions/#bu-ne-ise-yarar","title":"Bu ne i\u015fe yarar?","text":"<ul> <li><code>set -e</code> (Exit on Error): Bir komut hata verirse (exit code != 0), script \u00e7al\u0131\u015fmaya devam etmez, an\u0131nda durur.</li> <li>\u0130stisna: <code>mkdir dosya || true</code> gibi hatay\u0131 bilerek y\u00f6netti\u011finiz yerler.</li> <li><code>set -u</code> (Unset Variables): Tan\u0131mlanmam\u0131\u015f bir de\u011fi\u015fken kullan\u0131rsan\u0131z hata verir. (<code>rm -rf /$BILINMEYEN_DEGISKEN</code> facias\u0131n\u0131 \u00f6nler).</li> <li><code>set -o pipefail</code>: Boru hatt\u0131nda (<code>cmd1 | cmd2</code>) biri hata verirse t\u00fcm i\u015flemi hatal\u0131 sayar. Varsay\u0131lan davran\u0131\u015fta sadece <code>cmd2</code> ba\u015far\u0131s\u0131z olursa hata d\u00f6nerdi.</li> </ul>"},{"location":"scripts/conventions/#2-degisken-isimlendirme","title":"2. De\u011fi\u015fken \u0130simlendirme","text":"<ul> <li>B\u00dcY\u00dcK_HARF: Sadece <code>export</code> edilen ortam de\u011fi\u015fkenleri (Environment Variables) ve sabitler (Constants) i\u00e7in.</li> <li>k\u00fc\u00e7\u00fck_harf: Script i\u00e7i yerel de\u011fi\u015fkenler i\u00e7in.</li> </ul> <pre><code># Do\u011fru\nDATABASE_URL=\"postgres://...\"\nbackup_dir=\"/tmp/backups\"\n\n# Yanl\u0131\u015f\nBACKUPDIR=\"/tmp\" # Sistem de\u011fi\u015fkeni san\u0131labilir\n</code></pre>"},{"location":"scripts/conventions/#3-loglama-ve-fonksiyonlar","title":"3. Loglama ve Fonksiyonlar","text":"<p>Her \u015feyi <code>echo</code> ile yazd\u0131rmay\u0131n. Okunabilir log fonksiyonlar\u0131 kullan\u0131n:</p> <pre><code>log_info() { echo -e \"[\\033[34mINFO\\033[0m] $1\"; }\nlog_success() { echo -e \"[\\033[32mOK\\033[0m] $1\"; }\nlog_error() { echo -e \"[\\033[31mERROR\\033[0m] $1\" &gt;&amp;2; }\n\n# Kullan\u0131m\nlog_info \"Yedekleme ba\u015fl\u0131yor...\"\n</code></pre>"},{"location":"scripts/conventions/#4-linting-kod-denetimi","title":"4. Linting (Kod Denetimi)","text":"<p>Scriptlerinizi commit etmeden \u00f6nce mutlaka ShellCheck ile taray\u0131n. VS Code eklentisi mevcuttur.</p> <pre><code># MacOS Kurulumu\nbrew install shellcheck\n\n# Kontrol\nshellcheck my-script.sh\n</code></pre>"},{"location":"scripts/conventions/#5-sablon-boilerplate","title":"5. \u015eablon (Boilerplate)","text":"<p>Yeni bir script yazarken bu \u015fablonu kopyalay\u0131n:</p> <pre><code>#!/bin/bash\nset -euo pipefail\n\n# --- Konfig\u00fcrasyon ---\nreadonly WORK_DIR=\"/opt/app\"\nreadonly NOW=$(date +%Y%m%d_%H%M%S)\n\n# --- Yard\u0131m ---\nusage() {\n    echo \"Kullan\u0131m: $0 [options]\"\n    exit 1\n}\n\n# --- Ana Ak\u0131\u015f ---\nmain() {\n    if [[ $EUID -ne 0 ]]; then\n       echo \"Bu script root olarak \u00e7al\u0131\u015ft\u0131r\u0131lmal\u0131d\u0131r.\"\n       exit 1\n    fi\n\n    echo \"\u0130\u015flem ba\u015flad\u0131: $NOW\"\n    # Kodlar buraya...\n}\n\nmain \"$@\"\n</code></pre>"},{"location":"scripts/execution/","title":"Script \u00c7al\u0131\u015ft\u0131rma Standartlar\u0131","text":"<p>Scripti yazd\u0131k, peki nas\u0131l \u00e7al\u0131\u015ft\u0131raca\u011f\u0131z? \"Arkaplanda \u00e7al\u0131\u015fs\u0131n\" veya \"Her gece \u00e7al\u0131\u015fs\u0131n\" dedi\u011fimizde akl\u0131m\u0131za gelen ilk y\u00f6ntemler (<code>nohup</code>, <code>cron</code>) genelde en iyi y\u00f6ntemler de\u011fildir.</p>"},{"location":"scripts/execution/#1-zamanlanms-gorevler-cron-vs-systemd-timers","title":"1. Zamanlanm\u0131\u015f G\u00f6revler: Cron vs Systemd Timers","text":"<p>Prod\u00fcksiyon sunucular\u0131nda Cron kullanmay\u0131 \u00f6nermiyoruz. Neden?</p> <ul> <li>Cron hatay\u0131 sessizce yutar (Loglamazsa g\u00f6remezsiniz).</li> <li>Ba\u011f\u0131ml\u0131l\u0131k y\u00f6netemez (Network gelmeden \u00e7al\u0131\u015f\u0131rsa patlar).</li> </ul>"},{"location":"scripts/execution/#onerilen-systemd-timers","title":"\u00d6nerilen: Systemd Timers","text":"<p>Bir i\u015fi her gece 03:00'te yapmak i\u00e7in iki dosya olu\u015fturuyoruz:</p>"},{"location":"scripts/execution/#a-service-dosyas-etcsystemdsystemmyscriptservice","title":"A. Service Dosyas\u0131 (<code>/etc/systemd/system/myscript.service</code>)","text":"<p>Ger\u00e7ek i\u015fi yapan tan\u0131m.</p> <pre><code>[Unit]\nDescription=My Backup Script\n\n[Service]\nType=oneshot\nExecStart=/opt/scripts/backup.sh\nUser=deployer\n</code></pre>"},{"location":"scripts/execution/#b-timer-dosyas-etcsystemdsystemmyscripttimer","title":"B. Timer Dosyas\u0131 (<code>/etc/systemd/system/myscript.timer</code>)","text":"<p>Zamanlay\u0131c\u0131 tan\u0131m\u0131.</p> <pre><code>[Unit]\nDescription=Run backup every night\n\n[Timer]\nOnCalendar=*-*-* 03:00:00\nPersistent=true\n\n[Install]\nWantedBy=timers.target\n</code></pre> <p>Aktifle\u015ftirme:</p> <pre><code>systemctl daemon-reload\nsystemctl enable --now myscript.timer\n</code></pre>"},{"location":"scripts/execution/#2-arkaplan-islemleri-background-execution","title":"2. Arkaplan \u0130\u015flemleri (Background Execution)","text":"<p>Bir scripti SSH'\u0131 kapatt\u0131ktan sonra da \u00e7al\u0131\u015fs\u0131n diye <code>nohup script.sh &amp;</code> ile \u00e7al\u0131\u015ft\u0131rmak \"amat\u00f6rce\"dir. S\u00fcre\u00e7 y\u00f6netilemez, \u00f6ld\u00fcr\u00fclemez, loglar\u0131 kar\u0131\u015f\u0131r.</p>"},{"location":"scripts/execution/#cozum-systemd-service-typesimple","title":"\u00c7\u00f6z\u00fcm: Systemd Service (Type=simple)","text":"<p>E\u011fer bir bot veya s\u00fcrekli \u00e7al\u0131\u015fan bir scriptiniz varsa, onu daima Systemd servisi yap\u0131n.</p> <p>Rehber: Kendi Systemd Servisini Yaz</p>"},{"location":"scripts/execution/#3-loglama-yonetimi","title":"3. Loglama Y\u00f6netimi","text":"<p>Script \u00e7\u0131kt\u0131lar\u0131n\u0131 (<code>stdout</code>) y\u00f6netmek \u00f6nemlidir.</p>"},{"location":"scripts/execution/#kotu-yontem","title":"K\u00f6t\u00fc Y\u00f6ntem","text":"<pre><code>./script.sh &gt;&gt; /var/log/app.log 2&gt;&amp;1\n</code></pre> <p>Bu dosya sonsuza kadar b\u00fcy\u00fcr ve diski doldurur (Disk Full vakalar\u0131n\u0131n 1 numaral\u0131 sebebidir).</p>"},{"location":"scripts/execution/#iyi-yontem-logrotate-veya-journald","title":"\u0130yi Y\u00f6ntem (Logrotate veya Journald)","text":"<p>Systemd ile \u00e7al\u0131\u015ft\u0131r\u0131rsan\u0131z, \u00e7\u0131kt\u0131lar otomatik olarak <code>journalctl</code> taraf\u0131ndan y\u00f6netilir ve s\u0131k\u0131\u015ft\u0131r\u0131l\u0131r.</p> <p>Loglar\u0131 izlemek i\u00e7in:</p> <pre><code>journalctl -u myscript.service -f\n</code></pre>"},{"location":"scripts/safety/","title":"Script G\u00fcvenli\u011fi","text":"<p>Otomasyon harikad\u0131r, ancak g\u00fcvensiz bir script sunucuyu sald\u0131rganlara alt\u0131n tepside sunabilir.</p>"},{"location":"scripts/safety/#1-srlar-ve-sifreler-secrets","title":"1. S\u0131rlar ve \u015eifreler (Secrets)","text":"<p>\u274c ASLA YAPMA: Scriptin i\u00e7ine \u015fifre g\u00f6mmek. Script git reposuna giderse \u015fifreniz de gider.</p> <pre><code>DB_PASSWORD=\"cokgizlisifre\" # YANLI\u015e!\n</code></pre> <p>\u2705 DO\u011eRUSU: \u015eifreleri <code>.env</code> dosyas\u0131ndan veya ortam de\u011fi\u015fkenlerinden okuyun.</p> <pre><code># Script ba\u015f\u0131\nif [ -f .env ]; then\n    source .env\nfi\n\nif [ -z \"${DB_PASSWORD:-}\" ]; then\n    echo \"Hata: DB_PASSWORD ayarlanmam\u0131\u015f!\"\n    exit 1\nfi\n</code></pre> <p><code>.env</code> dosyas\u0131n\u0131 <code>.gitignore</code>'a eklemeyi unutmay\u0131n!</p>"},{"location":"scripts/safety/#2-curl-bash-tehlikesi","title":"2. Curl | Bash Tehlikesi","text":"<p>\u0130nternetten buldu\u011funuz scriptleri direkt pipe ederek \u00e7al\u0131\u015ft\u0131rmay\u0131n:</p> <pre><code>curl http://bilinmeyen-site.com/setup.sh | bash\n</code></pre> <p>Risk: Ba\u011flant\u0131 kesilirse script yar\u0131m inip \u00e7al\u0131\u015fabilir veya sunucu taraf\u0131nda i\u00e7erik de\u011fi\u015ftirilebilir.</p> <p>G\u00fcvenli Y\u00f6ntem:</p> <ol> <li>\u0130ndir (<code>curl -O ...</code>)</li> <li>Oku/\u0130ncele (<code>cat script.sh</code>)</li> <li>\u00c7al\u0131\u015ft\u0131r (<code>bash script.sh</code>)</li> </ol>"},{"location":"scripts/safety/#3-checksum-dogrulama","title":"3. Checksum Do\u011frulama","text":"<p>Kritik bir ara\u00e7 indiriyorsan\u0131z (\u00f6rn: Docker, kubectl), indirdi\u011finiz dosyan\u0131n b\u00fct\u00fcnl\u00fc\u011f\u00fcn\u00fc do\u011frulay\u0131n:</p> <pre><code>echo \"b85f... beklenen_hash  dosya.tar.gz\" | sha256sum --check\n</code></pre>"},{"location":"scripts/safety/#4-en-az-yetki-prensibi-least-privilege","title":"4. En Az Yetki Prensibi (Least Privilege)","text":"<p>Her scripti <code>root</code> olarak \u00e7al\u0131\u015ft\u0131rmak zorunda de\u011filsiniz.</p> <ul> <li>Web sunucusu i\u015flemleri i\u00e7in <code>www-data</code>.</li> <li>Yedekleme i\u00e7in <code>backup-user</code>.</li> <li>Uygulama i\u00e7in <code>deployer</code>.</li> </ul> <p>Script ba\u015f\u0131nda <code>sudo</code> gerekliyse kontrol edin:</p> <pre><code>if [[ $EUID -ne 0 ]]; then\n   echo \"Bu script root yetkisi gerektirir.\"\n   exit 1\nfi\n</code></pre>"},{"location":"scripts/library/audit/","title":"Security Audit Script \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":"<p>\"Sunucum ne kadar g\u00fcvenli?\" sorusunun cevab\u0131n\u0131 veren h\u0131zl\u0131 tarama scripti.</p>"},{"location":"scripts/library/audit/#ne-kontrol-eder","title":"Ne Kontrol Eder?","text":"<ul> <li>A\u00e7\u0131k Portlar (Hangileri dinliyor?)</li> <li>UFW Durumu (Aktif mi?)</li> <li>SSH Root Login (A\u00e7\u0131k m\u0131?)</li> <li>Docker Socket Durumu</li> <li>Disk Kullan\u0131m\u0131</li> </ul>"},{"location":"scripts/library/audit/#kullanm","title":"Kullan\u0131m","text":"<p>Ara s\u0131ra manuel \u00e7al\u0131\u015ft\u0131r\u0131n.</p> <pre><code>./audit.sh\n</code></pre>"},{"location":"scripts/library/audit/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\n\necho \"\ud83d\udd0d SECURITY AUDIT STARTING...\"\necho \"==============================\"\n\n# 1. UFW Check\necho \"[+] Checking UFW Status:\"\nufw status | grep \"Status\" || echo \"\u274c UFW Not Found\"\n\n# 2. Listening Ports\necho -e \"\\n[+] Listening Ports (Public):\"\n# 0.0.0.0 veya [::] dinleyenleri bul\nss -tulpn | grep -E '0.0.0.0|\\[::\\]'\n\n# 3. SSH Config Check\necho -e \"\\n[+] Checking SSH Config:\"\ngrep \"^PermitRootLogin\" /etc/ssh/sshd_config || echo \"\u26a0\ufe0f PermitRootLogin setting not found (Default might be YES)\"\ngrep \"^PasswordAuthentication\" /etc/ssh/sshd_config || echo \"\u26a0\ufe0f PasswordAuthentication setting not found\"\n\n# 4. Fail2Ban\necho -e \"\\n[+] Fail2Ban Status:\"\nsystemctl is-active fail2ban &gt;/dev/null &amp;&amp; echo \"\u2705 Active\" || echo \"\u274c Inactive\"\n\n# 5. Docker Check\necho -e \"\\n[+] Docker Socket Rights:\"\nls -l /var/run/docker.sock\n\necho -e \"\\n[+] Disk Usage:\"\ndf -h /\n\necho \"==============================\"\necho \"AUDIT COMPLETE\"\n</code></pre>"},{"location":"scripts/library/backup/","title":"Database Backup Script \ud83d\udcbe","text":"<p>Basit, g\u00fcvenilir ve rotasyonlu (eskileri silen) yedekleme scripti.</p>"},{"location":"scripts/library/backup/#ozellikler","title":"\u00d6zellikler","text":"<ul> <li>Docker i\u00e7indeki Postgres veya MySQL'i yedekler.</li> <li>Yedekleri tarihli (<code>db-2023-10-27.sql.gz</code>) kaydeder.</li> <li>Rotasyon: 7 g\u00fcnden eski dosyalar\u0131 otomatik siler.</li> <li>S\u0131k\u0131\u015ft\u0131rma: Gzip ile yer tasarrufu sa\u011flar.</li> </ul>"},{"location":"scripts/library/backup/#kullanm","title":"Kullan\u0131m","text":"<pre><code>nano /usr/local/bin/backup-db.sh\nchmod +x /usr/local/bin/backup-db.sh\n\n# Crontab (Her gece 02:00)\n0 2 * * * /usr/local/bin/backup-db.sh\n</code></pre>"},{"location":"scripts/library/backup/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\nset -euo pipefail\n\n# --- CONFIG ---\nBACKUP_DIR=\"/var/backups/db\"\nCONTAINER_NAME=\"postgres_container_name\"\nDB_USER=\"postgres\"\nDB_NAME=\"myapp_db\"\nRETENTION_DAYS=7\nDATE=$(date +%Y-%m-%d_%H%M)\n# --------------\n\nmkdir -p $BACKUP_DIR\n\necho \"\ud83d\udcbe Yedekleme Basliyor: $DATE\"\n\n# 1. Dump Al (Postgres)\n# MySQL icin: docker exec $CONTAINER_NAME mysqldump -u... kullanin\ndocker exec -t $CONTAINER_NAME pg_dump -U $DB_USER $DB_NAME | gzip &gt; \"$BACKUP_DIR/db-$DATE.sql.gz\"\n\n# 2. Basari Kontrolu\nif [ $? -eq 0 ]; then\n    echo \"\u2705 Yedek Basarili: $BACKUP_DIR/db-$DATE.sql.gz\"\nelse\n    echo \"\u274c Yedek ALINAMADI!\"\n    exit 1\nfi\n\n# 3. Rotasyon (Eskileri Sil)\necho \"\ud83d\uddd1\ufe0f $RETENTION_DAYS gunden eski yedekler siliniyor...\"\nfind $BACKUP_DIR -name \"db-*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\n# 4. (Opsiyonel) Offsite Copy\n# 4. (Opsiyonel) Offsite Copy - Rclone\n# Rclone config yapilmis olmali: `rclone config`\n# rclone copy \"$BACKUP_DIR/db-$DATE.sql.gz\" remote:my-backups/ --quiet\n# Veya klasoru senkronize et:\n# rclone sync $BACKUP_DIR remote:my-backups/ --delete-after\n</code></pre>"},{"location":"scripts/library/bootstrap/","title":"Server Bootstrap Script \ud83d\udee1\ufe0f","text":"<p>Bu script, bo\u015f bir Ubuntu/Debian sunucuyu (Fresh Install) tek komutla \"Prod-Ready\" hale getirir.</p> <p>G\u00dcNCELLEME (v2): Timezone, Kernel Hardening, Docker Compose v2 ve detayl\u0131 loglama eklendi.</p>"},{"location":"scripts/library/bootstrap/#ozellikler","title":"\u00d6zellikler","text":"<ul> <li>Kullan\u0131c\u0131: <code>deployer</code> kullan\u0131c\u0131s\u0131 (Sudo yetkisiyle).</li> <li>SSH: Port 2222, Root Login Kapal\u0131, Timeout ayarlar\u0131.</li> <li>G\u00fcvenlik: UFW, Fail2Ban (SSH korumal\u0131), Kernel Hardening.</li> <li>Sistem: Timezone (Europe/Istanbul), Swap, Auto-Upgrades.</li> <li>Docker: Docker Engine + Compose v2.</li> </ul>"},{"location":"scripts/library/bootstrap/#kullanm","title":"Kullan\u0131m","text":"<p>Scripti sunucuda bir dosyaya yap\u0131\u015ft\u0131r\u0131n ve \u00e7al\u0131\u015ft\u0131r\u0131n.</p> <pre><code>nano setup.sh\n# Kodu yap\u0131\u015ft\u0131r\nchmod +x setup.sh\n./setup.sh\n</code></pre>"},{"location":"scripts/library/bootstrap/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\nset -euo pipefail\n\n# --- CONFIG ---\nNEW_USER=\"deployer\"\nSSH_PORT=\"2222\"\nSWAP_SIZE=\"2G\"\nTIMEZONE=\"Europe/Istanbul\"\n# --------------\n\nLOG_FILE=\"/var/log/server-setup.log\"\nexec &gt; &gt;(tee -a \"$LOG_FILE\") 2&gt;&amp;1\n\necho \"\ud83d\ude80 Sunucu Kurulumu Baslatiliyor... $(date)\"\n\n# 1. Root Kontrolu\nif [ \"$EUID\" -ne 0 ]; then\n  echo \"\u274c Lutfen root olarak calistirin (sudo su)\"\n  exit 1\nfi\n\n# 2. Backup SSH Config\ncp /etc/ssh/sshd_config /etc/ssh/sshd_config.backup.$(date +%Y%m%d)\n\n# 3. Update\necho \"\ud83d\udce6 Paketler guncelleniyor...\"\napt update &amp;&amp; apt upgrade -y\napt install -y ufw fail2ban curl git unattended-upgrades \\\n               htop vim tmux ncdu net-tools\n\n# 4. Timezone\necho \"\ud83d\udd50 Timezone ayarlan\u0131yor: $TIMEZONE\"\ntimedatectl set-timezone $TIMEZONE\nlocale-gen en_US.UTF-8\nupdate-locale LANG=en_US.UTF-8\n\n# 5. Create User\nif id \"$NEW_USER\" &amp;&gt;/dev/null; then\n    echo \"\u26a0\ufe0f Kullanici $NEW_USER zaten var.\"\nelse\n    echo \"\ud83d\udc64 Kullanici olusturuluyor: $NEW_USER\"\n    adduser --gecos \"\" --disabled-password $NEW_USER\n    echo \"$NEW_USER:$(openssl rand -base64 32)\" | chpasswd\n    usermod -aG sudo $NEW_USER\n\n    mkdir -p /home/$NEW_USER/.ssh\n    chmod 700 /home/$NEW_USER/.ssh\n    touch /home/$NEW_USER/.ssh/authorized_keys\n    chmod 600 /home/$NEW_USER/.ssh/authorized_keys\n\n    if [ -f /root/.ssh/authorized_keys ]; then\n        cp /root/.ssh/authorized_keys /home/$NEW_USER/.ssh/\n        chown -R $NEW_USER:$NEW_USER /home/$NEW_USER/.ssh\n    fi\nfi\n\n# 6. SSH Hardening\necho \"\ud83d\udd12 SSH sertlestiriliyor (Port: $SSH_PORT)...\"\ncat &gt; /etc/ssh/sshd_config.d/hardening.conf &lt;&lt; EOF\nPort $SSH_PORT\nPermitRootLogin no\nPasswordAuthentication no\nPubkeyAuthentication yes\nX11Forwarding no\nMaxAuthTries 3\nClientAliveInterval 300\nClientAliveCountMax 2\nAllowUsers $NEW_USER\nEOF\n\n# SSH config test\nif sshd -t; then\n    systemctl restart sshd\nelse\n    echo \"\u274c SSH Config HATALI! Restart edilmedi.\"\nfi\n\n# 7. Firewall (UFW)\necho \"\ud83e\uddf1 Firewall ayarlaniyor...\"\nufw default deny incoming\nufw default allow outgoing\nufw allow $SSH_PORT/tcp comment 'SSH'\nufw allow 80/tcp comment 'HTTP'\nufw allow 443/tcp comment 'HTTPS'\nufw --force enable\n\n# 8. Fail2Ban\necho \"\ud83d\udc6e Fail2Ban ayarlaniyor...\"\ncat &gt; /etc/fail2ban/jail.local &lt;&lt; EOF\n[DEFAULT]\nbantime = 3600\nfindtime = 600\nmaxretry = 3\n\n[sshd]\nenabled = true\nport = $SSH_PORT\nfilter = sshd\nlogpath = /var/log/auth.log\nmaxretry = 3\nEOF\n\nsystemctl enable --now fail2ban\nsystemctl restart fail2ban\n\n# 9. Docker Install\nif ! command -v docker &amp;&gt; /dev/null; then\n    echo \"\ud83d\udc33 Docker kuruluyor...\"\n    curl -fsSL https://get.docker.com | sh\n    usermod -aG docker $NEW_USER\n\n    # Docker Compose\n    apt install -y docker-compose-plugin\nelse\n    echo \"\u2705 Docker zaten kurulu.\"\nfi\n\n# 10. Swap Setup\nif [ $(swapon --show | wc -l) -eq 0 ]; then\n    echo \"\ud83d\udcbe Swap ($SWAP_SIZE) olusturuluyor...\"\n    fallocate -l $SWAP_SIZE /swapfile\n    chmod 600 /swapfile\n    mkswap /swapfile\n    swapon /swapfile\n    echo '/swapfile none swap sw 0 0' &gt;&gt; /etc/fstab\n\n    # Swappiness ayarla\n    sysctl vm.swappiness=10\n    echo \"vm.swappiness=10\" &gt;&gt; /etc/sysctl.conf\nfi\n\n# 11. Unattended Upgrades\necho \"\ufffd Otomatik g\u00fcncellemeler ayarlan\u0131yor...\"\ncat &gt; /etc/apt/apt.conf.d/20auto-upgrades &lt;&lt; EOF\nAPT::Periodic::Update-Package-Lists \"1\";\nAPT::Periodic::Unattended-Upgrade \"1\";\nAPT::Periodic::AutocleanInterval \"7\";\nEOF\n\n# 12. Kernel Hardening (Basit)\ncat &gt;&gt; /etc/sysctl.conf &lt;&lt; EOF\n\n# Security Hardening\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.icmp_echo_ignore_broadcasts = 1\nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.all.send_redirects = 0\nEOF\nsysctl -p\n\necho \"\"\necho \"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\"\necho \"\u2705 Kurulum Tamamlandi!\"\necho \"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\"\necho \"\"\necho \"\ud83d\udccb \u00d6ZET:\"\necho \"   \u2022 Kullan\u0131c\u0131: $NEW_USER\"\necho \"   \u2022 SSH Port: $SSH_PORT\"\necho \"   \u2022 Firewall: Aktif (80, 443, $SSH_PORT)\"\necho \"   \u2022 Fail2Ban: Aktif\"\necho \"   \u2022 Docker: Kurulu\"\necho \"\"\necho \"\u26a0\ufe0f  \u00d6NEML\u0130 ADIMLAR:\"\necho \"   1. MEVCUT TERM\u0130NAL\u0130 KAPATMAYIN!\"\necho \"   2. Yeni terminal a\u00e7\u0131n ve test edin:\"\necho \"      ssh -p $SSH_PORT $NEW_USER@&lt;SERVER_IP&gt;\"\necho \"\"\necho \"   3. Ba\u011flant\u0131 ba\u015far\u0131l\u0131ysa sunucuyu reboot edin:\"\necho \"      sudo reboot\"\necho \"\"\necho \"\ud83d\udcdd Log dosyas\u0131: $LOG_FILE\"\necho \"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\"\n</code></pre>"},{"location":"scripts/library/health-check/","title":"Health Check Script","text":"<p>Otomatik sistem sa\u011fl\u0131k kontrol\u00fc yapan ve raporlayan script.</p>"},{"location":"scripts/library/health-check/#kullanm","title":"Kullan\u0131m","text":"<pre><code>./scripts/health-check.sh\n</code></pre>"},{"location":"scripts/library/health-check/#kontrol-edilenler","title":"Kontrol Edilenler","text":"<ul> <li>CPU/RAM: %90 \u00fczeri kullan\u0131mda uyar\u0131</li> <li>Disk: %85 \u00fczeri kullan\u0131mda uyar\u0131</li> <li>Servisler: Docker, Nginx, SSH durumu</li> <li>Portlar: 80, 443 eri\u015filebilirli\u011fi</li> </ul>"},{"location":"scripts/library/health-check/#ornek-ckt","title":"\u00d6rnek \u00c7\u0131kt\u0131","text":"<pre><code>[OK]  CPU Load: 0.45\n[OK]  Memory Usage: 45%\n[OK]  Disk Usage: 55%\n[OK]  Docker Service is UP\n</code></pre>"},{"location":"scripts/library/maintenance/","title":"Maintenance (Temizlik) Scripti \ud83e\uddf9","text":"<p>Bu script, sunucuda zamanla biriken \"dijital at\u0131klar\u0131\" temizler ve diskin dolmas\u0131n\u0131 engeller.</p>"},{"location":"scripts/library/maintenance/#ne-yapar","title":"Ne Yapar?","text":"<ol> <li>Docker Prune: Kullan\u0131lmayan image, container ve networkleri siler.</li> <li>Journal Vacuum: 3 g\u00fcnden eski systemd loglar\u0131n\u0131 siler.</li> <li>Apt Autoremove: Gereksiz paketleri temizler.</li> <li>Disk Check: Doluluk %80'i ge\u00e7tiyse uyar\u0131 verir (Mail/Slack entegrasyonu eklenebilir).</li> </ol>"},{"location":"scripts/library/maintenance/#kullanm-cron","title":"Kullan\u0131m (Cron)","text":"<p>Haftal\u0131k \u00e7al\u0131\u015fmas\u0131 i\u00e7in crontab'a ekleyin:</p> <pre><code># Scripti kaydet\nnano /usr/local/bin/maintenance.sh\nchmod +x /usr/local/bin/maintenance.sh\n\n# Crontab a\u00e7\ncrontab -e\n# \u015eunu ekle (Her Pazar gece 03:00):\n0 3 * * 0 /usr/local/bin/maintenance.sh &gt;&gt; /var/log/maintenance.log 2&gt;&amp;1\n</code></pre>"},{"location":"scripts/library/maintenance/#kaynak-kod","title":"Kaynak Kod","text":"<pre><code>#!/bin/bash\nset -u\n\necho \"\ud83e\uddf9 Temizlik Basladi: $(date)\"\n\n# 1. Docker Temizligi (Durdurulmus her seyi siler)\nif command -v docker &amp;&gt; /dev/null; then\n    echo \"\ud83d\udc33 Docker System Prune...\"\n    # -a: Kullanilmayan image'lari da sil\n    # -f: Onay sorma\n    docker system prune -af --volumes\nfi\n\n# 2. Log Temizligi (Systemd)\necho \"\ud83d\udcdc Journalctl Vacuum (3 gun)...\"\njournalctl --vacuum-time=3d\n\n# 3. Paket Temizligi\necho \"\ud83d\udce6 Apt Autoremove...\"\napt-get autoremove -y\napt-get clean\n\n# 4. Disk Kontrol\nUSAGE=$(df / | grep / | awk '{ print $5 }' | sed 's/%//g')\nif [ \"$USAGE\" -gt 85 ]; then\n    echo \"\ud83d\udea8 UYARI: Disk Doluluk Orani %$USAGE!\"\n    # Buraya mail atma veya Slack webhook kodu eklenebilir\n    # curl -X POST -H 'Content-type: application/json' --data '{\"text\":\"Disk Dolu!\"}' HOOK_URL\nelse\n    echo \"\u2705 Disk Durumu: %$USAGE (Normal)\"\nfi\n\necho \"\ud83c\udfc1 Temizlik Bitti: $(date)\"\n</code></pre>"},{"location":"scripts/library/restore/","title":"Database Restore","text":"<p>Veritaban\u0131 yedeklerinden geri y\u00fckleme i\u015flemi.</p>"},{"location":"scripts/library/restore/#kullanm","title":"Kullan\u0131m","text":"<pre><code>./scripts/restore-db.sh &lt;backup_file.sql.gz&gt;\n</code></pre>"},{"location":"scripts/library/restore/#prosedur","title":"Prosed\u00fcr","text":"<ol> <li>Yedek Do\u011frulama: Dosya b\u00fct\u00fcnl\u00fc\u011f\u00fc kontrol edilir.</li> <li>Servis Durdurma: Veri tutarl\u0131l\u0131\u011f\u0131 i\u00e7in uygulama durdurulur (opsiyonel).</li> <li>Restore:</li> <li>Mevcut veritaban\u0131 silinir (<code>DROP DATABASE</code>)</li> <li>Yeni veritaban\u0131 olu\u015fturulur</li> <li>Dump import edilir</li> <li>Kontrol: Tablo say\u0131lar\u0131 ve boyutlar raporlan\u0131r.</li> </ol> <p>[!WARNING] Bu i\u015flem mevcut verileri silecektir!</p> <pre><code># \u00d6rnek\n./scripts/restore-db.sh backups/daily-2024-01-01.sql.gz\n</code></pre>"},{"location":"security/","title":"Sunucu G\u00fcvenli\u011fi (Hardening) \ud83d\udee1\ufe0f","text":"<p>Tebrikler! Bu rehberdeki ad\u0131mlar\u0131 tamamlad\u0131ysan\u0131z, sunucunuz art\u0131k s\u0131radan bir Linux kutusu de\u011fil, Katmanl\u0131 Savunma (Defense in Depth) ile korunan bir kaledir.</p> <p>A\u015fa\u011f\u0131daki liste, uygulad\u0131\u011f\u0131m\u0131z t\u00fcm g\u00fcvenlik katmanlar\u0131n\u0131n \u00f6zetidir.</p>"},{"location":"security/#15-katmanl-guvenlik-mimarisi","title":"\ud83e\uddf1 15 Katmanl\u0131 G\u00fcvenlik Mimarisi","text":"# Katman Rehber Ama\u00e7 1 Temel Hijyen Servis Temizli\u011fi Gereksiz servisleri sil, sald\u0131r\u0131 y\u00fczeyini k\u00fc\u00e7\u00fclt. 2 S\u00fcreklilik Oto. G\u00fcncellemeler Yaz\u0131l\u0131mlar\u0131 (ve Kernel'i) g\u00fcvenlik a\u00e7\u0131klar\u0131na kar\u015f\u0131 yamala. 3 \u00c7ekirdek Kernel (Sysctl) Network stack (IPv6, ICMP, TCP) sald\u0131r\u0131lar\u0131n\u0131 engelle. 4 Eri\u015fim SSH Hardening Portu de\u011fi\u015ftir, Root giri\u015fini kapat, Anahtar kullan. 5 Kimlik SSH 2FA Anahtar \u00e7al\u0131nsa bile telefon onay\u0131 iste (Google Auth). 6 Duvar Firewall (UFW) Sadece gereken portlar\u0131 a\u00e7, \u00e7\u0131k\u0131\u015f trafi\u011fini (egress) k\u0131s\u0131tla. 7 Aktif Koruma CrowdSec / Fail2ban Brute-force deneyenleri otomatik banla. 8 Dosya Sistemi Tmp Hardening <code>/tmp</code> klas\u00f6r\u00fcnde script \u00e7al\u0131\u015ft\u0131r\u0131lmas\u0131n\u0131 (<code>noexec</code>) engelle. 9 B\u00fct\u00fcnl\u00fck FIM (AIDE) \"Biri sistem dosyalar\u0131n\u0131 de\u011fi\u015ftirdi mi?\" kontrol\u00fc yap. 10 K\u0131s\u0131tlama Derleyici K\u0131s\u0131tlama Sunucuda <code>gcc</code>, <code>make</code> gibi derleyicileri yasakla. 11 Kaynak Resource Limits CPU/RAM limiti koy (Crypto Miner'lar\u0131 bo\u011f). 12 S\u0131rlar Secret Y\u00f6netimi \u015eifreleri koda g\u00f6mme; <code>.env</code>, Vault veya Docker Secrets kullan. 13 Konteyner Docker G\u00fcvenli\u011fi Non-root, Read-only FS, UserNS ile konteynerleri izole et. 14 G\u00f6zetleme Monitoring CPU, Disk, A\u011f anomalileri i\u00e7in alarm kur. 15 Malware Antivir\u00fcs ClamAV ve Rkhunter ile zararl\u0131 taramas\u0131 yap."},{"location":"security/#uygulama-sras-roadmap","title":"\ud83d\ude80 Uygulama S\u0131ras\u0131 (Roadmap)","text":"<p>S\u0131f\u0131rdan kuruluma ba\u015flad\u0131ysan\u0131z bu s\u0131ray\u0131 takip edin:</p>"},{"location":"security/#asama-1-temel-ilk-kurulum","title":"A\u015fama 1: Temel (\u0130lk Kurulum)","text":"<ol> <li>Servisleri Temizle</li> <li>G\u00fcncellemeleri A\u00e7</li> <li>SSH Ayarla</li> <li>Firewall A\u00e7</li> </ol>"},{"location":"security/#asama-2-sklastrma-hardening","title":"A\u015fama 2: S\u0131k\u0131la\u015ft\u0131rma (Hardening)","text":"<ol> <li>Kernel Ayarlar\u0131</li> <li>Fail2ban/Crowdsec Kur</li> <li>/tmp Hardening</li> <li>Derleyicileri K\u0131s\u0131tla</li> </ol>"},{"location":"security/#asama-3-ileri-seviye-paranoya-modu","title":"A\u015fama 3: \u0130leri Seviye (Paranoya Modu)","text":"<ol> <li>SSH 2FA Ekle</li> <li>Docker Hardening Uygula</li> <li>Monitoring Scriptlerini Kur</li> <li>Her \u015eeyi Tara (Lynis)</li> </ol>"},{"location":"security/#hangisini-secmeliyim-crowdsec-mi-fail2ban-mi","title":"Hangisini Se\u00e7meliyim: CrowdSec mi Fail2ban mi?","text":"Kriter Fail2ban \ud83d\udc0d CrowdSec \ud83d\udc39 Teknoloji Python (Eski, G\u00fcvenilir) Go (Modern, Bulut Tabanl\u0131) Koruma Reaktif: Size sald\u0131r\u0131rsa banlar. Proaktif: D\u00fcnyada birine sald\u0131ran\u0131 size gelmeden banlar. \u00d6neri 512MB RAM alt\u0131 sunucular i\u00e7in. Modern, 1GB+ RAM sunucular i\u00e7in (\u00d6nerilen). <p>[!TIP] G\u00fcvenlik bir var\u0131\u015f noktas\u0131 de\u011fil, yolculuktur. Haftal\u0131k Lynis taramalar\u0131n\u0131z\u0131 aksatmay\u0131n!</p>"},{"location":"security/2fa/","title":"SSH \u0130\u00e7in 2FA (\u0130ki A\u015famal\u0131 Do\u011frulama) \ud83d\udd10","text":"<p>SSH anahtar\u0131n\u0131z\u0131 \u00e7ald\u0131rsan\u0131z bile, telefonunuzdaki kod olmadan kimsenin sunucuya girememesini sa\u011flay\u0131n. Bu rehberde Google Authenticator kullanarak SSH g\u00fcvenli\u011fini en \u00fcst seviyeye \u00e7\u0131karaca\u011f\u0131z.</p>"},{"location":"security/2fa/#1-kurulum","title":"1. Kurulum","text":"<p>Gerekli PAM mod\u00fcl\u00fcn\u00fc kural\u0131m:</p> <pre><code>sudo apt update\nsudo apt install libpam-google-authenticator -y\n</code></pre>"},{"location":"security/2fa/#2-2fay-aktif-etme","title":"2. 2FA'y\u0131 Aktif Etme","text":"<p>Bu komutu kendi kullan\u0131c\u0131n\u0131zla (root olmayan) \u00e7al\u0131\u015ft\u0131r\u0131n:</p> <pre><code>google-authenticator\n</code></pre> <p>Size soraca\u011f\u0131 sorulara \u015fu cevaplar\u0131 verin:</p> <ol> <li>Do you want authentication tokens to be time-based? -&gt; <code>y</code> (Evet)</li> <li>QR Kodu: Ekranda kocaman bir QR kod \u00e7\u0131kacak. Bunu telefonunuzdaki Google Authenticator veya Authy uygulamas\u0131na okutun.</li> <li>Secret Key &amp; Recovery Codes: Bu kodlar\u0131 g\u00fcvenli bir yere kaydedin! (Telefonunuz kaybolursa sunucuya girmek i\u00e7in laz\u0131m olur).</li> <li>Update the .google_authenticator file? -&gt; <code>y</code> (Ayarlar\u0131 kaydet)</li> <li>Disallow multiple uses of the same authentication token? -&gt; <code>y</code> (Ayn\u0131 kodu iki kere kullanamas\u0131nlar - Replay Attack korumas\u0131)</li> <li>Increase the time-skew window? -&gt; <code>n</code> (Hay\u0131r, saatimiz senkronize kals\u0131n)</li> <li>Enable rate-limiting? -&gt; <code>y</code> (Evet, brute-force korumas\u0131)</li> </ol>"},{"location":"security/2fa/#3-sshd-ve-pam-yaplandrmas","title":"3. SSHD ve PAM Yap\u0131land\u0131rmas\u0131","text":"<p>\u015eimdi SSH servisine \"Giri\u015fte bu mod\u00fcl\u00fc kullan\" diyece\u011fiz.</p>"},{"location":"security/2fa/#a-pam-ayar","title":"A) PAM Ayar\u0131","text":"<p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/pam.d/sshd\n</code></pre> <p>En alta \u015fu sat\u0131r\u0131 ekleyin (veya <code>@include common-auth</code> sat\u0131r\u0131n\u0131 bulup onun alt\u0131na ekleyin):</p> <pre><code># Google Authenticator 2FA\nauth required pam_google_authenticator.so\n</code></pre>"},{"location":"security/2fa/#b-sshd-ayar","title":"B) SSHD Ayar\u0131","text":"<p>SSH Config dosyas\u0131n\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/ssh/sshd_config\n</code></pre> <p>\u015eu ayar\u0131 bulun ve <code>yes</code> yap\u0131n (Yoksa ekleyin):</p> <pre><code>KbdInteractiveAuthentication yes\n# Not: Baz\u0131 eski s\u00fcr\u00fcmlerde \"ChallengeResponseAuthentication yes\" olabilir.\n</code></pre> <p>E\u011fer SSH Anahtar\u0131 kullan\u0131yorsan\u0131z, hem anahtar hem de \u015fifre istemesi i\u00e7in \u015funu ekleyin (Dosyan\u0131n en alt\u0131na):</p> <pre><code># Hem SSH Key hem de 2FA Kodu ZORUNLU olsun:\nAuthenticationMethods publickey,keyboard-interactive\n</code></pre>"},{"location":"security/2fa/#4-servisi-yeniden-baslatma","title":"4. Servisi Yeniden Ba\u015flatma","text":"<p>Ayarlar\u0131 uygulayal\u0131m:</p> <pre><code>sudo systemctl restart ssh\n</code></pre> <p>\u26a0\ufe0f \u00c7OK \u00d6NEML\u0130 UYARI: \u015eu anki terminal penceresini SAKIN KAPATMAYIN! Yeni bir terminal a\u00e7\u0131p ba\u011flanmay\u0131 deneyin. E\u011fer hata yap\u0131ld\u0131ysa mevcut pencereden d\u00fczeltebilirsiniz. Kapat\u0131rsan\u0131z sunucu d\u0131\u015far\u0131da kal\u0131rs\u0131n\u0131z!</p>"},{"location":"security/2fa/#5-baglant-testi","title":"5. Ba\u011flant\u0131 Testi","text":"<p>Yeni bir terminal a\u00e7\u0131n ve ba\u011flanmay\u0131 deneyin:</p> <pre><code>ssh kullanici@sunucu-ip\n</code></pre> <p>S\u00fcre\u00e7 \u015f\u00f6yle i\u015flemeli:</p> <ol> <li>\u00d6nce SSH anahtar\u0131n\u0131z\u0131 do\u011frular (\u015fifre sormaz).</li> <li>Ard\u0131ndan <code>Verification code:</code> diye sorar.</li> <li>Telefondaki 6 haneli kodu girersiniz.</li> <li>Giri\u015f Ba\u015far\u0131l\u0131! \ud83c\udf89</li> </ol>"},{"location":"security/compilers/","title":"Derleyicileri K\u0131s\u0131tlama (Hardening Compilers)","text":"<p>\u00dcretim (Production) sunucular\u0131nda <code>gcc</code>, <code>make</code>, <code>g++</code> gibi derleyicilerin herkes taraf\u0131ndan ula\u015f\u0131labilir olmas\u0131 b\u00fcy\u00fck bir g\u00fcvenlik riskidir.</p>"},{"location":"security/compilers/#1-neden-tehlikeli","title":"1. Neden Tehlikeli?","text":"<p>Sald\u0131rgan sunucuya s\u0131zarsa (\u00f6rne\u011fin bir web a\u00e7\u0131\u011f\u0131 ile <code>www-data</code> kullan\u0131c\u0131s\u0131 olsa), sunucudaki kernel s\u00fcr\u00fcm\u00fcne uygun bir Exploit (s\u00f6m\u00fcr\u00fc kodu) indirip derlemek ister.</p>"},{"location":"security/compilers/#onemli-uyar-bu-bir-gumus-kursun-degildir","title":"\u26a0\ufe0f \u00d6nemli Uyar\u0131: Bu Bir \"G\u00fcm\u00fc\u015f Kur\u015fun\" De\u011fildir!","text":"<p>Derleyicileri k\u0131s\u0131tlamak sald\u0131rgan\u0131 tamamen durdurmaz, sadece yava\u015flat\u0131r (Speed Bump). Sald\u0131rgan \u015funlar\u0131 hala yapabilir:</p> <ul> <li>Kendi bilgisayar\u0131nda derledi\u011fi haz\u0131r binary'i sunucuya y\u00fckleyip \u00e7al\u0131\u015ft\u0131rabilir.</li> <li>Python, Perl gibi yorumlay\u0131c\u0131larla exploit \u00e7al\u0131\u015ft\u0131rabilir.</li> </ul> <p>Bu y\u00fczden bu i\u015flem daha \u00e7ok Lynis/CIS gibi compliance (uyumluluk) standartlar\u0131 i\u00e7in yap\u0131l\u0131r.</p> <p>\ud83d\udca1 Ger\u00e7ek G\u00fcvenlik Katmanlar\u0131 (\u00d6ncelik S\u0131ras\u0131):</p> <ol> <li>\ud83d\udd34 Kernel G\u00fcncellemeleri: Exploit'i anlams\u0131z k\u0131lar (En kritik!).</li> <li>\ud83d\udd34 Auditd + Loglama: Sald\u0131r\u0131y\u0131 g\u00f6rmenizi sa\u011flar.</li> <li>\ud83d\udfe1 AppArmor/SELinux: Ger\u00e7ek process izolasyonu sa\u011flar.</li> <li>\ud83d\udfe1 Noexec Mount: <code>/tmp</code> dizininde \u00e7al\u0131\u015ft\u0131rmay\u0131 engeller.</li> <li>\ud83d\udfe2 Derleyici K\u0131s\u0131tlama: Sald\u0131rgan\u0131 biraz u\u011fra\u015ft\u0131r\u0131r.</li> </ol>"},{"location":"security/compilers/#2-yontem-grup-tabanl-kstlama-kapsaml-script","title":"2. Y\u00f6ntem: Grup Tabanl\u0131 K\u0131s\u0131tlama (Kapsaml\u0131 Script) \u2705","text":"<p>Sadece <code>gcc</code> k\u0131s\u0131tlamak yetmez. <code>gcc-12</code> gibi symlink hedefleri ve <code>ld</code>, <code>make</code>, <code>as</code> gibi yard\u0131mc\u0131 ara\u00e7lar da k\u0131s\u0131tlanmal\u0131d\u0131r.</p> <p>A\u015fa\u011f\u0131daki scripti <code>lock_compilers.sh</code> olarak kaydedip \u00e7al\u0131\u015ft\u0131r\u0131n. Bu script:</p> <ol> <li><code>compiler</code> ad\u0131nda grup olu\u015fturur.</li> <li>T\u00fcm derleyicileri, linker'lar\u0131 ve debugger'lar\u0131 bulur.</li> <li>\u0130zinleri <code>750</code> yapar (sadece root ve compiler grubu \u00e7al\u0131\u015ft\u0131rabilir).</li> <li>Symlink'lerin g\u00f6sterdi\u011fi as\u0131l dosyalar\u0131 da k\u0131s\u0131tlar.</li> </ol>"},{"location":"security/compilers/#script-icerigi","title":"Script \u0130\u00e7eri\u011fi","text":"<pre><code>#!/bin/bash\n# compiler_hardening.sh - Daha kapsaml\u0131 versiyon\n\nCOMPILER_GROUP=\"compiler\"\n\n# 1. Grup olu\u015ftur\nsudo groupadd -f \"$COMPILER_GROUP\"\necho \"[+] '$COMPILER_GROUP' grubu olu\u015fturuldu/kontrol edildi.\"\n\n# 2. K\u0131s\u0131tlanacak Temel Binary Listesi\n# \u00d6nce sabit isimleri ekle\nBINARIES=(\n    /usr/bin/gcc\n    /usr/bin/g++\n    /usr/bin/cc /usr/bin/c++\n    /usr/bin/make /usr/bin/cmake\n    /usr/bin/as /usr/bin/ld /usr/bin/ld.bfd /usr/bin/ld.gold\n    /usr/bin/ar /usr/bin/ranlib /usr/bin/nm\n    /usr/bin/objcopy /usr/bin/objdump /usr/bin/strip\n    /usr/bin/clang /usr/bin/clang++\n)\n\n# Versiyonlu binaryleri (gcc-12 gibi) g\u00fcvenli bir \u015fekilde ekle\nfor bin in /usr/bin/gcc-* /usr/bin/g++-* /usr/bin/clang-* 2&gt;/dev/null; do\n    [ -e \"$bin\" ] &amp;&amp; BINARIES+=(\"$bin\")\ndone\n\n# 3. Binary'leri K\u0131s\u0131tla\nfor bin in \"${BINARIES[@]}\"; do\n    if [ -e \"$bin\" ] &amp;&amp; [ ! -L \"$bin\" ]; then\n        sudo chgrp \"$COMPILER_GROUP\" \"$bin\"\n        sudo chmod 750 \"$bin\"\n        echo \"[+] K\u0131s\u0131tland\u0131: $bin\"\n    fi\ndone\n\n# 4. Symlink Hedeflerini K\u0131s\u0131tla (\u00d6rn: gcc -&gt; gcc-12)\nfor bin in /usr/bin/gcc /usr/bin/g++ /usr/bin/cc; do\n    if [ -L \"$bin\" ]; then\n        target=$(readlink -f \"$bin\")\n        if [ -e \"$target\" ]; then\n            sudo chgrp \"$COMPILER_GROUP\" \"$target\"\n            sudo chmod 750 \"$target\"\n            echo \"[+] Symlink hedefi k\u0131s\u0131tland\u0131: $target\"\n        fi\n    fi\ndone\n\necho \"\"\necho \"[!] Manuel kontrol \u00f6nerisi:\"\necho \"    which -a gcc    # Ba\u015fka PATH'te gcc var m\u0131?\"\necho \"    ls /usr/local/bin/gcc* 2&gt;/dev/null\"\necho \"\"\necho \"\u2705 \u0130\u015flem tamamland\u0131. Art\u0131k sadece 'root' ve 'compiler' grubu derleme yapabilir.\"\n</code></pre>"},{"location":"security/compilers/#scripti-calstrma","title":"Scripti \u00c7al\u0131\u015ft\u0131rma","text":"<pre><code>sudo chmod +x lock_compilers.sh\nsudo ./lock_compilers.sh\n</code></pre>"},{"location":"security/compilers/#yetkili-kullanc-ekleme","title":"Yetkili Kullan\u0131c\u0131 Ekleme","text":"<p>E\u011fer bir kullan\u0131c\u0131n\u0131n (veya CI/CD agent'\u0131n) derleme yapmas\u0131 gerekirse:</p> <pre><code>sudo usermod -aG compiler $USER\n# De\u011fi\u015fikli\u011fin aktif olmas\u0131 i\u00e7in logout/login yap\u0131n\n</code></pre>"},{"location":"security/compilers/#3-dogrulama","title":"3. Do\u011frulama","text":"<p>Normal bir kullan\u0131c\u0131 (gruba dahil olmayan) ile deneyelim:</p> <pre><code># root olmayan, gruba eklenmemi\u015f bir kullan\u0131c\u0131ya ge\u00e7 (\u00f6rn: nobody)\nsu -s /bin/bash nobody\n\n# \u00c7al\u0131\u015ft\u0131rmay\u0131 dene\ngcc --version\n# Beklenen Hata: \"Permission denied\" veya \"Eri\u015fim engellendi\"\n\n# Linker dene\nld --version\n# Beklenen Hata: \"Permission denied\"\n\nexit\n</code></pre> <p>Sonu\u00e7: Sald\u0131rgan art\u0131k sunucu \u00fczerinde rahat\u00e7a \"make\", \"gcc\" diyemeyecek. Kernel exploit derlemek i\u00e7in kendi makinesinde cross-compile yap\u0131p ta\u015f\u0131mas\u0131 gerekecek (bu da size zaman kazand\u0131r\u0131r).</p>"},{"location":"security/compilers/#4-geri-alma-rollback","title":"4. Geri Alma (Rollback) \ud83d\udd04","text":"<p>E\u011fer bu k\u0131s\u0131tlamalar bir soruna yol a\u00e7arsa, \u015fu komutlarla her \u015feyi eski haline getirebilirsiniz:</p> <pre><code># Kritik ara\u00e7lar\u0131n izinlerini d\u00fczelt (755 herkese a\u00e7\u0131k)\nsudo chmod 755 /usr/bin/gcc* /usr/bin/g++* /usr/bin/make* /usr/bin/cc* /usr/bin/as* /usr/bin/ld*\n\n# Sahipli\u011fi root grubuna geri ver\nsudo chgrp root /usr/bin/gcc* /usr/bin/g++* /usr/bin/make* /usr/bin/cc* /usr/bin/as* /usr/bin/ld*\n</code></pre>"},{"location":"security/crowdsec/","title":"CrowdSec ile Modern Koruma","text":"<p>CrowdSec, \"kitlesel istihbarat\" (crowd-sourced intelligence) kullanan modern bir g\u00fcvenlik arac\u0131d\u0131r. Fail2ban'in \"yeni nesil\" halefi olarak d\u00fc\u015f\u00fcn\u00fclebilir.</p> <p>[!CAUTION] &gt; \u00d6nce Fail2ban'i Silin: CrowdSec kurmadan \u00f6nce sunucunuzda Fail2ban varsa mutlaka durdurun ve kald\u0131r\u0131n. \u0130kisi ayn\u0131 anda \u00e7al\u0131\u015fmamal\u0131d\u0131r.</p> <pre><code>sudo systemctl stop fail2ban\nsudo apt remove fail2ban\n</code></pre>"},{"location":"security/crowdsec/#neden-crowdsec","title":"Neden CrowdSec?","text":"<p>Fail2ban sadece sizin loglar\u0131n\u0131z\u0131 okur. CrowdSec ise herkesin deneyiminden faydalan\u0131r.</p> <p>D\u00fcnyan\u0131n bir ucundaki sald\u0131rgan ba\u015fka bir CrowdSec kullan\u0131c\u0131s\u0131na sald\u0131rd\u0131\u011f\u0131nda, IP adresi \"k\u00f6t\u00fc niyetli\" olarak i\u015faretlenir ve bu bilgi an\u0131nda (veya k\u0131sa s\u00fcrede) sizin sunucunuza da gelir. B\u00f6ylece sald\u0131rgan daha kap\u0131n\u0131za gelmeden engellenmi\u015f olur.</p> \u00d6zellik Fail2ban CrowdSec Mant\u0131k Log okur, Regex ile banlar Log okur, Senaryo (Scenario) ile karar verir \u0130stihbarat Yok (Sadece yerel) Var (K\u00fcresel IP veritaban\u0131) H\u0131z H\u0131zl\u0131 \u00c7ok H\u0131zl\u0131 (Golang ile yaz\u0131lm\u0131\u015f) Y\u00f6netim Dosya tabanl\u0131 (Basit) CLI + Web Konsol (Modern)"},{"location":"security/crowdsec/#1-kurulum-debianubuntu","title":"1. Kurulum (Debian/Ubuntu)","text":"<p>Kurulumu olduk\u00e7a basittir. Script, gerekli repolar\u0131 ekler.</p> <pre><code>curl -s https://packagecloud.io/install/repositories/crowdsec/crowdsec/script.deb.sh | sudo bash\nsudo apt install -y crowdsec\n</code></pre> <p>Kurulum s\u0131ras\u0131nda CrowdSec, sunucunuzdaki servisleri (SSH, Nginx, Docker vb.) otomatik alg\u0131lar ve uygun koleksiyonlar\u0131 (Collection) kurar.</p>"},{"location":"security/crowdsec/#firewall-bouncer-kurulumu","title":"Firewall Bouncer Kurulumu","text":"<p>CrowdSec tek ba\u015f\u0131na sadece \"tespit\" yapar (Detect). Engelleme yapmas\u0131 (Remediate) i\u00e7in bir \"Bouncer\" kurmal\u0131s\u0131n\u0131z. En yayg\u0131n\u0131 <code>iptables</code> bouncer'\u0131d\u0131r.</p> <pre><code>sudo apt install -y crowdsec-firewall-bouncer-iptables\n</code></pre> <p>(E\u011fer <code>nftables</code> kullan\u0131yorsan\u0131z <code>crowdsec-firewall-bouncer-nftables</code> kurun.)</p>"},{"location":"security/crowdsec/#2-temel-komutlar-cscli","title":"2. Temel Komutlar (cscli)","text":"<p>Y\u00f6netim i\u00e7in <code>cscli</code> komutunu kullan\u0131r\u0131z.</p>"},{"location":"security/crowdsec/#durum-kontrolu","title":"Durum Kontrol\u00fc","text":"<pre><code># Servisler \u00e7al\u0131\u015f\u0131yor mu?\nsystemctl status crowdsec\nsystemctl status crowdsec-firewall-bouncer\n\n# Bouncer listesi ve durumu\nsudo cscli bouncers list\n</code></pre>"},{"location":"security/crowdsec/#kararlar-decisions-ve-banlama","title":"Kararlar (Decisions) ve Banlama","text":"<pre><code># Kimler banl\u0131? (Mevcut kararlar)\nsudo cscli decisions list\n\n# Bir IP'yi manuel banla (4 saatli\u011fine)\nsudo cscli decisions add --ip 1.2.3.4 --duration 4h --reason \"Supheli hareket\"\n\n# Ban\u0131 kald\u0131r\nsudo cscli decisions delete --ip 1.2.3.4\n</code></pre>"},{"location":"security/crowdsec/#metrikler","title":"Metrikler","text":"<pre><code>sudo cscli metrics\n</code></pre>"},{"location":"security/crowdsec/#3-koleksiyonlar-ve-senaryolar","title":"3. Koleksiyonlar ve Senaryolar","text":"<p>CrowdSec, \"Hub\" mant\u0131\u011f\u0131yla \u00e7al\u0131\u015f\u0131r. \u0130htiyac\u0131n\u0131z olan koruma paketlerini indirirsiniz.</p> <pre><code># Mevcut koleksiyonlar\u0131 listele\nsudo cscli collections list\n\n# Yeni bir koleksiyon kur (\u00d6rn: Nginx)\nsudo cscli collections install crowdsecurity/nginx\nsudo systemctl reload crowdsec\n</code></pre> <p>[!TIP] &gt; <code>crowdsecurity/linux</code> koleksiyonu (SSH ve Systemd i\u00e7in) varsay\u0131lan olarak gelir.</p>"},{"location":"security/crowdsec/#4-docker-entegrasyonu","title":"4. Docker Entegrasyonu","text":"<p>Docker konteynerlerini korumak i\u00e7in CrowdSec'in loglara eri\u015fmesi gerekir. \u0130ki ana y\u00f6ntem vard\u0131r:</p>"},{"location":"security/crowdsec/#yontem-1-host-uzerinden-onerilen","title":"Y\u00f6ntem 1: Host \u00dczerinden (\u00d6nerilen)","text":"<p>CrowdSec'i host makineye kurduysan\u0131z (yukar\u0131daki gibi), Docker konteynerlerinin loglar\u0131n\u0131 okumas\u0131 yeterlidir.</p> <p><code>/etc/crowdsec/acquis.yaml</code> dosyas\u0131n\u0131 d\u00fczenleyip Docker loglar\u0131n\u0131 ekleyin:</p> <pre><code>filenames:\n  - /var/lib/docker/containers/*/*.log\nlabels:\n  type: docker\n</code></pre> <p>Ve <code>crowdsec</code> servisini yeniden ba\u015flat\u0131n.</p>"},{"location":"security/crowdsec/#yontem-2-docker-container-olarak","title":"Y\u00f6ntem 2: Docker Container Olarak","text":"<p>CrowdSec'i de bir Docker konteyneri olarak \u00e7al\u0131\u015ft\u0131rabilirsiniz. Bu durumda di\u011fer konteynerlerin loglar\u0131n\u0131 okuyabilmesi i\u00e7in <code>docker.sock</code> dosyas\u0131n\u0131 bind etmeniz gerekir.</p> <p>Detayl\u0131 Docker-Compose kurulumu i\u00e7in proje dok\u00fcmantasyonuna bak\u0131n\u0131z.</p>"},{"location":"security/crowdsec/#5-web-konsol-zorunlu-degil-ama-harika","title":"5. Web Konsol (Zorunlu De\u011fil Ama Harika)","text":"<p>CrowdSec'in sundu\u011fu app.crowdsec.net adresinden \u00fccretsiz hesap a\u00e7\u0131p sunucunuzu ba\u011flayabilirsiniz.</p> <ul> <li>Sald\u0131r\u0131lar\u0131 grafiksel olarak g\u00f6r\u00fcrs\u00fcn\u00fcz.</li> <li>Hangi \u00fclkeden, hangi IP'den sald\u0131r\u0131 geldi\u011fini haritada izlersiniz.</li> <li>Birden \u00e7ok sunucunuz varsa hepsini tek ekrandan y\u00f6netirsiniz.</li> </ul> <p>Sunucuyu Konsola Ba\u011flama:</p> <pre><code>sudo cscli console enroll &lt;KODUNUZ&gt;\n</code></pre> <p>(Kodu, web panelden \"Add Instance\" diyerek alabilirsiniz.)</p>"},{"location":"security/docker-gateway/","title":"Docker Gateway Mimarisi \ud83d\udee1\ufe0f","text":"<p>Bu b\u00f6l\u00fcm, g\u00fcvenlik duvar\u0131n\u0131 (UFW) delmeden ve portlar\u0131 d\u0131\u015f d\u00fcnyaya sa\u00e7madan Docker konteynerlerinin nas\u0131l y\u00f6netilece\u011fini anlat\u0131r.</p>"},{"location":"security/docker-gateway/#sorun-port-3434-actm-hacklendim","title":"Sorun: \"Port 3434 A\u00e7t\u0131m, Hacklendim\"","text":"<p>Docker, a\u011f kurallar\u0131n\u0131 y\u00f6netmek i\u00e7in <code>iptables</code> ile do\u011frudan konu\u015fur. Siz UFW ile \"her \u015feyi kapat\" deseniz bile, <code>docker-compose.yml</code> dosyas\u0131nda \u015fu sat\u0131r\u0131 yazd\u0131\u011f\u0131n\u0131z an o port t\u00fcm d\u00fcnyaya a\u00e7\u0131l\u0131r:</p> <pre><code>ports:\n  - \"3000:3000\" # \u274c TEHL\u0130KEL\u0130: UFW'yi bypass eder ve t\u00fcm d\u00fcnyaya a\u00e7\u0131l\u0131r!\n</code></pre>"},{"location":"security/docker-gateway/#cozum-gateway-kap-modeli","title":"\u00c7\u00f6z\u00fcm: Gateway (Kap\u0131) Modeli","text":"<p>T\u00fcm trafi\u011fi tek bir g\u00fcvenli kap\u0131dan (Port 80/443) i\u00e7eri al\u0131p, i\u00e7eride da\u011f\u0131tma y\u00f6ntemidir.</p>"},{"location":"security/docker-gateway/#kritik-eksikler-ve-cozumleri","title":"\ud83d\udd25 Kritik Eksikler ve \u00c7\u00f6z\u00fcmleri","text":"<p>A\u015fa\u011f\u0131daki 3 kural\u0131 uygulamadan Docker sunucusu kurmay\u0131n.</p>"},{"location":"security/docker-gateway/#1-npm-admin-paneli-port-81-dunyaya-kapatlmal","title":"1. NPM Admin Paneli (Port 81) D\u00fcnyaya Kapat\u0131lmal\u0131!","text":"<p>Nginx Proxy Manager kurarken Port 81'i (Admin) d\u0131\u015far\u0131 a\u00e7mak b\u00fcy\u00fck risktir.</p> <p>Yanl\u0131\u015f:</p> <pre><code>ports:\n  - \"81:81\" # \u274c Admin paneli 0.0.0.0 \u00fczerinden d\u00fcnyaya a\u00e7\u0131k!\n</code></pre> <p>Do\u011fru: Admin paneline sadece sunucu i\u00e7inden (localhost) eri\u015filmeli. Eri\u015fmek i\u00e7in SSH Tunnel kullan\u0131n.</p> <pre><code>ports:\n  - \"127.0.0.1:81:81\" # \u2705 Sadece localhost eri\u015febilir\n</code></pre> <p>Nas\u0131l Eri\u015firim? (SSH Tunnel) Bilgisayar\u0131n\u0131zdan terminali a\u00e7\u0131n:</p> <pre><code>ssh -L 81:localhost:81 user@sunucu-ip\n</code></pre> <p>Taray\u0131c\u0131n\u0131zda: <code>http://localhost:81</code></p>"},{"location":"security/docker-gateway/#2-localhost-binding-npm-kullanmayanlar-icin","title":"2. Localhost Binding (NPM Kullanmayanlar \u0130\u00e7in)","text":"<p>E\u011fer NPM kullanm\u0131yorsan\u0131z, portu sadece sunucu i\u00e7inden eri\u015filebilir yap\u0131n ve Nginx'i buna g\u00f6re ayarlay\u0131n.</p> <pre><code>ports:\n  - \"127.0.0.1:3000:3000\" # \u2705 Sadece sunucu i\u00e7inden eri\u015filebilir\n</code></pre>"},{"location":"security/docker-gateway/#3-dockern-ufwyi-bypass-etmesini-engelleme","title":"3. Docker'\u0131n UFW'yi Bypass Etmesini Engelleme","text":"<p>Docker'\u0131n g\u00fcvenlik duvar\u0131n\u0131z\u0131 delmesini k\u00f6kten \u00e7\u00f6zmek i\u00e7in <code>/etc/docker/daemon.json</code> dosyas\u0131na \u015funu ekleyin:</p> <pre><code>{\n  \"iptables\": false\n}\n</code></pre> <p>Ard\u0131ndan <code>sudo systemctl restart docker</code>.</p> <p>\u26a0\ufe0f Dikkat: Bu ayar sonras\u0131 container'lar internete \u00e7\u0131kamayabilir. Geli\u015fmi\u015f kullan\u0131c\u0131lar i\u00e7indir.</p>"},{"location":"security/docker-gateway/#tam-ornek-npm-app-database","title":"\ud83c\udfd7\ufe0f Tam \u00d6rnek: NPM + App + Database","text":"<p>A\u015fa\u011f\u0131daki \u00f6rnekte:</p> <ol> <li>NPM: D\u0131\u015far\u0131ya tek \u00e7\u0131k\u0131\u015f noktas\u0131. Admin paneli g\u00fcvenli.</li> <li>App: D\u0131\u015far\u0131ya kapal\u0131, sadece NPM ve DB ile konu\u015fur.</li> <li>DB: D\u0131\u015far\u0131ya kapal\u0131, sadece App ile konu\u015fur.</li> </ol> <p><code>docker-compose.yml</code>:</p> <pre><code>version: \"3.8\"\n\nservices:\n  # 1. Nginx Proxy Manager (Gateway)\n  npm:\n    image: jc21/nginx-proxy-manager:latest\n    restart: unless-stopped\n    ports:\n      - \"80:80\" # HTTP (A\u00e7\u0131k)\n      - \"443:443\" # HTTPS (A\u00e7\u0131k)\n      - \"127.0.0.1:81:81\" # Admin (Sadece Localhost)\n    volumes:\n      - npm_data:/data\n      - npm_ssl:/etc/letsencrypt\n    networks:\n      - frontend # App ile konu\u015facak\n      # Database a\u011f\u0131na ba\u011flanmas\u0131na gerek YOK\n\n  # 2. Uygulama (Port YOK)\n  app:\n    image: node:18-alpine\n    restart: unless-stopped\n    expose:\n      - \"3000\" # Port mapping yok, sadece expose\n    networks:\n      - frontend # NPM ile konu\u015fur\n      - backend # DB ile konu\u015fur\n    environment:\n      DATABASE_URL: postgres://user:secret@db:5432/mydb\n\n  # 3. Veritaban\u0131 (\u0130zole)\n  db:\n    image: postgres:15-alpine\n    restart: unless-stopped\n    expose:\n      - \"5432\"\n    networks:\n      - backend # Sadece App ile konu\u015fur. NPM buray\u0131 g\u00f6rmez.\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    environment:\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_pass\n    secrets:\n      - db_pass\n\nnetworks:\n  frontend:\n    driver: bridge # NPM &lt;-&gt; App\n  backend:\n    driver: bridge # App &lt;-&gt; DB\n    internal: true # \ud83d\udd12 \u0130nternete \u00e7\u0131k\u0131\u015f YOK (G\u00fcvenli)\n\nvolumes:\n  npm_data:\n  npm_ssl:\n  db_data:\n\nsecrets:\n  db_pass:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"security/docker-gateway/#farkl-docker-composeyml-dosyalar-external-network","title":"\ud83c\udf10 Farkl\u0131 <code>docker-compose.yml</code> Dosyalar\u0131 (External Network)","text":"<p>NPM ana klas\u00f6rde, uygulaman\u0131z ba\u015fka klas\u00f6rde ise birbirlerini nas\u0131l bulurlar? External Network ile.</p> <ol> <li> <p>Network'\u00fc elle olu\u015fturun:</p> <pre><code>docker network create gateway-net\n</code></pre> </li> <li> <p>NPM Compose:</p> <pre><code>services:\n  npm:\n    networks:\n      - gateway-net\nnetworks:\n  gateway-net:\n    external: true # Var olan\u0131 kullan\n</code></pre> </li> <li> <p>App Compose: <code>yaml     services:       app:         networks:           - gateway-net     networks:       gateway-net:         external: true # Var olan\u0131 kullan</code>     Art\u0131k NPM \u00fczerinden <code>http://app:3000</code> \u015feklinde eri\u015febilirsiniz.</p> </li> </ol>"},{"location":"security/docker-gateway/#dogrulama-portlar-gercekten-kapal-m","title":"\u2705 Do\u011frulama: Portlar Ger\u00e7ekten Kapal\u0131 m\u0131?","text":"<p>Kurulumu yapt\u0131n\u0131z, peki g\u00fcvenli mi? Test edin.</p> <pre><code># 1. D\u0131\u015far\u0131dan port taramas\u0131 (Kendi bilgisayar\u0131n\u0131zdan)\nnmap -p 81,3000,5432 sunucu-ip\n# Beklenen: \"filtered\" veya \"closed\"\n\n# 2. Sunucu i\u00e7inden kontrol\nsudo netstat -tlnp | grep docker\n# 81 ve 3000 portlar\u0131 \"127.0.0.1\" IP'sine mi ba\u011fl\u0131? (0.0.0.0 OLMAMALI)\n\n# 3. Network \u0130zolasyon Testi\ndocker exec -it npm ping db\n# Beklenen: \"bad address\" veya timeout (NPM, DB'ye eri\u015fememeli!)\n</code></pre>"},{"location":"security/docker-gateway/#ssl-sertifikas-lets-encrypt","title":"\ud83d\udd12 SSL Sertifikas\u0131 (Let's Encrypt)","text":"<p>NPM aray\u00fcz\u00fcnden (localhost:81) kolayca SSL alabilirsiniz:</p> <ol> <li>Proxy Host eklerken SSL sekmesine gidin.</li> <li>Request a new SSL Certificate se\u00e7in.</li> <li>Force SSL ve HTTP/2 aktif edin.</li> <li>Domain'in sunucu IP'sine y\u00f6nlendi\u011finden emin olun.</li> </ol>"},{"location":"security/docker/","title":"Docker G\u00fcvenli\u011fi (Container Hardening) \ud83d\udc33","text":"<p>Senin ya\u015fad\u0131\u011f\u0131n senaryo tam olarak buydu: <code>RCE A\u00e7\u0131\u011f\u0131 \u2192 Root Container \u2192 Tam Sistem Eri\u015fimi \u2192 Cryptominer/DDoS \u2192 \ud83d\udc80</code></p> <p>\u0130\u015fte bu zinciri k\u0131rmak i\u00e7in kapsaml\u0131 Docker g\u00fcvenlik rehberi.</p>"},{"location":"security/docker/#1-asla-root-olarak-calstrma-en-kritik","title":"1. ASLA Root Olarak \u00c7al\u0131\u015ft\u0131rma (En Kritik!) \ufffd","text":"<p>Varsay\u0131lan olarak Docker konteynerleri <code>root</code> yetkisiyle \u00e7al\u0131\u015f\u0131r. Konteynerden ka\u00e7an biri host makinede de <code>root</code> olur!</p>"},{"location":"security/docker/#cozum-1-dockerfileda-user-tanmla-en-iyisi","title":"\u00c7\u00f6z\u00fcm 1: Dockerfile'da USER Tan\u0131mla (En \u0130yisi)","text":"<pre><code># \u2705 DO\u011eRU Dockerfile\nFROM node:18-alpine\n\n# Sistem kullan\u0131c\u0131s\u0131 olu\u015ftur (UID: 1001)\nRUN addgroup -g 1001 appgroup &amp;&amp; \\\n    adduser -u 1001 -G appgroup -D appuser\n\nWORKDIR /app\nCOPY --chown=appuser:appgroup . .\n\n# Root'tan \u00e7\u0131k\nUSER appuser\n\nEXPOSE 3000\nCMD [\"node\", \"server.js\"]\n</code></pre>"},{"location":"security/docker/#cozum-2-docker-composeda-zorla","title":"\u00c7\u00f6z\u00fcm 2: Docker Compose'da Zorla","text":"<pre><code>services:\n  app:\n    image: my-app\n    user: \"1001:1001\" # UID:GID\n</code></pre>"},{"location":"security/docker/#2-read-only-filesystem-dosya-yazmay-kapat","title":"2. Read-Only Filesystem (Dosya Yazmay\u0131 Kapat) \ud83d\udcc1","text":"<p>Sald\u0131rgan i\u00e7eri girse bile dosya yazamas\u0131n, malware indiremesin.</p> <pre><code>services:\n  app:\n    image: my-app\n    read_only: true\n    tmpfs:\n      - /tmp:size=100M,mode=1777\n      - /var/run:size=50M\n    volumes:\n      - ./data:/app/data:rw # Sadece gerekli yere yazma izni\n</code></pre>"},{"location":"security/docker/#3-resource-limitleri-miner-korumas","title":"3. Resource Limitleri (Miner Korumas\u0131) \u26a1","text":"<p>CPU %100'e dayamas\u0131n, RAM t\u00fcketmesin.</p> <pre><code>services:\n  app:\n    image: my-app\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.5\" # Max yar\u0131m i\u015flemci\n          memory: 512M # Max 512MB RAM\n        reservations:\n          cpus: \"0.25\"\n          memory: 256M\n    pids_limit: 100 # Fork bomb korumas\u0131\n    mem_swappiness: 0 # Swap yasak\n</code></pre>"},{"location":"security/docker/#4-network-izolasyonu","title":"4. Network \u0130zolasyonu \ud83c\udf10","text":"<p>Konteynerler d\u0131\u015far\u0131ya kafas\u0131na g\u00f6re \u00e7\u0131kamas\u0131n.</p> <pre><code>services:\n  backend:\n    image: my-api\n    networks:\n      - internal-net # Sadece bu a\u011fdaki veritaban\u0131na eri\u015febilir\n\nnetworks:\n  internal-net:\n    driver: bridge\n    internal: true # D\u0131\u015f d\u00fcnyaya (\u0130nternete) eri\u015fim YOK!\n</code></pre> <p>Not: <code>network_mode: host</code> kullanmak yasakt\u0131r!</p>"},{"location":"security/docker/#5-capabilities-privileges","title":"5. Capabilities &amp; Privileges \ud83d\udd10","text":"<p>Docker'\u0131n \"ben her \u015feyi yapar\u0131m\" yetkilerini t\u0131rpanlay\u0131n.</p> <pre><code>services:\n  app:\n    cap_drop:\n      - ALL # \u00d6nce her \u015feyi kapat\n    cap_add:\n      - NET_BIND_SERVICE # Sadece port a\u00e7abilsin\n    security_opt:\n      - no-new-privileges:true # Privilege escalation (yetki y\u00fckseltme) engelle\n</code></pre>"},{"location":"security/docker/#tehlikeli-alanlar","title":"Tehlikeli Alanlar \u26d4","text":"<ul> <li><code>--privileged</code>: ASLA kullanma! Host makinenin t\u00fcm cihazlar\u0131na eri\u015fim verir.</li> <li><code>/var/run/docker.sock</code>: Mount etme! Konteynerin di\u011fer konteynerleri silmesine/yaratmas\u0131na izin verir.</li> </ul>"},{"location":"security/docker/#6-secrets-yonetimi-sifre-saklama","title":"6. Secrets Y\u00f6netimi (\u015eifre Saklama) \ud83d\udd11","text":"<p>Environment de\u011fi\u015fkenleri (<code>-e PASSWORD=123</code>) <code>docker inspect</code> ile g\u00f6r\u00fclebilir. Docker Secrets kullan\u0131n.</p> <pre><code>services:\n  db:\n    image: postgres\n    environment:\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_password\n    secrets:\n      - db_password\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"security/docker/#7-komple-guvenli-docker-composeyml-ornegi","title":"7. Komple G\u00fcvenli <code>docker-compose.yml</code> \u00d6rne\u011fi \ud83c\udfc6","text":"<p>Bunu kopyala ve projelerinde \u015fablon olarak kullan:</p> <pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: my-app:latest\n\n    # 1. Non-root user\n    user: \"1001:1001\"\n\n    # 2. Read-only filesystem\n    read_only: true\n    tmpfs:\n      - /tmp:size=100M,mode=1777\n\n    # 3. Resource limits\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.5\"\n          memory: 512M\n    pids_limit: 100\n\n    # 4. Capabilities\n    cap_drop:\n      - ALL\n    cap_add:\n      - NET_BIND_SERVICE\n    security_opt:\n      - no-new-privileges:true\n\n    # 5. Network isolation\n    networks:\n      - frontend\n\n    # 6. Secrets\n    secrets:\n      - api_key\n\n    # 7. Logging limiti (Diski doldurmas\u0131n)\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n\n    # 8. Health check (Zombie container tespiti &amp; Auto-restart)\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:3000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 40s\n\nnetworks:\n  frontend:\n    driver: bridge\n\nsecrets:\n  api_key:\n    file: ./secrets/api_key.txt\n</code></pre>"},{"location":"security/docker/#8-guvenlik-kontrol-scripti","title":"8. G\u00fcvenlik Kontrol Scripti \ufffd","text":"<p>Mevcut konteynerlerin ne kadar g\u00fcvenli? Bu script ile tara:</p> <p>Dosya: <code>docker_security_check.sh</code></p> <pre><code>#!/bin/bash\necho \"=== \ud83d\udc33 DOCKER G\u00dcVENL\u0130K KONTROL\u00dc ===\"\n\necho -e \"\\n[1] Root olarak \u00e7al\u0131\u015fan container'lar:\"\nfor c in $(docker ps -q); do\n    USER=$(docker exec $c whoami 2&gt;/dev/null || echo \"N/A\")\n    NAME=$(docker inspect --format '{{.Name}}' $c)\n    if [ \"$USER\" = \"root\" ]; then\n        echo \"  \u26a0\ufe0f  $NAME: ROOT! (D\u00fczeltilmeli)\"\n    else\n        echo \"  \u2705 $NAME: $USER\"\n    fi\ndone\n\necho -e \"\\n[2] Privileged container'lar:\"\ndocker ps -q | xargs docker inspect --format '{{.Name}}: Privileged={{.HostConfig.Privileged}}' | grep \"true\" || echo \"  \u2705 Yok\"\n\necho -e \"\\n[3] Docker socket mount edilmi\u015f:\"\ndocker ps -q | xargs docker inspect --format '{{.Name}}: {{.Mounts}}' | grep \"docker.sock\" || echo \"  \u2705 Yok\"\n\necho -e \"\\n[4] Resource limiti OLMAYAN container'lar:\"\nfor c in $(docker ps -q); do\n    NAME=$(docker inspect --format '{{.Name}}' $c)\n    MEM=$(docker inspect --format '{{.HostConfig.Memory}}' $c)\n    if [ \"$MEM\" = \"0\" ]; then\n        echo \"  \u26a0\ufe0f  $NAME: Limit yok! (Riskli)\"\n    fi\ndone\n\necho -e \"\\n[5] Host network kullananlar:\"\ndocker ps -q | xargs docker inspect --format '{{.Name}}: {{.HostConfig.NetworkMode}}' | grep \"host\" || echo \"  \u2705 Yok\"\n\necho -e \"\\n=== KONTROL TAMAMLANDI ===\"\n</code></pre>"},{"location":"security/docker/#scripti-calstrma","title":"Scripti \u00c7al\u0131\u015ft\u0131rma","text":"<pre><code># Scripti kaydet ve \u00e7al\u0131\u015ft\u0131r\u0131labilir yap\nsudo nano /usr/local/bin/docker_security_check.sh\n# (Yukar\u0131daki i\u00e7eri\u011fi yap\u0131\u015ft\u0131r)\n\nsudo chmod +x /usr/local/bin/docker_security_check.sh\n\n# \u00c7al\u0131\u015ft\u0131r\ndocker_security_check.sh\n</code></pre>"},{"location":"security/docker/#9-image-guvenligi","title":"9. Image G\u00fcvenli\u011fi \ud83d\uddbc\ufe0f","text":"<p>Container'lar\u0131n temeli olan image'lar g\u00fcvenli de\u011filse, \u00fcst\u00fcne ne yaparsan\u0131z yap\u0131n bo\u015ftur.</p>"},{"location":"security/docker/#guvenilir-image-kullan","title":"G\u00fcvenilir Image Kullan","text":"<pre><code># \u274c YANLI\u015e: Random kullan\u0131c\u0131 image'\u0131 (\u0130\u00e7inde ne oldu\u011fu belirsiz)\ndocker pull randomuser/nginx-super\n\n# \u2705 DO\u011eRU: Official veya Verified Publisher\ndocker pull nginx:alpine\ndocker pull bitnami/nginx\n</code></pre>"},{"location":"security/docker/#minimal-base-image-alpine-tercih-et","title":"Minimal Base Image (Alpine Tercih Et)","text":"<pre><code># \u274c B\u00fcy\u00fck image = Daha fazla g\u00fcvenlik a\u00e7\u0131\u011f\u0131, daha yava\u015f\nFROM node:18          # ~900MB, y\u00fczlerce gereksiz paket\n\n# \u2705 Minimal image = K\u00fc\u00e7\u00fck attack surface, h\u0131zl\u0131\nFROM node:18-alpine   # ~100MB, sadece gerekli paketler\n</code></pre>"},{"location":"security/docker/#image-tarama-trivy","title":"Image Tarama (Trivy)","text":"<p>Image'\u0131 production'a almadan \u00f6nce mutlaka taray\u0131n.</p> <pre><code># Kurulum\nsudo apt install trivy -y\n\n# Image tara\ntrivy image nginx:latest\ntrivy image my-app:latest\n\n# CI/CD'de: HIGH/CRITICAL varsa build'i durdur\ntrivy image --exit-code 1 --severity HIGH,CRITICAL my-app:latest\n</code></pre>"},{"location":"security/docker/#10-docker-daemon-hardening","title":"10. Docker Daemon Hardening \ud83d\udd27","text":"<p>Docker servisini (Daemon) g\u00fcvenli hale getirmek i\u00e7in <code>/etc/docker/daemon.json</code> dosyas\u0131n\u0131 yap\u0131land\u0131r\u0131n.</p> <p>Dosya: <code>/etc/docker/daemon.json</code></p> <pre><code>{\n  \"icc\": false,\n  \"userns-remap\": \"default\",\n  \"no-new-privileges\": true,\n  \"live-restore\": true,\n  \"userland-proxy\": false,\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\n</code></pre> <p>Uygula:</p> <pre><code>sudo systemctl restart docker\n</code></pre> Ayar A\u00e7\u0131klama <code>icc: false</code> Container'lar aras\u0131 varsay\u0131lan ileti\u015fimi kapat (Herkes herkesle konu\u015famaz). <code>userns-remap</code> Container root \u2260 Host root (\u0130zolasyon). <code>no-new-privileges</code> Privilege escalation engelle. <code>live-restore</code> Docker restart olunca container'lar \u00f6lmesin. <code>log-driver</code> Loglar\u0131n diski doldurmas\u0131n\u0131 engelle (Log Rotation)."},{"location":"security/docker/#ozet-saldr-vs-onlem","title":"\u00d6zet: Sald\u0131r\u0131 vs \u00d6nlem \ud83d\udee1\ufe0f","text":"Sald\u0131r\u0131 Tipi \u00d6nlem Container Breakout Non-root User, Read-only FS, No-Privileges Crypto Mining Resource Limits (CPU/RAM) DDoS / Scanning Internal Network (\u0130zolasyon) Data Theft Docker Secrets"},{"location":"security/fail2ban/","title":"Fail2ban ile Aktif Koruma","text":"<p>Fail2ban, sunucunuzdaki log dosyalar\u0131n\u0131 s\u00fcrekli okuyan bir \"G\u00fcvenlik Bek\u00e7isi\"dir.</p> <p>[!CAUTION] &gt; \u00c7ak\u0131\u015fma Uyar\u0131s\u0131: E\u011fer sunucunuzda CrowdSec y\u00fckl\u00fc ise Fail2ban kurmay\u0131n! \u0130ki ara\u00e7 ayn\u0131 anda \u00e7al\u0131\u015f\u0131rsa Firewall kurallar\u0131 (iptables/nftables) birbirine girer ve sunucuyu kilitleyebilir. Modern ve daha performansl\u0131 bir alternatif i\u00e7in CrowdSec rehberine bak\u0131n.</p>"},{"location":"security/fail2ban/#sk-sorulan-sorular-once-buray-okuyun","title":"S\u0131k Sorulan Sorular (\u00d6nce Buray\u0131 Okuyun!)","text":""},{"location":"security/fail2ban/#1-sadece-ssh-m-korur","title":"1. Sadece SSH'\u0131 m\u0131 korur?","text":"<p>HAYIR. Fail2ban, log \u00fcreten her \u015feyi koruyabilir.</p> <ul> <li>SSH: Yanl\u0131\u015f \u015fifre deneyenleri banlar.</li> <li>Nginx/Apache: 403/404 hatalar\u0131n\u0131 \u00e7ok alanlar\u0131 veya botlar\u0131 banlar.</li> <li>WordPress: <code>/wp-login.php</code> sayfas\u0131na sald\u0131ranlar\u0131 banlar.</li> </ul>"},{"location":"security/fail2ban/#2-kurdum-ve-active-yazyor-koruyor-mu","title":"2. Kurdum ve \"Active\" yaz\u0131yor, koruyor mu?","text":"<p>HAYIR, hen\u00fcz de\u011fil!</p> <ul> <li>Fail2ban kuruldu\u011funda varsay\u0131lan olarak sadece 22. Portu dinler.</li> <li>Biz SSH portunu 2222 yapt\u0131\u011f\u0131m\u0131z i\u00e7in, \u015fu an Fail2ban \"havaya bak\u0131yor\". Sald\u0131rgan 2222'den girip denerse Fail2ban bunu G\u00d6RMEZ.</li> <li>Bu y\u00fczden konfig\u00fcrasyon yapmam\u0131z \u015eARTTIR.</li> </ul>"},{"location":"security/fail2ban/#1-kurulum-ve-kontrol","title":"1. Kurulum ve Kontrol","text":"<p>\u00d6nce paketi kurun ve servisin durumuna bak\u0131n:</p> <pre><code>sudo apt update\nsudo apt install -y fail2ban\nsudo systemctl status fail2ban --no-pager\n</code></pre> <p>E\u011fer \"active (running)\" de\u011filse servisi ba\u015flat\u0131n:</p> <pre><code>sudo systemctl enable --now fail2ban\n</code></pre> <p>[!TIP] &gt; Neden <code>--no-pager</code>? &gt; <code>systemctl</code> normalde \u00e7\u0131kt\u0131 uzunsa (less) i\u00e7ine girer. <code>--no-pager</code> eklerseniz \u00e7\u0131kt\u0131y\u0131 ekrana basar ve terminale geri d\u00f6ner. Di\u011fer yararl\u0131 parametreler:</p> <ul> <li><code>systemctl status fail2ban -l</code>: Sat\u0131rlar\u0131 kesmeden (truncate) t\u00fcm hatay\u0131 g\u00f6sterir.</li> <li><code>systemctl status fail2ban -n 50</code>: Son 10 sat\u0131r yerine son 50 sat\u0131r\u0131 g\u00f6sterir.</li> </ul>"},{"location":"security/fail2ban/#2-konfigurasyon-mantg-nasl-ayarlayacagz","title":"2. Konfig\u00fcrasyon Mant\u0131\u011f\u0131 (Nas\u0131l Ayarlayaca\u011f\u0131z?)","text":"<p>Fail2ban'in ayar dosyas\u0131n\u0131 (<code>jail.conf</code>) ASLA de\u011fi\u015ftirmeyin. \u00c7\u00fcnk\u00fc g\u00fcncelleme gelince dosya s\u0131f\u0131rlan\u0131r, ayarlar\u0131n\u0131z gider.</p> <p>Bunun yerine \"Par\u00e7al\u0131 Y\u00f6netim\" (Modular) yap\u0131s\u0131n\u0131 kullanaca\u011f\u0131z.</p>"},{"location":"security/fail2ban/#neden-jaild-kullanyoruz","title":"Neden <code>jail.d</code> kullan\u0131yoruz?","text":"<p>T\u00fcm ayarlar\u0131 tek bir devasa dosyaya (<code>jail.local</code>) yazmak eski bir y\u00f6ntemdir. Y\u00f6netmesi zordur. Biz <code>/etc/fail2ban/jail.d/</code> klas\u00f6r\u00fc alt\u0131na her servis i\u00e7in ayr\u0131 bir dosya koyaca\u011f\u0131z.</p> <ul> <li><code>sshd.local</code>: Sadece SSH ayarlar\u0131.</li> <li><code>nginx.local</code>: Sadece Nginx ayarlar\u0131.</li> <li><code>whitelist.local</code>: Sadece g\u00fcvenli IP listesi.</li> </ul> <p>Bu sayede bir \u015feyi kapatmak isterseniz, o dosyay\u0131 silmeniz yeterlidir.</p>"},{"location":"security/fail2ban/#gelecek-icin-ornekler-future-proof","title":"Gelecek i\u00e7in \u00d6rnekler (Future Proof)","text":"<p><code>/etc/fail2ban/jail.d/</code> alt\u0131na \u015fu dosyalar\u0131 olu\u015fturabilirsiniz:</p> <p>1. Nginx Proxy Manager (<code>jail.d/npm.local</code>):</p> <pre><code>[npm-proxy]\nenabled = true\nport = 80,443\nfilter = nginx-proxy-manager\nlogpath = /data/logs/proxy-host-*.log\nmaxretry = 3\n</code></pre> <p>2. PostgreSQL (<code>jail.d/postgresql.local</code>):</p> <pre><code>[postgresql]\nenabled = true\nport = 5432\nfilter = postgresql\nlogpath = /var/log/postgresql/postgresql-*-main.log\nmaxretry = 5\n</code></pre> <p>3. MySQL (<code>jail.d/mysql.local</code>):</p> <pre><code>[mysqld-auth]\nenabled = true\nport = 3306\nlogpath = /var/log/mysql/error.log\nmaxretry = 5\n</code></pre> <p>Her servis i\u00e7in ayr\u0131 dosya a\u00e7mak, y\u00f6netimi \u00e7ocuk oyunca\u011f\u0131 yapar.</p>"},{"location":"security/fail2ban/#3-ssh-korumas-jail-olusturma","title":"3. SSH Korumas\u0131 (Jail Olu\u015fturma)","text":"<p>Hadi ilk par\u00e7am\u0131z\u0131 (mod\u00fcl\u00fcm\u00fcz\u00fc) olu\u015ftural\u0131m. SSH servisini koruyacak ayarlar\u0131 yap\u0131yoruz. Dosya yoksa olu\u015facakt\u0131r, korkmay\u0131n.</p> <pre><code>sudo nano /etc/fail2ban/jail.d/sshd.local\n</code></pre> <p>Dosyan\u0131n i\u00e7ine a\u015fa\u011f\u0131daki ayarlar\u0131 yap\u0131\u015ft\u0131r\u0131n. Port k\u0131sm\u0131n\u0131n sizin kulland\u0131\u011f\u0131n\u0131z portla (2222) ayn\u0131 oldu\u011fundan emin olun.</p> <pre><code>```ini\n[sshd]\nenabled = true\nbackend = systemd\nport = 2222\nmaxretry = 5\nfindtime = 10m\nbantime = 1h\n# Public Key hatalar\u0131n\u0131 yakalamak i\u00e7in agresif mod \u015fartt\u0131r:\nmode = aggressive\n</code></pre>"},{"location":"security/fail2ban/#4-ileri-duzey-kavramlar-filtreler-ve-eylemler","title":"4. \u0130leri D\u00fczey Kavramlar (Filtreler ve Eylemler)","text":"<p>Fail2ban'in nas\u0131l \u00e7al\u0131\u015ft\u0131\u011f\u0131n\u0131 anlamak i\u00e7in iki kavram\u0131 bilmek gerekir:</p>"},{"location":"security/fail2ban/#filtreler-filters","title":"Filtreler (Filters)","text":"<p>Log dosyas\u0131nda \"neyin sald\u0131r\u0131 oldu\u011funu\" anlayan Regex kurallar\u0131d\u0131r. <code>/etc/fail2ban/filter.d/</code> alt\u0131nda dururlar. \u00d6rn: <code>sshd.conf</code> i\u00e7inde \"Failed password\" yaz\u0131s\u0131n\u0131 arayan kurallar vard\u0131r. Genelde bunlara dokunman\u0131z gerekmez.</p>"},{"location":"security/fail2ban/#eylemler-actions","title":"Eylemler (Actions)","text":"<p>Bir IP banlan\u0131nca ne olacak?</p> <ul> <li>action_: Sadece Firewall (iptables/ufw) kural\u0131 ekler (Varsay\u0131lan).</li> <li>action_mw: Banlar ve <code>destemail</code> adresine mail atar.</li> <li>action_mwl: Banlar, mail atar ve mailin i\u00e7ine loglar\u0131 da ekler.</li> </ul> <p>[!NOTE] Mail almak isterseniz sunucuda <code>sendmail</code> veya <code>postfix</code> kurulu olmal\u0131d\u0131r. G\u00fcn\u00fcm\u00fczde sunucudan mail atmak zor oldu\u011fu i\u00e7in (SPAM riski), genelde Slack/Discord webhook'lar\u0131 tercih edilir.</p>"},{"location":"security/fail2ban/#5-whitelist-kendini-banlamamak","title":"5. Whitelist (Kendini Banlamamak)","text":"<p>E\u011fer sabit bir IP adresiniz varsa, kendinizi g\u00fcvenli listeye ekleyebilirsiniz.</p> <pre><code>sudo nano /etc/fail2ban/jail.d/whitelist.local\n</code></pre> <p>En \u00fcste IP adresinizi ekleyin (birden fazla IP varsa bo\u015flukla ay\u0131r\u0131n):</p> <pre><code>[DEFAULT]\nignoreip = 127.0.0.1/8 192.168.1.50/32\n</code></pre>"},{"location":"security/fail2ban/#6-aktiflestirme-ve-kontrol","title":"6. Aktifle\u015ftirme ve Kontrol","text":"<p>Ayarlar\u0131 ge\u00e7erli k\u0131lmak i\u00e7in servisi yeniden ba\u015flat\u0131n:</p> <pre><code># Konfig\u00fcrasyonda hata var m\u0131 kontrol et\nsudo fail2ban-client -t\n\n# Servisi yeniden ba\u015flat\nsudo systemctl restart fail2ban\n</code></pre>"},{"location":"security/fail2ban/#durum-sorgulama","title":"Durum Sorgulama","text":"<pre><code># Genel durum (Hangi hapishaneler aktif?)\nsudo fail2ban-client status\n# \u00c7\u0131kt\u0131: Jail list: sshd\n\n# SSH Jail detaylar\u0131 (Kimler banlanm\u0131\u015f?)\nsudo fail2ban-client status sshd\n</code></pre>"},{"location":"security/fail2ban/#derinlemesine-kontrol-firewall-seviyesi","title":"Derinlemesine Kontrol (Firewall Seviyesi)","text":"<p>Fail2ban ger\u00e7ekten i\u015f yap\u0131yor mu? Bunu firewall kurallar\u0131na bakarak g\u00f6rebilirsiniz. <code>iptables</code> komutu, UFW kullansan\u0131z bile arka plandaki kurallar\u0131 g\u00f6sterir:</p> <pre><code>sudo iptables -S | grep f2b\n</code></pre> <p>\u00c7\u0131kt\u0131da \u015funa benzer sat\u0131rlar g\u00f6rmelisiniz:</p> <pre><code>-N f2b-sshd\n-A INPUT -p tcp -m multiport --dports 2222 -j f2b-sshd\n-A f2b-sshd -s 1.2.3.4/32 -j REJECT --reject-with icmp-port-unreachable\n</code></pre> <p>(Son sat\u0131rdaki <code>1.2.3.4</code> banlanm\u0131\u015f bir sald\u0131rgand\u0131r).</p>"},{"location":"security/fail2ban/#7-test-etme-ban-testi","title":"7. Test Etme (Ban Testi)","text":"<p>Ayarlar\u0131n\u0131z\u0131n \u00e7al\u0131\u015f\u0131p \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 test etmek i\u00e7in en g\u00fcvenli y\u00f6ntem \u015fudur:</p> <ol> <li>Farkl\u0131 Bir Ba\u011flant\u0131 Bulun: Telefonunuzun mobil internetini (Hotspot) kullan\u0131n.</li> <li>Hatal\u0131 Giri\u015f Yap\u0131n: Mobil internet \u00fczerinden terminal a\u00e7\u0131n (Termius vb.) ve sunucunuza yanl\u0131\u015f \u015fifre ile ba\u011flanmay\u0131 deneyin.     <pre><code>ssh kullan\u0131c\u0131@sunucu-ip -p 2222\n</code></pre></li> <li>Tekrarlay\u0131n: 5-6 kez h\u0131zl\u0131ca yanl\u0131\u015f \u015fifre girin.</li> <li>Banlanma: Bir s\u00fcre sonra cevap gelmemeye ba\u015flayacak veya \"Connection Refused\" alacaks\u0131n\u0131z.</li> <li> <p>Ban Kald\u0131rma (Unban):     \u015eimdi \u00e7al\u0131\u015fan (Wi-Fi) ba\u011flant\u0131n\u0131zdan sunucuya d\u00f6n\u00fcn ve o banlanan (mobil) IP'yi affedin:</p> <pre><code>sudo fail2ban-client set sshd unbanip &lt;MOBIL_IP_ADRESINIZ&gt;\n</code></pre> </li> </ol>"},{"location":"security/fail2ban/#8-sorun-giderme-troubleshooting","title":"8. Sorun Giderme (Troubleshooting)","text":"<p>\u0130\u015fler ters gitti\u011finde kontrol etmeniz gerekenler:</p>"},{"location":"security/fail2ban/#hata-failed-to-access-socket","title":"Hata: \"Failed to access socket\"","text":"<p>Komutu yazd\u0131n\u0131z ve \u015fu hatay\u0131 ald\u0131n\u0131z:</p> <pre><code>ERROR Failed to access socket path: /var/run/fail2ban/fail2ban.sock. Is fail2ban running?\n</code></pre> <p>Anlam\u0131: Fail2ban servisi \u00e7\u00f6km\u00fc\u015f (Running de\u011fil). \u00c7\u00f6z\u00fcm\u00fc:</p> <ol> <li>Servisi ba\u015flatmay\u0131 deneyin: <code>sudo systemctl restart fail2ban</code></li> <li>E\u011fer ba\u015flam\u0131yorsa, konfig\u00fcrasyon dosyan\u0131zda yaz\u0131m hatas\u0131 vard\u0131r.</li> <li>Hatay\u0131 bulmak i\u00e7in: <code>sudo fail2ban-client -t</code></li> <li>Veya detayl\u0131 log i\u00e7in: <code>journalctl -u fail2ban.service -e</code></li> </ol>"},{"location":"security/fail2ban/#uyar-wrong-value-for-maxretry","title":"Uyar\u0131: \"Wrong value for 'maxretry'\"","text":"<p><code>fail2ban-client -t</code> yapt\u0131ysan\u0131z ve bu uyar\u0131y\u0131 g\u00f6r\u00fcyorsan\u0131z, dosyada bir \u015feyi yanl\u0131\u015f yazd\u0131n\u0131z.</p> <ul> <li>Yanl\u0131\u015f: Dosyan\u0131n en ba\u015f\u0131na <code>[sshd]</code> etiketi koymay\u0131 unutmu\u015f olabilirsiniz.</li> <li>Yanl\u0131\u015f: Sat\u0131rba\u015flar\u0131nda gereksiz bo\u015fluk b\u0131rakm\u0131\u015f olabilirsiniz.</li> <li>Do\u011fru: Her blok mutlaka <code>[k\u00f6\u015feli parantez]</code> ile ba\u015flamal\u0131d\u0131r.</li> </ul>"},{"location":"security/fail2ban/#hata-dosya-yanls-yerde","title":"Hata: Dosya Yanl\u0131\u015f Yerde","text":"<p>Dosyalar mutlaka <code>/etc/fail2ban/jail.d/</code> klas\u00f6r\u00fcnde olmal\u0131d\u0131r. E\u011fer yanl\u0131\u015fl\u0131kla <code>/etc/fail2ban/sshd.local</code> (bir \u00fcst klas\u00f6r) olu\u015fturduysan\u0131z silin:</p> <pre><code>sudo rm /etc/fail2ban/sshd.local\n</code></pre>"},{"location":"security/fail2ban/#sorun-test-ediyorum-banlamyor","title":"Sorun: \"Test Ediyorum Banlam\u0131yor\"","text":"<p>Terminalden \"Permission denied (publickey)\" hatas\u0131 al\u0131yorsunuz ama Fail2ban saym\u0131yor mu? Sebep: Fail2ban varsay\u0131lan olarak \"Wrong Password\" hatalar\u0131na bakar. Public Key hatalar\u0131 daha sessizdir. \u00c7\u00f6z\u00fcm: Konfig\u00fcrasyon dosyan\u0131za (<code>sshd.local</code>) \u015fu sat\u0131r\u0131 ekleyin:</p> <pre><code>mode = aggressive\n</code></pre>"},{"location":"security/fail2ban/#sorun-iptables-listesinde-goremiyorum","title":"Sorun: \"iptables Listesinde G\u00f6remiyorum\"","text":"<p>E\u011fer <code>iptables -S</code> bo\u015f d\u00f6n\u00fcyorsa, sunucunuz <code>nftables</code> kullan\u0131yor olabilir. \u015eunu deneyin:</p> <pre><code>sudo nft list ruleset | grep -i fail2ban\n</code></pre>"},{"location":"security/fim/","title":"Dosya B\u00fct\u00fcnl\u00fck Takibi (AIDE) \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":"<p>Bir sald\u0131rgan sunucuya s\u0131zd\u0131\u011f\u0131nda genellikle <code>sshd_config</code>, <code>passwd</code> veya <code>crontab</code> gibi kritik dosyalar\u0131 de\u011fi\u015ftirir. AIDE (Advanced Intrusion Detection Environment), sistemdeki dosyalar\u0131n \"parmak izini\" (Hash) al\u0131r ve herhangi bir de\u011fi\u015fiklik oldu\u011funda sizi uyar\u0131r.</p> <p>Mant\u0131k: \u0130lk g\u00fcn bir \"Foto\u011fraf\" (Snapshot) \u00e7ekersiniz. Her gece yeni foto\u011frafla eskisini kar\u015f\u0131la\u015ft\u0131r\u0131rs\u0131n\u0131z. Fark varsa, biri dosyay\u0131 de\u011fi\u015ftirmi\u015f demektir.</p>"},{"location":"security/fim/#1-kurulum","title":"1. Kurulum","text":"<pre><code>sudo apt update\nsudo apt install aide -y\n</code></pre>"},{"location":"security/fim/#2-ilk-veritabann-olusturma","title":"2. \u0130lk Veritaban\u0131n\u0131 Olu\u015fturma","text":"<p>Kurulumdan sonra AIDE'nin sistemin \"temiz\" halini \u00f6\u011frenmesi gerekir. Bu i\u015flem sistemdeki dosya say\u0131s\u0131na g\u00f6re 1-2 dakika s\u00fcrebilir.</p> <pre><code># Veritaban\u0131n\u0131 olu\u015ftur (Bu i\u015flem biraz s\u00fcrer)\nsudo aideinit\n\n# Olu\u015fan veritaban\u0131n\u0131 aktif hale getir\nsudo mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n</code></pre>"},{"location":"security/fim/#3-yaplandrma-gurultuyu-azaltma","title":"3. Yap\u0131land\u0131rma (G\u00fcr\u00fclt\u00fcy\u00fc Azaltma)","text":"<p>AIDE varsay\u0131lan olarak \u00e7ok hassast\u0131r. Log dosyalar\u0131 geli\u015ftik\u00e7e \"Dosya de\u011fi\u015fti!\" diye uyar\u0131 verir. Bunu engellemek i\u00e7in ayarlar\u0131 d\u00fczenleyelim.</p> <p>Dosya: <code>/etc/aide/aide.conf</code></p> <pre><code>sudo nano /etc/aide/aide.conf\n</code></pre> <p>A\u015fa\u011f\u0131daki gibi bir filtreleme mant\u0131\u011f\u0131 kullanabilirsiniz (Dosyan\u0131n sonuna ekleyin veya mevcut kurallar\u0131 d\u00fczenleyin):</p> <pre><code># Log dosyalar\u0131n\u0131n sadece \"b\u00fcy\u00fcmesini\" g\u00f6z ard\u0131 et (\u0130\u00e7erik de\u011fi\u015febilir ama silinemez)\n/var/log/   FreqRot\n/var/mail/  FreqRot\n\n# Ge\u00e7ici dizinleri yoksay\n!/tmp/\n!/var/run/\n!/var/tmp/\n</code></pre> <p>Not: <code>FreqRot</code> (Frequent Rotation), log dosyalar\u0131 i\u00e7in \u00f6zel bir moddur. Dosyan\u0131n de\u011fi\u015fmesini normal kar\u015f\u0131lar.</p>"},{"location":"security/fim/#4-manuel-kontrol","title":"4. Manuel Kontrol","text":"<p>\u0130stedi\u011finiz zaman sistemde de\u011fi\u015fiklik var m\u0131 diye kontrol etmek i\u00e7in:</p> <pre><code>sudo aide --check\n</code></pre> <ul> <li>\u00c7\u0131kt\u0131 Bo\u015fsa: De\u011fi\u015fiklik yok (Temiz).</li> <li>\u00c7\u0131kt\u0131 Varsa: De\u011fi\u015fen dosyalar\u0131n listesini verir.</li> </ul>"},{"location":"security/fim/#5-degisiklikleri-onaylama-update","title":"5. De\u011fi\u015fiklikleri Onaylama (Update)","text":"<p>Sistemi g\u00fcncellediniz (<code>apt upgrade</code>) veya konfig\u00fcrasyon de\u011fi\u015ftirdiniz. AIDE \"Dosyalar de\u011fi\u015fti!\" diye ba\u011f\u0131racakt\u0131r. Bunlar\u0131n \"yetkili de\u011fi\u015fiklik\" oldu\u011funu s\u00f6ylemek i\u00e7in veritaban\u0131n\u0131 g\u00fcncellemelisiniz:</p> <pre><code># Yeni durumu 'Normal' kabul et\nsudo aide --update\n\n# Yeni veritaban\u0131n\u0131 aktif et\nsudo mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n</code></pre>"},{"location":"security/fim/#6-otomasyon-cron","title":"6. Otomasyon (Cron)","text":"<p>AIDE zaten <code>/etc/cron.daily/aide</code> alt\u0131na kendi scriptini koyar ve her sabah mail atar. Ancak mail sunucunuz yoksa log dosyas\u0131na yazmas\u0131n\u0131 sa\u011flayabilirsiniz.</p> <p>E\u011fer otomatik \u00e7al\u0131\u015fm\u0131yorsa basit bir cron ekleyelim:</p> <pre><code># Her gece 04:00'te kontrol et ve loga yaz\n0 4 * * * /usr/bin/aide --check &gt; /var/log/aide-check.log 2&gt;&amp;1\n</code></pre>"},{"location":"security/fim/#onemli-uyar","title":"\u26a0\ufe0f \u00d6nemli Uyar\u0131","text":"<p>AIDE, canl\u0131 sald\u0131r\u0131y\u0131 engellemez. Sadece sald\u0131r\u0131 olduktan sonra neyin de\u011fi\u015fti\u011fini size s\u00f6yler. Bu y\u00fczden AIDE veritaban\u0131n\u0131 (<code>/var/lib/aide/aide.db</code>) g\u00fcvenli bir yere (\u00f6rn: mail adresinize veya ba\u015fka sunucuya) yedeklemeniz \u00f6nerilir. Yoksa sald\u0131rgan veritaban\u0131n\u0131 da de\u011fi\u015ftirip kendini gizleyebilir!</p>"},{"location":"security/firewall/","title":"Firewall (UFW) Y\u00f6netimi","text":"<p>Linux \u00e7ekirde\u011findeki (Kernel) paket filtresini y\u00f6netmek i\u00e7in UFW (Uncomplicated Firewall) kullan\u0131yoruz.</p> <p>[!IMPORTANT] &gt; Alt\u0131n Kural: \"Her \u015feyi kapat, sadece ihtiyac\u0131 a\u00e7.\" (Default Deny)</p>"},{"location":"security/firewall/#1-kritik-uyar-docker-ve-ufw","title":"1. Kritik Uyar\u0131: Docker ve UFW","text":"<p>[!WARNING] &gt; Docker kullananlar dikkat! Docker, varsay\u0131lan olarak <code>iptables</code> kurallar\u0131n\u0131 kendisi y\u00f6netir ve UFW'yi bypass eder. Yani UFW ile bir portu kapatsan\u0131z bile, Docker konteyneri o portu (\u00f6rn: 8080) host'a bind ettiyse, d\u0131\u015f d\u00fcnyadan eri\u015filebilir!</p>"},{"location":"security/firewall/#manuel-iptables-ayar-yapmal-mym-hayr","title":"\"Manuel Iptables Ayar\u0131 Yapmal\u0131 m\u0131y\u0131m?\" (Hay\u0131r!)","text":"<p>Docker, kendi kurallar\u0131n\u0131 <code>iptables</code> zincirinin en ba\u015f\u0131na yazar. Bunu engellemek i\u00e7in kurallar\u0131 <code>DOCKER-USER</code> zincirine manuel ekleyebilirsiniz ANCAK:</p> <ol> <li>Zordur: <code>iptables</code> komutlar\u0131 karma\u015f\u0131kt\u0131r (<code>-I DOCKER-USER -i eth0 ! -s 127.0.0.1 -j DROP</code> gibi).</li> <li>Kal\u0131c\u0131 De\u011fildir: Sunucu yeniden ba\u015flay\u0131nca kurallar silinebilir (<code>iptables-save</code> yap\u0131lmazsa).</li> <li>Hata Kald\u0131rmaz: Yanl\u0131\u015f bir kural Docker a\u011f\u0131n\u0131 komple bozabilir.</li> </ol> <p>Bu y\u00fczden <code>ufw-docker</code> arac\u0131n\u0131 kullan\u0131n. Bu ara\u00e7, o karma\u015f\u0131k <code>iptables</code> kurallar\u0131n\u0131 sizin yerinize g\u00fcvenli \u015fekilde y\u00f6netir.</p> <p>[!TIP] &gt; Mimari \u00c7\u00f6z\u00fcm: Portlar\u0131 hi\u00e7 a\u00e7mamak en iyisidir! Docker'da g\u00fcvenli \"Gateway Modeli\" kurmak i\u00e7in Docker Gateway Mimarisi rehberini mutlaka okuyun.</p>"},{"location":"security/firewall/#onerilen-cozum-ufw-docker","title":"\u00d6nerilen \u00c7\u00f6z\u00fcm: ufw-docker","text":"<p>\u00dcretim ortam\u0131 i\u00e7in en temiz \u00e7\u00f6z\u00fcm <code>ufw-docker</code> utility'sini kullanmakt\u0131r:</p> <pre><code># Arac\u0131 indir ve kur\nsudo wget -O /usr/local/bin/ufw-docker https://github.com/chaifeng/ufw-docker/raw/master/ufw-docker\nsudo chmod +x /usr/local/bin/ufw-docker\n\n# Docker'\u0131n iptables manip\u00fclasyonunu d\u00fczelt\nufw-docker install\n</code></pre>"},{"location":"security/firewall/#2-hazrlk-ve-ipv6","title":"2. Haz\u0131rl\u0131k ve IPv6","text":"<p>\u00d6nce IPv6 deste\u011finin a\u00e7\u0131k oldu\u011fundan emin olun (\u00e7o\u011fu modern sunucuda varsay\u0131lan a\u00e7\u0131kt\u0131r):</p> <pre><code>nano /etc/default/ufw\n# IPV6=yes oldu\u011fundan emin olun\n</code></pre> <p>S\u0131f\u0131rdan ba\u015fl\u0131yorsan\u0131z temizleyin:</p> <pre><code>ufw disable\nufw reset\n</code></pre>"},{"location":"security/firewall/#3-varsaylan-politikalar-default-policies","title":"3. Varsay\u0131lan Politikalar (Default Policies)","text":"<p>\u00c7o\u011fu rehber sadece giri\u015fi kapat\u0131r. Biz \u00e7\u0131k\u0131\u015f\u0131 da kapatarak (egress filtering) g\u00fcvenli\u011fi art\u0131raca\u011f\u0131z. Bu, sunucunun hacklenmesi durumunda d\u0131\u015far\u0131ya veri ka\u00e7\u0131r\u0131lmas\u0131n\u0131 veya sunucunun bir botnet par\u00e7as\u0131 olmas\u0131n\u0131 zorla\u015ft\u0131r\u0131r.</p> <pre><code># Giren her \u015feyi engelle (Standart)\nufw default deny incoming\n\n# \u00c7\u0131kan her \u015feyi engelle (Hardening)\nufw default deny outgoing\n</code></pre>"},{"location":"security/firewall/#operasyon-ve-bakm-sss","title":"Operasyon ve Bak\u0131m (SSS)","text":""},{"location":"security/firewall/#status-inactive-nedir","title":"\"Status: inactive\" Nedir?","text":"<p>UFW kuruldu\u011funda varsay\u0131lan olarak kapal\u0131d\u0131r. <code>sudo ufw enable</code> komutunu \u00e7al\u0131\u015ft\u0131rd\u0131\u011f\u0131n\u0131zda hem \u015fimdi a\u00e7\u0131l\u0131r hem de a\u00e7\u0131l\u0131\u015fta (boot) otomatik ba\u015flamas\u0131 i\u00e7in <code>systemd</code> servisini ayarlar. Yani bir kere etkinle\u015ftirmeniz yeterlidir, sunucu kapan\u0131p a\u00e7\u0131lsa da \u00e7al\u0131\u015f\u0131r.</p>"},{"location":"security/firewall/#ipv6-kurallar-v6","title":"IPv6 Kurallar\u0131 (v6)","text":"<p><code>ufw status</code> \u00e7\u0131kt\u0131s\u0131nda <code>(v6)</code> ibareli kurallar g\u00f6r\u00fcrs\u00fcn\u00fcz. Bu normaldir. E\u011fer sunucunuzda IPv6 kullanm\u0131yorsan\u0131z ve bu kurallar\u0131 kapatmak isterseniz:</p> <ol> <li><code>/etc/default/ufw</code> dosyas\u0131n\u0131 a\u00e7\u0131n.</li> <li><code>IPV6=yes</code> sat\u0131r\u0131n\u0131 <code>IPV6=no</code> yap\u0131n.</li> <li><code>sudo ufw reload</code> yap\u0131n.</li> </ol> <p>[!NOTE] Zarar\u0131 yoktur, a\u00e7\u0131k kalmas\u0131 g\u00fcvenlik riski olu\u015fturmaz (tabii porta izin vermediyseniz).</p>"},{"location":"security/firewall/#kural-tekrar-80-vs-80tcp","title":"Kural Tekrar\u0131 (80 vs 80/tcp)","text":"<p><code>ufw allow 80</code> yazarsan\u0131z hem TCP hem UDP protokol\u00fcne izin verir. <code>ufw allow 80/tcp</code> yazarsan\u0131z sadece TCP'ye izin verir. Listede iki kural\u0131n da g\u00f6r\u00fcnmesi normaldir. Web sunucular genelde sadece TCP kullan\u0131r, bu y\u00fczden <code>80/tcp</code> daha temizdir ama <code>80</code> de sorun \u00e7\u0131karmaz.</p>"},{"location":"security/firewall/#yeni-port-nasl-eklenir","title":"Yeni Port Nas\u0131l Eklenir?","text":"<p>Gelecekte yeni bir servis (\u00f6rn: Port 5000) a\u00e7mak isterseniz \u0130K\u0130 ADIM gereklidir:</p> <ol> <li>Sunucu \u0130\u00e7i: <code>sudo ufw allow 5000/tcp</code></li> <li>Oracle/Bulut Paneli: Security List &gt; Ingress Rules &gt; Port 5000 Ekle</li> </ol> <p>Sadece birini yaparsan\u0131z eri\u015femezsiniz!</p>"},{"location":"security/firewall/#4-kural-silme-ve-port-kapatma","title":"4. Kural Silme ve Port Kapatma","text":"<p>Bir portu kapatman\u0131n iki yolu vard\u0131r. En temiz y\u00f6ntem kural\u0131 silmektir.</p>"},{"location":"security/firewall/#yontem-1-kural-silmek-onerilen","title":"Y\u00f6ntem 1: Kural\u0131 Silmek (\u00d6nerilen)","text":"<p>Mevcut izni kald\u0131r\u0131rs\u0131n\u0131z. Varsay\u0131lan politikam\u0131z <code>deny incoming</code> oldu\u011fu i\u00e7in, izin silinince port otomatikman kapan\u0131r.</p> <p>En kolay yol numaral\u0131 liste kullanmakt\u0131r:</p> <ol> <li>Numaralar\u0131 listeleyin:     <pre><code>sudo ufw status numbered\n</code></pre></li> <li>\u0130stedi\u011finiz numaray\u0131 silin (\u00d6rn: 1 numaral\u0131 kural\u0131 silmek i\u00e7in):     <pre><code>sudo ufw delete 1\n</code></pre> Dikkat: Bir kural\u0131 silince alttakilerin numaras\u0131 yukar\u0131 kayar! Her silme i\u015fleminden sonra tekrar <code>status numbered</code> yap\u0131n.</li> </ol>"},{"location":"security/firewall/#yontem-2-deny-kural-eklemek","title":"Y\u00f6ntem 2: \"Deny\" Kural\u0131 Eklemek","text":"<p>Kural\u0131 silmeden, o porta \u00f6zel bir \"yasak\" kural\u0131 eklersiniz.</p> <pre><code>sudo ufw deny 22/tcp\n</code></pre> <p>Bu y\u00f6ntem listenizi kalabal\u0131kla\u015ft\u0131r\u0131r. Genellikle belirli bir IP'yi engellemek (<code>deny from 1.2.3.4</code>) i\u00e7in kullan\u0131l\u0131r, port kapatmak i\u00e7in <code>delete</code> daha temizdir.</p>"},{"location":"security/firewall/#5-temel-kurallar-ve-hizmetler","title":"5. Temel Kurallar ve Hizmetler","text":"<p>[!TIP] Kurallar\u0131 eklerken <code>comment</code> parametresini kullanmak, ileride <code>ufw status</code> \u00e7\u0131kt\u0131s\u0131n\u0131 okurken hayat kurtar\u0131r.</p>"},{"location":"security/firewall/#ssh-oncelikli","title":"SSH (\u00d6ncelikli)","text":"<p>SSH portunuz varsay\u0131lan (22) de\u011filse, kendi portunuzu yaz\u0131n. Sadece <code>allow</code> yerine <code>limit</code> kullanarak basit brute-force sald\u0131r\u0131lar\u0131n\u0131 yava\u015flat\u0131n.</p> <pre><code># Rate limiting ile SSH izni (Son 30 saniyede 6 ba\u015far\u0131s\u0131z denemede IP'yi banlar)\nufw limit 2222/tcp comment 'SSH Port'\n</code></pre>"},{"location":"security/firewall/#web-sunucusu-httphttps","title":"Web Sunucusu (HTTP/HTTPS)","text":"<pre><code>ufw allow 80/tcp comment 'HTTP'\nufw allow 443/tcp comment 'HTTPS'\n</code></pre>"},{"location":"security/firewall/#kritik-giden-trafik-outbound","title":"Kritik Giden Trafik (Outbound)","text":"<p>\u00c7\u0131k\u0131\u015f\u0131 kapatt\u0131\u011f\u0131m\u0131z (<code>default deny outgoing</code>) i\u00e7in, sunucunun \u00e7al\u0131\u015fmas\u0131 i\u00e7in hayati olan portlara izin vermeliyiz:</p> <pre><code># DNS Sorgular\u0131 (Domain \u00e7\u00f6z\u00fcmlemek i\u00e7in \u015fart)\nufw allow out 53 comment 'DNS'\n\n# HTTP/HTTPS (Update yapmak, curl ile dosya \u00e7ekmek, webhook \u00e7a\u011f\u0131rmak i\u00e7in)\nufw allow out 80/tcp comment 'HTTP Out'\nufw allow out 443/tcp comment 'HTTPS Out'\n\n# NTP (Zaman senkronizasyonu)\nufw allow out 123/udp comment 'NTP'\n</code></pre>"},{"location":"security/firewall/#5-ileri-seviye-guvenlik","title":"5. \u0130leri Seviye G\u00fcvenlik","text":""},{"location":"security/firewall/#loglama-logging","title":"Loglama (Logging)","text":"<p>Lynis gibi denetim ara\u00e7lar\u0131 firewall loglar\u0131n\u0131 kontrol eder. Loglamay\u0131 a\u00e7\u0131n ancak diski doldurmamak i\u00e7in \"low\" seviyesinde tutun.</p> <pre><code>ufw logging on\nufw logging low\n</code></pre> <p>Loglar <code>/var/log/ufw.log</code> dosyas\u0131na yaz\u0131l\u0131r.</p>"},{"location":"security/firewall/#ip-bazl-kstlamalar","title":"IP Bazl\u0131 K\u0131s\u0131tlamalar","text":"<p>SSH veya y\u00f6netim panelleri gibi hassas servisleri t\u00fcm d\u00fcnyaya a\u00e7mak yerine sadece ofis/VPN IP'nize a\u00e7\u0131n.</p> <pre><code># Mevcut genel kural\u0131 sil\nufw delete limit 2222/tcp\n\n# Sadece ofis IP'sine izin ver (Whitelisting)\nufw allow from 198.51.100.4 to any port 2222 proto tcp comment 'SSH Office IP'\n</code></pre>"},{"location":"security/firewall/#ip-banlama-blacklisting","title":"IP Banlama (Blacklisting)","text":"<pre><code># Tek bir IP'yi engelle\nufw deny from 203.0.113.4\n\n# T\u00fcm bir subnet'i engelle\nufw deny from 203.0.113.0/24\n</code></pre>"},{"location":"security/firewall/#6-yonetim-ve-kontrol","title":"6. Y\u00f6netim ve Kontrol","text":""},{"location":"security/firewall/#kurallar-silme","title":"Kurallar\u0131 Silme","text":"<p>Komutlar\u0131 hat\u0131rlamak yerine numaral\u0131 listeyi kullan\u0131n:</p> <pre><code>ufw status numbered\n# \u00c7\u0131kt\u0131daki numaraya g\u00f6re sil (\u00d6rn: 2 numaray\u0131 sil)\nufw delete 2\n</code></pre>"},{"location":"security/firewall/#aktiflestirme-ve-dogrulama","title":"Aktifle\u015ftirme ve Do\u011frulama","text":"<p>D\u0130KKAT: SSH kural\u0131n\u0131n ekli oldu\u011fundan %100 emin olun yoksa sunucuya eri\u015fiminizi kaybedersiniz.</p> <pre><code>ufw enable\n</code></pre> <p>Durumu detayl\u0131 kontrol edin:</p> <pre><code>ufw status verbose\n</code></pre>"},{"location":"security/lynis/","title":"Lynis (G\u00fcvenlik Denetimi)","text":"<p>Lynis, sunucuda h\u0131zl\u0131 bir g\u00fcvenlik denetimi yap\u0131p, sisteminizi 100 \u00fczerinden puanlayan ve eksikleri raporlayan bir ara\u00e7t\u0131r. Bir \"Antivir\u00fcs\" de\u011fildir; bir \"M\u00fcfetti\u015f\"tir.</p>"},{"location":"security/lynis/#1-kurulum","title":"1. Kurulum","text":"<pre><code>sudo apt update\nsudo apt install -y lynis\n</code></pre>"},{"location":"security/lynis/#2-tarama-baslatma","title":"2. Tarama Ba\u015flatma","text":"<p>Taramay\u0131 ba\u015flat\u0131n:</p> <pre><code>sudo lynis audit system\n</code></pre> <p>(Enter'a basarak ilerleyebilirsiniz. H\u0131zl\u0131 ge\u00e7mek i\u00e7in <code>-Q</code> parametresini kullanabilirsiniz: <code>sudo lynis audit system -Q</code>)</p>"},{"location":"security/lynis/#3-yaygn-uyarlar-ve-cozumleri","title":"3. Yayg\u0131n Uyar\u0131lar ve \u00c7\u00f6z\u00fcmleri","text":"<p>Tarama sonucunda muhtemelen \u015funlar\u0131 g\u00f6receksiniz:</p>"},{"location":"security/lynis/#malware-scanner-not-found","title":"\u26a0\ufe0f Malware scanner not found","text":"<p>Anlam\u0131: Lynis, sistemde vir\u00fcs veya rootkit taray\u0131c\u0131s\u0131 (ClamAV, Rkhunter) bulamad\u0131. \u00c7\u00f6z\u00fcm: Bu bir \"hata\" de\u011fil, eksikliktir. Linux sunucularda antivir\u00fcs \u015fart de\u011fildir ama \"Rootkit Hunter\" kurmak iyi bir pratiktir. \u00c7\u00f6z\u00fcm: Bu bir \"hata\" de\u011fil, eksikliktir. Linux sunucularda antivir\u00fcs \u015fart de\u011fildir ama \"Rootkit Hunter\" kurmak iyi bir pratiktir. Kurulum (Opsiyonel):</p> <p>Detayl\u0131 kurulum ve yap\u0131land\u0131rma i\u00e7in Malware &amp; Rootkit Taramas\u0131 sayfas\u0131n\u0131 inceleyin.</p>"},{"location":"security/lynis/#security-repository-not-found-pkgs-7388","title":"\u26a0\ufe0f Security repository not found (PKGS-7388)","text":"<p>Anlam\u0131: Lynis, Ubuntu 24.04'\u00fcn yeni kaynak format\u0131n\u0131 (<code>.sources</code>) bazen tan\u0131yamaz ve g\u00fcvenlik deposu yok san\u0131r. \u00c7\u00f6z\u00fcm: Bu bir False Positive (Yanl\u0131\u015f Alarm) durumudur. E\u011fer <code>apt-cache policy</code> \u00e7\u0131kt\u0131s\u0131nda <code>-security</code> g\u00f6r\u00fcyorsan\u0131z bu uyar\u0131y\u0131 g\u00f6rmezden gelebilirsiniz.</p>"},{"location":"security/lynis/#4-sk-kullanlan-parametreler","title":"4. S\u0131k Kullan\u0131lan Parametreler \ud83d\udee0\ufe0f","text":"<p>Lynis'i daha efektif kullanmak i\u00e7in \u015fu parametreleri bilmenizde fayda var:</p> Parametre Ne \u0130\u015f Yapar? \u00d6rnek <code>-Q</code> (Quick) Hi\u00e7bir tu\u015fa basman\u0131z\u0131 beklemez, otomatik tarar. <code>lynis audit system -Q</code> <code>--pentest</code> Root olmayan (non-privileged) bir tarama yapar. <code>lynis audit system --pentest</code> <code>--verbose</code> Ekrana daha detayl\u0131 \u00e7\u0131kt\u0131 (k\u0131rm\u0131z\u0131/ye\u015fil) basar. <code>lynis audit system --verbose</code> <code>--log-file</code> Raporu \u00f6zel bir dosyaya kaydeder. <code>lynis audit system --log-file=/tmp/lynis.log</code>"},{"location":"security/lynis/#old-version-update-available","title":"\u26a0\ufe0f Old version / Update available","text":"<p>Anlam\u0131: Lynis'in kendi s\u00fcr\u00fcm\u00fc eski olabilir. Ubuntu depolar\u0131ndaki (<code>apt install lynis</code>) s\u00fcr\u00fcm, resmi siteden birka\u00e7 ay/y\u0131l geriden gelebilir. \u00c7\u00f6z\u00fcm: Bu bir g\u00fcvenlik a\u00e7\u0131\u011f\u0131 de\u011fildir, sadece yeni \u00f6zelliklerin eksik oldu\u011funu g\u00f6sterir.</p> <p>Nas\u0131l G\u00fcncellenir? (Opsiyonel) E\u011fer bu uyar\u0131y\u0131 kald\u0131rmak ve en son s\u00fcr\u00fcm\u00fc kullanmak isterseniz, resmi deposunu ekleyebilirsiniz:</p> <pre><code># 1. Eski s\u00fcr\u00fcm\u00fc sil\nsudo apt remove lynis -y\n\n# 2. Resmi CISOfy deposunu ekle\nwget -O - https://packages.cisofy.com/keys/cisofy-software-public.key | sudo apt-key add -\necho \"deb https://packages.cisofy.com/community/lynis/deb/ stable main\" | sudo tee /etc/apt/sources.list.d/cisofy-lynis.list\n\n# 3. G\u00fcncel s\u00fcr\u00fcm\u00fc kur\nsudo apt update\nsudo apt install lynis\n</code></pre>"},{"location":"security/lynis/#firewall-not-active","title":"\u26a0\ufe0f Firewall not active","text":"<p>Anlam\u0131: UFW veya Iptables aktif de\u011fil. \u00c7\u00f6z\u00fcm: Firewall b\u00f6l\u00fcm\u00fcndeki ayarlar\u0131 yap\u0131n. (Docker kullan\u0131yorsan\u0131z bu uyar\u0131 bazen yan\u0131lt\u0131c\u0131 olabilir, <code>nft list ruleset</code> ile kontrol edin).</p>"},{"location":"security/lynis/#banner-issue-file","title":"\u26a0\ufe0f Banner / Issue file","text":"<p>Anlam\u0131: SSH ile ba\u011flan\u0131rken ekranda \"Ubuntu 22.04\" gibi versiyon bilgisi yaz\u0131yor. Sald\u0131rganlara bilgi vermemek i\u00e7in bunu gizlemenizi \u00f6nerir. \u00c7\u00f6z\u00fcm: <code>/etc/issue.net</code> dosyas\u0131n\u0131n i\u00e7eri\u011fini temizleyebilirsiniz.</p>"},{"location":"security/lynis/#4-raporu-okuma","title":"4. Raporu Okuma","text":"<p>Tarama bitince size bir Hardening Index (\u00d6rn: 65/100) verir.</p> <ul> <li>60 alt\u0131: G\u00fcvenlik zay\u0131f, acil \u00f6nlem laz\u0131m.</li> <li>70-80 aras\u0131: Gayet iyi, standart bir sunucu i\u00e7in yeterli.</li> <li>90 \u00fcst\u00fc: \u00c7ok s\u0131k\u0131 (Hardened), bazen kullan\u0131m\u0131 zorla\u015ft\u0131rabilir.</li> </ul> <p>Detayl\u0131 rapor <code>/var/log/lynis.log</code> dosyas\u0131ndad\u0131r.</p>"},{"location":"security/lynis/#5-otomatik-tarama-cron","title":"5. Otomatik Tarama (Cron)","text":"<p>Ayda bir sistemin sa\u011fl\u0131k durumunu kontrol etmek i\u00e7in:</p> <pre><code>echo \"0 3 1 * * root /usr/bin/lynis audit system -Q\" | sudo tee /etc/cron.d/lynis-audit\n</code></pre>"},{"location":"security/malware/","title":"Malware ve Rootkit Taramas\u0131 (ClamAV &amp; Rkhunter)","text":"<p>Linux g\u00fcvenli\u011finde \"Antivir\u00fcs gereksizdir\" efsanesi, modern tehditler kar\u015f\u0131s\u0131nda ge\u00e7erlili\u011fini yitirmi\u015ftir. Sunucunuzda Windows vir\u00fcsleri \u00e7al\u0131\u015fmasa bile, zararl\u0131 yaz\u0131l\u0131mlar\u0131 bar\u0131nd\u0131r\u0131p a\u011fdaki di\u011fer cihazlara yayabilir veya Rootkit denen sinsi ara\u00e7larla ele ge\u00e7irilebilir.</p> <p>Lynis, malware taray\u0131c\u0131s\u0131 bulamazsa g\u00fcvenlik puan\u0131n\u0131z\u0131 d\u00fc\u015f\u00fcr\u00fcr. Bu rehberde en iyi ikili kombinasyonu kuraca\u011f\u0131z: ClamAV + Rkhunter.</p>"},{"location":"security/malware/#1-hangi-arac-neden-sectik","title":"1. Hangi Arac\u0131 Neden Se\u00e7tik?","text":"<p>Tek bir ara\u00e7 yetmez, \u00e7\u00fcnk\u00fc odak noktalar\u0131 farkl\u0131d\u0131r:</p> Ara\u00e7 Odak Ne Yapar? Kaynak T\u00fcketimi ClamAV Vir\u00fcs &amp; Malware Dosya sistemindeki bilinen zararl\u0131lar\u0131 (trojan, mine scriptleri, Windows vir\u00fcsleri) tarar. Orta (Tarama s\u0131ras\u0131nda) Rkhunter Rootkit Sistem dosyalar\u0131n\u0131n de\u011fi\u015ftirilip de\u011fi\u015ftirilmedi\u011fini (checksum) ve backdoor (arka kap\u0131) belirtilerini kontrol eder. \u00c7ok D\u00fc\u015f\u00fck <p>\u00d6neri: \u0130kisini birlikte kullan\u0131n. Birbirlerini tamamlarlar.</p>"},{"location":"security/malware/#2-clamav-kurulumu-antivirus","title":"2. ClamAV Kurulumu (Antivir\u00fcs)","text":"<p>En pop\u00fcler a\u00e7\u0131k kaynakl\u0131 antivir\u00fcs motorudur.</p>"},{"location":"security/malware/#kurulum","title":"Kurulum","text":"<pre><code>sudo apt update\nsudo apt install clamav clamav-daemon -y\n</code></pre>"},{"location":"security/malware/#veritaban-guncelleme","title":"Veritaban\u0131 G\u00fcncelleme","text":"<p>Kurulumdan sonra vir\u00fcs veritaban\u0131n\u0131 g\u00fcncelleyin. E\u011fer <code>freshclam</code> servisi \u00e7al\u0131\u015f\u0131yorsa \u00f6nce durdurun:</p> <pre><code>sudo systemctl stop clamav-freshclam\nsudo freshclam\nsudo systemctl start clamav-freshclam\n</code></pre>"},{"location":"security/malware/#manuel-tarama","title":"Manuel Tarama","text":"<p>T\u00fcm sistemi taramak uzun s\u00fcrer ve CPU kullan\u0131r. \u00d6nce kritik dizinleri taray\u0131n:</p> <pre><code># Sadece Home dizinini tara, enfekte dosyalar\u0131 g\u00f6ster (-i), \u00f6terek uyar (--bell)\nsudo clamscan -r -i --bell /home\n\n# T\u00fcm sistemi tara (Uzun s\u00fcrer!)\n# sudo clamscan -r -i / --exclude-dir=\"^/sys\" --exclude-dir=\"^/proc\" --exclude-dir=\"^/dev\"\n</code></pre>"},{"location":"security/malware/#3-rkhunter-kurulumu-rootkit-avcs","title":"3. Rkhunter Kurulumu (Rootkit Avc\u0131s\u0131)","text":"<p>Rootkit'ler, kendilerini gizleyen ve sistemin \u00e7ekirde\u011fine s\u0131zan zararl\u0131lard\u0131r. Rkhunter, sistem dosyalar\u0131n\u0131n (<code>ls</code>, <code>ps</code>, <code>top</code> gibi) de\u011fi\u015ftirilip de\u011fi\u015ftirilmedi\u011fini kontrol eder.</p>"},{"location":"security/malware/#kurulum_1","title":"Kurulum","text":"<pre><code>sudo apt install rkhunter -y\n</code></pre>"},{"location":"security/malware/#ilk-ayar-onemli","title":"\u0130lk Ayar (\u00d6nemli!)","text":"<p>Rkhunter kurulduktan sonra sisteme \"\u015eu anki halim temizdir, bunun foto\u011fraf\u0131n\u0131 \u00e7ek\" demelisiniz. Buna Snapshot denir.</p> <pre><code># Mevcut dosya \u00f6zelliklerini veritaban\u0131na kaydet\nsudo rkhunter --propupd\n</code></pre>"},{"location":"security/malware/#tarama-yapma","title":"Tarama Yapma","text":"<pre><code># Taramay\u0131 ba\u015flat (Enter'a basmadan ge\u00e7mek i\u00e7in --sk)\nsudo rkhunter --check --sk\n</code></pre> <p>Loglar\u0131 incelemek i\u00e7in:</p> <pre><code>sudo cat /var/log/rkhunter.log | grep -i warning\n</code></pre> <p>Not: Rkhunter bazen \"Hidden file found\" gibi yanl\u0131\u015f alarmlar (False Positive) verebilir. \u00d6rne\u011fin <code>/usr/bin/wp</code> (WordPress CLI) gibi scriptleri \u015f\u00fcpheli bulabilir. Loglardan kontrol edip g\u00fcvenliyse <code>rkhunter.conf</code> dosyas\u0131na ekleyebilirsiniz.</p>"},{"location":"security/malware/#4-otomasyon-gece-taramas","title":"4. Otomasyon (Gece Taramas\u0131)","text":"<p>Her g\u00fcn manuel tarama yapmak zordur. Bunu otomatize edelim.</p>"},{"location":"security/malware/#gunluk-cron-job-olusturma","title":"G\u00fcnl\u00fck Cron Job Olu\u015fturma","text":"<p>Haftan\u0131n her g\u00fcn\u00fc gece 03:00'te \u00e7al\u0131\u015facak bir script ayarlayal\u0131m.</p> <ol> <li> <p>Cron dosyas\u0131n\u0131 a\u00e7\u0131n:</p> <pre><code>sudo crontab -e\n</code></pre> </li> <li> <p>En alta \u015fu sat\u0131r\u0131 ekleyin:</p> <pre><code># Her gece 03:00'te ClamAV taramas\u0131 (Sadece /home ve /var/www)\n0 3 * * * /usr/bin/clamscan -r -i /home /var/www &gt; /var/log/clamav-daily.log 2&gt;&amp;1\n\n# Her gece 03:30'da Rkhunter taramas\u0131 (Sadece g\u00fcncelleme ve kontrol)\n30 3 * * * /usr/bin/rkhunter --update --propupd --check --sk &gt; /var/log/rkhunter-daily.log 2&gt;&amp;1\n</code></pre> </li> </ol> <p>bu sayede sabah kalkt\u0131\u011f\u0131n\u0131zda loglar\u0131 kontrol edebilirsiniz.</p>"},{"location":"security/malware/#5-ozet","title":"5. \u00d6zet","text":"<p>Bu iki arac\u0131 kurarak:</p> <ol> <li>Lynis Puan\u0131n\u0131z\u0131 Artt\u0131rd\u0131n\u0131z: Lynis art\u0131k \"Malware scanner found\" diyecek.</li> <li>Dosya G\u00fcvenli\u011fi: Sunucunuza y\u00fcklenen zararl\u0131 dosyalar\u0131 (ClamAV) fark edeceksiniz.</li> <li>Sistem B\u00fct\u00fcnl\u00fc\u011f\u00fc: E\u011fer bir hacker <code>ls</code> komutunu de\u011fi\u015ftirip kendi dosyalar\u0131n\u0131 gizlerse (Rootkit), Rkhunter bunu yakalayacak.</li> </ol>"},{"location":"security/malware/#6-kurulumu-nasl-test-ederim","title":"6. Kurulumu Nas\u0131l Test Ederim?","text":"<p>Her \u015feyi kurduk ama \u00e7al\u0131\u015f\u0131yor mu? Hemen test edelim.</p>"},{"location":"security/malware/#clamav-testi-eicar-dosyas","title":"ClamAV Testi (EICAR Dosyas\u0131)","text":"<p>Antivir\u00fcs sistemlerini test etmek i\u00e7in kullan\u0131lan zarars\u0131z bir test dosyas\u0131 vard\u0131r (EICAR).</p> <ol> <li> <p>Test dosyas\u0131n\u0131 indirin:</p> <pre><code>wget https://secure.eicar.org/eicar.com.txt\n</code></pre> </li> <li> <p>Taramay\u0131 \u00e7al\u0131\u015ft\u0131r\u0131n:</p> <pre><code>clamscan eicar.com.txt\n</code></pre> </li> <li> <p>Sonu\u00e7: \u00c7\u0131kt\u0131da <code>eicar.com.txt: Win.Test.EICAR_HDB-1 FOUND</code> yaz\u0131s\u0131n\u0131 g\u00f6r\u00fcyorsan\u0131z ClamAV \u00e7al\u0131\u015f\u0131yor demektir! (Test dosyas\u0131n\u0131 silebilirsiniz).</p> </li> </ol>"},{"location":"security/malware/#rkhunter-testi","title":"Rkhunter Testi","text":"<p>Rkhunter'\u0131n versiyonunu ve veritaban\u0131 durumunu kontrol edin.</p> <pre><code>sudo rkhunter --versioncheck\n</code></pre> <p>E\u011fer hata vermiyorsa ve versiyon numaras\u0131n\u0131 g\u00f6r\u00fcyorsan\u0131z kurulum ba\u015far\u0131l\u0131d\u0131r.</p>"},{"location":"security/monitoring/","title":"\u0130zleme ve Anomali Tespiti (Monitoring) \ud83d\udcca","text":"<p>Sunucunuzda Prometheus veya Grafana gibi geli\u015fmi\u015f ara\u00e7lar yoksa, basit Bash scriptleri ile CPU kullan\u0131m\u0131 veya A\u011f trafi\u011fi anormalle\u015fti\u011finde mail atman\u0131z\u0131 sa\u011flayabilirsiniz.</p> <p>\u00d6zellikle \"Gece 3'te CPU neden %100 oldu?\" sorusunun cevab\u0131n\u0131 yakalamak i\u00e7in hayati \u00f6nem ta\u015f\u0131r.</p> <p>\u26a0\ufe0f \u0130lk Kurulumda Test Edin! Script'leri cron'a eklemeden \u00f6nce manuel \u00e7al\u0131\u015ft\u0131r\u0131p mail/bildirim geldi\u011fini do\u011frulay\u0131n: <code>sudo /usr/local/bin/cpu_alert.sh</code></p>"},{"location":"security/monitoring/#1-on-gereksinim-mail-kurulumu","title":"1. \u00d6n Gereksinim: Mail Kurulumu \ud83d\udcec","text":"<p>Scriptlerin \u00e7al\u0131\u015fmas\u0131 i\u00e7in sunucunun mail atabilmesi gerekir.</p> <pre><code># Basit mail client kurulumu\nsudo apt install mailutils -y\n\n# Test et\necho \"Test mail\" | mail -s \"Test\" admin@example.com\n</code></pre> <p>Not: E\u011fer sunucu mail atam\u0131yorsa (Port 25 kapal\u0131ysa), a\u015fa\u011f\u0131da anlat\u0131lan Telegram y\u00f6ntemini kullan\u0131n.</p>"},{"location":"security/monitoring/#2-cpu-anomali-alarm","title":"2. CPU Anomali Alarm\u0131 \ud83d\udea8","text":"<p>Bu script, CPU kullan\u0131m\u0131 belirledi\u011finiz e\u015fi\u011fi (\u00f6rn: %80) ge\u00e7erse size mail atar ve log tutar.</p> <p>Dosya: <code>/usr/local/bin/cpu_alert.sh</code></p> <pre><code>#!/bin/bash\n# cpu_alert.sh - CPU Spike Monitor\n\nTHRESHOLD=80\nCPU_USAGE=$(top -bn1 | grep \"Cpu(s)\" | awk '{print int($2)}')\nLOG_FILE=\"/var/log/cpu_alerts.log\"\nEMAIL=\"admin@example.com\"\n\nif [ \"$CPU_USAGE\" -gt \"$THRESHOLD\" ]; then\n    TOP_PROCESS=$(ps aux --sort=-%cpu | head -6)\n    MESSAGE=\"\u26a0\ufe0f CPU ALERT: Sunucu kullan\u0131m\u0131 %$CPU_USAGE seviyesinde!\\n\\nDetaylar:\\n$TOP_PROCESS\"\n    echo -e \"$MESSAGE\" | mail -s \"CPU Alert - $(hostname)\" \"$EMAIL\"\n    echo \"$(date): CPU $CPU_USAGE%\" &gt;&gt; \"$LOG_FILE\"\nfi\n</code></pre> <p>Kurulum:</p> <pre><code>sudo chmod +x /usr/local/bin/cpu_alert.sh\necho \"*/5 * * * * root /usr/local/bin/cpu_alert.sh\" | sudo tee /etc/cron.d/cpu-alert\n</code></pre>"},{"location":"security/monitoring/#3-network-anomali-alarm-ddos-tespiti","title":"3. Network Anomali Alarm\u0131 (DDoS Tespiti) \ud83c\udf10","text":"<p><code>netstat</code> yerine modern ve h\u0131zl\u0131 <code>ss</code> komutunu kullan\u0131yoruz.</p> <p>Dosya: <code>/usr/local/bin/network_alert.sh</code></p> <pre><code>#!/bin/bash\n# network_alert.sh - Outbound Connection Monitor\n\n# E\u015fik de\u011fer: 100 ba\u011flant\u0131dan fazlas\u0131 \u015f\u00fcpheli\nTHRESHOLD=100\nLOG_FILE=\"/var/log/network_alerts.log\"\nEMAIL=\"admin@example.com\"\n\n# Loopback hari\u00e7 aktif ba\u011flant\u0131lar\u0131 say (H\u0131zl\u0131 y\u00f6ntem)\nCONNECTIONS=$(ss -tunap | grep ESTAB | grep -v '127.0.0.1' | wc -l)\n\nif [ \"$CONNECTIONS\" -gt \"$THRESHOLD\" ]; then\n    # Ba\u011flant\u0131 detaylar\u0131n\u0131 al\n    DETAILS=$(ss -tunap | grep ESTAB | awk '{print $6}' | cut -d: -f1 | sort | uniq -c | sort -rn | head -10)\n\n    echo \"\u26a0\ufe0f NETWORK ALERT: $CONNECTIONS adet aktif ba\u011flant\u0131 tespit edildi!\" | \\\n    mail -s \"Network Anomaly - $(hostname)\" \"$EMAIL\"\n\n    echo \"$(date): $CONNECTIONS connections\" &gt;&gt; \"$LOG_FILE\"\n    echo \"$DETAILS\" &gt;&gt; \"$LOG_FILE\"\nfi\n</code></pre> <p>Kurulum:</p> <pre><code>sudo chmod +x /usr/local/bin/network_alert.sh\necho \"*/5 * * * * root /usr/local/bin/network_alert.sh\" | sudo tee /etc/cron.d/network-alert\n</code></pre>"},{"location":"security/monitoring/#4-disk-ve-memory-alarmlar","title":"4. Disk ve Memory Alarmlar\u0131 \ud83d\udcbe\ud83e\udde0","text":"<p>Disk dolarsa sunucu durur, RAM dolarsa <code>OOM Killer</code> servisleri \u00f6ld\u00fcr\u00fcr.</p> <p>Dosya: <code>/usr/local/bin/disk_alert.sh</code></p> <pre><code>#!/bin/bash\nTHRESHOLD=85\nUSAGE=$(df / | tail -1 | awk '{print int($5)}')\nif [ \"$USAGE\" -gt \"$THRESHOLD\" ]; then\n    df -h | mail -s \"\u26a0\ufe0f Disk Alert: %$USAGE dolu - $(hostname)\" admin@example.com\nfi\n</code></pre> <p>Dosya: <code>/usr/local/bin/memory_alert.sh</code></p> <pre><code>#!/bin/bash\nTHRESHOLD=90\nUSAGE=$(free | grep Mem | awk '{printf \"%.0f\", $3/$2 * 100}')\nif [ \"$USAGE\" -gt \"$THRESHOLD\" ]; then\n    free -h | mail -s \"\u26a0\ufe0f Memory Alert: %$USAGE - $(hostname)\" admin@example.com\nfi\n</code></pre> <p>(Bunlar\u0131 da cron'a eklemeyi unutmay\u0131n!)</p>"},{"location":"security/monitoring/#5-alternatif-telegram-bildirimi","title":"5. Alternatif: Telegram Bildirimi \ud83d\udcf1","text":"<p>Mail ile u\u011fra\u015fmak istemiyorsan\u0131z Telegram Botu kullan\u0131n.</p> <pre><code># Telegram fonksiyonu (Scriptlerinizde mail komutu yerine bunu kullan\u0131n)\nsend_telegram() {\n    BOT_TOKEN=\"123456:ABC-xyz...\"\n    CHAT_ID=\"987654321\"\n    MESSAGE=\"$1\"\n\n    curl -s -X POST \"https://api.telegram.org/bot$BOT_TOKEN/sendMessage\" \\\n        -d chat_id=\"$CHAT_ID\" \\\n        -d text=\"$MESSAGE\" \\\n        -d parse_mode=\"HTML\" &gt; /dev/null\n}\n</code></pre>"},{"location":"security/monitoring/#6-log-rotation-loglarn-sismesini-onleme","title":"6. Log Rotation (Loglar\u0131n \u015ei\u015fmesini \u00d6nleme) \ud83d\udd04","text":"<p>Log dosyalar\u0131 diski doldurmas\u0131n diye rotasyon ekleyelim.</p> <p>Dosya: <code>/etc/logrotate.d/security-alerts</code></p> <pre><code>/var/log/cpu_alerts.log\n/var/log/network_alerts.log\n{\n    weekly\n    rotate 4\n    compress\n    missingok\n    notifempty\n}\n</code></pre>"},{"location":"security/monitoring/#7-hzl-durum-kontrol-scripti-security-status","title":"7. H\u0131zl\u0131 Durum Kontrol Scripti (Security Status) \ud83d\ude80","text":"<p>Tek komutla sunucunun genel sa\u011fl\u0131k ve g\u00fcvenlik rontgeni.</p> <p>Dosya: <code>/usr/local/bin/security_check.sh</code></p> <pre><code>#!/bin/bash\n# security_check.sh - Genel Bak\u0131\u015f\n\necho \"=== \ud83d\udee1\ufe0f  G\u00dcVENL\u0130K KONTROL\u00dc: $(date) ===\"\n\necho -e \"\\n[1] Bekleyen Kritik G\u00fcncellemeler:\"\napt list --upgradable 2&gt;/dev/null | grep -i security || echo \"Temiz.\"\n\necho -e \"\\n[2] Son Ba\u015far\u0131s\u0131z SSH Denemeleri:\"\ngrep \"Failed password\" /var/log/auth.log | tail -5 || echo \"Log bulunamad\u0131.\"\n\necho -e \"\\n[3] Root Olarak \u00c7al\u0131\u015fan Docker Konteynerleri:\"\nif command -v docker &amp;&gt; /dev/null; then\n    docker ps --quiet | xargs -I {} docker inspect {} --format '{{.Name}}: User={{.Config.User}}' | grep -E \"User=$|User=root\" || echo \"Yok (G\u00fcvenli).\"\nelse\n    echo \"Docker kurulu de\u011fil.\"\nfi\n\necho -e \"\\n[4] Y\u00fcksek CPU Kullanan S\u00fcre\u00e7ler:\"\nps aux --sort=-%cpu | head -5\n\necho -e \"\\n[5] En \u00c7ok Ba\u011flant\u0131 Kuran D\u0131\u015f IP'ler:\"\nss -tunap | grep ESTAB | awk '{print $6}' | cut -d: -f1 | sort | uniq -c | sort -rn | head -5\n\necho -e \"\\n[6] Disk Kullan\u0131m\u0131:\"\ndf -h | grep -E '^/dev/' | awk '$5 &gt; 80 {print \"\u26a0\ufe0f \" $0}'\n\necho -e \"\\n[7] Zombie Process'ler:\"\nps aux | awk '$8 ~ /Z/ {print $0}' || echo \"Yok.\"\n\necho -e \"\\n[8] Kernel Bilgisi:\"\nuname -r\n\necho -e \"\\n=== KONTROL TAMAMLANDI ===\"\n</code></pre>"},{"location":"security/resource-limits/","title":"Kaynak S\u0131n\u0131rlama (Resource Limits) \ud83d\udcc9","text":"<p>Bir sald\u0131rgan sunucuya s\u0131zd\u0131\u011f\u0131nda (RCE), genellikle ilk i\u015fi sunucuyu Crypto Mining (Kripto Madencili\u011fi) veya DDoS Sald\u0131r\u0131s\u0131 i\u00e7in kullanmakt\u0131r. Bu durum CPU'yu %100'e kilitler ve sunucuyu sizin i\u00e7in kullan\u0131lmaz hale getirir.</p> <p>Bu rehberde, bir servis hacklense bile sistemin tamam\u0131n\u0131 kilitlemesini (Resource Exhaustion) nas\u0131l engelleyece\u011fimizi anlat\u0131yoruz.</p>"},{"location":"security/resource-limits/#1-systemd-ile-servisleri-kstlama-en-etkili-yontem","title":"1. Systemd ile Servisleri K\u0131s\u0131tlama (En Etkili Y\u00f6ntem) \ud83d\udee1\ufe0f","text":"<p>Linux'ta servisler genellikle <code>systemd</code> ile y\u00f6netilir. Systemd, her servisin ne kadar CPU ve RAM kullanaca\u011f\u0131n\u0131 \u00e7ok hassas bir \u015fekilde s\u0131n\u0131rlayabilir.</p>"},{"location":"security/resource-limits/#ornek-senaryo-web-uygulamas","title":"\u00d6rnek Senaryo: Web Uygulamas\u0131","text":"<p>Diyelim ki <code>myapp.service</code> ad\u0131nda bir uygulaman\u0131z var.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo systemctl edit myapp.service --full\n</code></pre> <p><code>[Service]</code> blo\u011funun alt\u0131na \u015fu s\u0131n\u0131rlar\u0131 ekleyin:</p> <pre><code>[Service]\n# ... di\u011fer ayarlar ...\n\n# CPU K\u0131s\u0131tlama: %80 (Tek \u00e7ekirde\u011fin %80'i)\n# E\u011fer 2 \u00e7ekirdekli sunucuda max 1 \u00e7ekirdek kullans\u0131n derseniz %100,\n# toplam\u0131n yar\u0131s\u0131 olsun derseniz %100 (200 \u00fczerinden) ayar\u0131 de\u011fi\u015fir.\n# En garantisi tek \u00e7ekirdek %80 limiti koymakt\u0131r.\nCPUQuota=80%\n\n# RAM K\u0131s\u0131tlama: 1GB'a ula\u015f\u0131rsa s\u00fcre\u00e7 OOM Killer taraf\u0131ndan \u00f6ld\u00fcr\u00fcl\u00fcr.\nMemoryMax=1G\n# RAM dolmaya yakla\u015f\u0131nca swap kullanmas\u0131n, direkt engellesin (Opsiyonel)\nMemorySwapMax=0\n\n# Fork Bomb Korumas\u0131: Ayn\u0131 anda max 100 alt i\u015flem a\u00e7abilsin.\nTasksMax=100\n</code></pre> <p>Ayarlar\u0131 uygulay\u0131n:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart myapp\n</code></pre> <p>Mant\u0131k: Sald\u0131rgan i\u00e7eri girip Mining ba\u015flatsa bile, CPU kullan\u0131m\u0131 %80'i (veya belirledi\u011finiz s\u0131n\u0131r\u0131) ge\u00e7emez. Sunucu nefes almaya devam eder, SSH ile ba\u011flan\u0131p m\u00fcdahale edebilirsiniz.</p>"},{"location":"security/resource-limits/#2-limitsconf-kullanc-bazl-snrlar","title":"2. Limits.conf (Kullan\u0131c\u0131 Bazl\u0131 S\u0131n\u0131rlar) \ud83d\udc64","text":"<p>Systemd kullanmayan scriptler veya kullan\u0131c\u0131 oturumlar\u0131 i\u00e7in <code>/etc/security/limits.conf</code> dosyas\u0131 kullan\u0131l\u0131r.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/security/limits.conf\n</code></pre> <p>En alta \u015fu sat\u0131rlar\u0131 ekleyerek bir kullan\u0131c\u0131n\u0131n veya grubun sunucuyu kilitlemesini \u00f6nleyebilirsiniz:</p> <pre><code># &lt;domain&gt;      &lt;type&gt;  &lt;item&gt;         &lt;value&gt;\n\n# 'deploy' kullan\u0131c\u0131s\u0131 max 2GB RAM kullanabilsin\ndeploy          hard    as             2000000\n\n# 'deploy' kullan\u0131c\u0131s\u0131 max 50 i\u015flem a\u00e7abilsin (Fork Bomb \u00f6nleme)\ndeploy          hard    nproc          50\n\n# A\u00e7\u0131k dosya say\u0131s\u0131 limiti (Too many open files hatas\u0131 \u00f6nlemi)\ndeploy          soft    nofile         4096\ndeploy          hard    nofile         8192\n</code></pre> <p>Not: Bu ayarlar kullan\u0131c\u0131 yeniden giri\u015f yapt\u0131\u011f\u0131nda (Login) aktif olur.</p>"},{"location":"security/resource-limits/#3-acil-durumda-cpu-frenleme-cpulimit","title":"3. Acil Durumda CPU Frenleme (<code>cpulimit</code>) \ud83d\ude91","text":"<p>E\u011fer halihaz\u0131rda \u00e7al\u0131\u015fan ve kontrolden \u00e7\u0131km\u0131\u015f bir s\u00fcre\u00e7 varsa, onu \u00f6ld\u00fcrmeden yava\u015flatmak i\u00e7in <code>cpulimit</code> arac\u0131 kullan\u0131labilir.</p> <p>Kurulum:</p> <pre><code>sudo apt install cpulimit\n</code></pre> <p>Kullan\u0131m (PID ile):</p> <pre><code># 1234 ID'li s\u00fcreci %50 CPU'ya sabitle\nsudo cpulimit -p 1234 -l 50\n</code></pre> <p>Kullan\u0131m (\u0130sim ile):</p> <pre><code># Ad\u0131 'python3' olan s\u00fcreci %30'a sabitle\nsudo cpulimit -e python3 -l 30\n</code></pre>"},{"location":"security/resource-limits/#4-giden-trafik-egress-kstlamas","title":"4. Giden Trafik (Egress) K\u0131s\u0131tlamas\u0131 \ud83d\udea7","text":"<p>Sald\u0131rgan\u0131n sunucunuz \u00fczerinden ba\u015fkalar\u0131na DDoS yapmas\u0131n\u0131 engellemek i\u00e7in Firewall \u00c7\u0131k\u0131\u015f Kurallar\u0131 \u015fartt\u0131r.</p> <p>Bu konuyu Firewall Rehberi i\u00e7erisinde detayland\u0131rd\u0131k. Mutlaka <code>ufw default deny outgoing</code> politikas\u0131n\u0131 uygulay\u0131n!</p> <p>K\u0131ssadan Hisse:</p> <ol> <li>Systemd ile CPUQuota koyun (Mining engeller).</li> <li>UFW ile Outgoing Deny yap\u0131n (DDoS engeller).</li> <li><code>/tmp</code> noexec yap\u0131n (Script indirmeyi zorla\u015ft\u0131r\u0131r).</li> <li>Otomatik G\u00fcncellemeleri a\u00e7\u0131n (RCE a\u00e7\u0131\u011f\u0131n\u0131 kapat\u0131r).</li> </ol>"},{"location":"security/resource-limits/#5-sistem-geneli-radikal-onlem-cgroups","title":"5. Sistem Geneli Radikal \u00d6nlem (Cgroups) \u26a1","text":"<p>E\u011fer \"Hangi kullan\u0131c\u0131 ne yap\u0131yor umurumda de\u011fil, kimse CPU'yu s\u00f6m\u00fcremezsin\" diyorsan\u0131z, t\u00fcm kullan\u0131c\u0131 oturumlar\u0131na (User Slice) global limit koyabilirsiniz.</p> <p>Dosyay\u0131 olu\u015fturun:</p> <pre><code>sudo mkdir -p /etc/systemd/system/user-.slice.d/\nsudo nano /etc/systemd/system/user-.slice.d/50-limit.conf\n</code></pre> <p>\u0130\u00e7erik:</p> <pre><code>[Slice]\n# Hi\u00e7bir kullan\u0131c\u0131 (root dahil SSH oturumlar\u0131) CPU'nun %80'inden fazlas\u0131n\u0131 kullanamaz\nCPUQuota=80%\n# RAM'in %80'inden fazlas\u0131n\u0131 kullanamaz\nMemoryMax=80%\n</code></pre> <p>Uygula:</p> <pre><code>sudo systemctl daemon-reload\n</code></pre>"},{"location":"security/resource-limits/#6-docker-konteyner-limitleri","title":"6. Docker Konteyner Limitleri \ud83d\udc33","text":"<p>Mining vir\u00fcsleri en kolay Docker konteynerlerine bula\u015f\u0131r. E\u011fer limit koymazsan\u0131z t\u00fcm sunucuyu kilitlerler.</p>"},{"location":"security/resource-limits/#docker-run-ile","title":"Docker Run ile","text":"<pre><code>docker run -d \\\n  --cpus=\"0.5\" \\        # Yar\u0131m \u00e7ekirdek\n  --memory=\"512m\" \\     # 512MB RAM\n  --pids-limit=100 \\    # Fork bomb korumas\u0131\n  my-app\n</code></pre>"},{"location":"security/resource-limits/#docker-compose-ile-onerilen","title":"Docker Compose ile (\u00d6nerilen)","text":"<pre><code>services:\n  app:\n    image: my-app\n    deploy:\n      resources:\n        limits:\n          cpus: \"0.50\"\n          memory: 512M\n        reservations:\n          cpus: \"0.25\"\n          memory: 256M\n</code></pre>"},{"location":"security/resource-limits/#7-ozet-saldr-zincirini-krma","title":"7. \u00d6zet: Sald\u0131r\u0131 Zincirini K\u0131rma \ud83d\udd17","text":"<p>Ya\u015fad\u0131\u011f\u0131n\u0131z RCE (Remote Code Execution) sald\u0131r\u0131s\u0131n\u0131 durdurmak i\u00e7in zincirin halkalar\u0131n\u0131 \u015f\u00f6yle k\u0131rd\u0131k:</p> Sald\u0131r\u0131 Ad\u0131m\u0131 Bizim \u00d6nlemimiz Sonu\u00e7 1. Giri\u015f (React RCE) Otomatik G\u00fcncelleme A\u00e7\u0131k kapan\u0131r, giremez. 2. Yay\u0131lma (Container Root) User NS / Non-Root (Sonraki ad\u0131mda Docker g\u00fcvenli\u011finde i\u015fleyece\u011fiz). 3. Kaynak T\u00fcketimi (Mining) Resource Limits CPU %100 olamaz, sunucu kilitlenmez. 4. D\u0131\u015far\u0131 Sald\u0131r\u0131 (DDoS) UFW Outbound Deny D\u0131\u015far\u0131 veri/paket g\u00f6nderemez. 5. Gizlenme Monitoring Scripts <code>cpu_alert</code> ile an\u0131nda yakalar\u0131z."},{"location":"security/resource-limits/#acil-yaplacaklar-listesi","title":"\ud83d\udccb Acil Yap\u0131lacaklar Listesi","text":"<p>Sald\u0131r\u0131 alt\u0131ndaysan\u0131z veya hemen \u00f6nlem almak istiyorsan\u0131z:</p> <pre><code># 1. Hemen ve \u015fimdi g\u00fcncelle!\nsudo apt update &amp;&amp; sudo apt upgrade -y\n\n# 2. Otomatik g\u00fcncellemeleri a\u00e7 (Unattended)\nsudo apt install unattended-upgrades -y\nsudo dpkg-reconfigure -plow unattended-upgrades\n\n# 3. Egress Firewall'\u0131 aktifle\u015ftir (Dikkatli ol, SSH kopmas\u0131n!)\nsudo ufw default deny outgoing\nsudo ufw allow out 80/tcp\nsudo ufw allow out 443/tcp\nsudo ufw allow out 53\n\n# 4. Mevcut sistemi tara (Sald\u0131rgan izi var m\u0131?)\nsudo lynis audit system\n</code></pre>"},{"location":"security/secrets/","title":"Secret Y\u00f6netimi (\u015eifre Saklama) \ud83d\udd11","text":"<p>Uygulamalar\u0131n\u0131z\u0131n i\u00e7inde veritaban\u0131 \u015fifresi, API anahtar\u0131 veya Secret Key gibi hassas verileri ASLA kodun i\u00e7ine (Hardcoded) yazmamal\u0131s\u0131n\u0131z. Kodunuzu GitHub'a att\u0131\u011f\u0131n\u0131z an o \u015fifreler if\u015fa olur.</p> <p>\u0130\u015fte bu \u015fifreleri g\u00fcvenli bir \u015fekilde y\u00f6netmenin yollar\u0131.</p>"},{"location":"security/secrets/#1-yontem-env-dosyas-en-pratik","title":"1. Y\u00f6ntem: <code>.env</code> Dosyas\u0131 (En Pratik) \u2705","text":"<p>\u00c7o\u011fu proje (Node.js, Python, PHP, Docker) i\u00e7in standart y\u00f6ntem budur. \u015eifreler proje klas\u00f6r\u00fcnde <code>.env</code> ad\u0131nda gizli bir dosyada tutulur.</p>"},{"location":"security/secrets/#nasl-yaplr","title":"Nas\u0131l Yap\u0131l\u0131r?","text":"<ol> <li> <p>Proje dizininde <code>.env</code> dosyas\u0131n\u0131 olu\u015fturun:</p> <pre><code>nano .env\n</code></pre> </li> <li> <p>\u0130\u00e7ine hassas verilerinizi yaz\u0131n:</p> <pre><code>DB_HOST=localhost\nDB_USER=admin\nDB_PASSWORD=cok_gizli_sifre_burada\nJWT_SECRET=ozel_uretilen_hash_degeri\nAPI_KEY=x8s7ad7sa8d7s8d7a8s\n</code></pre> </li> </ol>"},{"location":"security/secrets/#guvenli-hale-getirme-cok-onemli","title":"G\u00fcvenli Hale Getirme (\u00c7ok \u00d6nemli!) \ud83d\udee1\ufe0f","text":"<p>Bu dosyan\u0131n sadece sizin taraf\u0131n\u0131zdan okunabilmesi laz\u0131m. Di\u011fer kullan\u0131c\u0131lar okuyamas\u0131n.</p> <pre><code># Sadece sahibi okuyup yazabilsin (600)\nchmod 600 .env\n\n# Sahipli\u011fini garantiye al\nsudo chown $USER:$USER .env\n</code></pre>"},{"location":"security/secrets/#gitten-uzak-tutma","title":"Git'ten Uzak Tutma \ud83d\udeab","text":"<p>Bu dosyan\u0131n yanl\u0131\u015fl\u0131kla GitHub'a gitmemesi i\u00e7in <code>.gitignore</code> dosyas\u0131na ekleyin:</p> <pre><code>echo \".env\" &gt;&gt; .gitignore\n</code></pre>"},{"location":"security/secrets/#2-yontem-docker-secrets-konteynerler-icin","title":"2. Y\u00f6ntem: Docker Secrets (Konteynerler \u0130\u00e7in) \ud83d\udc33","text":"<p>E\u011fer Docker Compose kullan\u0131yorsan\u0131z, \u015fifreleri \u00e7evre de\u011fi\u015fkeni (Environment Variable) yerine dosya olarak mount etmek daha g\u00fcvenlidir.</p> <p>docker-compose.yml \u00f6rne\u011fi:</p> <pre><code>services:\n  app:\n    image: my-app\n    secrets:\n      - db_password\n      - api_token\n\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n  api_token:\n    file: ./secrets/api_token.txt\n</code></pre> <p>Bu y\u00f6ntemde \u015fifreler konteynerin i\u00e7ine <code>/run/secrets/db_password</code> dosyas\u0131 olarak salt okunur (read-only) ba\u011flan\u0131r. Uygulaman\u0131z \u015fifreyi bu dosyadan okur.</p>"},{"location":"security/secrets/#3-guclu-sifre-uretme-araclar","title":"3. G\u00fc\u00e7l\u00fc \u015eifre \u00dcretme Ara\u00e7lar\u0131 \ud83c\udfb2","text":"<p>\"Ali123\" gibi \u015fifreler kullanmay\u0131n. Terminalden kriptografik olarak g\u00fcvenli rastgele \u015fifreler \u00fcretin.</p>"},{"location":"security/secrets/#openssl-ile-onerilen","title":"OpenSSL ile (\u00d6nerilen)","text":"<pre><code># 32 karakterlik base64 \u015fifre (JWT Secret i\u00e7in ideal)\nopenssl rand -base64 32\n# \u00c7\u0131kt\u0131: K7xP9mN2vQ8wR4tY6uI0oL3jH5gF1dS7aZ9xC2bV4nM=\n</code></pre>"},{"location":"security/secrets/#coklu-uretim","title":"\u00c7oklu \u00dcretim","text":"<pre><code># 5 tane \u00fcret\nfor i in {1..5}; do openssl rand -base64 24; done\n</code></pre>"},{"location":"security/secrets/#4-neden-hashicorp-vault-degil","title":"4. Neden HashiCorp Vault De\u011fil? \ud83e\udd14","text":"<p>HashiCorp Vault veya AWS Secrets Manager gibi ara\u00e7lar \u00e7ok g\u00fc\u00e7l\u00fcd\u00fcr ancak kurulumu ve bak\u0131m\u0131 zordur (\"Overkill\").</p> Y\u00f6ntem Karma\u015f\u0131kl\u0131k G\u00fcvenlik Uygun Senaryo Hardcoded \u00c7ok D\u00fc\u015f\u00fck \u274c Yok Asla kullanma .env Dosyas\u0131 D\u00fc\u015f\u00fck \u2705 \u0130yi Tek sunucu, k\u00fc\u00e7\u00fck/orta proje Docker Secrets Orta \u2705\u2705 \u00c7ok \u0130yi Docker Swarm / Kubernetes HashiCorp Vault \u00c7ok Y\u00fcksek \ud83c\udfc6 M\u00fckemmel Bankalar, Dev Kurumsal Yap\u0131lar <p>\u00d6zet: Tek bir sunucu veya startup projesi i\u00e7in <code>.env</code> + <code>chmod 600</code> fazlas\u0131yla yeterlidir.</p>"},{"location":"security/secrets/#5-ekip-calsmas-ve-ortamlar","title":"5. Ekip \u00c7al\u0131\u015fmas\u0131 ve Ortamlar \ud83e\udd1d","text":"<p>Projede yaln\u0131z de\u011filseniz veya farkl\u0131 sunucular (Test, Prod) y\u00f6netiyorsan\u0131z:</p>"},{"location":"security/secrets/#envexample-olusturun","title":"\ud83d\udcdd .env.example Olu\u015fturun","text":"<p>Ger\u00e7ek \u015fifrelerin olmad\u0131\u011f\u0131 bir \u015fablon dosyas\u0131 olu\u015fturun ve Git'e g\u00f6nderin. Yeni gelen geli\u015ftirici neye ihtiyac\u0131 oldu\u011funu anlas\u0131n.</p> <pre><code># .env.example (Git'e eklenir - \u0130\u00c7\u0130 BO\u015e OLSUN!)\nDB_HOST=localhost\nDB_USER=root\nDB_PASSWORD=\nJWT_SECRET=\nAPI_KEY=\n</code></pre> <p>Kullan\u0131m:</p> <pre><code>cp .env.example .env\nnano .env  # Kendi \u015fifrelerini yazar\n</code></pre>"},{"location":"security/secrets/#ortamlar-ayrn","title":"\ud83c\udf0d Ortamlar\u0131 Ay\u0131r\u0131n","text":"<ul> <li><code>.env.development</code> (Lokal - Git'e girmez)</li> <li><code>.env.production</code> (Canl\u0131 Sunucu - Git'e girmez, \u00c7ok g\u00fcvenli!)</li> <li><code>.gitignore</code> ayar\u0131:   <pre><code>echo -e \".env\\n.env.*\\n!.env.example\" &gt;&gt; .gitignore\n</code></pre></li> </ul>"},{"location":"security/secrets/#6-kritik-hata-sifreyi-yanlslkla-gite-attm","title":"6. Kritik Hata: \u015eifreyi Yanl\u0131\u015fl\u0131kla Git'e Att\u0131m! \ud83d\udea8","text":"<p>Sadece dosyay\u0131 silip yeni commit atmak YETMEZ! Git ge\u00e7mi\u015finde o \u015fifre sonsuza kadar saklan\u0131r.</p> <p>Ad\u0131m 1: \u015eifreyi hemen de\u011fi\u015ftirin (En garanti \u00e7\u00f6z\u00fcm budur).</p> <p>Ad\u0131m 2: Git Ge\u00e7mi\u015fini Temizleyin (Opsiyonel ama \u00f6nerilir)</p> <p>E\u011fer history temizlemek zorundaysan\u0131z <code>BFG Repo-Cleaner</code> kullan\u0131n:</p> <pre><code># .env dosyas\u0131n\u0131 tarihten sil\nbfg --delete-files .env\n\n# Git referanslar\u0131n\u0131 temizle ve zorla g\u00f6nder\ngit reflog expire --expire=now --all\ngit gc --prune=now --aggressive\ngit push --force\n</code></pre>"},{"location":"security/secrets/#7-ileri-seviye-guvenlik-riskleri","title":"7. \u0130leri Seviye G\u00fcvenlik Riskleri \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":""},{"location":"security/secrets/#loglara-sifre-yazma-hatas","title":"\ud83d\udccb Loglara \u015eifre Yazma Hatas\u0131","text":"<p>Kod yazarken dikkatli olun. \u015eifreyi loglamay\u0131n!</p> <pre><code># \u274c YANLI\u015e: \u015eifre log dosyas\u0131na a\u00e7\u0131k metin yaz\u0131l\u0131r\nlogger.info(f\"Ba\u011flan\u0131l\u0131yor: {DB_USER}:{DB_PASSWORD}\")\n\n# \u2705 DO\u011eRU: Maskeleme yap\u0131n\nlogger.info(f\"Ba\u011flan\u0131l\u0131yor: {DB_USER}:****\")\n</code></pre>"},{"location":"security/secrets/#systemd-servislerinde-sifre","title":"\ud83d\udd0d Systemd Servislerinde \u015eifre","text":"<p>Servis dosyas\u0131n\u0131n i\u00e7ine (<code>Environment=\u015e\u0130FRE</code>) yazmay\u0131n. <code>ps aux</code> komutunda g\u00f6r\u00fcnebilir. Bunun yerine dosya kullan\u0131n:</p> <pre><code># /etc/systemd/system/myapp.service\n[Service]\nEnvironmentFile=/etc/myapp/env\nUser=appuser\n</code></pre> <p>Ve dosya izinlerini k\u0131s\u0131tlay\u0131n:</p> <pre><code>sudo chown root:root /etc/myapp/env\nsudo chmod 600 /etc/myapp/env\n</code></pre>"},{"location":"security/secrets/#8-ekstra-ipuclar-opsiyonel","title":"8. Ekstra \u0130pu\u00e7lar\u0131 (Opsiyonel) \ud83d\udca1","text":""},{"location":"security/secrets/#sifre-rotasyonu","title":"\ud83d\udd04 \u015eifre Rotasyonu","text":"<p>Kritik \u015fifreleri sonsuza kadar kullanmay\u0131n. Belirli aral\u0131klarla de\u011fi\u015ftirin:</p> <ul> <li>API Key: 90 G\u00fcnde bir.</li> <li>Veritaban\u0131 \u015eifresi: 6 Ayda bir.</li> <li>JWT Secret: Y\u0131lda bir (Dikkat: De\u011fi\u015fince kullan\u0131c\u0131lar\u0131n oturumu d\u00fc\u015fer).</li> </ul>"},{"location":"security/secrets/#process-environment-riski-ileri-seviye","title":"\ud83d\udd0d Process Environment Riski (\u0130leri Seviye)","text":"<p>Ayn\u0131 kullan\u0131c\u0131 ad\u0131yla \u00e7al\u0131\u015fan i\u015flemler, birbirlerinin \u00e7evre de\u011fi\u015fkenlerini (env) okuyabilir.</p> <pre><code># Bir process'in env de\u011ferlerini okuma:\ncat /proc/&lt;PID&gt;/environ | tr '\\0' '\\n'\n</code></pre> <p>\u00c7\u00f6z\u00fcm: Uygulamay\u0131 her zaman kendine ait bir kullan\u0131c\u0131 (\u00f6rn: <code>appuser</code>) ile \u00e7al\u0131\u015ft\u0131r\u0131n.</p>"},{"location":"security/secrets/#8-piyasadaki-diger-alternatifler-gelismis-senaryolar","title":"8. Piyasadaki Di\u011fer Alternatifler (Geli\u015fmi\u015f Senaryolar) \ud83c\udf0d","text":"<p>E\u011fer projeniz b\u00fcy\u00fcrse veya <code>env</code> dosyas\u0131yla u\u011fra\u015fmak istemezseniz, \u015fu ara\u00e7lara bakabilirsiniz:</p> Ara\u00e7 T\u00fcr \u00d6zellik Kullan\u0131m \u00d6nerisi HashiCorp Vault \ud83c\udfe2 Enterprise End\u00fcstri standard\u0131. \u00c7ok karma\u015f\u0131k ama her \u015feyi yapar. B\u00fcy\u00fck bankalar, Dev \u015firketler. Infisical \ud83d\ude80 Startup Dostu A\u00e7\u0131k kaynakl\u0131, Vault'un \u00e7ok daha kolay hali. Modern Yaz\u0131l\u0131m Ekipleri (\u015eiddetle \u00d6nerilir). Bitwarden Secrets \ud83d\udd13 A\u00e7\u0131k Kaynak Parola y\u00f6neticisi Bitwarden'\u0131n DevOps versiyonu. G\u00fcvenilir. Ki\u015fisel / K\u00fc\u00e7\u00fck Ekipler. AWS / Google Secrets \u2601\ufe0f Cloud Native Bulut sa\u011flay\u0131c\u0131n\u0131z\u0131n kendi servisi. Pahal\u0131 olabilir. Full AWS/GCP \u00fczerindeki projeler. Yandex Lockbox \ud83c\uddf7\ud83c\uddfa Rusya Men\u015feli Yandex Cloud'un servisi. HashiCorp alternatifi. Yandex Cloud kullananlar. (Not: Veri gizlili\u011fi endi\u015fesi olabilir) <p>\ud83d\udca1 Tavsiye: E\u011fer <code>.env</code> yetmiyor ama Vault \u00e7ok a\u011f\u0131r geliyorsa, Infisical veya Bitwarden'a g\u00f6z at\u0131n. Hem g\u00fcvenli hem pratiklerdir.</p>"},{"location":"security/service-glossary/","title":"Linux Servis S\u00f6zl\u00fc\u011f\u00fc","text":"<p>Bu d\u00f6k\u00fcman, <code>systemctl list-units</code> komutunu \u00e7al\u0131\u015ft\u0131rd\u0131\u011f\u0131n\u0131zda kar\u015f\u0131n\u0131za \u00e7\u0131kabilecek servislerin anlamlar\u0131n\u0131 ve \"Silinmeli mi?\" sorusunun cevab\u0131n\u0131 i\u00e7erir. Listenizdeki servisleri burada aratarak (Ctrl+F) ne i\u015fe yarad\u0131\u011f\u0131n\u0131 \u00f6\u011frenebilirsiniz.</p>"},{"location":"security/service-glossary/#1-bulut-ve-yonetim-ajanlar-cloud-agents","title":"1. Bulut ve Y\u00f6netim Ajanlar\u0131 (Cloud &amp; Agents)","text":"<p>Bulut sa\u011flay\u0131c\u0131lar\u0131n (Oracle, AWS, GCP) sunucuyu y\u00f6netmek i\u00e7in y\u00fckledi\u011fi servislerdir.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>cloud-init</code> Sunucunun ilk a\u00e7\u0131l\u0131\u015f\u0131nda IP, Hostname ve SSH anahtarlar\u0131n\u0131 ayarlar. \u26d4\ufe0f ASLA S\u0130LME <code>oracle-cloud-agent</code> Oracle Cloud y\u00f6netim paneli ile ileti\u015fim kurar (Reboot, Stop \u00f6zellikleri i\u00e7in). \u26d4\ufe0f DOKUNMA <code>unified-monitoring-agent</code> Oracle i\u00e7in log ve metrik toplar. \u2705 \u0130ste\u011fe Ba\u011fl\u0131 (Kals\u0131n) <code>amazon-ssm-agent</code> AWS Systems Manager. Konsol \u00fczerinden terminale (Session Manager) ba\u011flanmay\u0131 sa\u011flar. \u26d4\ufe0f DOKUNMA (AWS) <code>google-guest-agent</code> GCP a\u011f ve metadata y\u00f6netimi. SSH anahtarlar\u0131n\u0131 y\u00f6netir. \u26d4\ufe0f DOKUNMA (GCP) <code>aliyun-service</code> Alibaba Cloud y\u00f6netim ajan\u0131. \u26d4\ufe0f DOKUNMA (Alibaba) <code>waagent</code> Azure Linux Agent. \u26d4\ufe0f DOKUNMA (Azure)"},{"location":"security/service-glossary/#2-sistem-cekirdegi-system-core","title":"2. Sistem \u00c7ekirde\u011fi (System Core)","text":"<p>Linux'un \u00e7al\u0131\u015fmas\u0131 i\u00e7in gerekli temel par\u00e7alar.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>dbus</code> Programlar\u0131n birbiriyle konu\u015fmas\u0131n\u0131 sa\u011flayan mesajla\u015fma sistemi. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-journald</code> Log tutma servisi (System logs). \u26d4\ufe0f ASLA S\u0130LME <code>systemd-logind</code> Kullan\u0131c\u0131 giri\u015flerini y\u00f6netir. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-udevd</code> Donan\u0131m ayg\u0131tlar\u0131n\u0131 y\u00f6netir (<code>/dev</code> alt\u0131ndakiler). \u26d4\ufe0f ASLA S\u0130LME <code>polkit</code> Yetkilendirme y\u00f6neticisi (sudo benzeri ama GUI/servisler i\u00e7in). \u26a0\ufe0f Genelde Kals\u0131n (Agresif silinebilir) <code>cron</code> / <code>atd</code> Zamanlanm\u0131\u015f g\u00f6revler. \u2705 Kals\u0131n <code>getty@tty1</code> Fiziksel/VNC konsol giri\u015f ekran\u0131. \u2705 Kals\u0131n <code>serial-getty@...</code> Seri port konsol. ARM sunucularda (Oracle Ampere) hayati \u00f6nem ta\u015f\u0131r. \u26d4\ufe0f DOKUNMA (ARM)"},{"location":"security/service-glossary/#3-ag-servisleri-network","title":"3. A\u011f Servisleri (Network)","text":"<p>Sunucunun internete \u00e7\u0131kmas\u0131n\u0131 sa\u011flayan servisler.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>ssh</code> / <code>sshd</code> Sunucuya uzaktan ba\u011flanman\u0131z\u0131 sa\u011flar. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-networkd</code> A\u011f yap\u0131land\u0131rmas\u0131 (IP alma vb.). \u26d4\ufe0f ASLA S\u0130LME <code>systemd-resolved</code> DNS (Domain Name) \u00e7\u00f6z\u00fcmleme. \u26d4\ufe0f ASLA S\u0130LME <code>systemd-timesyncd</code> Saat senkronizasyonu (NTP). Loglar ve g\u00fcvenlik i\u00e7in \u015fart. \u2705 Kals\u0131n <code>ModemManager</code> USB Modem / SIM kart y\u00f6netimi. \ud83d\uddd1 S\u0130L (Sunucuda gereksiz) <code>rpcbind</code> NFS dosya payla\u015f\u0131m\u0131 i\u00e7in port atar. NFS yoksa g\u00fcvenlik riskidir. \ud83d\uddd1 S\u0130L (NFS yoksa) <code>vnstat</code> A\u011f trafi\u011fi izleme arac\u0131 (Ne kadar GB harcad\u0131m?). \u2705 \u0130ste\u011fe Ba\u011fl\u0131 <code>wpa_supplicant</code> Wi-Fi ba\u011flant\u0131 y\u00f6neticisi. \ud83d\uddd1 S\u0130L (Kablosuz de\u011filse)"},{"location":"security/service-glossary/#4-depolama-storage","title":"4. Depolama (Storage)","text":"<p>Disk y\u00f6netimi ile ilgili servisler.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>iscsid</code> A\u011f \u00fczerinden disk ba\u011flama (iSCSI). Oracle Block Volume kullan\u0131yorsan\u0131z \u015fart. \u26a0\ufe0f D\u0130KKAT (Block Volume varsa S\u0130LME) <code>multipathd</code> Diske giden birden fazla yol varsa y\u00f6netir. Tek diskli VM'lerde gereksiz. \ud83d\uddd1 S\u0130L (Sadece Boot Volume ise) <code>udisks2</code> Masa\u00fcst\u00fcnde USB tak\u0131nca otomatik ba\u011flayan ara\u00e7. Sunucuda gereksiz. \ud83d\uddd1 S\u0130L <code>fstrim</code> SSD disklerin \u00f6mr\u00fcn\u00fc uzatmak i\u00e7in bak\u0131m yapar. \u2705 Kals\u0131n"},{"location":"security/service-glossary/#5-konteyner-ve-uygulama-docker-apps","title":"5. Konteyner ve Uygulama (Docker &amp; Apps)","text":"Servis Ad\u0131 A\u00e7\u0131klama Karar <code>docker</code> Docker Engine. Konteynerleri \u00e7al\u0131\u015ft\u0131r\u0131r. \u2705 Kals\u0131n (Kullan\u0131yorsan\u0131z) <code>containerd</code> Docker'\u0131n alt\u0131ndaki konteyner \u00e7al\u0131\u015fma zaman\u0131. \u2705 Kals\u0131n (Docker varsa) <code>snapd</code> Snap paket y\u00f6neticisi. Oracle Agent buna ba\u011f\u0131ml\u0131 olabilir. \u26a0\ufe0f KONTROLL\u00dc S\u0130L"},{"location":"security/service-glossary/#6-guvenlik-security","title":"6. G\u00fcvenlik (Security)","text":"Servis Ad\u0131 A\u00e7\u0131klama Karar <code>fail2ban</code> SSH brute-force sald\u0131r\u0131lar\u0131n\u0131 engeller. \u2705 Kals\u0131n (CrowdSec yoksa) <code>apparmor</code> Uygulama bazl\u0131 g\u00fcvenlik profilleri. \u2705 Kals\u0131n <code>unattended-upgrades</code> Otomatik g\u00fcvenlik g\u00fcncellemelerini yapar. \u2705 \u015e\u0130DDETLE \u00d6NER\u0130L\u0130R <code>ufw</code> / <code>firewalld</code> G\u00fcvenlik duvar\u0131. \u2705 Biri mutlaka \u00e7al\u0131\u015fmal\u0131 (\u0130kisi de\u011fil)"},{"location":"security/service-glossary/#7-gereksiz-donanm-bloatware","title":"7. Gereksiz Donan\u0131m (Bloatware)","text":"<p>Sunucularda (genelde) bulunmayan donan\u0131mlar i\u00e7in servisler.</p> Servis Ad\u0131 A\u00e7\u0131klama Karar <code>cups</code> Yaz\u0131c\u0131 servisi. Sunucudan \u00e7\u0131kt\u0131 almayacaksan\u0131z gereksiz. \ud83d\uddd1 S\u0130L <code>cups-browsed</code> A\u011fdaki yaz\u0131c\u0131lar\u0131 otomatik bulur. \ud83d\uddd1 S\u0130L <code>bluetooth</code> Bluetooth cihaz y\u00f6netimi. \ud83d\uddd1 S\u0130L <code>alsa-state</code> Ses kart\u0131 ayarlar\u0131. \ud83d\uddd1 S\u0130L <code>smartmontools</code> Fiziksel disk sa\u011fl\u0131k kontrol\u00fc. (Sanal sunucuda disk sanal oldu\u011fu i\u00e7in \u00e7o\u011fu zaman i\u015fe yaramaz ama zarar\u0131 da yoktur). \ud83e\udd37\u200d\u2642\ufe0f Fark etmez"},{"location":"security/service-glossary/#ozet-temizlik-komutu","title":"\u00d6zet: Temizlik Komutu","text":"<p>E\u011fer yukar\u0131daki tablodan emin olduysan\u0131z, en yayg\u0131n gereksizleri temizlemek i\u00e7in:</p> <pre><code># Servisleri durdur\nsudo systemctl stop cups cups-browsed bluetooth ModemManager udisks2 rpcbind\n\n# Ba\u015flang\u0131\u00e7ta \u00e7al\u0131\u015fmas\u0131nlar\nsudo systemctl disable cups cups-browsed bluetooth ModemManager udisks2 rpcbind\n\n# Durum kontrol\u00fc\nsystemctl status cups\n</code></pre>"},{"location":"security/services/","title":"Gereksiz Servislerin Temizli\u011fi (Multi-Cloud)","text":"<p>Sanal sunucular (VPS), genellikle \u00e7ok ama\u00e7l\u0131 imajlardan t\u00fcretilir. Bu imajlar, \"her duruma uysun\" diye ihtiyac\u0131n\u0131z olmayan onlarca servisle y\u00fckl\u00fc gelir.</p> <p>Bu rehber Oracle Cloud, Google Cloud (GCP), Alibaba Cloud, AWS, Azure ve DigitalOcean \u00fczerindeki Ubuntu, Debian ve CentOS sistemleri i\u00e7in ge\u00e7erlidir.</p>"},{"location":"security/services/#1-analiz-neyin-calstgn-gor","title":"1. Analiz: Neyin \u00c7al\u0131\u015ft\u0131\u011f\u0131n\u0131 G\u00f6r","text":"<p>K\u00f6rlemesine servis kapatmay\u0131n. \u00d6nce neyin \u00e7al\u0131\u015ft\u0131\u011f\u0131n\u0131 g\u00f6r\u00fcn. Listede g\u00f6rd\u00fc\u011f\u00fcn\u00fcz servislerin ne i\u015fe yarad\u0131\u011f\u0131n\u0131 \u00f6\u011frenmek i\u00e7in Servis S\u00f6zl\u00fc\u011f\u00fc sayfas\u0131na bak\u0131n.</p> Debian / Ubuntu <p><code>systemctl list-units --type=service --all     # Veya sadece \u00e7al\u0131\u015fanlar\u0131 g\u00f6rmek i\u00e7in:     systemctl list-units --type=service --state=running</code></p> CentOS / RHEL <p><code>systemctl list-units --type=service --state=running</code></p>"},{"location":"security/services/#2-hzl-referans-tablosu","title":"2. H\u0131zl\u0131 Referans Tablosu \u26a1\ufe0f","text":"<p>Hangi servise ne yapaca\u011f\u0131n\u0131za karar veremiyorsan\u0131z bu tabloyu kullan\u0131n:</p> Servis Ne Yapar Kapat\u0131labilir mi? Risk cups Yaz\u0131c\u0131 y\u00f6netimi \u2705 EVET Yok bluetooth Bluetooth \u2705 EVET Yok ModemManager Modem/SIM \u2705 EVET Yok rpcbind NFS port map \u26a0\ufe0f NFS yoksa EVET D\u00fc\u015f\u00fck multipathd \u00c7oklu disk yolu \u26a0\ufe0f SAN yoksa EVET Orta iscsid iSCSI disk \u274c HAYIR (Block Volume varsa) Y\u00fcksek cloud-init \u0130lk boot ve IP \u274c ASLA Kritik snapd Snap paketler \u26a0\ufe0f Agent veya App yoksa Orta postfix/exim4 Mail g\u00f6nderme \u26a0\ufe0f Cron/Fail2ban yoksa D\u00fc\u015f\u00fck firewalld Firewall \u26a0\ufe0f UFW kurulacaksa EVET Orta vnstat Trafik izleme \u2705 \u0130ste\u011fe ba\u011fl\u0131 Yok"},{"location":"security/services/#3-guvenli-temizlik-sras","title":"3. G\u00fcvenli Temizlik S\u0131ras\u0131 \ud83c\udfaf","text":"<p>ASLA t\u00fcm servisleri ayn\u0131 anda kapatmay\u0131n! Ad\u0131m ad\u0131m ilerleyin.</p>"},{"location":"security/services/#adm-1-kesinlikle-gereksizler-bloatware","title":"Ad\u0131m 1: Kesinlikle Gereksizler (Bloatware)","text":"<p>Sunucuda yaz\u0131c\u0131, modem veya ses kart\u0131 yoktur.</p> Temizlik Komutu <p>```bash # Servisleri durdur sudo systemctl stop cups cups-browsed bluetooth ModemManager udisks2 sudo systemctl disable cups cups-browsed bluetooth ModemManager udisks2</p>"},{"location":"security/services/#opsiyonel-eger-tamamen-silmek-isterseniz","title":"(Opsiyonel) E\u011fer tamamen silmek isterseniz:","text":""},{"location":"security/services/#sudo-apt-purge-y-cups-bluez-alsa-utils-modemmanager","title":"sudo apt purge -y cups bluez alsa-utils ModemManager","text":""},{"location":"security/services/#sudo-apt-autoremove-y","title":"sudo apt autoremove -y","text":"<pre><code>!!! info \"Hata Al\u0131rsan\u0131z Sevinin! \ud83c\udf89\"\nE\u011fer `Failed to stop... unit not loaded` hatas\u0131 al\u0131rsan\u0131z, bu harika bir haberdir! O servis zaten sisteminizde y\u00fckl\u00fc de\u011fil demektir. Hi\u00e7bir \u015fey yapman\u0131za gerek yok.\n\n!!! tip \"Kapatmak m\u0131, Silmek mi?\"\n_ **Disable:** \"\u015eimdilik \u00e7al\u0131\u015fma ama dosyalar dursun, belki laz\u0131m olur.\" (G\u00fcvenli)\n_ **Mask:** \"Asla ve asla \u00e7al\u0131\u015fma, kimse seni \u00e7a\u011f\u0131ramazs\u0131n.\" (Daha G\u00fcvenli) \\* **Purge:** \"K\u00f6kten sil, dosyalar\u0131n\u0131 da yok et.\" (En Temiz - Paket ad\u0131n\u0131 k\u00fc\u00e7\u00fck harfle yaz\u0131n!)\n\n### Ad\u0131m 2: snapd (Snap Paket Y\u00f6neticisi)\n\nCanonical'\u0131n konteyner tabanl\u0131 paket sistemi.\n\n**Kapatmal\u0131 m\u0131y\u0131m?**\n\n- **HAYIR:** E\u011fer `snap list` \u00e7\u0131kt\u0131s\u0131nda \u015funlar varsa:\n  - `oracle-cloud-agent` (Oracle Cloud)\n  - `amazon-ssm-agent` (AWS)\n  - `google-cloud-ops-agent` (GCP)\n  - `core`, `snapd`, `lxd` (Sistem bile\u015fenleri)\n  - `certbot` (E\u011fer snap ile kurulduysa)\n- **EVET:** Liste tamamen bo\u015fsa VE snap kullanmayacaksan\u0131z.\n\n```bash\n# Kontrol et\nsnap list\n\n# E\u011fer liste BO\u015eSA veya gereksizse:\nsudo systemctl stop snapd snapd.socket\nsudo systemctl disable snapd snapd.socket\n# sudo apt purge snapd -y  # Sadece Ubuntu/Debian ve eminseniz!\n</code></pre>"},{"location":"security/services/#adm-3-ag-ve-depolama-kontrollu-gidin","title":"Ad\u0131m 3: A\u011f ve Depolama (Kontroll\u00fc Gidin)","text":""},{"location":"security/services/#multipath-tools-multipathd","title":"Multipath Tools (<code>multipathd</code>)","text":"<p>Kapatmal\u0131 m\u0131y\u0131m?</p> <ul> <li>EVET: Standart bir VM ise ve sadece Boot Volume kullan\u0131yorsan\u0131z. Ek diskiniz (<code>/dev/sdb</code>) olsa bile <code>/dev/mapper</code> alt\u0131nda g\u00f6r\u00fcnm\u00fcyorsa.</li> <li>HAYIR: Kurumsal SAN/iSCSI yap\u0131s\u0131nda, diski <code>/dev/mapper/mpatha</code> gibi bir isimle kullan\u0131yorsan\u0131z.</li> </ul>"},{"location":"security/services/#iscsi-servisi-iscsid-dikkat","title":"iSCSI Servisi (<code>iscsid</code>) - D\u0130KKAT! \u26d4","text":"<p>Oracle Cloud Block Volume kullan\u0131c\u0131lar\u0131 i\u00e7in HAYAT\u0130D\u0130R.</p> <ul> <li>HAYIR: Ekledi\u011finiz Block Volume'ler iSCSI protokol\u00fc ile \u00e7al\u0131\u015f\u0131r. Kapat\u0131rsan\u0131z diskiniz ve veriniz kaybolur!</li> <li>EVET: Sadece Boot Volume kullan\u0131yorsan\u0131z ve gelecekte de disk eklemeyecekseniz (Sadece bu durumda).</li> </ul>"},{"location":"security/services/#rpc-bind-rpcbind","title":"RPC Bind (<code>rpcbind</code>)","text":"<p>Kapatmal\u0131 m\u0131y\u0131m? NFS (Dosya Payla\u015f\u0131m\u0131) kullanm\u0131yorsan\u0131z kapat\u0131n.</p> <pre><code>sudo systemctl stop rpcbind\nsudo systemctl disable rpcbind\nsudo systemctl stop rpcbind.socket\nsudo systemctl disable rpcbind.socket\n</code></pre>"},{"location":"security/services/#4-kritik-uyarlar","title":"4. Kritik Uyar\u0131lar! \u26a0\ufe0f","text":""},{"location":"security/services/#firewall-caksmas","title":"Firewall \u00c7ak\u0131\u015fmas\u0131","text":"<p>ASLA iki firewall servisi ayn\u0131 anda \u00e7al\u0131\u015fmamal\u0131d\u0131r.</p> <ul> <li>Ubuntu: <code>ufw</code> kullan\u0131yorsan\u0131z <code>firewalld</code> veya <code>iptables-persistent</code> \u00e7ak\u0131\u015fabilir.</li> <li>CentOS: <code>firewalld</code> varsay\u0131land\u0131r. <code>ufw</code> kuracaksan\u0131z <code>firewalld</code> KAPATILMALIDIR.</li> </ul> <pre><code># CentOS i\u00e7in Firewalld kapatma (E\u011fer UFW kullanacaksan\u0131z):\nsudo systemctl stop firewalld &amp;&amp; sudo systemctl disable firewalld\nsudo systemctl mask firewalld # Tekrar a\u00e7\u0131lmas\u0131n\u0131 engeller\n</code></pre>"},{"location":"security/services/#mail-transfer-agent-mta","title":"Mail Transfer Agent (MTA)","text":"<p>Postfix (CentOS) veya Exim4 (Ubuntu). Sistem e-postalar\u0131 (Cron, Fail2Ban bildirimleri) i\u00e7in kullan\u0131l\u0131r. D\u0131\u015far\u0131ya mail atmayacaksan\u0131z:</p> <ol> <li>G\u00fcvenli: Sadece <code>localhost</code> dinlemesini sa\u011flay\u0131n (<code>inet_interfaces = loopback-only</code>).</li> <li>Agresif: Tamamen kapat\u0131n (Log takibi zorla\u015fabilir).</li> </ol> <pre><code># Kapatmak i\u00e7in:\nsudo systemctl stop postfix exim4\nsudo systemctl disable postfix exim4\n</code></pre>"},{"location":"security/services/#getty-servisleri-arm-sunucular-dikkat","title":"Getty Servisleri (ARM Sunucular Dikkat!)","text":"<ul> <li><code>getty@tty1</code> -&gt; Fiziksel konsol.</li> <li><code>serial-getty@ttyAMA0</code> -&gt; ARM (Oracle Ampere) Serial Console.</li> </ul> <p>UYARI: Oracle Cloud ARM sunucularda <code>serial-getty@ttyAMA0</code> servisini SAKIN KAPATMAYIN. SSH eri\u015fiminiz kesilirse sunucuyu kurtarman\u0131n tek yolu Web Konsol'dur ve o da bu servise ba\u011fl\u0131d\u0131r.</p>"},{"location":"security/services/#5-bulut-ajanlar-cloud-agents-dokunmayin","title":"5. Bulut Ajanlar\u0131 (Cloud Agents) - DOKUNMAYIN! \u26d4","text":"<p>Her bulut sa\u011flay\u0131c\u0131s\u0131 y\u00f6netimi i\u00e7in kendi ajan\u0131n\u0131 y\u00fckler. Silerseniz Reboot/Reset Password \u00f6zellikleri bozulur.</p>"},{"location":"security/services/#evrensel","title":"Evrensel","text":"<ul> <li>cloud-init: T\u00fcm bulutlarda (AWS, GCP, Oracle, Azure) vard\u0131r. \u0130lk IP ve Key ayarlar\u0131n\u0131 yapar. ASLA S\u0130LMEY\u0130N.</li> </ul>"},{"location":"security/services/#oracle-cloud-infrastructure-oci","title":"Oracle Cloud Infrastructure (OCI)","text":"<ul> <li>Servisler: <code>oracle-cloud-agent</code>, <code>oracle-cloud-agent-updater</code></li> <li>Not: Genelde Snap veya Systemd servisidir. Dokunmay\u0131n.</li> </ul>"},{"location":"security/services/#google-cloud-platform-gcp","title":"Google Cloud Platform (GCP)","text":"<ul> <li>Servisler: <code>google-guest-agent</code> (Metadata/Network), <code>google-oslogin-agent</code> (SSH Key Y\u00f6netimi)</li> <li>Risk: Silerseniz GCP Console'dan SSH yapamazs\u0131n\u0131z.</li> </ul>"},{"location":"security/services/#amazon-web-services-aws","title":"Amazon Web Services (AWS)","text":"<ul> <li>Servisler: <code>amazon-ssm-agent</code>, <code>amazon-cloudwatch-agent</code></li> <li>Risk: SSM Session Manager eri\u015fimi kaybolur.</li> </ul>"},{"location":"security/services/#alibaba-azure-digitalocean","title":"Alibaba &amp; Azure &amp; DigitalOcean","text":"<ul> <li>Alibaba: <code>aliyun-service</code></li> <li>Azure: <code>walinuxagent</code> (waagent)</li> <li>DigitalOcean: <code>digitalocean-agent</code></li> <li>Hetzner: <code>hcloud-init</code></li> </ul> <p>Genel Kural: Servis ad\u0131nda <code>agent</code>, <code>guest</code>, <code>monitoring</code> veya sa\u011flay\u0131c\u0131 ad\u0131 (<code>oracle</code>, <code>aws</code> vb.) ge\u00e7iyorsa DOKUNMAYIN.</p>"},{"location":"security/services/#6-son-kontrol-listesi","title":"6. Son Kontrol Listesi \u2705","text":"<p>Temizlik sonras\u0131 son bir kontrol i\u00e7in \u015fu komutu \u00e7al\u0131\u015ft\u0131r\u0131p \"k\u0131rm\u0131z\u0131 bayrak\" listedekiler var m\u0131 bak\u0131n:</p> <pre><code># Gereksiz servis kontrol\u00fc:\nsudo systemctl list-units --type=service --state=running | \\\n  grep -iE \"cups|bluetooth|modem|rpcbind|postfix|exim4|multipath|vnstat|udisks2|polkit|alsa|pulse\"\n</code></pre> <ul> <li>\u00c7\u0131kt\u0131 BO\u015eSA: M\u00fckemmel! \ud83c\udf89 Sunucunuz temiz ve g\u00fcvenli.</li> <li>\u00c7\u0131kt\u0131 VARSA: Listeyi ve yukar\u0131daki \"\u0130stisnalar\"\u0131 tekrar kontrol edin.</li> </ul>"},{"location":"security/ssh/","title":"SSH G\u00fcvenli Port De\u011fi\u015ftirme (adim-adim)","text":"<p>Bu rehber, SSH portunu 22'den 2222'ye ta\u015f\u0131rken \"i\u00e7eride kilitli kalmaman\u0131z\" i\u00e7in en g\u00fcvenli y\u00f6ntemi anlat\u0131r.</p>"},{"location":"security/ssh/#hazrlk-mevcut-durumu-gor","title":"Haz\u0131rl\u0131k: Mevcut Durumu G\u00f6r","text":"<p>\u00d6nce \u015fu an hangi portun dinledi\u011fini ve UFW durumunu kontrol edin:</p> <pre><code>sudo ufw status verbose\n# \u00c7\u0131kt\u0131 \"Status: active\" ise kurallar i\u015fliyor demektir.\n# \"Inactive\" ise firewall kapal\u0131d\u0131r, yine de a\u015fa\u011f\u0131dakileri yap\u0131n.\n\nsudo ss -lntp | grep sshd\n# \u00c7\u0131kt\u0131da \":22\" g\u00f6r\u00fcyorsan\u0131z \u015fu an standart porttas\u0131n\u0131z. ok.\n</code></pre>"},{"location":"security/ssh/#adm-1-firewall-sigortas-ufw","title":"Ad\u0131m 1: Firewall Sigortas\u0131 (UFW)","text":"<p>SSH ayar\u0131n\u0131 de\u011fi\u015ftirmeden \u00f6nce, Firewall'da hem mevcut kap\u0131y\u0131 hem yeni kap\u0131y\u0131 a\u00e7mal\u0131y\u0131z. Bu \"sigorta\" i\u015flemidir.</p> <ol> <li> <p>Mevcut portu garantiye al (Sigorta):</p> <pre><code>sudo ufw allow 22/tcp\n</code></pre> </li> <li> <p>Yeni hedef portu a\u00e7:</p> <pre><code>sudo ufw allow 2222/tcp\n</code></pre> </li> <li> <p>Temel kurallar ve aktifle\u015ftirme:</p> <pre><code>sudo ufw default deny incoming\nsudo ufw default allow outgoing\nsudo ufw enable\n# \"Yes\" deyin. Ba\u011flant\u0131n\u0131z kopmaz \u00e7\u00fcnk\u00fc 22'ye izin verdik.\n</code></pre> </li> <li> <p>Kontrol: <pre><code>sudo ufw status numbered\n# \u00c7\u0131kt\u0131da HEM 22/tcp HEM 2222/tcp \"ALLOW\" olarak g\u00f6r\u00fcnmeli.\n</code></pre></p> </li> </ol> <p>[!WARNING] &gt; Oracle Cloud Kullan\u0131c\u0131lar\u0131: Sadece UFW yetmez! Oracle panelinden (VCN &gt; Security List) de 2222 portuna Ingress Rule eklemelisiniz. Yoksa sunucu 2222'den gelen paketi daha UFW'ye gelmeden reddeder.</p>"},{"location":"security/ssh/#adm-2-konfigurasyon-degisikligi","title":"Ad\u0131m 2: Konfig\u00fcrasyon De\u011fi\u015fikli\u011fi","text":"<p>\u015eimdi SSH servisine \"Art\u0131k 2222'den dinle\" diyece\u011fiz.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/ssh/sshd_config\n</code></pre> <p>\u015eunlar\u0131 d\u00fczenleyin (sat\u0131r\u0131n ba\u015f\u0131nda <code>#</code> varsa kald\u0131r\u0131n):</p> <pre><code>Port 2222\nPermitRootLogin no\nPasswordAuthentication no\n</code></pre> <p>Kaydet ve \u00e7\u0131k (<code>Ctrl+O</code>, <code>Enter</code>, <code>Ctrl+X</code>).</p>"},{"location":"security/ssh/#adm-3-ubuntu-2204-socket-sorunu-kritik","title":"Ad\u0131m 3: Ubuntu 22.04+ Socket Sorunu (Kritik)","text":"<p>Ubuntu 22.04 ve sonras\u0131nda SSH, varsay\u0131lan olarak \"Socket Activation\" ile \u00e7al\u0131\u015f\u0131r. Yani <code>sshd_config</code> dosyas\u0131nda portu de\u011fi\u015ftirseniz bile, <code>systemd</code> (ssh.socket) 22. portu dinlemeye devam eder ve de\u011fi\u015fikli\u011fi g\u00f6rmezden gelir.</p> <p>Bu sorunu \u00e7\u00f6zmek ve standart moda ge\u00e7mek i\u00e7in:</p> <ol> <li> <p>Socket'i durdurun ve iptal edin:</p> <pre><code>sudo systemctl stop ssh.socket\nsudo systemctl disable ssh.socket\n</code></pre> </li> <li> <p>Klasik servisi aktif edin:     <pre><code>sudo systemctl enable ssh.service\n</code></pre></p> </li> </ol> <p>[!NOTE] Bu i\u015flem CentOS/RHEL veya Debian'da gerekmez, onlar zaten standart modda \u00e7al\u0131\u015f\u0131r. Ama Ubuntu'da \u015fartt\u0131r.</p> Derinlemesine Bak\u0131\u015f: SSH Socket Nedir? <p>Socket Activation, servisin s\u00fcrekli a\u00e7\u0131k kalmas\u0131 yerine (daemon), systemd'nin bir \"kap\u0131 g\u00f6revlisi\" (socket) gibi beklemesidir. Kap\u0131ya biri vurunca (ba\u011flant\u0131 gelince) as\u0131l servisi o an uyand\u0131r\u0131r.</p> <pre><code>**Sisteminizde hangisinin aktif oldu\u011funu anlamak i\u00e7in:**\n\n1.  **Durum Kontrol\u00fc:**\n    ```bash\n    systemctl status ssh ssh.socket --no-pager\n    ```\n    *   `ssh.socket`: **active (running)** ise Socket modundas\u0131n\u0131z (Ubuntu 22.04+ varsay\u0131lan\u0131).\n    *   `ssh.service`: **active (running)** ve socket kapal\u0131ysa Klasik moddas\u0131n\u0131z.\n\n2.  **Hangisi Dinliyor?**\n    ```bash\n    sudo ss -lntp | grep ':2222'\n    ```\n    *   \u00c7\u0131kt\u0131da `systemd` g\u00f6r\u00fcyorsan\u0131z \u2192 Socket dinliyor.\n    *   \u00c7\u0131kt\u0131da `sshd` g\u00f6r\u00fcyorsan\u0131z \u2192 Servis dinliyor.\n\n3.  **Y\u00f6netim \u0130pucu:**\n    Socket modundaysan\u0131z, restart atarken `ssh` servisini de\u011fil, `ssh.socket`i restart etmeniz daha garantidir:\n    ```bash\n    sudo systemctl daemon-reload\n    sudo systemctl restart ssh.socket\n    ```\n</code></pre>"},{"location":"security/ssh/#adm-4-test-ve-restart","title":"Ad\u0131m 4: Test ve Restart","text":"<p>Hatay\u0131 restart atmadan \u00f6nce yakalamal\u0131y\u0131z.</p> <ol> <li> <p>Config syntax testi:</p> <pre><code>sudo sshd -t\n</code></pre> <p>(\u00c7\u0131kt\u0131 yoksa her \u015fey yolunda demektir. Hata varsa d\u00fczeltin!)</p> </li> <li> <p>Servisi yeniden ba\u015flat: <pre><code>sudo systemctl restart ssh\n</code></pre> (Ba\u011flant\u0131n\u0131z hala kopmad\u0131, korkmay\u0131n.)</p> </li> </ol>"},{"location":"security/ssh/#adm-4-iceriden-baglant-testi-localhost","title":"Ad\u0131m 4: \u0130\u00e7eriden Ba\u011flant\u0131 Testi (Localhost)","text":"<p>Yeni terminal a\u00e7madan \u00f6nce, sunucunun kendi kendine 2222'den ba\u011flanabildi\u011fini do\u011frulay\u0131n:</p> <pre><code>ssh -p 2222 localhost\n</code></pre> <p>\u015eifre veya key soruyorsa (veya \"Permission denied\" diyorsa) port \u00e7al\u0131\u015f\u0131yor demektir. \"Connection refused\" diyorsa servis kalkmam\u0131\u015ft\u0131r.</p>"},{"location":"security/ssh/#adm-5-dsardan-baglant-testi","title":"Ad\u0131m 5: D\u0131\u015far\u0131dan Ba\u011flant\u0131 Testi","text":"<ol> <li>Mevcut terminali KAPATMAYIN.</li> <li>Bilgisayar\u0131n\u0131zdan yeni bir terminal a\u00e7\u0131n.</li> <li>Ba\u011flanmay\u0131 deneyin:     <pre><code>ssh -p 2222 kullanici@sunucu-ip\n</code></pre></li> </ol>"},{"location":"security/ssh/#adm-6-temizlik-eski-kapy-kapat","title":"Ad\u0131m 6: Temizlik (Eski Kap\u0131y\u0131 Kapat)","text":"<p>Ba\u015far\u0131yla girdiyseniz art\u0131k 22'ye ihtiyac\u0131n\u0131z yok.</p> <pre><code>sudo ufw delete allow 22/tcp\nsudo ufw reload\n</code></pre> <p>Art\u0131k sadece 2222 a\u00e7\u0131k! \ud83d\udd12</p>"},{"location":"security/ssh/#adm-7-ileri-duzey-hardening-lynis-onerileri","title":"Ad\u0131m 7: \u0130leri D\u00fczey Hardening (Lynis \u00d6nerileri)","text":"<p>Bu ayarlar sadece \"puan art\u0131rmak\" i\u00e7in de\u011fildir; sunucunuzun yeteneklerini k\u0131s\u0131tlayarak sald\u0131r\u0131 y\u00fczeyini daralt\u0131r.</p> <p>Neden Gerekli?</p> <ol> <li>TcpForwarding (T\u00fcnelleme): Varsay\u0131lan olarak SSH, sunucunuzu bir \"Proxy\" gibi kullanmaya izin verir. Bir sald\u0131rgan \u015fifrenizi ele ge\u00e7irirse, sizin sunucunuz \u00fczerinden internete \u00e7\u0131k\u0131p ba\u015fka yerlere sald\u0131rabilir (IP'nizi kirletir). Bunu kapat\u0131yoruz.</li> <li>X11Forwarding: Sunucuda grafik aray\u00fcz (pencere, mouse vs.) kullanm\u0131yorsan\u0131z bu \u00f6zellik gereksiz bir g\u00fcvenlik riskidir. Kapat\u0131yoruz.</li> <li>ClientAlive: Kullan\u0131c\u0131 bilgisayar ba\u015f\u0131ndan kalkt\u0131ysa, SSH oturumu sonsuza kadar a\u00e7\u0131k kalmas\u0131n, otomatik kapans\u0131n istiyoruz.</li> </ol> <p>Uygulama:</p> <p>SSH'da \u00f6nemli bir kural vard\u0131r: \"\u0130lk okunan sat\u0131r ge\u00e7erlidir.\" Bu y\u00fczden dosyan\u0131n en alt\u0131na eklemek yerine, mevcut sat\u0131rlar\u0131 bulup de\u011fi\u015ftirmek en garantili y\u00f6ntemdir.</p> <ol> <li>Dosyay\u0131 a\u00e7\u0131n: <code>sudo nano /etc/ssh/sshd_config</code></li> <li><code>Ctrl+W</code> ile a\u015fa\u011f\u0131daki ayarlar\u0131 arat\u0131n.</li> <li>Ba\u015flar\u0131nda <code>#</code> varsa silin (yorum sat\u0131r\u0131ndan \u00e7\u0131kart\u0131n).</li> <li>De\u011ferlerini \u015fu \u015fekilde g\u00fcncelleyin:</li> </ol> <pre><code># Proxy/VPN olarak kullan\u0131lmas\u0131n\u0131 engelle\nAllowTcpForwarding no\nAllowAgentForwarding no\nX11Forwarding no\n\n# Bo\u015f oturumlar\u0131 at (5 dakika sonra)\nClientAliveInterval 300\nClientAliveCountMax 2\n\n# Giri\u015f denemelerini k\u0131s\u0131tla\nMaxAuthTries 3\nMaxSessions 2\n</code></pre> <p>(E\u011fer dosyada bu sat\u0131rlar\u0131 bulamazsan\u0131z, en alta ekleyebilirsiniz.)</p> <pre><code># ==============================================\n# LYNIS HARDENING (Level 2)\n# ==============================================\n\n# T\u00fcnelleme ve Y\u00f6nlendirmeyi Kapat\n# (Sald\u0131rgan sunucuyu proxy gibi kullanamas\u0131n)\nAllowTcpForwarding no\nAllowAgentForwarding no\nX11Forwarding no\n\n# Bo\u015f Duran Ba\u011flant\u0131lar\u0131 Kes\n# (3 deneme x 300 saniye = Cevap vermeyen client'\u0131 at)\nClientAliveInterval 300\nClientAliveCountMax 2\n\n# Giri\u015f Deneme Haklar\u0131n\u0131 K\u0131s\u0131tla\n# (Brute-force sald\u0131r\u0131lar\u0131 i\u00e7in ek zorluk)\nMaxAuthTries 3\nMaxSessions 2\n\n# Log Seviyesini Art\u0131r\n# (Sald\u0131r\u0131 analizi i\u00e7in daha fazla detay)\nLogLevel VERBOSE\n\n# TCP KeepAlive Kapat\n# (Hayalet ba\u011flant\u0131lar\u0131 \u00f6nler, ClientAlive ile birlikte kullan\u0131l\u0131r)\nTCPKeepAlive no\n</code></pre> <p>Ayarlar\u0131 uygulay\u0131n:</p> <pre><code>sudo sshd -t &amp;&amp; sudo systemctl reload ssh\n</code></pre>"},{"location":"security/sshguard/","title":"SSHGuard","text":"<p>SSHGuard, C ile yaz\u0131lm\u0131\u015f, son derece hafif ve h\u0131zl\u0131 bir sald\u0131r\u0131 engelleme arac\u0131d\u0131r. Fail2ban'den daha basittir \u00e7\u00fcnk\u00fc karma\u015f\u0131k Regex kurallar\u0131 yerine log formatlar\u0131n\u0131 do\u011frudan anlar.</p>"},{"location":"security/sshguard/#neden-sshguard","title":"Neden SSHGuard?","text":"<ul> <li>Performans: \u00c7ok az RAM ve CPU kullan\u0131r (G\u00f6m\u00fcl\u00fc sistemler i\u00e7in bile uygundur).</li> <li>Basitlik: Karma\u015f\u0131k \"Jail\" veya \"Filter\" ayarlar\u0131yla u\u011fra\u015fmazs\u0131n\u0131z.</li> <li>Odak: \u00d6nceli\u011fi SSH g\u00fcvenli\u011fidir ama di\u011fer baz\u0131 servisleri de (Exim, Dovecot vb.) destekler.</li> </ul> <p>[!NOTE] E\u011fer \u00e7ok \u00f6zelle\u015ftirilmi\u015f kurallara (\u00f6rn: Nginx'te belirli bir URL'ye eri\u015feni banla) ihtiyac\u0131n\u0131z varsa Fail2ban veya CrowdSec kullan\u0131n. \"Kur ve unut\" (Set and forget) istiyorsan\u0131z SSHGuard iyidir.</p>"},{"location":"security/sshguard/#1-kurulum","title":"1. Kurulum","text":"<pre><code>sudo apt update\nsudo apt install -y sshguard\n</code></pre>"},{"location":"security/sshguard/#2-yaplandrma","title":"2. Yap\u0131land\u0131rma","text":"<p>SSHGuard varsay\u0131lan ayarlar\u0131yla gayet iyi \u00e7al\u0131\u015f\u0131r. Ayar dosyas\u0131 <code>/etc/sshguard/sshguard.conf</code> konumundad\u0131r.</p> <p>\u00d6nemli Ayarlar:</p> <pre><code># /etc/sshguard/sshguard.conf\n\n# Backend: Kurallar\u0131 kimin uygulayaca\u011f\u0131 (nftables, iptables, ufw vb.)\n# Ubuntu'da genelde otomatik alg\u0131lan\u0131r ama manuel de verilebilir:\nBACKEND=\"/usr/lib/x86_64-linux-gnu/ssh_guard/sshg-fw-ufw\"\n\n# Log Dosyalar\u0131: Hangi dosyalar izlenecek?\n# (Bo\u015f b\u0131rak\u0131l\u0131rsa systemd journal'dan okur - Modern sistemlerde \u00f6nerilen budur)\n# FILES=\"/var/log/auth.log /var/log/syslog\"\n\n# Ka\u00e7 saniye banl\u0131 kals\u0131n? (\u00d6rn: 120 saniye)\nTHRESHOLD=30\nBLOCK_TIME=120\n\n# Beyaz Liste (Whitelist)\n# Kendinizi banlamamak i\u00e7in IP'nizi ekleyin\nWHITELIST_FILE=\"/etc/sshguard/whitelist\"\n</code></pre>"},{"location":"security/sshguard/#whitelist-olusturma","title":"Whitelist Olu\u015fturma","text":"<pre><code>sudo nano /etc/sshguard/whitelist\n</code></pre> <p>\u0130\u00e7ine IP adresinizi veya subnetinizi yaz\u0131n:</p> <pre><code>127.0.0.0/8\n192.168.1.0/24\n203.0.113.15\n</code></pre>"},{"location":"security/sshguard/#3-yonetim-ve-kontrol","title":"3. Y\u00f6netim ve Kontrol","text":"<p>Servisi ba\u015flat\u0131n:</p> <pre><code>sudo systemctl enable --now sshguard\nsudo systemctl restart sshguard\n</code></pre> <p>Durum kontrol\u00fc:</p> <pre><code>systemctl status sshguard\n</code></pre> <p>Loglar\u0131 izleme:</p> <p>SSHGuard'\u0131n ne yapt\u0131\u011f\u0131n\u0131 g\u00f6rmek i\u00e7in loglara bakabilirsiniz:</p> <pre><code>journalctl -u sshguard -f\n</code></pre> <p>E\u011fer bir sald\u0131r\u0131 engellenirse \u015funa benzer bir log d\u00fc\u015fer:</p> <p><code>Attack from \"1.2.3.4\" on service 100 with danger 10.</code></p>"},{"location":"security/sysctl-glossary/","title":"Kernel Parametreleri S\u00f6zl\u00fc\u011f\u00fc (Sysctl Reference)","text":"<p>Bu sayfa, <code>sysctl.conf</code> dosyas\u0131nda yapt\u0131\u011f\u0131m\u0131z ayarlar\u0131n teknik detaylar\u0131n\u0131, neden yap\u0131ld\u0131\u011f\u0131n\u0131 ve de\u011ferlerin (0, 1, 2) ne anlama geldi\u011fini a\u00e7\u0131klar.</p>"},{"location":"security/sysctl-glossary/#ag-guvenligi-network","title":"\ud83c\udf10 A\u011f G\u00fcvenli\u011fi (Network)","text":""},{"location":"security/sysctl-glossary/#netipv4confallrp_filter","title":"<code>net.ipv4.conf.all.rp_filter</code>","text":"<p>** Reverse Path Filtering (IP Spoofing Korumas\u0131)**</p> <ul> <li>Ama\u00e7: Sunucuya gelen bir paketin, ger\u00e7ekten geldi\u011fi IP adresinden mi yoksa taklit (spoof) bir adresten mi geldi\u011fini kontrol eder.</li> <li>0: Kapal\u0131. Kontrol yapmaz.</li> <li>1 (\u00d6nerilen/Strict): Paketin geldi\u011fi aray\u00fcz, o IP'ye giden rotayla e\u015fle\u015fmelidir. E\u015fle\u015fmezse paketi \u00e7\u00f6pe atar.</li> <li>2 (Loose): Paket herhangi bir aray\u00fczden d\u00f6nebiliyorsa kabul et. (Asimetrik routing i\u00e7in).</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4confallaccept_redirects","title":"<code>net.ipv4.conf.all.accept_redirects</code>","text":"<p>** ICMP Redirect Kabul\u00fc**</p> <ul> <li>Ama\u00e7: Router'lar\u0131n \"yolu de\u011fi\u015ftirdim, paketleri buradan g\u00f6nder\" komutunu kabul edip etmeyece\u011fi.</li> <li>0 (\u00d6nerilen): Reddet. Sald\u0131rganlar sizi sahte bir a\u011f ge\u00e7idine (Gateway) y\u00f6nlendirip trafi\u011finizi dinleyebilir (MITM).</li> <li>1: Kabul et. (Sadece router olarak \u00e7al\u0131\u015fan cihazlarda belki gerekebilir).</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4confallforwarding","title":"<code>net.ipv4.conf.all.forwarding</code>","text":"<p>** IP Forwarding (Y\u00f6nlendirme)**</p> <ul> <li>Ama\u00e7: Sunucunun bir \"Router\" gibi davran\u0131p, bir aray\u00fczden gelen paketi di\u011ferine iletmesi.</li> <li>0 (Sade Sunucu): Kapat. Biz son dura\u011f\u0131z, trafik ta\u015f\u0131m\u0131yoruz.</li> <li>1 (Docker/VPN): A\u00e7. Docker container'lar\u0131 internete \u00e7\u0131kmak i\u00e7in sunucu \u00fczerinden ge\u00e7er. Kapat\u0131l\u0131rsa Docker a\u011f\u0131 kopar.</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4tcp_syncookies","title":"<code>net.ipv4.tcp_syncookies</code>","text":"<p>** SYN Flood Korumas\u0131**</p> <ul> <li>Ama\u00e7: Sunucuya saniyede binlerce sahte \"Merhaba\" (SYN) iste\u011fi gelirse RAM \u015fi\u015fer. Bu ayar, bilgiyi RAM yerine \u00e7erezde (Cookie) tutar.</li> <li>0: Kapal\u0131.</li> <li>1 (\u00d6nerilen): SYN Flood sald\u0131r\u0131s\u0131 alg\u0131lan\u0131rsa devreye girer ve servisin \u00e7\u00f6kmesini engeller.</li> </ul>"},{"location":"security/sysctl-glossary/#netipv4icmp_ratelimit","title":"<code>net.ipv4.icmp_ratelimit</code>","text":"<p>** Ping (ICMP) H\u0131z S\u0131n\u0131rlamas\u0131**</p> <ul> <li>Ama\u00e7: Birisi size \"Ping Flood\" yaparsa (saniyede 1 milyon ping), i\u015flemci buna cevap vermekten yorulur.</li> <li>De\u011fer (ms): Belirtilen milisaniyede ka\u00e7 cevap verilece\u011fini s\u0131n\u0131rlar. \u00d6rne\u011fin <code>100</code> yapmak sald\u0131r\u0131y\u0131 yava\u015flat\u0131r.</li> </ul>"},{"location":"security/sysctl-glossary/#cekirdek-guvenligi-kernel","title":"\ud83d\udee1\ufe0f \u00c7ekirdek G\u00fcvenli\u011fi (Kernel)","text":""},{"location":"security/sysctl-glossary/#kerneldmesg_restrict","title":"<code>kernel.dmesg_restrict</code>","text":"<p>** Kernel Loglar\u0131n\u0131 Gizleme**</p> <ul> <li>Ama\u00e7: <code>dmesg</code> komutu kernel hatalar\u0131n\u0131 ve bellek adreslerini g\u00f6sterir. Sald\u0131rganlar bu adresleri kullanarak exploit (istismar kodu) yazar.</li> <li>0: Herkes kernel loglar\u0131n\u0131 g\u00f6rebilir.</li> <li>1 (\u00d6nerilen): Sadece <code>root</code> veya yetkili kullan\u0131c\u0131lar g\u00f6rebilir.</li> </ul>"},{"location":"security/sysctl-glossary/#kernelyamaptrace_scope","title":"<code>kernel.yama.ptrace_scope</code>","text":"<p>** S\u00fcre\u00e7 \u0130zleme (Ptrace) K\u0131s\u0131tlamas\u0131**</p> <ul> <li>Ama\u00e7: Bir program\u0131n (\u00f6rn: vir\u00fcs), \u00e7al\u0131\u015fan ba\u015fka bir program\u0131n haf\u0131zas\u0131n\u0131 okumas\u0131n\u0131 (\u015fifre \u00e7alma vb.) engeller.</li> <li>0: Klasik Linux. Her program kendi yetkisindeki di\u011fer program\u0131 izleyebilir.</li> <li>1 (\u00d6nerilen): Sadece \"baba\" s\u00fcre\u00e7ler (parent process) \u00e7ocuklar\u0131n\u0131 izleyebilir.</li> <li>2 (Admin Only): Sadece root izleyebilir.</li> <li>3: Ptrace tamamen iptal (debugging yap\u0131lamaz).</li> </ul>"},{"location":"security/sysctl-glossary/#fssuid_dumpable","title":"<code>fs.suid_dumpable</code>","text":"<p>** Core Dump (Hata D\u00f6k\u00fcm\u00fc) K\u0131s\u0131tlamas\u0131**</p> <ul> <li>Ama\u00e7: <code>suid</code> (yetkili) bir program \u00e7\u00f6kt\u00fc\u011f\u00fcnde RAM i\u00e7eri\u011fini diske yazar m\u0131? Bu dosyada (core dump) root \u015fifreleri bulunabilir.</li> <li>0 (\u00d6nerilen): Hay\u0131r, diske yazma (G\u00fcvenli).</li> <li>1: Evet, yaz (Debug i\u00e7in).</li> <li>2: G\u00fcvenli modda yaz (Sadece root okuyabilir).</li> </ul>"},{"location":"security/sysctl-glossary/#kernelkptr_restrict","title":"<code>kernel.kptr_restrict</code>","text":"<p>** Kernel Pointer (Haf\u0131za Adresi) Gizleme**</p> <ul> <li>Ama\u00e7: <code>/proc/kallsyms</code> dosyas\u0131ndaki kernel fonksiyon adreslerini gizler. Kernel a\u00e7\u0131\u011f\u0131 arayan sald\u0131rgan\u0131 k\u00f6r eder.</li> <li>0: Herkes g\u00f6r\u00fcr.</li> <li>1: Kernel izin verirse g\u00f6r\u00fcn\u00fcr.</li> <li>2 (\u00d6nerilen): Kimse (root dahil) g\u00f6remez, hepsi <code>00000000</code> olarak g\u00f6r\u00fcn\u00fcr.</li> </ul>"},{"location":"security/sysctl-glossary/#kernelsysrq","title":"<code>kernel.sysrq</code>","text":"<p>** Magic SysRq Key (Sihirli Kurtarma Tu\u015fu)**</p> <ul> <li>Ama\u00e7: Sistem dondu\u011funda klavyeden <code>Alt + SysRq + B</code> gibi tu\u015flarla reboot atabilmek.</li> <li>0 (En G\u00fcvenli): Tamamen kapal\u0131. Fiziksel eri\u015fimi olan biri bile tu\u015flarla sistemi resetleyemez.</li> <li>1: Tamamen a\u00e7\u0131k.</li> <li>176 (\u00d6nerilen): Sadece kritik kurtarma (Sync, Unmount, Reboot) komutlar\u0131na izin ver.</li> </ul>"},{"location":"security/sysctl-glossary/#devttyldisc_autoload","title":"<code>dev.tty.ldisc_autoload</code>","text":"<p>** TTY Line Discipline Loading**</p> <ul> <li>Ama\u00e7: Yeni bir TTY mod\u00fcl\u00fc y\u00fcklemeyi engeller. Ge\u00e7mi\u015fte buradan yetki y\u00fckseltme a\u00e7\u0131klar\u0131 \u00e7\u0131km\u0131\u015ft\u0131.</li> <li>0 (\u00d6nerilen): Otomatik y\u00fcklemeyi kapat.</li> <li>1: A\u00e7\u0131k.</li> </ul>"},{"location":"security/sysctl-glossary/#kernelperf_event_paranoid","title":"<code>kernel.perf_event_paranoid</code>","text":"<p>** Performans \u0130zleme K\u0131s\u0131tlamas\u0131**</p> <ul> <li>Ama\u00e7: \u0130\u015flemci performans saya\u00e7lar\u0131n\u0131 (Performance Counters) kim kullanabilir? Bu veriler yan kanal (side-channel) sald\u0131r\u0131lar\u0131nda kullan\u0131l\u0131r.</li> <li>-1: Herkes her \u015feyi izleyebilir (G\u00fcvensiz).</li> <li>2: Sadece kullan\u0131c\u0131 seviyesi i\u015flem.</li> <li>3 (\u00d6nerilen): En s\u0131k\u0131 mod. \u0130zlemeyi kapat veya sadece root'a izin ver.</li> </ul>"},{"location":"security/sysctl-glossary/#kritik-uyarlar","title":"\u26a0\ufe0f Kritik Uyar\u0131lar","text":"<ul> <li>1 = A\u00e7\u0131k, 0 = Kapal\u0131 kural\u0131 her zaman ge\u00e7erli de\u011fildir.</li> <li>\u00d6rne\u011fin: <code>disable_ipv6 = 1</code> derseniz IPv6 kapan\u0131r.</li> <li>\u00d6rne\u011fin: <code>forwarding = 1</code> derseniz y\u00f6nlendirme a\u00e7\u0131l\u0131r.</li> <li>Bu y\u00fczden her parametrenin ne i\u015fe yarad\u0131\u011f\u0131n\u0131 bu s\u00f6zl\u00fckten kontrol etmek \u00f6nemlidir.</li> </ul>"},{"location":"security/sysctl/","title":"Kernel Hardening (Sysctl)","text":"<p>Bu b\u00f6l\u00fcm, Linux \u00e7ekirde\u011fini (kernel) a\u011f sald\u0131r\u0131lar\u0131na ve yetki y\u00fckseltme (privilege escalation) giri\u015fimlerine kar\u015f\u0131 \"\u00e7elik yelek\" giydirmeyi hedefler.</p> <p>[!NOTE] &gt; Bu ayarlar ne i\u015fe yarar? Varsay\u0131lan Linux ayarlar\u0131 \"maksimum uyumluluk\" i\u00e7indir. Biz bunu \"maksimum g\u00fcvenlik\" olarak de\u011fi\u015ftirece\u011fiz.</p> <p>\ud83d\udcd6 Detayl\u0131 A\u00e7\u0131klama: Hangi ayar\u0131n (0 veya 1) ne anlama geldi\u011fini, <code>rp_filter</code>, <code>accept_redirects</code> gibi terimlerin ne oldu\u011funu merak ediyorsan\u0131z Kernel Parametreleri S\u00f6zl\u00fc\u011f\u00fc (Glossary) sayfas\u0131na bak\u0131n.</p>"},{"location":"security/sysctl/#1-uygulama","title":"1. Uygulama","text":""},{"location":"security/sysctl/#dockerkubernetes-kullanclar-dikkat","title":"\u26a0\ufe0f Docker/Kubernetes Kullan\u0131c\u0131lar\u0131 D\u0130KKAT!","text":"<p>E\u011fer Docker veya Kubernetes kullan\u0131yorsan\u0131z:</p>"},{"location":"security/sysctl/#ip-forwarding-kapatilamaz","title":"IP Forwarding KAPATILAMAZ!","text":"<pre><code># Bu sat\u0131rlar\u0131 YORUMA ALIN veya S\u0130L\u0130N:\n# net.ipv4.conf.all.forwarding = 0\n# net.ipv6.conf.all.forwarding = 0\n</code></pre> <p>Neden? Docker container'lar aras\u0131 ileti\u015fim i\u00e7in IP forwarding gerekir.</p> <p>Kontrol:</p> <pre><code># Docker varsa:\ndocker ps &amp;&gt;/dev/null &amp;&amp; echo \"Docker aktif, forwarding=1 olmal\u0131\"\n\n# Forwarding durumu:\nsysctl net.ipv4.conf.all.forwarding\n# Docker \u00e7al\u0131\u015f\u0131yorsa \u00e7\u0131kt\u0131: 1 (normal)\n</code></pre>"},{"location":"security/sysctl/#ipv6-kapalysa","title":"IPv6 Kapal\u0131ysa","text":"<p>E\u011fer IPv6 kapal\u0131ysa (\u00f6rn: <code>sysctl -a | grep ipv6</code> bo\u015f \u00e7\u0131k\u0131yorsa), IPv6 ayarlar\u0131 hata verecektir. Bu normaldir, g\u00f6rmezden gelin.</p>"},{"location":"security/sysctl/#1-hazrlk-ve-envanter","title":"1. Haz\u0131rl\u0131k ve Envanter \ud83d\udccb","text":"<p>Kernel ayarlar\u0131n\u0131 de\u011fi\u015ftirmek risklidir. \u00d6nce sistemimizde ne var ne yok bakal\u0131m.</p> <pre><code># Docker veya Kubernetes var m\u0131?\ncommand -v docker &amp;&gt;/dev/null &amp;&amp; echo \"\u26a0\ufe0f Docker bulundu: IP Forwarding KAPATILMAMALI!\" || echo \"\u2705 Docker yok, Forwarding kapat\u0131labilir.\"\n</code></pre>"},{"location":"security/sysctl/#2-mevcut-ayarlar-yedekle","title":"2. Mevcut Ayarlar\u0131 Yedekle \ud83d\udcbe","text":"<p>Bir \u015feyler ters giderse geri d\u00f6nmek i\u00e7in:</p> <pre><code>sudo sysctl -a &gt; ~/sysctl-backup-$(date +%Y%m%d).conf\necho \"Yedek al\u0131nd\u0131: Ana dizine kaydedildi.\"\n</code></pre>"},{"location":"security/sysctl/#3-gecici-test-reboot-ile-sfrlanr","title":"3. Ge\u00e7ici Test (Reboot ile S\u0131f\u0131rlan\u0131r) \ud83e\uddea","text":"<p>Ayarlar\u0131 hemen kal\u0131c\u0131 yapmay\u0131n. \u00d6nce ge\u00e7ici olarak uygulay\u0131p sunucunun \u00e7al\u0131\u015f\u0131p \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 (SSH, Web, Docker) test edin.</p> <pre><code># === A\u011e G\u00dcVENL\u0130\u011e\u0130 ===\nsudo sysctl -w net.ipv4.conf.all.rp_filter=1\nsudo sysctl -w net.ipv4.conf.default.rp_filter=1\nsudo sysctl -w net.ipv4.conf.all.accept_redirects=0\nsudo sysctl -w net.ipv4.tcp_syncookies=1\n\n# === KERNEL G\u00dcVENL\u0130\u011e\u0130 ===\nsudo sysctl -w kernel.dmesg_restrict=1\nsudo sysctl -w kernel.yama.ptrace_scope=1\nsudo sysctl -w fs.suid_dumpable=0\nsudo sysctl -w kernel.sysrq=176\n\necho \"\u2705 Ge\u00e7ici ayarlar uyguland\u0131. \u015eimdi SSH ve servisleri test edin!\"\n</code></pre> <p>Sorun \u00c7\u0131kt\u0131 m\u0131? Sunucuyu yeniden ba\u015flat\u0131n (<code>reboot</code>). Her \u015fey eski haline d\u00f6ner.</p>"},{"location":"security/sysctl/#4-kalc-uygulama-scenario-secimi","title":"4. Kal\u0131c\u0131 Uygulama (Scenario Se\u00e7imi) \ud83d\ude80","text":"<p>Testler ba\u015far\u0131l\u0131ysa ayarlar\u0131 kal\u0131c\u0131 yapal\u0131m. Durumunuza uygun profili se\u00e7in:</p> \ud83c\udd70\ufe0f Senaryo A: Sade Sunucu (Docker YOK)\ud83c\udd71\ufe0f Senaryo B: Docker/Kubernetes Sunucusu <p>Docker, Kubernetes veya VPN KULLANMIYORSANIZ bu en g\u00fcvenli profildir. <code>IP Forwarding</code> kapat\u0131l\u0131r.</p> <pre><code>sudo tee /etc/sysctl.d/99-hardening.conf &lt;&lt; 'EOF'\n# ==============================================\n# NETWORK SAFETY - SADE SUNUCU (NO DOCKER)\n# ==============================================\n\n# IP Forwarding KAPAT (Docker yoksa g\u00fcvenli)\nnet.ipv4.conf.all.forwarding = 0\nnet.ipv6.conf.all.forwarding = 0\n\n# IP Spoofing &amp; Source Routing\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.all.accept_source_route = 0\nnet.ipv4.conf.default.accept_source_route = 0\n\n# ICMP Redirect Kapat\nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.default.accept_redirects = 0\nnet.ipv4.conf.all.secure_redirects = 0\nnet.ipv4.conf.default.secure_redirects = 0\n\n# TCP SYN Flood &amp; Keepalive\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn_backlog = 2048\nnet.ipv4.tcp_synack_retries = 2\nnet.ipv4.tcp_keepalive_time = 600\n\n# ICMP Rate Limiting\nnet.ipv4.icmp_ratelimit = 100\n\n# ==============================================\n# KERNEL SAFETY\n# ==============================================\nkernel.dmesg_restrict = 1\nkernel.yama.ptrace_scope = 1\nfs.suid_dumpable = 0\nkernel.kptr_restrict = 2\nkernel.sysrq = 176\ndev.tty.ldisc_autoload = 0\nnet.core.bpf_jit_harden = 2\nkernel.unprivileged_bpf_disabled = 1\nkernel.perf_event_paranoid = 3\nEOF\n</code></pre> <p>Docker veya Kubernetes KULLANIYORSANIZ bu profili kullan\u0131n. <code>IP Forwarding</code> a\u00e7\u0131k b\u0131rak\u0131l\u0131r.</p> <pre><code>sudo tee /etc/sysctl.d/99-hardening.conf &lt;&lt; 'EOF'\n# ==============================================\n# NETWORK SAFETY - DOCKER/K8S PROF\u0130L\u0130\n# ==============================================\n\n# \u26a0\ufe0f IP Forwarding A\u00c7IK KALMALI (Yoksa Container'lar bozulur!)\n# net.ipv4.conf.all.forwarding = 1\n\n# IP Spoofing &amp; Source Routing\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.all.accept_source_route = 0\nnet.ipv4.conf.default.accept_source_route = 0\n\n# ICMP Redirect Kapat\nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.default.accept_redirects = 0\nnet.ipv4.conf.all.secure_redirects = 0\nnet.ipv4.conf.default.secure_redirects = 0\n\n# TCP SYN Flood &amp; Keepalive\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn_backlog = 2048\nnet.ipv4.tcp_synack_retries = 2\nnet.ipv4.tcp_keepalive_time = 600\n\n# ICMP Rate Limiting\nnet.ipv4.icmp_ratelimit = 100\n\n# ==============================================\n# KERNEL SAFETY\n# ==============================================\nkernel.dmesg_restrict = 1\nkernel.yama.ptrace_scope = 1\nfs.suid_dumpable = 0\nkernel.kptr_restrict = 2\nkernel.sysrq = 176\ndev.tty.ldisc_autoload = 0\nnet.core.bpf_jit_harden = 2\nkernel.unprivileged_bpf_disabled = 1\nkernel.perf_event_paranoid = 3\nEOF\n</code></pre>"},{"location":"security/sysctl/#3-aktiflestirme","title":"3. Aktifle\u015ftirme","text":"<p>Ayarlar\u0131 sisteme y\u00fcklemek i\u00e7in:</p> <pre><code>sudo sysctl --system\n</code></pre>"},{"location":"security/sysctl/#4-dogrulama","title":"4. Do\u011frulama","text":"<p>T\u00fcm ayarlar\u0131 kontrol et:</p> <pre><code># T\u00fcm hardening ayarlar\u0131n\u0131 g\u00f6ster:\nsudo sysctl -a | grep -E \"rp_filter|accept_redirects|tcp_syncookies|dmesg_restrict|ptrace_scope\"\n</code></pre> <p>Beklenen \u00c7\u0131kt\u0131 (\u00d6rnekler):</p> <pre><code>net.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.tcp_syncookies = 1\nkernel.dmesg_restrict = 1\nkernel.yama.ptrace_scope = 1\n</code></pre>"},{"location":"security/sysctl/#5-sorun-ckarsa-geri-alma","title":"5. Sorun \u00c7\u0131karsa (Geri Alma)","text":"<p>E\u011fer bu ayarlar uygulaman\u0131z\u0131 bozarsa (\u00f6rne\u011fin Kubernetes IP Forwarding ister), dosyay\u0131 silip ayarlar\u0131 eski haline getirebilirsiniz.</p> <pre><code># 1. Dosyay\u0131 sil\nsudo rm /etc/sysctl.d/99-hardening.conf\n\n# 2. Ayarlar\u0131 s\u0131f\u0131rla (veya sunucuyu yeniden ba\u015flat)\nsudo sysctl --system\n</code></pre>"},{"location":"security/tarpit/","title":"Aktif Savunma: Hacker Tuzaklama (Tarpit)","text":"<p>[!TIP] &gt; E\u011flence Zaman\u0131! \ud83c\udfa3 Bu b\u00f6l\u00fcm zorunlu de\u011fildir ama yapmas\u0131 \u00e7ok zevklidir. Sunucunuzu bo\u015f bo\u015f tarayan botlardan intikam almak istiyorsan\u0131z do\u011fru yerdesiniz.</p>"},{"location":"security/tarpit/#tarpit-nedir","title":"Tarpit Nedir?","text":"<p>SSH portunuzu 2222'ye ta\u015f\u0131d\u0131n\u0131z. Peki bo\u015f kalan 22 portuna ne olacak? Genelde \"Connection Refused\" (Kapal\u0131) hatas\u0131 d\u00f6ner. Bot gelir, kapal\u0131 oldu\u011funu g\u00f6r\u00fcr ve gider.</p> <p>Ama biz gitmesini istemiyoruz. Biz istiyoruz ki bot o kap\u0131da sonsuza kadar beklesin.</p> <p>\u0130\u015fte Endlessh (Endless SSH) tam olarak bunu yapar.</p> <ol> <li>Port 22'yi dinler.</li> <li>Gelen bota \"Merhaba, ben SSH sunucusuyum... biraz bekle...\" der.</li> <li>Ve sonra saniyede bir harf g\u00f6ndererek (<code>H.... e.... l.... l....</code>) botu hatt\u0131n ucunda tutar.</li> <li>Bot, \"Ba\u011flant\u0131 koptu kopacak\" diye beklerken g\u00fcnler ge\u00e7er.</li> </ol>"},{"location":"security/tarpit/#kurulum-docker-ile","title":"Kurulum (Docker ile)","text":"<p>En temiz y\u00f6ntem Docker kullanmakt\u0131r. (Sunucunuzda hen\u00fcz Docker yoksa kurulum b\u00f6l\u00fcm\u00fcne ge\u00e7in veya <code>apt install endlessh</code> deneyin).</p> <pre><code>docker run -d \\\n  --name endlessh \\\n  --restart always \\\n  -p 22:2222 \\\n  stored/endlessh\n</code></pre> <p>Not: \u0130\u00e7eride 2222 portunda \u00e7al\u0131\u015f\u0131r ama biz onu d\u0131\u015far\u0131ya (host'a) 22 olarak veririz.</p>"},{"location":"security/tarpit/#kurulum-ubuntu-native","title":"Kurulum (Ubuntu Native)","text":"<p>E\u011fer Docker kullanmadan kurmak isterseniz:</p> <ol> <li> <p>Paketi kurun:</p> <pre><code>sudo apt update\nsudo apt install -y endlessh\n</code></pre> </li> <li> <p>Ayarlar\u0131n\u0131 d\u00fczenleyin:</p> <pre><code>sudo nano /etc/endlessh/config\n</code></pre> <p>\u0130\u00e7eri\u011fi \u015f\u00f6yle yap\u0131n:</p> <pre><code># Port 22'de dinle (Dikkat: A\u015fa\u011f\u0131daki ayar gereklidir)\nPort 22\nDelay 10000\nMaxLineLength 32\nMaxClients 4096\nLogLevel 1\n</code></pre> </li> <li> <p>Port 22 (Privileged Port) izni verin:     Endlessh normal kullan\u0131c\u0131 yetkisiyle \u00e7al\u0131\u015ft\u0131\u011f\u0131 i\u00e7in 1024 alt\u0131ndaki portlar\u0131 (22) dinleyemez. \u0130zin verelim:</p> <pre><code>sudo setcap 'cap_net_bind_service=+ep' /usr/bin/endlessh\n</code></pre> </li> <li> <p>Servisi aktif edin:     <pre><code># Systemd dosyas\u0131nda \"AmbientCapabilities\" ayar\u0131 gerekebilir,\n# ama setcap genelde \u00e7\u00f6zer.\nsudo systemctl enable endlessh\nsudo systemctl restart endlessh\n</code></pre></p> </li> </ol>"},{"location":"security/tarpit/#izleme-eglenceli-ksm","title":"\u0130zleme (E\u011flenceli K\u0131s\u0131m) \ud83c\udf7f","text":"<p>Kimler tuza\u011fa d\u00fc\u015fm\u00fc\u015f g\u00f6rmek i\u00e7in loglara bak\u0131n:</p> <pre><code># Native kurulum i\u00e7in:\njournalctl -fu endlessh\n\n# Docker i\u00e7in:\ndocker logs -f endlessh\n</code></pre> <p>\u015euna benzer \u015feyler g\u00f6receksiniz: <code>ACCEPT host=192.168.1.50 port=54321</code> <code>CLOSE host=192.168.1.50 ... time=340.523s</code></p> <p>G\u00f6rd\u00fc\u011f\u00fcn\u00fcz gibi, botu 340 saniye (5 dakika) boyunca bo\u015funa bekletmi\u015fsiniz. Kaynak t\u00fcketimi? S\u0131f\u0131ra yak\u0131n.</p> <p>[!WARNING] &gt; Firewall Ayar\u0131: Bunu yapt\u0131ktan sonra UFW'de veya Oracle Security List'te Port 22'yi tekrar a\u00e7mal\u0131s\u0131n\u0131z ki botlar i\u00e7eri girebilsin! (Kendi ger\u00e7ek SSH'\u0131n\u0131z\u0131n 2222'de oldu\u011fundan %100 emin olun).</p>"},{"location":"security/tarpit/#diger-aktif-savunma-konseptleri-teori","title":"Di\u011fer Aktif Savunma Konseptleri (Teori)","text":"<p>Tarpit (bata\u011fa saplama) sadece bir y\u00f6ntemdir. \"Deception\" (Aldatma) d\u00fcnyas\u0131nda ba\u015fka ilgin\u00e7 teknikler de vard\u0131r:</p>"},{"location":"security/tarpit/#1-honeyport-canary-port","title":"1. Honeyport / Canary Port","text":"<p>Ger\u00e7ekte servis \u00e7al\u0131\u015ft\u0131rmad\u0131\u011f\u0131n\u0131z bir portu (\u00f6rn: 1234) izlersiniz. Oraya biri dokundu\u011fu an \"Alarm\" \u00e7alar veya o IP an\u0131nda t\u00fcm portlardan banlan\u0131r. Mant\u0131k: \"Bu portu kimse bilmemeli, dokunan kesinlikle dost de\u011fildir.\"</p>"},{"location":"security/tarpit/#2-fake-banner-servis-yanltma","title":"2. Fake Banner (Servis Yan\u0131ltma)","text":"<p>Asl\u0131nda Nginx kullan\u0131yorsunuzdur ama sunucu kendini \"Apache 2.4\" diye tan\u0131t\u0131r. Sald\u0131rgan Apache a\u00e7\u0131\u011f\u0131 ararken bo\u015fa zaman harcar. Ama\u00e7: Profil \u00e7\u0131karmay\u0131 (Reconnaissance) bozmak.</p>"},{"location":"security/tarpit/#3-canary-tokens-yemler","title":"3. Canary Tokens (Yemler)","text":"<p>Sunucunun i\u00e7ine \"password.txt\" diye sahte bir dosya veya veritaban\u0131na sahte bir \"admin\" kullan\u0131c\u0131s\u0131 koyars\u0131n\u0131z. Biri bu dosyay\u0131 a\u00e7arsa veya bu kullan\u0131c\u0131yla giri\u015f yaparsa sistem size \"Biri i\u00e7eride!\" diye haber verir. Bu, sald\u0131r\u0131 engellemekten \u00e7ok, i\u00e7eri s\u0131zan\u0131 tespit etmek (Detection) i\u00e7indir.</p>"},{"location":"security/tarpit/#4-high-vs-low-interaction-honeypot","title":"4. High vs Low Interaction Honeypot","text":"<ul> <li>Low-Interaction: Sadece login ekran\u0131 g\u00f6sterir (Endlessh gibi). Daha g\u00fcvenlidir.</li> <li>High-Interaction: Ger\u00e7ek bir Linux gibi davran\u0131r, hacker komut \u00e7al\u0131\u015ft\u0131rabilir. \u00c7ok risklidir, sadece ara\u015ft\u0131rma (Research) i\u00e7in kullan\u0131l\u0131r.</li> </ul> <p>[!TIP] &gt; Production \u0130\u00e7in \u00d6neri: Sadece Endlessh (Tarpit) ve Honeyport (IP Banlama) production i\u00e7in g\u00fcvenli ve az kaynak t\u00fcketen y\u00f6ntemlerdir. Di\u011ferleri laboratuvar ortam\u0131nda denenmelidir.</p>"},{"location":"security/tmp-hardening/","title":"/tmp Klas\u00f6r\u00fc G\u00fcvenli\u011fi (Noexec) \ud83d\udee1\ufe0f","text":"<p>Linux sunucularda <code>/tmp</code> klas\u00f6r\u00fc, ge\u00e7ici dosyalar i\u00e7in kullan\u0131l\u0131r ve d\u00fcnyadaki her kullan\u0131c\u0131 buraya yazabilir (<code>rwxrwxrwt</code>). Bu \u00f6zellik, sald\u0131rganlar\u0131n zararl\u0131 scriptlerini (exploit, shell script, vir\u00fcs) buraya indirip \u00e7al\u0131\u015ft\u0131rmas\u0131 i\u00e7in m\u00fckemmel bir yuvad\u0131r.</p> <p>Bu a\u00e7\u0131\u011f\u0131 kapatmak i\u00e7in <code>/tmp</code> klas\u00f6r\u00fcn\u00fc noexec (i\u00e7inde hi\u00e7bir \u015fey \u00e7al\u0131\u015ft\u0131r\u0131lamaz) moduyla ba\u011flayaca\u011f\u0131z.</p> <p>Ama\u00e7: Sald\u0131rgan <code>/tmp</code> i\u00e7ine vir\u00fcs indirse bile <code>./virus</code> diyerek \u00e7al\u0131\u015ft\u0131ramas\u0131n.</p>"},{"location":"security/tmp-hardening/#1-hazrlk-ve-yedek","title":"1. Haz\u0131rl\u0131k ve Yedek","text":"<p><code>fstab</code> dosyas\u0131 sunucunun a\u00e7\u0131l\u0131\u015f\u0131nda diskleri ba\u011flar. Yanl\u0131\u015f bir harf, sunucunun a\u00e7\u0131lmamas\u0131na neden olabilir. \u00d6nce yedek alal\u0131m!</p> <pre><code>sudo cp /etc/fstab /etc/fstab.bak\n</code></pre>"},{"location":"security/tmp-hardening/#2-tmpyi-guvenli-baglama-tmpfs","title":"2. /tmp'yi G\u00fcvenli Ba\u011flama (Tmpfs)","text":"<p>Bu i\u015flem <code>/tmp</code> klas\u00f6r\u00fcn\u00fc RAM \u00fczerinde (tmpfs) tutar ve \u00e7al\u0131\u015ft\u0131r\u0131labilir dosyalar\u0131 engeller.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/fstab\n</code></pre> <p>En alt sat\u0131ra \u015funu ekleyin:</p> <pre><code># Secure /tmp (noexec prevents running scripts)\ntmpfs /tmp tmpfs defaults,noexec,nosuid,nodev 0 0\n</code></pre> <ul> <li>noexec: Script/program \u00e7al\u0131\u015ft\u0131r\u0131lamaz.</li> <li>nosuid: Root yetkisi alan dosya bar\u0131namaz.</li> <li>nodev: Ayg\u0131t dosyas\u0131 (device file) olu\u015fturulamaz.</li> </ul>"},{"location":"security/tmp-hardening/#3-ayarlar-uygulama","title":"3. Ayarlar\u0131 Uygulama","text":"<p>Kaydettikten sonra (Ctrl+O, Enter, Ctrl+X), ayarlar\u0131 aktif etmek i\u00e7in:</p> <pre><code># De\u011fi\u015fiklikleri uygula\nsudo mount -o remount /tmp || sudo mount -a\n</code></pre> <p>Not: E\u011fer hata al\u0131rsan\u0131z veya \"busy\" derse sunucuyu yeniden ba\u015flatman\u0131z gerekebilir (<code>reboot</code>).</p>"},{"location":"security/tmp-hardening/#4-dogrulama-hacker-testi","title":"4. Do\u011frulama (Hacker Testi) \ud83e\uddea","text":"<p>Ger\u00e7ekten \u00e7al\u0131\u015f\u0131p \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 test edelim. <code>/tmp</code> i\u00e7ine basit bir script yaz\u0131p \u00e7al\u0131\u015ft\u0131rmay\u0131 deneyelim.</p> <pre><code># 1. /tmp'ye git\ncd /tmp\n\n# 2. Masum bir script olu\u015ftur\necho 'echo \"E\u011fer bunu g\u00f6r\u00fcyorsan G\u00dcVENL\u0130K YOK!\"' &gt; test_hack.sh\n\n# 3. \u00c7al\u0131\u015ft\u0131rma izni ver\nchmod +x test_hack.sh\n\n# 4. \u00c7al\u0131\u015ft\u0131rmay\u0131 dene\n./test_hack.sh\n</code></pre> <p>Beklenen Sonu\u00e7:</p> <pre><code>-bash: ./test_hack.sh: Permission denied\n# Veya\nEri\u015fim engellendi\n</code></pre> <p>E\u011fer \"Permission denied\" hatas\u0131 al\u0131yorsan\u0131z tebrikler! \ud83c\udf89 Sald\u0131rganlar art\u0131k <code>/tmp</code> \u00fczerinden script \u00e7al\u0131\u015ft\u0131ramaz.</p>"},{"location":"security/tmp-hardening/#onemli-uyar-apt-ve-scriptler","title":"\u26a0\ufe0f \u00d6nemli Uyar\u0131: Apt ve Scriptler","text":"<p>Baz\u0131 k\u00f6t\u00fc yaz\u0131lm\u0131\u015f scriptler veya g\u00fcncellemeler <code>/tmp</code> i\u00e7inde \u00e7al\u0131\u015fmak isteyebilir (Nadir). E\u011fer bir g\u00fcncelleme s\u0131ras\u0131nda sorun ya\u015farsan\u0131z ge\u00e7ici olarak korumay\u0131 kald\u0131rabilirsiniz:</p> <pre><code># Korumay\u0131 kald\u0131r (exec izni ver)\nsudo mount -o remount,exec /tmp\n\n# \u0130\u015fini hallet, g\u00fcncellemeyi yap...\n\n# Korumay\u0131 geri a\u00e7\nsudo mount -o remount,noexec /tmp\n</code></pre>"},{"location":"security/updates/","title":"Otomatik G\u00fcvenlik G\u00fcncellemeleri","text":"<p>Sunucunuzun g\u00fcvenli\u011fi i\u00e7in en kritik ad\u0131m, g\u00fcvenlik yamalar\u0131n\u0131 zaman\u0131nda almakt\u0131r. Unattended Upgrades, bu i\u015fi sizin yerinize sessizce halleder.</p>"},{"location":"security/updates/#1-kurulum","title":"1. Kurulum","text":"<p>Paketi kurun:</p> <pre><code>sudo apt update\nsudo apt install -y unattended-upgrades apt-listchanges\n</code></pre>"},{"location":"security/updates/#2-aktiflestirme-otomatiklestirme","title":"2. Aktifle\u015ftirme (Otomatikle\u015ftirme)","text":"<p>\u00c7o\u011fu rehber <code>dpkg-reconfigure</code> kullan\u0131r ama bu interaktiftir (otomasyona gelmez). Biz do\u011frudan ayar dosyas\u0131n\u0131 olu\u015fturaca\u011f\u0131z.</p> <p>\u015eu dosyay\u0131 olu\u015fturun/d\u00fczenleyin: <code>/etc/apt/apt.conf.d/20auto-upgrades</code></p> <pre><code>sudo nano /etc/apt/apt.conf.d/20auto-upgrades\n</code></pre> <p>\u0130\u00e7eri\u011fi \u015f\u00f6yle olmal\u0131:</p> <pre><code>APT::Periodic::Update-Package-Lists \"1\";\nAPT::Periodic::Unattended-Upgrade \"1\";\nAPT::Periodic::AutocleanInterval \"7\";\n</code></pre> <ul> <li>Update-Package-Lists \"1\": Her g\u00fcn paket listesini g\u00fcncelle (<code>apt update</code>).</li> <li>Unattended-Upgrade \"1\": Her g\u00fcn g\u00fcncellemeleri kur (<code>apt upgrade</code>).</li> <li>AutocleanInterval \"7\": 7 g\u00fcnde bir \u00f6nbelle\u011fi temizle.</li> </ul>"},{"location":"security/updates/#3-konfigurasyon-zamanlama-ve-reboot","title":"3. Konfig\u00fcrasyon (Zamanlama ve Reboot)","text":"<p>Ana ayarlar <code>/etc/apt/apt.conf.d/50unattended-upgrades</code> dosyas\u0131ndad\u0131r. Buras\u0131 \"Neleri g\u00fcncelleyeyim?\" ve \"Reboot edeyim mi?\" sorular\u0131n\u0131n cevab\u0131d\u0131r.</p> <p>Dosyay\u0131 a\u00e7\u0131n:</p> <pre><code>sudo nano /etc/apt/apt.conf.d/50unattended-upgrades\n</code></pre> <p>Bu dosyada \u00e7o\u011fu ayar <code>//</code> ile yorum sat\u0131r\u0131 halindedir. A\u015fa\u011f\u0131daki ad\u0131mlar\u0131 izleyin:</p> <ol> <li> <p>Allowed-Origins (Kontrol Edin):     Genelde varsay\u0131lan olarak a\u00e7\u0131kt\u0131r. <code>${distro_id}:${distro_codename}-security</code> sat\u0131r\u0131n\u0131n ba\u015f\u0131nda <code>//</code> olmad\u0131\u011f\u0131ndan emin olun.</p> <pre><code>Unattended-Upgrade::Allowed-Origins {\n    \"${distro_id}:${distro_codename}-security\";\n};\n</code></pre> </li> <li> <p>Temizlik ve Reboot (Aktif Hale Getirin):     Bu sat\u0131rlar varsay\u0131lan olarak kapal\u0131d\u0131r (<code>//</code> ile ba\u015flar). Ba\u015f\u0131ndaki <code>//</code> i\u015faretlerini silerek a\u00e7\u0131n:</p> <pre><code>// Gereksiz kernel ve ba\u011f\u0131ml\u0131l\u0131klar\u0131 temizle\nUnattended-Upgrade::Remove-Unused-Kernel-Packages \"true\";\nUnattended-Upgrade::Remove-Unused-Dependencies \"true\";\n\n// Otomatik Yeniden Ba\u015flatma\nUnattended-Upgrade::Automatic-Reboot \"true\";\nUnattended-Upgrade::Automatic-Reboot-Time \"04:00\";\n</code></pre> </li> </ol> <p>[!WARNING] &gt; Automatic Reboot: Kernel g\u00fcncellemeleri yeniden ba\u015flatma gerektirir. E\u011fer bunu a\u00e7arsan\u0131z, sunucunuz gece 04:00'te kapan\u0131p a\u00e7\u0131labilir. Docker konteynerlerinizin <code>restart: always</code> modunda oldu\u011fundan emin olun!</p>"},{"location":"security/updates/#4-ileri-duzey-ayarlar","title":"4. \u0130leri D\u00fczey Ayarlar","text":""},{"location":"security/updates/#paket-engelleme-blacklist","title":"Paket Engelleme (Blacklist)","text":"<p>Bazen bir g\u00fcncelleme sisteminizi bozabilir (\u00f6rn: Nginx konfig\u00fcrasyonu de\u011fi\u015febilir). O paketi g\u00fcncellemelerden hari\u00e7 tutmak i\u00e7in <code>Package-Blacklist</code> k\u0131sm\u0131n\u0131 kullan\u0131n.</p> <p><code>/etc/apt/apt.conf.d/50unattended-upgrades</code> dosyas\u0131nda:</p> <pre><code>Unattended-Upgrade::Package-Blacklist {\n    \"nginx\";\n    \"libc6\";\n    \"libc6-dev\";\n    // Regex de kullanabilirsiniz:\n    // \"linux-image.*\";\n};\n</code></pre>"},{"location":"security/updates/#diger-depolar-docker-nginx-dahil-etme","title":"Di\u011fer Depolar\u0131 (Docker, Nginx) Dahil Etme","text":"<p>Varsay\u0131lan olarak sadece Ubuntu g\u00fcvenlik yamalar\u0131 al\u0131n\u0131r. E\u011fer Docker veya Nginx gibi d\u0131\u015f kaynaklardan kurdu\u011funuz paketlerin de g\u00fcncellenmesini istiyorsan\u0131z <code>Allowed-Origins</code> k\u0131sm\u0131na ekleme yapmal\u0131s\u0131n\u0131z.</p> <p>Ancak bu biraz karma\u015f\u0131kt\u0131r (<code>origin</code> ve <code>suite</code> de\u011ferlerini bilmeniz gerekir). Genelde g\u00fcvenlik i\u00e7in sadece temel OS g\u00fcncellemelerini a\u00e7\u0131k tutmak ve uygulama g\u00fcncellemelerini (Docker gibi) manuel yapmak daha g\u00fcvenlidir.</p>"},{"location":"security/updates/#e-posta-bildirimi","title":"E-Posta Bildirimi","text":"<p>G\u00fcncellemelerden haberdar olmak isterseniz (mailx veya postfix gerekir):</p> <pre><code>Unattended-Upgrade::Mail \"admin@example.com\";\nUnattended-Upgrade::MailReport \"on-change\"; // Sadece g\u00fcncelleme olursa yaz\n</code></pre>"},{"location":"security/updates/#5-test-etme-dry-run","title":"5. Test Etme (Dry Run)","text":"<p>Yapt\u0131\u011f\u0131m\u0131z ayarlar \u00e7al\u0131\u015f\u0131yor mu? Sim\u00fclasyon yapal\u0131m:</p> <pre><code>sudo unattended-upgrades --dry-run --debug\n</code></pre> <p>Komutun sonunda <code>Checking (veya Installing)...</code> gibi \u00e7\u0131kt\u0131lar g\u00f6r\u00fcyorsan\u0131z sistem \u00e7al\u0131\u015f\u0131yor demektir.</p>"},{"location":"security/updates/#6-loglar-izleme","title":"6. Loglar\u0131 \u0130zleme","text":"<p>Ger\u00e7ekten g\u00fcncelleme yap\u0131p yapmad\u0131\u011f\u0131n\u0131 loglardan takip edebilirsiniz:</p> <pre><code># Ana log dosyas\u0131\ncat /var/log/unattended-upgrades/unattended-upgrades.log\n\n# Son ger\u00e7ekle\u015fen i\u015flemler\ntail -f /var/log/unattended-upgrades/unattended-upgrades.log\n</code></pre>"},{"location":"security/updates/#7-servis-durumu","title":"7. Servis Durumu","text":"<p>Bu i\u015flem bir \"Systemd Timer\" ile tetiklenir. \u00c7al\u0131\u015ft\u0131\u011f\u0131n\u0131 teyit edelim:</p> <pre><code>systemctl status apt-daily-upgrade.timer\n</code></pre> <p>\u00c7\u0131kt\u0131da <code>Active: active (waiting)</code> g\u00f6rmelisiniz.</p>"},{"location":"troubleshooting/","title":"Metodolojik Sorun Giderme \ud83d\udd75\ufe0f\u200d\u2642\ufe0f","text":"<p>Bir sorun an\u0131nda (Incident) rastgele komutlar yazmak (<code>reboot</code>, <code>systemctl restart</code>) amat\u00f6rl\u00fckt\u00fcr. Senior bir m\u00fchendis bilimsel y\u00f6ntem izler.</p> <p>Bu b\u00f6l\u00fcmde, Google SRE ve Netflix m\u00fchendislerinin kulland\u0131\u011f\u0131 iki temel metodolojiyi esas alaca\u011f\u0131z.</p>"},{"location":"troubleshooting/#1-the-use-method-kaynak-analizi","title":"1. The USE Method (Kaynak Analizi) \ud83e\uddf1","text":"<p>Donan\u0131m ve i\u015fletim sistemi kaynaklar\u0131n\u0131 analiz etmek i\u00e7in Brendan Gregg taraf\u0131ndan geli\u015ftirilmi\u015ftir. Her kaynak i\u00e7in 3 soruyu sorar\u0131z:</p> <ul> <li>Utilization (Kullan\u0131m): Kaynak ne kadar me\u015fgul? (%100 dolu mu?)</li> <li>Saturation (Doygunluk): Bekleyen i\u015f var m\u0131? (Kuyruk olu\u015ftu mu?)</li> <li>Errors (Hatalar): Hata \u00fcretiliyor mu?</li> </ul> Kaynak Utilization Saturation Errors CPU <code>mpstat -P ALL 1</code> <code>vmstat 1</code> (r &gt; cpu count) <code>perf</code>, <code>dmesg</code> RAM <code>free -m</code> <code>vmstat 1</code> (si/so - swap) <code>dmesg</code> (OOM Kill) Disk <code>iostat -x 1</code> (%util) <code>iostat -x 1</code> (avgqu-sz &gt; 1) <code>dmesg</code> (IO Error) Network <code>sar -n DEV 1</code> <code>ip -s link</code> (dropped) <code>ip -s link</code> (errors)"},{"location":"troubleshooting/#2-the-red-method-servis-analizi","title":"2. The RED Method (Servis Analizi) \ud83d\udea6","text":"<p>Mikroservisler ve uygulamalar i\u00e7in Tom Wilkie taraf\u0131ndan geli\u015ftirilmi\u015ftir. Kullan\u0131c\u0131 deneyimine odaklan\u0131r.</p> <ul> <li>Rate (H\u0131z): Saniyede gelen istek say\u0131s\u0131 (RPS).</li> <li>Errors (Hatalar): Ba\u015far\u0131s\u0131z isteklerin oran\u0131 (HTTP 500).</li> <li>Duration (S\u00fcre): \u0130steklerin cevaplanma s\u00fcresi (Latency - p99).</li> </ul> <p>[!TIP] &gt; \u00d6nce RED, Sonra USE: Bir sorun oldu\u011funda \u00f6nce RED ile \"Kullan\u0131c\u0131 etkileniyor mu?\" diye bak\u0131n. E\u011fer etkileniyorsa, USE ile \"Hangi kaynak darbo\u011fazda?\" sorusunu cevaplay\u0131n.</p>"},{"location":"troubleshooting/#3-bilimsel-yaklasm-dongusu","title":"3. Bilimsel Yakla\u015f\u0131m D\u00f6ng\u00fcs\u00fc \ud83d\udd2c","text":"<ol> <li>G\u00f6zlem: \"Site yava\u015f\" (Vague) -&gt; \"Latency p99 2 saniyeye \u00e7\u0131kt\u0131\" (Specific).</li> <li>Hipotez: \"Database CPU'su \u015fi\u015fmi\u015f olabilir.\"</li> <li>Test: Database CPU metriklerine bak.</li> <li>Kan\u0131t: Evet, CPU %100. Veya Hay\u0131r, %10.</li> <li>Aksiyon: Hipotez do\u011fruysa \u00e7\u00f6z\u00fcm uygula, yanl\u0131\u015fsa 2. ad\u0131ma d\u00f6n.</li> </ol>"},{"location":"troubleshooting/cheat-sheet/","title":"Advanced Cheat Sheet (Senior SRE) \ud83d\udee0\ufe0f","text":"<p><code>top</code> komutundan fazlas\u0131na ihtiyac\u0131n\u0131z oldu\u011funda.</p>"},{"location":"troubleshooting/cheat-sheet/#cpu-process-forensics","title":"\ud83e\udde0 CPU &amp; Process Forensics","text":"Senaryo Senior Komut A\u00e7\u0131klama Process ne yap\u0131yor? <code>strace -p &lt;PID&gt; -f -e trace=file,network</code> Program\u0131n kernel ile konu\u015fmas\u0131n\u0131 izle. Dosya a\u00e7\u0131yor mu? A\u011f iste\u011fi at\u0131yor mu? Core da\u011f\u0131l\u0131m\u0131 <code>mpstat -P ALL 1</code> Tek bir \u00e7ekirdek mi %100 yoksa hepsi mi dengeli? Process a\u011fac\u0131 <code>ps fax</code> Hiyerar\u015fik process g\u00f6r\u00fcn\u00fcm\u00fc (Zombie'nin babas\u0131n\u0131 bulmak i\u00e7in). IO Bekleyenler <code>vmstat 1</code> <code>b</code> (blocked) s\u00fctunu y\u00fcksekse CPU de\u011fil, Disk sorunu vard\u0131r."},{"location":"troubleshooting/cheat-sheet/#memory-forensics","title":"\ud83d\udcbe Memory Forensics","text":"<p>| Senaryo            | Senior Komut                                | A\u00e7\u0131klama                                                                                          | | :----------------- | :------------------------------------------ | :------------------------------------------------------------------------------------------------ | ------------------------------ | | Kim RAM yiyor? | <code>ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head -10</code>                                                                                         | En \u00e7ok RAM t\u00fcketenleri s\u0131rala. | | Swap kullan\u0131m\u0131 | <code>vmstat 1</code>                                  | <code>si</code> (swap in) ve <code>so</code> (swap out) &gt; 0 ise sistem RAM yetmezli\u011finden can \u00e7eki\u015fiyordur.             | | Cache analizi  | <code>free -h</code>                                   | <code>buff/cache</code> y\u00fcksekse korkma, Linux RAM bo\u015f kalmas\u0131n diye kullan\u0131yordur. \u00d6nemli olan <code>available</code>. |</p>"},{"location":"troubleshooting/cheat-sheet/#network-forensics","title":"\ud83c\udf10 Network Forensics","text":"<p>| Senaryo                | Senior Komut                       | A\u00e7\u0131klama                                                                | | :--------------------- | :--------------------------------- | :---------------------------------------------------------------------- | ------------------------------------ | | Paket Analizi      | <code>tcpdump -nni eth0 port 80 -A -s0</code> | HTTP paketlerinin i\u00e7eri\u011fini (Body/Header) canl\u0131 izle. <code>-A</code> ASCII basar. | | Portu kim tutuyor? | <code>ss -tulpn                         | grep :80</code>                                                               | <code>netstat</code> yerine modern <code>ss</code> kullan. | | DNS Sorunu         | <code>dig +trace google.com</code>            | DNS sorgusunu root serverlardan ba\u015flayarak ad\u0131m ad\u0131m izle.              | | Detayl\u0131 Trace      | <code>mtr -zbwc 100 8.8.8.8</code>            | Hangi hop'ta paket kayb\u0131 var? (Ping + Traceroute kombosu).              | | A\u00e7\u0131k Dosyalar      | <code>lsof -iTCP -sTCP:ESTABLISHED</code>     | Sadece kurulu (established) TCP ba\u011flant\u0131lar\u0131n\u0131 d\u00f6k.                     |</p>"},{"location":"troubleshooting/cheat-sheet/#disk-io-forensics","title":"\ud83d\udcbf Disk &amp; IO Forensics","text":"<p>| Senaryo                    | Senior Komut           | A\u00e7\u0131klama                                                                   | | :------------------------- | :--------------------- | :------------------------------------------------------------------------- | ---------------------------- | | Anl\u0131k IO               | <code>iostat -xz 1</code>         | <code>%util</code> %100'e yak\u0131nsa disk darbo\u011fazdad\u0131r. <code>await</code> s\u00fcresi tepki s\u00fcresidir. | | Hangi process yaz\u0131yor? | <code>iotop -oPa</code>           | Diski yoran su\u00e7u process bazl\u0131 bul.                                        | | B\u00fcy\u00fck dosyalar         | <code>du -h --max-depth=1 / | sort -hr</code>                                                                  | Klas\u00f6r klas\u00f6r boyut analizi. | | Inode bitmi\u015f mi?       | <code>df -i</code>                | Disk bo\u015fta olsa bile Inode biterse dosya yazamazs\u0131n.                       |</p>"},{"location":"troubleshooting/cheat-sheet/#kernel-logs","title":"\ud83d\udea8 Kernel &amp; Logs","text":"<pre><code># OOM Killer (RAM bitince kimi \u00f6ld\u00fcrd\u00fc?)\ndmesg -T | grep -i \"kill\"\n\n# Son 10 dakika i\u00e7inde olan kritik hatalar\njournalctl -p 3 -xb --since \"10 minutes ago\"\n\n# Dosya kim taraf\u0131ndan silindi? (Auditd kuruluysa)\nausearch -f /etc/passwd\n</code></pre>"},{"location":"troubleshooting/common-issues/","title":"Yaygin Sorunlar","text":""},{"location":"troubleshooting/common-issues/#ssh-baglanti-sorunu","title":"SSH baglanti sorunu","text":"<ul> <li>IP, DNS ve firewall kurallarini kontrol et.</li> <li><code>sshd_config</code> degisikliklerini geri al (gerekirse).</li> <li>Loglar: <code>journalctl -u ssh</code></li> <li>Detayli akisin tamami icin: SSH Lockout</li> </ul>"},{"location":"troubleshooting/common-issues/#servis-ayakta-degil","title":"Servis ayakta degil","text":"<ul> <li>Hizli kontrol: servis durumu, loglar, port dinleme.</li> <li>Detayli akisin tamami icin: Servis Kesintisi</li> </ul>"},{"location":"troubleshooting/common-issues/#nginx-502","title":"Nginx 502","text":"<ul> <li>Uygulama portu dinliyor mu?</li> <li>Reverse proxy upstream dogru mu?</li> <li>Loglar: <code>/var/log/nginx/error.log</code></li> <li>Detayli akisin tamami icin: Servis Kesintisi</li> </ul>"},{"location":"troubleshooting/common-issues/#disk-dolu","title":"Disk dolu","text":"<ul> <li>Disk ve log hizli kontrol.</li> <li>Detayli akisin tamami icin: Disk Dolu Mudahalesi</li> </ul>"},{"location":"troubleshooting/common-issues/#tls-sertifikasi-yenilenmiyor","title":"TLS sertifikasi yenilenmiyor","text":"<ul> <li>Certbot timer ve loglari kontrol et.</li> <li>Detayli akisin tamami icin: TLS Yenileme Sorunu</li> </ul>"},{"location":"troubleshooting/common-issues/#dogrulama","title":"Dogrulama","text":"<ul> <li>Sorun tekrarliyor mu?</li> <li>Loglar temiz mi?</li> </ul>"},{"location":"troubleshooting/network/","title":"Network Forensics \ud83c\udf10","text":"<p>A\u011f sorunlar\u0131 genellikle \"yava\u015fl\u0131k\" olarak rapor edilir. Sorunun sunucuda m\u0131, arada (ISP) m\u0131 yoksa kar\u015f\u0131 tarafta m\u0131 oldu\u011funu anlamak sanatt\u0131r.</p>"},{"location":"troubleshooting/network/#1-latency-vs-bandwidth-vs","title":"1. Latency vs Bandwidth \ud83d\udc22 vs \ud83c\udfce\ufe0f","text":"<ul> <li>Bandwidth (Bant Geni\u015fli\u011fi): Borunun geni\u015fli\u011fi. (1 Gbps)</li> <li>Latency (Gecikme): Verinin borudan ge\u00e7i\u015f s\u00fcresi. (20ms)</li> </ul> <p>Kural: Web sitelerinin yava\u015f a\u00e7\u0131lmas\u0131n\u0131n sebebi %90 Latency sorunudur, Bandwidth de\u011fil.</p> <p>Te\u015fhis: <code>mtr</code> (My Traceroute) kullan\u0131n. Ping ve Traceroute'un birle\u015fimidir.</p> <pre><code>mtr -zbwc 100 8.8.8.8\n</code></pre> <ul> <li>Paket kayb\u0131 (Loss%) nerede ba\u015fl\u0131yor? \u0130lk hopta ise sorun sizde/kablonuzda. Ortada ise ISP sorunu.</li> </ul>"},{"location":"troubleshooting/network/#2-dns-cozumleme-sorunlar","title":"2. DNS \u00c7\u00f6z\u00fcmleme Sorunlar\u0131 \ud83d\uddfa\ufe0f","text":"<p>\"Siteye girilmiyor\" demeden \u00f6nce \"Adres \u00e7\u00f6z\u00fcl\u00fcyor mu?\" diye bak\u0131n.</p> <p>Basit Test:</p> <pre><code>host google.com\n</code></pre> <p>Detayl\u0131 Analiz (Trace): DNS sorgusunun k\u00f6k sunuculardan (Root Servers) ba\u015flayarak ad\u0131m ad\u0131m nas\u0131l \u00e7\u00f6z\u00fcld\u00fc\u011f\u00fcn\u00fc izleyin:</p> <pre><code>dig +trace google.com\n</code></pre> <p>Systemd-resolve Sorunlar\u0131: Ubuntu/Debian'da DNS cache sorunlar\u0131 i\u00e7in:</p> <pre><code>resolvectl status\nresolvectl flush-caches\n</code></pre>"},{"location":"troubleshooting/network/#3-tcpdump-ile-paket-yakalama","title":"3. Tcpdump ile Paket Yakalama \ud83c\udfa3","text":"<p>Sorunu loglarda g\u00f6remiyorsan\u0131z, kabloyu dinleyin.</p> <p>\u00d6rnek: HTTP 500 d\u00f6n\u00fcyor ama log yok 80 portunu dinle, ASCII format\u0131nda (-A) bas, paketleri kesme (-s0):</p> <pre><code>tcpdump -i eth0 port 80 -A -s0\n</code></pre> <p>\u00d6rnek: Kim bana SSH brute-force yap\u0131yor? Sadece SYN paketlerini (ba\u011flant\u0131 kurma iste\u011fi) yakala:</p> <pre><code>tcpdump -i eth0 port 22 \"tcp[tcpflags] &amp; tcp-syn != 0\"\n</code></pre> <p>[!TIP] &gt; <code>tcpdump</code> \u00e7\u0131kt\u0131s\u0131n\u0131 okumak zordur. <code>-w capture.pcap</code> ile dosyaya kaydedip, dosyay\u0131 bilgisayar\u0131n\u0131za indirip Wireshark ile g\u00f6rsel olarak inceleyebilirsiniz.</p>"},{"location":"troubleshooting/performance/","title":"Performans Forensics \ud83d\udd2c","text":"<p>Sistem yava\u015f ama neden? CPU mu, Disk mi, yoksa Kernel kilitlenmesi mi? Ezbere konu\u015fmayal\u0131m, kan\u0131tlara bakal\u0131m.</p>"},{"location":"troubleshooting/performance/#1-load-average-yalan","title":"1. Load Average Yalan\u0131","text":"<p><code>uptime</code> yazd\u0131\u011f\u0131n\u0131zda \u00e7\u0131kan <code>load average: 4.00, ...</code> ne anlama gelir?</p> <ul> <li>Linux'ta Load: Sadece CPU bekleyenler DE\u011e\u0130L, Disk (IO) bekleyenler de dahildir!</li> <li>Yani Load y\u00fcksekse, CPU bo\u015fta olabilir (%0 idle), ama disk darbo\u011fazdad\u0131r (%100 busy).</li> </ul> <p>Te\u015fhis: <code>vmstat 1</code> \u00e7al\u0131\u015ft\u0131r\u0131n ve <code>procs</code> s\u00fctununa bak\u0131n:</p> <ul> <li><code>r</code> (runnable): CPU bekleyen i\u015flem say\u0131s\u0131. -&gt; CPU Sorunu</li> <li><code>b</code> (blocked): Disk/Network IO bekleyen (uyuyan) i\u015flem say\u0131s\u0131. -&gt; Disk/IO Sorunu</li> </ul>"},{"location":"troubleshooting/performance/#2-process-state-d-uninterruptible-sleep","title":"2. Process State \"D\" (Uninterruptible Sleep)","text":"<p><code>top</code> veya <code>htop</code> a\u00e7t\u0131\u011f\u0131n\u0131zda <code>S</code> (State) s\u00fctununda \"D\" harfi g\u00f6r\u00fcyorsan\u0131z korkun.</p> <ul> <li>R (Running): \u00c7al\u0131\u015f\u0131yor.</li> <li>S (Sleep): Uyuyor (Normal).</li> <li>D (Disk Sleep): Kernel seviyesinde donan\u0131m (Disk/NFS) cevab\u0131 bekliyor. \u00d6LD\u00dcR\u00dcLEMEZ (Kill -9 i\u015flemez).</li> <li>Z (Zombie): \u00d6lm\u00fc\u015f ama babas\u0131 (parent) haberini almam\u0131\u015f. Kaynak yemez ama process tablosunu kirletir.</li> </ul> <p>[!WARNING] \u00c7ok fazla \"D\" state process varsa, diskiniz bozuk olabilir veya NFS sunucusu cevap vermiyordur. Sunucuyu reboot etmek zorunda kalabilirsiniz.</p>"},{"location":"troubleshooting/performance/#3-oom-killer-out-of-memory","title":"3. OOM Killer (Out of Memory) \ud83d\udc80","text":"<p>Linux, RAM biterse sistemi kurtarmak i\u00e7in \"en az \u00f6nemli ama en \u00e7ok RAM yiyen\" i\u015flemi vurur.</p> <p>Belirtiler:</p> <ul> <li>MySQL/Java servisi aniden kapan\u0131yor ama hata logu yok.</li> <li>SSH ba\u011flant\u0131s\u0131 kopuyor.</li> </ul> <p>Kan\u0131t:</p> <pre><code>dmesg -T | grep -i \"killed process\"\n# \u00c7\u0131kt\u0131: \"Out of memory: Kill process 1234 (java) score 800 or sacrifice child\"\n</code></pre> <p>\u00c7\u00f6z\u00fcm:</p> <ul> <li>Swap alan\u0131 ekleyin (Acil durum freni).</li> <li>Systemd servisine <code>Restart=always</code> ekleyin.</li> <li>Uygulaman\u0131n memory leak yap\u0131p yapmad\u0131\u011f\u0131n\u0131 <code>valgrind</code> veya monitoring ile inceleyin.</li> </ul>"}]}